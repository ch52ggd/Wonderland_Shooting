(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __export = (target, all) => {
    for (var name in all)
      __defProp(target, name, { get: all[name], enumerable: true });
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    // If the importer is in node compatibility mode or this is not an ESM
    // file that has been converted to a CommonJS file using a Babel-
    // compatible transform (i.e. "__esModule" has not been set), then set
    // "default" to the CommonJS "module.exports" for node compatibility.
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __publicField = (obj, key, value) => {
    __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
    return value;
  };
  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck(obj, member, "access private method");
    return method;
  };

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/howler/dist/howler.js
  var require_howler = __commonJS({
    "E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/howler/dist/howler.js"(exports) {
      (function() {
        "use strict";
        var HowlerGlobal2 = function() {
          this.init();
        };
        HowlerGlobal2.prototype = {
          /**
           * Initialize the global Howler object.
           * @return {Howler}
           */
          init: function() {
            var self2 = this || Howler2;
            self2._counter = 1e3;
            self2._html5AudioPool = [];
            self2.html5PoolSize = 10;
            self2._codecs = {};
            self2._howls = [];
            self2._muted = false;
            self2._volume = 1;
            self2._canPlayEvent = "canplaythrough";
            self2._navigator = typeof window !== "undefined" && window.navigator ? window.navigator : null;
            self2.masterGain = null;
            self2.noAudio = false;
            self2.usingWebAudio = true;
            self2.autoSuspend = true;
            self2.ctx = null;
            self2.autoUnlock = true;
            self2._setup();
            return self2;
          },
          /**
           * Get/set the global volume for all sounds.
           * @param  {Float} vol Volume from 0.0 to 1.0.
           * @return {Howler/Float}     Returns self or current volume.
           */
          volume: function(vol) {
            var self2 = this || Howler2;
            vol = parseFloat(vol);
            if (!self2.ctx) {
              setupAudioContext();
            }
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              self2._volume = vol;
              if (self2._muted) {
                return self2;
              }
              if (self2.usingWebAudio) {
                self2.masterGain.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node) {
                      sound._node.volume = sound._volume * vol;
                    }
                  }
                }
              }
              return self2;
            }
            return self2._volume;
          },
          /**
           * Handle muting and unmuting globally.
           * @param  {Boolean} muted Is muted or not.
           */
          mute: function(muted) {
            var self2 = this || Howler2;
            if (!self2.ctx) {
              setupAudioContext();
            }
            self2._muted = muted;
            if (self2.usingWebAudio) {
              self2.masterGain.gain.setValueAtTime(muted ? 0 : self2._volume, Howler2.ctx.currentTime);
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (!self2._howls[i]._webAudio) {
                var ids = self2._howls[i]._getSoundIds();
                for (var j = 0; j < ids.length; j++) {
                  var sound = self2._howls[i]._soundById(ids[j]);
                  if (sound && sound._node) {
                    sound._node.muted = muted ? true : sound._muted;
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Handle stopping all sounds globally.
           */
          stop: function() {
            var self2 = this || Howler2;
            for (var i = 0; i < self2._howls.length; i++) {
              self2._howls[i].stop();
            }
            return self2;
          },
          /**
           * Unload and destroy all currently loaded Howl objects.
           * @return {Howler}
           */
          unload: function() {
            var self2 = this || Howler2;
            for (var i = self2._howls.length - 1; i >= 0; i--) {
              self2._howls[i].unload();
            }
            if (self2.usingWebAudio && self2.ctx && typeof self2.ctx.close !== "undefined") {
              self2.ctx.close();
              self2.ctx = null;
              setupAudioContext();
            }
            return self2;
          },
          /**
           * Check for codec support of specific extension.
           * @param  {String} ext Audio file extention.
           * @return {Boolean}
           */
          codecs: function(ext) {
            return (this || Howler2)._codecs[ext.replace(/^x-/, "")];
          },
          /**
           * Setup various state values for global tracking.
           * @return {Howler}
           */
          _setup: function() {
            var self2 = this || Howler2;
            self2.state = self2.ctx ? self2.ctx.state || "suspended" : "suspended";
            self2._autoSuspend();
            if (!self2.usingWebAudio) {
              if (typeof Audio !== "undefined") {
                try {
                  var test = new Audio();
                  if (typeof test.oncanplaythrough === "undefined") {
                    self2._canPlayEvent = "canplay";
                  }
                } catch (e) {
                  self2.noAudio = true;
                }
              } else {
                self2.noAudio = true;
              }
            }
            try {
              var test = new Audio();
              if (test.muted) {
                self2.noAudio = true;
              }
            } catch (e) {
            }
            if (!self2.noAudio) {
              self2._setupCodecs();
            }
            return self2;
          },
          /**
           * Check for browser support for various codecs and cache the results.
           * @return {Howler}
           */
          _setupCodecs: function() {
            var self2 = this || Howler2;
            var audioTest = null;
            try {
              audioTest = typeof Audio !== "undefined" ? new Audio() : null;
            } catch (err) {
              return self2;
            }
            if (!audioTest || typeof audioTest.canPlayType !== "function") {
              return self2;
            }
            var mpegTest = audioTest.canPlayType("audio/mpeg;").replace(/^no$/, "");
            var ua = self2._navigator ? self2._navigator.userAgent : "";
            var checkOpera = ua.match(/OPR\/(\d+)/g);
            var isOldOpera = checkOpera && parseInt(checkOpera[0].split("/")[1], 10) < 33;
            var checkSafari = ua.indexOf("Safari") !== -1 && ua.indexOf("Chrome") === -1;
            var safariVersion = ua.match(/Version\/(.*?) /);
            var isOldSafari = checkSafari && safariVersion && parseInt(safariVersion[1], 10) < 15;
            self2._codecs = {
              mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType("audio/mp3;").replace(/^no$/, ""))),
              mpeg: !!mpegTest,
              opus: !!audioTest.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
              ogg: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              oga: !!audioTest.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
              wav: !!(audioTest.canPlayType('audio/wav; codecs="1"') || audioTest.canPlayType("audio/wav")).replace(/^no$/, ""),
              aac: !!audioTest.canPlayType("audio/aac;").replace(/^no$/, ""),
              caf: !!audioTest.canPlayType("audio/x-caf;").replace(/^no$/, ""),
              m4a: !!(audioTest.canPlayType("audio/x-m4a;") || audioTest.canPlayType("audio/m4a;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              m4b: !!(audioTest.canPlayType("audio/x-m4b;") || audioTest.canPlayType("audio/m4b;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              mp4: !!(audioTest.canPlayType("audio/x-mp4;") || audioTest.canPlayType("audio/mp4;") || audioTest.canPlayType("audio/aac;")).replace(/^no$/, ""),
              weba: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              webm: !!(!isOldSafari && audioTest.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "")),
              dolby: !!audioTest.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
              flac: !!(audioTest.canPlayType("audio/x-flac;") || audioTest.canPlayType("audio/flac;")).replace(/^no$/, "")
            };
            return self2;
          },
          /**
           * Some browsers/devices will only allow audio to be played after a user interaction.
           * Attempt to automatically unlock audio on the first user interaction.
           * Concept from: http://paulbakaus.com/tutorials/html5/web-audio-on-ios/
           * @return {Howler}
           */
          _unlockAudio: function() {
            var self2 = this || Howler2;
            if (self2._audioUnlocked || !self2.ctx) {
              return;
            }
            self2._audioUnlocked = false;
            self2.autoUnlock = false;
            if (!self2._mobileUnloaded && self2.ctx.sampleRate !== 44100) {
              self2._mobileUnloaded = true;
              self2.unload();
            }
            self2._scratchBuffer = self2.ctx.createBuffer(1, 1, 22050);
            var unlock = function(e) {
              while (self2._html5AudioPool.length < self2.html5PoolSize) {
                try {
                  var audioNode = new Audio();
                  audioNode._unlocked = true;
                  self2._releaseHtml5Audio(audioNode);
                } catch (e2) {
                  self2.noAudio = true;
                  break;
                }
              }
              for (var i = 0; i < self2._howls.length; i++) {
                if (!self2._howls[i]._webAudio) {
                  var ids = self2._howls[i]._getSoundIds();
                  for (var j = 0; j < ids.length; j++) {
                    var sound = self2._howls[i]._soundById(ids[j]);
                    if (sound && sound._node && !sound._node._unlocked) {
                      sound._node._unlocked = true;
                      sound._node.load();
                    }
                  }
                }
              }
              self2._autoResume();
              var source = self2.ctx.createBufferSource();
              source.buffer = self2._scratchBuffer;
              source.connect(self2.ctx.destination);
              if (typeof source.start === "undefined") {
                source.noteOn(0);
              } else {
                source.start(0);
              }
              if (typeof self2.ctx.resume === "function") {
                self2.ctx.resume();
              }
              source.onended = function() {
                source.disconnect(0);
                self2._audioUnlocked = true;
                document.removeEventListener("touchstart", unlock, true);
                document.removeEventListener("touchend", unlock, true);
                document.removeEventListener("click", unlock, true);
                document.removeEventListener("keydown", unlock, true);
                for (var i2 = 0; i2 < self2._howls.length; i2++) {
                  self2._howls[i2]._emit("unlock");
                }
              };
            };
            document.addEventListener("touchstart", unlock, true);
            document.addEventListener("touchend", unlock, true);
            document.addEventListener("click", unlock, true);
            document.addEventListener("keydown", unlock, true);
            return self2;
          },
          /**
           * Get an unlocked HTML5 Audio object from the pool. If none are left,
           * return a new Audio object and throw a warning.
           * @return {Audio} HTML5 Audio object.
           */
          _obtainHtml5Audio: function() {
            var self2 = this || Howler2;
            if (self2._html5AudioPool.length) {
              return self2._html5AudioPool.pop();
            }
            var testPlay = new Audio().play();
            if (testPlay && typeof Promise !== "undefined" && (testPlay instanceof Promise || typeof testPlay.then === "function")) {
              testPlay.catch(function() {
                console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.");
              });
            }
            return new Audio();
          },
          /**
           * Return an activated HTML5 Audio object to the pool.
           * @return {Howler}
           */
          _releaseHtml5Audio: function(audio) {
            var self2 = this || Howler2;
            if (audio._unlocked) {
              self2._html5AudioPool.push(audio);
            }
            return self2;
          },
          /**
           * Automatically suspend the Web Audio AudioContext after no sound has played for 30 seconds.
           * This saves processing/energy and fixes various browser-specific bugs with audio getting stuck.
           * @return {Howler}
           */
          _autoSuspend: function() {
            var self2 = this;
            if (!self2.autoSuspend || !self2.ctx || typeof self2.ctx.suspend === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            for (var i = 0; i < self2._howls.length; i++) {
              if (self2._howls[i]._webAudio) {
                for (var j = 0; j < self2._howls[i]._sounds.length; j++) {
                  if (!self2._howls[i]._sounds[j]._paused) {
                    return self2;
                  }
                }
              }
            }
            if (self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
            }
            self2._suspendTimer = setTimeout(function() {
              if (!self2.autoSuspend) {
                return;
              }
              self2._suspendTimer = null;
              self2.state = "suspending";
              var handleSuspension = function() {
                self2.state = "suspended";
                if (self2._resumeAfterSuspend) {
                  delete self2._resumeAfterSuspend;
                  self2._autoResume();
                }
              };
              self2.ctx.suspend().then(handleSuspension, handleSuspension);
            }, 3e4);
            return self2;
          },
          /**
           * Automatically resume the Web Audio AudioContext when a new sound is played.
           * @return {Howler}
           */
          _autoResume: function() {
            var self2 = this;
            if (!self2.ctx || typeof self2.ctx.resume === "undefined" || !Howler2.usingWebAudio) {
              return;
            }
            if (self2.state === "running" && self2.ctx.state !== "interrupted" && self2._suspendTimer) {
              clearTimeout(self2._suspendTimer);
              self2._suspendTimer = null;
            } else if (self2.state === "suspended" || self2.state === "running" && self2.ctx.state === "interrupted") {
              self2.ctx.resume().then(function() {
                self2.state = "running";
                for (var i = 0; i < self2._howls.length; i++) {
                  self2._howls[i]._emit("resume");
                }
              });
              if (self2._suspendTimer) {
                clearTimeout(self2._suspendTimer);
                self2._suspendTimer = null;
              }
            } else if (self2.state === "suspending") {
              self2._resumeAfterSuspend = true;
            }
            return self2;
          }
        };
        var Howler2 = new HowlerGlobal2();
        var Howl2 = function(o) {
          var self2 = this;
          if (!o.src || o.src.length === 0) {
            console.error("An array of source files must be passed with any new Howl.");
            return;
          }
          self2.init(o);
        };
        Howl2.prototype = {
          /**
           * Initialize a new Howl group object.
           * @param  {Object} o Passed in properties for this group.
           * @return {Howl}
           */
          init: function(o) {
            var self2 = this;
            if (!Howler2.ctx) {
              setupAudioContext();
            }
            self2._autoplay = o.autoplay || false;
            self2._format = typeof o.format !== "string" ? o.format : [o.format];
            self2._html5 = o.html5 || false;
            self2._muted = o.mute || false;
            self2._loop = o.loop || false;
            self2._pool = o.pool || 5;
            self2._preload = typeof o.preload === "boolean" || o.preload === "metadata" ? o.preload : true;
            self2._rate = o.rate || 1;
            self2._sprite = o.sprite || {};
            self2._src = typeof o.src !== "string" ? o.src : [o.src];
            self2._volume = o.volume !== void 0 ? o.volume : 1;
            self2._xhr = {
              method: o.xhr && o.xhr.method ? o.xhr.method : "GET",
              headers: o.xhr && o.xhr.headers ? o.xhr.headers : null,
              withCredentials: o.xhr && o.xhr.withCredentials ? o.xhr.withCredentials : false
            };
            self2._duration = 0;
            self2._state = "unloaded";
            self2._sounds = [];
            self2._endTimers = {};
            self2._queue = [];
            self2._playLock = false;
            self2._onend = o.onend ? [{ fn: o.onend }] : [];
            self2._onfade = o.onfade ? [{ fn: o.onfade }] : [];
            self2._onload = o.onload ? [{ fn: o.onload }] : [];
            self2._onloaderror = o.onloaderror ? [{ fn: o.onloaderror }] : [];
            self2._onplayerror = o.onplayerror ? [{ fn: o.onplayerror }] : [];
            self2._onpause = o.onpause ? [{ fn: o.onpause }] : [];
            self2._onplay = o.onplay ? [{ fn: o.onplay }] : [];
            self2._onstop = o.onstop ? [{ fn: o.onstop }] : [];
            self2._onmute = o.onmute ? [{ fn: o.onmute }] : [];
            self2._onvolume = o.onvolume ? [{ fn: o.onvolume }] : [];
            self2._onrate = o.onrate ? [{ fn: o.onrate }] : [];
            self2._onseek = o.onseek ? [{ fn: o.onseek }] : [];
            self2._onunlock = o.onunlock ? [{ fn: o.onunlock }] : [];
            self2._onresume = [];
            self2._webAudio = Howler2.usingWebAudio && !self2._html5;
            if (typeof Howler2.ctx !== "undefined" && Howler2.ctx && Howler2.autoUnlock) {
              Howler2._unlockAudio();
            }
            Howler2._howls.push(self2);
            if (self2._autoplay) {
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play();
                }
              });
            }
            if (self2._preload && self2._preload !== "none") {
              self2.load();
            }
            return self2;
          },
          /**
           * Load the audio file.
           * @return {Howler}
           */
          load: function() {
            var self2 = this;
            var url = null;
            if (Howler2.noAudio) {
              self2._emit("loaderror", null, "No audio support.");
              return;
            }
            if (typeof self2._src === "string") {
              self2._src = [self2._src];
            }
            for (var i = 0; i < self2._src.length; i++) {
              var ext, str5;
              if (self2._format && self2._format[i]) {
                ext = self2._format[i];
              } else {
                str5 = self2._src[i];
                if (typeof str5 !== "string") {
                  self2._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                  continue;
                }
                ext = /^data:audio\/([^;,]+);/i.exec(str5);
                if (!ext) {
                  ext = /\.([^.]+)$/.exec(str5.split("?", 1)[0]);
                }
                if (ext) {
                  ext = ext[1].toLowerCase();
                }
              }
              if (!ext) {
                console.warn('No file extension was found. Consider using the "format" property or specify an extension.');
              }
              if (ext && Howler2.codecs(ext)) {
                url = self2._src[i];
                break;
              }
            }
            if (!url) {
              self2._emit("loaderror", null, "No codec support for selected audio sources.");
              return;
            }
            self2._src = url;
            self2._state = "loading";
            if (window.location.protocol === "https:" && url.slice(0, 5) === "http:") {
              self2._html5 = true;
              self2._webAudio = false;
            }
            new Sound2(self2);
            if (self2._webAudio) {
              loadBuffer(self2);
            }
            return self2;
          },
          /**
           * Play a sound or resume previous playback.
           * @param  {String/Number} sprite   Sprite name for sprite playback or sound id to continue previous.
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Number}          Sound ID.
           */
          play: function(sprite, internal) {
            var self2 = this;
            var id = null;
            if (typeof sprite === "number") {
              id = sprite;
              sprite = null;
            } else if (typeof sprite === "string" && self2._state === "loaded" && !self2._sprite[sprite]) {
              return null;
            } else if (typeof sprite === "undefined") {
              sprite = "__default";
              if (!self2._playLock) {
                var num = 0;
                for (var i = 0; i < self2._sounds.length; i++) {
                  if (self2._sounds[i]._paused && !self2._sounds[i]._ended) {
                    num++;
                    id = self2._sounds[i]._id;
                  }
                }
                if (num === 1) {
                  sprite = null;
                } else {
                  id = null;
                }
              }
            }
            var sound = id ? self2._soundById(id) : self2._inactiveSound();
            if (!sound) {
              return null;
            }
            if (id && !sprite) {
              sprite = sound._sprite || "__default";
            }
            if (self2._state !== "loaded") {
              sound._sprite = sprite;
              sound._ended = false;
              var soundId = sound._id;
              self2._queue.push({
                event: "play",
                action: function() {
                  self2.play(soundId);
                }
              });
              return soundId;
            }
            if (id && !sound._paused) {
              if (!internal) {
                self2._loadQueue("play");
              }
              return sound._id;
            }
            if (self2._webAudio) {
              Howler2._autoResume();
            }
            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self2._sprite[sprite][0] / 1e3);
            var duration = Math.max(0, (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3 - seek);
            var timeout2 = duration * 1e3 / Math.abs(sound._rate);
            var start = self2._sprite[sprite][0] / 1e3;
            var stop = (self2._sprite[sprite][0] + self2._sprite[sprite][1]) / 1e3;
            sound._sprite = sprite;
            sound._ended = false;
            var setParams = function() {
              sound._paused = false;
              sound._seek = seek;
              sound._start = start;
              sound._stop = stop;
              sound._loop = !!(sound._loop || self2._sprite[sprite][2]);
            };
            if (seek >= stop) {
              self2._ended(sound);
              return;
            }
            var node = sound._node;
            if (self2._webAudio) {
              var playWebAudio = function() {
                self2._playLock = false;
                setParams();
                self2._refreshBuffer(sound);
                var vol = sound._muted || self2._muted ? 0 : sound._volume;
                node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                sound._playStart = Howler2.ctx.currentTime;
                if (typeof node.bufferSource.start === "undefined") {
                  sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);
                } else {
                  sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);
                }
                if (timeout2 !== Infinity) {
                  self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                }
                if (!internal) {
                  setTimeout(function() {
                    self2._emit("play", sound._id);
                    self2._loadQueue();
                  }, 0);
                }
              };
              if (Howler2.state === "running" && Howler2.ctx.state !== "interrupted") {
                playWebAudio();
              } else {
                self2._playLock = true;
                self2.once("resume", playWebAudio);
                self2._clearTimer(sound._id);
              }
            } else {
              var playHtml5 = function() {
                node.currentTime = seek;
                node.muted = sound._muted || self2._muted || Howler2._muted || node.muted;
                node.volume = sound._volume * Howler2.volume();
                node.playbackRate = sound._rate;
                try {
                  var play = node.play();
                  if (play && typeof Promise !== "undefined" && (play instanceof Promise || typeof play.then === "function")) {
                    self2._playLock = true;
                    setParams();
                    play.then(function() {
                      self2._playLock = false;
                      node._unlocked = true;
                      if (!internal) {
                        self2._emit("play", sound._id);
                      } else {
                        self2._loadQueue();
                      }
                    }).catch(function() {
                      self2._playLock = false;
                      self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                      sound._ended = true;
                      sound._paused = true;
                    });
                  } else if (!internal) {
                    self2._playLock = false;
                    setParams();
                    self2._emit("play", sound._id);
                  }
                  node.playbackRate = sound._rate;
                  if (node.paused) {
                    self2._emit("playerror", sound._id, "Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");
                    return;
                  }
                  if (sprite !== "__default" || sound._loop) {
                    self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  } else {
                    self2._endTimers[sound._id] = function() {
                      self2._ended(sound);
                      node.removeEventListener("ended", self2._endTimers[sound._id], false);
                    };
                    node.addEventListener("ended", self2._endTimers[sound._id], false);
                  }
                } catch (err) {
                  self2._emit("playerror", sound._id, err);
                }
              };
              if (node.src === "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA") {
                node.src = self2._src;
                node.load();
              }
              var loadedNoReadyState = window && window.ejecta || !node.readyState && Howler2._navigator.isCocoonJS;
              if (node.readyState >= 3 || loadedNoReadyState) {
                playHtml5();
              } else {
                self2._playLock = true;
                self2._state = "loading";
                var listener = function() {
                  self2._state = "loaded";
                  playHtml5();
                  node.removeEventListener(Howler2._canPlayEvent, listener, false);
                };
                node.addEventListener(Howler2._canPlayEvent, listener, false);
                self2._clearTimer(sound._id);
              }
            }
            return sound._id;
          },
          /**
           * Pause playback and save current position.
           * @param  {Number} id The sound ID (empty to pause all in group).
           * @return {Howl}
           */
          pause: function(id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "pause",
                action: function() {
                  self2.pause(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound && !sound._paused) {
                sound._seek = self2.seek(ids[i]);
                sound._rateSeek = 0;
                sound._paused = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (!sound._node.bufferSource) {
                      continue;
                    }
                    if (typeof sound._node.bufferSource.stop === "undefined") {
                      sound._node.bufferSource.noteOff(0);
                    } else {
                      sound._node.bufferSource.stop(0);
                    }
                    self2._cleanBuffer(sound._node);
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.pause();
                  }
                }
              }
              if (!arguments[1]) {
                self2._emit("pause", sound ? sound._id : null);
              }
            }
            return self2;
          },
          /**
           * Stop playback and reset to start.
           * @param  {Number} id The sound ID (empty to stop all in group).
           * @param  {Boolean} internal Internal Use: true prevents event firing.
           * @return {Howl}
           */
          stop: function(id, internal) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "stop",
                action: function() {
                  self2.stop(id);
                }
              });
              return self2;
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              self2._clearTimer(ids[i]);
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._seek = sound._start || 0;
                sound._rateSeek = 0;
                sound._paused = true;
                sound._ended = true;
                self2._stopFade(ids[i]);
                if (sound._node) {
                  if (self2._webAudio) {
                    if (sound._node.bufferSource) {
                      if (typeof sound._node.bufferSource.stop === "undefined") {
                        sound._node.bufferSource.noteOff(0);
                      } else {
                        sound._node.bufferSource.stop(0);
                      }
                      self2._cleanBuffer(sound._node);
                    }
                  } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {
                    sound._node.currentTime = sound._start || 0;
                    sound._node.pause();
                    if (sound._node.duration === Infinity) {
                      self2._clearSound(sound._node);
                    }
                  }
                }
                if (!internal) {
                  self2._emit("stop", sound._id);
                }
              }
            }
            return self2;
          },
          /**
           * Mute/unmute a single sound or all sounds in this Howl group.
           * @param  {Boolean} muted Set to true to mute and false to unmute.
           * @param  {Number} id    The sound ID to update (omit to mute/unmute all).
           * @return {Howl}
           */
          mute: function(muted, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "mute",
                action: function() {
                  self2.mute(muted, id);
                }
              });
              return self2;
            }
            if (typeof id === "undefined") {
              if (typeof muted === "boolean") {
                self2._muted = muted;
              } else {
                return self2._muted;
              }
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                sound._muted = muted;
                if (sound._interval) {
                  self2._stopFade(sound._id);
                }
                if (self2._webAudio && sound._node) {
                  sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler2.ctx.currentTime);
                } else if (sound._node) {
                  sound._node.muted = Howler2._muted ? true : muted;
                }
                self2._emit("mute", sound._id);
              }
            }
            return self2;
          },
          /**
           * Get/set the volume of this sound or of the Howl group. This method can optionally take 0, 1 or 2 arguments.
           *   volume() -> Returns the group's volume value.
           *   volume(id) -> Returns the sound id's current volume.
           *   volume(vol) -> Sets the volume of all sounds in this Howl group.
           *   volume(vol, id) -> Sets the volume of passed sound id.
           * @return {Howl/Number} Returns self or current volume.
           */
          volume: function() {
            var self2 = this;
            var args = arguments;
            var vol, id;
            if (args.length === 0) {
              return self2._volume;
            } else if (args.length === 1 || args.length === 2 && typeof args[1] === "undefined") {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                vol = parseFloat(args[0]);
              }
            } else if (args.length >= 2) {
              vol = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof vol !== "undefined" && vol >= 0 && vol <= 1) {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "volume",
                  action: function() {
                    self2.volume.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._volume = vol;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  sound._volume = vol;
                  if (!args[2]) {
                    self2._stopFade(id[i]);
                  }
                  if (self2._webAudio && sound._node && !sound._muted) {
                    sound._node.gain.setValueAtTime(vol, Howler2.ctx.currentTime);
                  } else if (sound._node && !sound._muted) {
                    sound._node.volume = vol * Howler2.volume();
                  }
                  self2._emit("volume", sound._id);
                }
              }
            } else {
              sound = id ? self2._soundById(id) : self2._sounds[0];
              return sound ? sound._volume : 0;
            }
            return self2;
          },
          /**
           * Fade a currently playing sound between two volumes (if no id is passed, all sounds will fade).
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id (omit to fade all sounds).
           * @return {Howl}
           */
          fade: function(from, to, len4, id) {
            var self2 = this;
            if (self2._state !== "loaded" || self2._playLock) {
              self2._queue.push({
                event: "fade",
                action: function() {
                  self2.fade(from, to, len4, id);
                }
              });
              return self2;
            }
            from = Math.min(Math.max(0, parseFloat(from)), 1);
            to = Math.min(Math.max(0, parseFloat(to)), 1);
            len4 = parseFloat(len4);
            self2.volume(from, id);
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              var sound = self2._soundById(ids[i]);
              if (sound) {
                if (!id) {
                  self2._stopFade(ids[i]);
                }
                if (self2._webAudio && !sound._muted) {
                  var currentTime = Howler2.ctx.currentTime;
                  var end = currentTime + len4 / 1e3;
                  sound._volume = from;
                  sound._node.gain.setValueAtTime(from, currentTime);
                  sound._node.gain.linearRampToValueAtTime(to, end);
                }
                self2._startFadeInterval(sound, from, to, len4, ids[i], typeof id === "undefined");
              }
            }
            return self2;
          },
          /**
           * Starts the internal interval to fade a sound.
           * @param  {Object} sound Reference to sound to fade.
           * @param  {Number} from The value to fade from (0.0 to 1.0).
           * @param  {Number} to   The volume to fade to (0.0 to 1.0).
           * @param  {Number} len  Time in milliseconds to fade.
           * @param  {Number} id   The sound id to fade.
           * @param  {Boolean} isGroup   If true, set the volume on the group.
           */
          _startFadeInterval: function(sound, from, to, len4, id, isGroup) {
            var self2 = this;
            var vol = from;
            var diff = to - from;
            var steps = Math.abs(diff / 0.01);
            var stepLen = Math.max(4, steps > 0 ? len4 / steps : len4);
            var lastTick = Date.now();
            sound._fadeTo = to;
            sound._interval = setInterval(function() {
              var tick = (Date.now() - lastTick) / len4;
              lastTick = Date.now();
              vol += diff * tick;
              vol = Math.round(vol * 100) / 100;
              if (diff < 0) {
                vol = Math.max(to, vol);
              } else {
                vol = Math.min(to, vol);
              }
              if (self2._webAudio) {
                sound._volume = vol;
              } else {
                self2.volume(vol, sound._id, true);
              }
              if (isGroup) {
                self2._volume = vol;
              }
              if (to < from && vol <= to || to > from && vol >= to) {
                clearInterval(sound._interval);
                sound._interval = null;
                sound._fadeTo = null;
                self2.volume(to, sound._id);
                self2._emit("fade", sound._id);
              }
            }, stepLen);
          },
          /**
           * Internal method that stops the currently playing fade when
           * a new fade starts, volume is changed or the sound is stopped.
           * @param  {Number} id The sound id.
           * @return {Howl}
           */
          _stopFade: function(id) {
            var self2 = this;
            var sound = self2._soundById(id);
            if (sound && sound._interval) {
              if (self2._webAudio) {
                sound._node.gain.cancelScheduledValues(Howler2.ctx.currentTime);
              }
              clearInterval(sound._interval);
              sound._interval = null;
              self2.volume(sound._fadeTo, id);
              sound._fadeTo = null;
              self2._emit("fade", id);
            }
            return self2;
          },
          /**
           * Get/set the loop parameter on a sound. This method can optionally take 0, 1 or 2 arguments.
           *   loop() -> Returns the group's loop value.
           *   loop(id) -> Returns the sound id's loop value.
           *   loop(loop) -> Sets the loop value for all sounds in this Howl group.
           *   loop(loop, id) -> Sets the loop value of passed sound id.
           * @return {Howl/Boolean} Returns self or current loop value.
           */
          loop: function() {
            var self2 = this;
            var args = arguments;
            var loop, id, sound;
            if (args.length === 0) {
              return self2._loop;
            } else if (args.length === 1) {
              if (typeof args[0] === "boolean") {
                loop = args[0];
                self2._loop = loop;
              } else {
                sound = self2._soundById(parseInt(args[0], 10));
                return sound ? sound._loop : false;
              }
            } else if (args.length === 2) {
              loop = args[0];
              id = parseInt(args[1], 10);
            }
            var ids = self2._getSoundIds(id);
            for (var i = 0; i < ids.length; i++) {
              sound = self2._soundById(ids[i]);
              if (sound) {
                sound._loop = loop;
                if (self2._webAudio && sound._node && sound._node.bufferSource) {
                  sound._node.bufferSource.loop = loop;
                  if (loop) {
                    sound._node.bufferSource.loopStart = sound._start || 0;
                    sound._node.bufferSource.loopEnd = sound._stop;
                    if (self2.playing(ids[i])) {
                      self2.pause(ids[i], true);
                      self2.play(ids[i], true);
                    }
                  }
                }
              }
            }
            return self2;
          },
          /**
           * Get/set the playback rate of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   rate() -> Returns the first sound node's current playback rate.
           *   rate(id) -> Returns the sound id's current playback rate.
           *   rate(rate) -> Sets the playback rate of all sounds in this Howl group.
           *   rate(rate, id) -> Sets the playback rate of passed sound id.
           * @return {Howl/Number} Returns self or the current playback rate.
           */
          rate: function() {
            var self2 = this;
            var args = arguments;
            var rate, id;
            if (args.length === 0) {
              id = self2._sounds[0]._id;
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else {
                rate = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              rate = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            var sound;
            if (typeof rate === "number") {
              if (self2._state !== "loaded" || self2._playLock) {
                self2._queue.push({
                  event: "rate",
                  action: function() {
                    self2.rate.apply(self2, args);
                  }
                });
                return self2;
              }
              if (typeof id === "undefined") {
                self2._rate = rate;
              }
              id = self2._getSoundIds(id);
              for (var i = 0; i < id.length; i++) {
                sound = self2._soundById(id[i]);
                if (sound) {
                  if (self2.playing(id[i])) {
                    sound._rateSeek = self2.seek(id[i]);
                    sound._playStart = self2._webAudio ? Howler2.ctx.currentTime : sound._playStart;
                  }
                  sound._rate = rate;
                  if (self2._webAudio && sound._node && sound._node.bufferSource) {
                    sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler2.ctx.currentTime);
                  } else if (sound._node) {
                    sound._node.playbackRate = rate;
                  }
                  var seek = self2.seek(id[i]);
                  var duration = (self2._sprite[sound._sprite][0] + self2._sprite[sound._sprite][1]) / 1e3 - seek;
                  var timeout2 = duration * 1e3 / Math.abs(sound._rate);
                  if (self2._endTimers[id[i]] || !sound._paused) {
                    self2._clearTimer(id[i]);
                    self2._endTimers[id[i]] = setTimeout(self2._ended.bind(self2, sound), timeout2);
                  }
                  self2._emit("rate", sound._id);
                }
              }
            } else {
              sound = self2._soundById(id);
              return sound ? sound._rate : self2._rate;
            }
            return self2;
          },
          /**
           * Get/set the seek position of a sound. This method can optionally take 0, 1 or 2 arguments.
           *   seek() -> Returns the first sound node's current seek position.
           *   seek(id) -> Returns the sound id's current seek position.
           *   seek(seek) -> Sets the seek position of the first sound node.
           *   seek(seek, id) -> Sets the seek position of passed sound id.
           * @return {Howl/Number} Returns self or the current seek position.
           */
          seek: function() {
            var self2 = this;
            var args = arguments;
            var seek, id;
            if (args.length === 0) {
              if (self2._sounds.length) {
                id = self2._sounds[0]._id;
              }
            } else if (args.length === 1) {
              var ids = self2._getSoundIds();
              var index = ids.indexOf(args[0]);
              if (index >= 0) {
                id = parseInt(args[0], 10);
              } else if (self2._sounds.length) {
                id = self2._sounds[0]._id;
                seek = parseFloat(args[0]);
              }
            } else if (args.length === 2) {
              seek = parseFloat(args[0]);
              id = parseInt(args[1], 10);
            }
            if (typeof id === "undefined") {
              return 0;
            }
            if (typeof seek === "number" && (self2._state !== "loaded" || self2._playLock)) {
              self2._queue.push({
                event: "seek",
                action: function() {
                  self2.seek.apply(self2, args);
                }
              });
              return self2;
            }
            var sound = self2._soundById(id);
            if (sound) {
              if (typeof seek === "number" && seek >= 0) {
                var playing = self2.playing(id);
                if (playing) {
                  self2.pause(id, true);
                }
                sound._seek = seek;
                sound._ended = false;
                self2._clearTimer(id);
                if (!self2._webAudio && sound._node && !isNaN(sound._node.duration)) {
                  sound._node.currentTime = seek;
                }
                var seekAndEmit = function() {
                  if (playing) {
                    self2.play(id, true);
                  }
                  self2._emit("seek", id);
                };
                if (playing && !self2._webAudio) {
                  var emitSeek = function() {
                    if (!self2._playLock) {
                      seekAndEmit();
                    } else {
                      setTimeout(emitSeek, 0);
                    }
                  };
                  setTimeout(emitSeek, 0);
                } else {
                  seekAndEmit();
                }
              } else {
                if (self2._webAudio) {
                  var realTime = self2.playing(id) ? Howler2.ctx.currentTime - sound._playStart : 0;
                  var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;
                  return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));
                } else {
                  return sound._node.currentTime;
                }
              }
            }
            return self2;
          },
          /**
           * Check if a specific sound is currently playing or not (if id is provided), or check if at least one of the sounds in the group is playing or not.
           * @param  {Number}  id The sound id to check. If none is passed, the whole sound group is checked.
           * @return {Boolean} True if playing and false if not.
           */
          playing: function(id) {
            var self2 = this;
            if (typeof id === "number") {
              var sound = self2._soundById(id);
              return sound ? !sound._paused : false;
            }
            for (var i = 0; i < self2._sounds.length; i++) {
              if (!self2._sounds[i]._paused) {
                return true;
              }
            }
            return false;
          },
          /**
           * Get the duration of this sound. Passing a sound id will return the sprite duration.
           * @param  {Number} id The sound id to check. If none is passed, return full source duration.
           * @return {Number} Audio duration in seconds.
           */
          duration: function(id) {
            var self2 = this;
            var duration = self2._duration;
            var sound = self2._soundById(id);
            if (sound) {
              duration = self2._sprite[sound._sprite][1] / 1e3;
            }
            return duration;
          },
          /**
           * Returns the current loaded state of this Howl.
           * @return {String} 'unloaded', 'loading', 'loaded'
           */
          state: function() {
            return this._state;
          },
          /**
           * Unload and destroy the current Howl object.
           * This will immediately stop all sound instances attached to this group.
           */
          unload: function() {
            var self2 = this;
            var sounds = self2._sounds;
            for (var i = 0; i < sounds.length; i++) {
              if (!sounds[i]._paused) {
                self2.stop(sounds[i]._id);
              }
              if (!self2._webAudio) {
                self2._clearSound(sounds[i]._node);
                sounds[i]._node.removeEventListener("error", sounds[i]._errorFn, false);
                sounds[i]._node.removeEventListener(Howler2._canPlayEvent, sounds[i]._loadFn, false);
                sounds[i]._node.removeEventListener("ended", sounds[i]._endFn, false);
                Howler2._releaseHtml5Audio(sounds[i]._node);
              }
              delete sounds[i]._node;
              self2._clearTimer(sounds[i]._id);
            }
            var index = Howler2._howls.indexOf(self2);
            if (index >= 0) {
              Howler2._howls.splice(index, 1);
            }
            var remCache = true;
            for (i = 0; i < Howler2._howls.length; i++) {
              if (Howler2._howls[i]._src === self2._src || self2._src.indexOf(Howler2._howls[i]._src) >= 0) {
                remCache = false;
                break;
              }
            }
            if (cache && remCache) {
              delete cache[self2._src];
            }
            Howler2.noAudio = false;
            self2._state = "unloaded";
            self2._sounds = [];
            self2 = null;
            return null;
          },
          /**
           * Listen to a custom event.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @param  {Number}   once  (INTERNAL) Marks event to fire only once.
           * @return {Howl}
           */
          on: function(event, fn, id, once) {
            var self2 = this;
            var events = self2["_on" + event];
            if (typeof fn === "function") {
              events.push(once ? { id, fn, once } : { id, fn });
            }
            return self2;
          },
          /**
           * Remove a custom event. Call without parameters to remove all events.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to remove. Leave empty to remove all.
           * @param  {Number}   id    (optional) Only remove events for this sound.
           * @return {Howl}
           */
          off: function(event, fn, id) {
            var self2 = this;
            var events = self2["_on" + event];
            var i = 0;
            if (typeof fn === "number") {
              id = fn;
              fn = null;
            }
            if (fn || id) {
              for (i = 0; i < events.length; i++) {
                var isId = id === events[i].id;
                if (fn === events[i].fn && isId || !fn && isId) {
                  events.splice(i, 1);
                  break;
                }
              }
            } else if (event) {
              self2["_on" + event] = [];
            } else {
              var keys = Object.keys(self2);
              for (i = 0; i < keys.length; i++) {
                if (keys[i].indexOf("_on") === 0 && Array.isArray(self2[keys[i]])) {
                  self2[keys[i]] = [];
                }
              }
            }
            return self2;
          },
          /**
           * Listen to a custom event and remove it once fired.
           * @param  {String}   event Event name.
           * @param  {Function} fn    Listener to call.
           * @param  {Number}   id    (optional) Only listen to events for this sound.
           * @return {Howl}
           */
          once: function(event, fn, id) {
            var self2 = this;
            self2.on(event, fn, id, 1);
            return self2;
          },
          /**
           * Emit all events of a specific type and pass the sound id.
           * @param  {String} event Event name.
           * @param  {Number} id    Sound ID.
           * @param  {Number} msg   Message to go with event.
           * @return {Howl}
           */
          _emit: function(event, id, msg) {
            var self2 = this;
            var events = self2["_on" + event];
            for (var i = events.length - 1; i >= 0; i--) {
              if (!events[i].id || events[i].id === id || event === "load") {
                setTimeout(function(fn) {
                  fn.call(this, id, msg);
                }.bind(self2, events[i].fn), 0);
                if (events[i].once) {
                  self2.off(event, events[i].fn, events[i].id);
                }
              }
            }
            self2._loadQueue(event);
            return self2;
          },
          /**
           * Queue of actions initiated before the sound has loaded.
           * These will be called in sequence, with the next only firing
           * after the previous has finished executing (even if async like play).
           * @return {Howl}
           */
          _loadQueue: function(event) {
            var self2 = this;
            if (self2._queue.length > 0) {
              var task = self2._queue[0];
              if (task.event === event) {
                self2._queue.shift();
                self2._loadQueue();
              }
              if (!event) {
                task.action();
              }
            }
            return self2;
          },
          /**
           * Fired when playback ends at the end of the duration.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _ended: function(sound) {
            var self2 = this;
            var sprite = sound._sprite;
            if (!self2._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {
              setTimeout(self2._ended.bind(self2, sound), 100);
              return self2;
            }
            var loop = !!(sound._loop || self2._sprite[sprite][2]);
            self2._emit("end", sound._id);
            if (!self2._webAudio && loop) {
              self2.stop(sound._id, true).play(sound._id);
            }
            if (self2._webAudio && loop) {
              self2._emit("play", sound._id);
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              sound._playStart = Howler2.ctx.currentTime;
              var timeout2 = (sound._stop - sound._start) * 1e3 / Math.abs(sound._rate);
              self2._endTimers[sound._id] = setTimeout(self2._ended.bind(self2, sound), timeout2);
            }
            if (self2._webAudio && !loop) {
              sound._paused = true;
              sound._ended = true;
              sound._seek = sound._start || 0;
              sound._rateSeek = 0;
              self2._clearTimer(sound._id);
              self2._cleanBuffer(sound._node);
              Howler2._autoSuspend();
            }
            if (!self2._webAudio && !loop) {
              self2.stop(sound._id, true);
            }
            return self2;
          },
          /**
           * Clear the end timer for a sound playback.
           * @param  {Number} id The sound ID.
           * @return {Howl}
           */
          _clearTimer: function(id) {
            var self2 = this;
            if (self2._endTimers[id]) {
              if (typeof self2._endTimers[id] !== "function") {
                clearTimeout(self2._endTimers[id]);
              } else {
                var sound = self2._soundById(id);
                if (sound && sound._node) {
                  sound._node.removeEventListener("ended", self2._endTimers[id], false);
                }
              }
              delete self2._endTimers[id];
            }
            return self2;
          },
          /**
           * Return the sound identified by this ID, or return null.
           * @param  {Number} id Sound ID
           * @return {Object}    Sound object or null.
           */
          _soundById: function(id) {
            var self2 = this;
            for (var i = 0; i < self2._sounds.length; i++) {
              if (id === self2._sounds[i]._id) {
                return self2._sounds[i];
              }
            }
            return null;
          },
          /**
           * Return an inactive sound from the pool or create a new one.
           * @return {Sound} Sound playback object.
           */
          _inactiveSound: function() {
            var self2 = this;
            self2._drain();
            for (var i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                return self2._sounds[i].reset();
              }
            }
            return new Sound2(self2);
          },
          /**
           * Drain excess inactive sounds from the pool.
           */
          _drain: function() {
            var self2 = this;
            var limit = self2._pool;
            var cnt = 0;
            var i = 0;
            if (self2._sounds.length < limit) {
              return;
            }
            for (i = 0; i < self2._sounds.length; i++) {
              if (self2._sounds[i]._ended) {
                cnt++;
              }
            }
            for (i = self2._sounds.length - 1; i >= 0; i--) {
              if (cnt <= limit) {
                return;
              }
              if (self2._sounds[i]._ended) {
                if (self2._webAudio && self2._sounds[i]._node) {
                  self2._sounds[i]._node.disconnect(0);
                }
                self2._sounds.splice(i, 1);
                cnt--;
              }
            }
          },
          /**
           * Get all ID's from the sounds pool.
           * @param  {Number} id Only return one ID if one is passed.
           * @return {Array}    Array of IDs.
           */
          _getSoundIds: function(id) {
            var self2 = this;
            if (typeof id === "undefined") {
              var ids = [];
              for (var i = 0; i < self2._sounds.length; i++) {
                ids.push(self2._sounds[i]._id);
              }
              return ids;
            } else {
              return [id];
            }
          },
          /**
           * Load the sound back into the buffer source.
           * @param  {Sound} sound The sound object to work with.
           * @return {Howl}
           */
          _refreshBuffer: function(sound) {
            var self2 = this;
            sound._node.bufferSource = Howler2.ctx.createBufferSource();
            sound._node.bufferSource.buffer = cache[self2._src];
            if (sound._panner) {
              sound._node.bufferSource.connect(sound._panner);
            } else {
              sound._node.bufferSource.connect(sound._node);
            }
            sound._node.bufferSource.loop = sound._loop;
            if (sound._loop) {
              sound._node.bufferSource.loopStart = sound._start || 0;
              sound._node.bufferSource.loopEnd = sound._stop || 0;
            }
            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler2.ctx.currentTime);
            return self2;
          },
          /**
           * Prevent memory leaks by cleaning up the buffer source after playback.
           * @param  {Object} node Sound's audio node containing the buffer source.
           * @return {Howl}
           */
          _cleanBuffer: function(node) {
            var self2 = this;
            var isIOS = Howler2._navigator && Howler2._navigator.vendor.indexOf("Apple") >= 0;
            if (!node.bufferSource) {
              return self2;
            }
            if (Howler2._scratchBuffer && node.bufferSource) {
              node.bufferSource.onended = null;
              node.bufferSource.disconnect(0);
              if (isIOS) {
                try {
                  node.bufferSource.buffer = Howler2._scratchBuffer;
                } catch (e) {
                }
              }
            }
            node.bufferSource = null;
            return self2;
          },
          /**
           * Set the source to a 0-second silence to stop any downloading (except in IE).
           * @param  {Object} node Audio node to clear.
           */
          _clearSound: function(node) {
            var checkIE = /MSIE |Trident\//.test(Howler2._navigator && Howler2._navigator.userAgent);
            if (!checkIE) {
              node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA";
            }
          }
        };
        var Sound2 = function(howl) {
          this._parent = howl;
          this.init();
        };
        Sound2.prototype = {
          /**
           * Initialize a new Sound object.
           * @return {Sound}
           */
          init: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            parent._sounds.push(self2);
            self2.create();
            return self2;
          },
          /**
           * Create and setup a new sound object, whether HTML5 Audio or Web Audio.
           * @return {Sound}
           */
          create: function() {
            var self2 = this;
            var parent = self2._parent;
            var volume = Howler2._muted || self2._muted || self2._parent._muted ? 0 : self2._volume;
            if (parent._webAudio) {
              self2._node = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
              self2._node.gain.setValueAtTime(volume, Howler2.ctx.currentTime);
              self2._node.paused = true;
              self2._node.connect(Howler2.masterGain);
            } else if (!Howler2.noAudio) {
              self2._node = Howler2._obtainHtml5Audio();
              self2._errorFn = self2._errorListener.bind(self2);
              self2._node.addEventListener("error", self2._errorFn, false);
              self2._loadFn = self2._loadListener.bind(self2);
              self2._node.addEventListener(Howler2._canPlayEvent, self2._loadFn, false);
              self2._endFn = self2._endListener.bind(self2);
              self2._node.addEventListener("ended", self2._endFn, false);
              self2._node.src = parent._src;
              self2._node.preload = parent._preload === true ? "auto" : parent._preload;
              self2._node.volume = volume * Howler2.volume();
              self2._node.load();
            }
            return self2;
          },
          /**
           * Reset the parameters of this sound to the original state (for recycle).
           * @return {Sound}
           */
          reset: function() {
            var self2 = this;
            var parent = self2._parent;
            self2._muted = parent._muted;
            self2._loop = parent._loop;
            self2._volume = parent._volume;
            self2._rate = parent._rate;
            self2._seek = 0;
            self2._rateSeek = 0;
            self2._paused = true;
            self2._ended = true;
            self2._sprite = "__default";
            self2._id = ++Howler2._counter;
            return self2;
          },
          /**
           * HTML5 Audio error listener callback.
           */
          _errorListener: function() {
            var self2 = this;
            self2._parent._emit("loaderror", self2._id, self2._node.error ? self2._node.error.code : 0);
            self2._node.removeEventListener("error", self2._errorFn, false);
          },
          /**
           * HTML5 Audio canplaythrough listener callback.
           */
          _loadListener: function() {
            var self2 = this;
            var parent = self2._parent;
            parent._duration = Math.ceil(self2._node.duration * 10) / 10;
            if (Object.keys(parent._sprite).length === 0) {
              parent._sprite = { __default: [0, parent._duration * 1e3] };
            }
            if (parent._state !== "loaded") {
              parent._state = "loaded";
              parent._emit("load");
              parent._loadQueue();
            }
            self2._node.removeEventListener(Howler2._canPlayEvent, self2._loadFn, false);
          },
          /**
           * HTML5 Audio ended listener callback.
           */
          _endListener: function() {
            var self2 = this;
            var parent = self2._parent;
            if (parent._duration === Infinity) {
              parent._duration = Math.ceil(self2._node.duration * 10) / 10;
              if (parent._sprite.__default[1] === Infinity) {
                parent._sprite.__default[1] = parent._duration * 1e3;
              }
              parent._ended(self2);
            }
            self2._node.removeEventListener("ended", self2._endFn, false);
          }
        };
        var cache = {};
        var loadBuffer = function(self2) {
          var url = self2._src;
          if (cache[url]) {
            self2._duration = cache[url].duration;
            loadSound(self2);
            return;
          }
          if (/^data:[^;]+;base64,/.test(url)) {
            var data = atob(url.split(",")[1]);
            var dataView = new Uint8Array(data.length);
            for (var i = 0; i < data.length; ++i) {
              dataView[i] = data.charCodeAt(i);
            }
            decodeAudioData(dataView.buffer, self2);
          } else {
            var xhr = new XMLHttpRequest();
            xhr.open(self2._xhr.method, url, true);
            xhr.withCredentials = self2._xhr.withCredentials;
            xhr.responseType = "arraybuffer";
            if (self2._xhr.headers) {
              Object.keys(self2._xhr.headers).forEach(function(key) {
                xhr.setRequestHeader(key, self2._xhr.headers[key]);
              });
            }
            xhr.onload = function() {
              var code = (xhr.status + "")[0];
              if (code !== "0" && code !== "2" && code !== "3") {
                self2._emit("loaderror", null, "Failed loading audio file with status: " + xhr.status + ".");
                return;
              }
              decodeAudioData(xhr.response, self2);
            };
            xhr.onerror = function() {
              if (self2._webAudio) {
                self2._html5 = true;
                self2._webAudio = false;
                self2._sounds = [];
                delete cache[url];
                self2.load();
              }
            };
            safeXhrSend(xhr);
          }
        };
        var safeXhrSend = function(xhr) {
          try {
            xhr.send();
          } catch (e) {
            xhr.onerror();
          }
        };
        var decodeAudioData = function(arraybuffer, self2) {
          var error = function() {
            self2._emit("loaderror", null, "Decoding audio data failed.");
          };
          var success = function(buffer) {
            if (buffer && self2._sounds.length > 0) {
              cache[self2._src] = buffer;
              loadSound(self2, buffer);
            } else {
              error();
            }
          };
          if (typeof Promise !== "undefined" && Howler2.ctx.decodeAudioData.length === 1) {
            Howler2.ctx.decodeAudioData(arraybuffer).then(success).catch(error);
          } else {
            Howler2.ctx.decodeAudioData(arraybuffer, success, error);
          }
        };
        var loadSound = function(self2, buffer) {
          if (buffer && !self2._duration) {
            self2._duration = buffer.duration;
          }
          if (Object.keys(self2._sprite).length === 0) {
            self2._sprite = { __default: [0, self2._duration * 1e3] };
          }
          if (self2._state !== "loaded") {
            self2._state = "loaded";
            self2._emit("load");
            self2._loadQueue();
          }
        };
        var setupAudioContext = function() {
          if (!Howler2.usingWebAudio) {
            return;
          }
          try {
            if (typeof AudioContext !== "undefined") {
              Howler2.ctx = new AudioContext();
            } else if (typeof webkitAudioContext !== "undefined") {
              Howler2.ctx = new webkitAudioContext();
            } else {
              Howler2.usingWebAudio = false;
            }
          } catch (e) {
            Howler2.usingWebAudio = false;
          }
          if (!Howler2.ctx) {
            Howler2.usingWebAudio = false;
          }
          var iOS = /iP(hone|od|ad)/.test(Howler2._navigator && Howler2._navigator.platform);
          var appVersion = Howler2._navigator && Howler2._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
          var version = appVersion ? parseInt(appVersion[1], 10) : null;
          if (iOS && version && version < 9) {
            var safari = /safari/.test(Howler2._navigator && Howler2._navigator.userAgent.toLowerCase());
            if (Howler2._navigator && !safari) {
              Howler2.usingWebAudio = false;
            }
          }
          if (Howler2.usingWebAudio) {
            Howler2.masterGain = typeof Howler2.ctx.createGain === "undefined" ? Howler2.ctx.createGainNode() : Howler2.ctx.createGain();
            Howler2.masterGain.gain.setValueAtTime(Howler2._muted ? 0 : Howler2._volume, Howler2.ctx.currentTime);
            Howler2.masterGain.connect(Howler2.ctx.destination);
          }
          Howler2._setup();
        };
        if (typeof define === "function" && define.amd) {
          define([], function() {
            return {
              Howler: Howler2,
              Howl: Howl2
            };
          });
        }
        if (typeof exports !== "undefined") {
          exports.Howler = Howler2;
          exports.Howl = Howl2;
        }
        if (typeof global !== "undefined") {
          global.HowlerGlobal = HowlerGlobal2;
          global.Howler = Howler2;
          global.Howl = Howl2;
          global.Sound = Sound2;
        } else if (typeof window !== "undefined") {
          window.HowlerGlobal = HowlerGlobal2;
          window.Howler = Howler2;
          window.Howl = Howl2;
          window.Sound = Sound2;
        }
      })();
      (function() {
        "use strict";
        HowlerGlobal.prototype._pos = [0, 0, 0];
        HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0];
        HowlerGlobal.prototype.stereo = function(pan) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          for (var i = self2._howls.length - 1; i >= 0; i--) {
            self2._howls[i].stereo(pan);
          }
          return self2;
        };
        HowlerGlobal.prototype.pos = function(x, y, z) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          y = typeof y !== "number" ? self2._pos[1] : y;
          z = typeof z !== "number" ? self2._pos[2] : z;
          if (typeof x === "number") {
            self2._pos = [x, y, z];
            if (typeof self2.ctx.listener.positionX !== "undefined") {
              self2.ctx.listener.positionX.setTargetAtTime(self2._pos[0], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionY.setTargetAtTime(self2._pos[1], Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.positionZ.setTargetAtTime(self2._pos[2], Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setPosition(self2._pos[0], self2._pos[1], self2._pos[2]);
            }
          } else {
            return self2._pos;
          }
          return self2;
        };
        HowlerGlobal.prototype.orientation = function(x, y, z, xUp, yUp, zUp) {
          var self2 = this;
          if (!self2.ctx || !self2.ctx.listener) {
            return self2;
          }
          var or = self2._orientation;
          y = typeof y !== "number" ? or[1] : y;
          z = typeof z !== "number" ? or[2] : z;
          xUp = typeof xUp !== "number" ? or[3] : xUp;
          yUp = typeof yUp !== "number" ? or[4] : yUp;
          zUp = typeof zUp !== "number" ? or[5] : zUp;
          if (typeof x === "number") {
            self2._orientation = [x, y, z, xUp, yUp, zUp];
            if (typeof self2.ctx.listener.forwardX !== "undefined") {
              self2.ctx.listener.forwardX.setTargetAtTime(x, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardY.setTargetAtTime(y, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.forwardZ.setTargetAtTime(z, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upX.setTargetAtTime(xUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upY.setTargetAtTime(yUp, Howler.ctx.currentTime, 0.1);
              self2.ctx.listener.upZ.setTargetAtTime(zUp, Howler.ctx.currentTime, 0.1);
            } else {
              self2.ctx.listener.setOrientation(x, y, z, xUp, yUp, zUp);
            }
          } else {
            return or;
          }
          return self2;
        };
        Howl.prototype.init = function(_super) {
          return function(o) {
            var self2 = this;
            self2._orientation = o.orientation || [1, 0, 0];
            self2._stereo = o.stereo || null;
            self2._pos = o.pos || null;
            self2._pannerAttr = {
              coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : 360,
              coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : 360,
              coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : 0,
              distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : "inverse",
              maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : 1e4,
              panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : "HRTF",
              refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : 1,
              rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : 1
            };
            self2._onstereo = o.onstereo ? [{ fn: o.onstereo }] : [];
            self2._onpos = o.onpos ? [{ fn: o.onpos }] : [];
            self2._onorientation = o.onorientation ? [{ fn: o.onorientation }] : [];
            return _super.call(this, o);
          };
        }(Howl.prototype.init);
        Howl.prototype.stereo = function(pan, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "stereo",
              action: function() {
                self2.stereo(pan, id);
              }
            });
            return self2;
          }
          var pannerType = typeof Howler.ctx.createStereoPanner === "undefined" ? "spatial" : "stereo";
          if (typeof id === "undefined") {
            if (typeof pan === "number") {
              self2._stereo = pan;
              self2._pos = [pan, 0, 0];
            } else {
              return self2._stereo;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof pan === "number") {
                sound._stereo = pan;
                sound._pos = [pan, 0, 0];
                if (sound._node) {
                  sound._pannerAttr.panningModel = "equalpower";
                  if (!sound._panner || !sound._panner.pan) {
                    setupPanner(sound, pannerType);
                  }
                  if (pannerType === "spatial") {
                    if (typeof sound._panner.positionX !== "undefined") {
                      sound._panner.positionX.setValueAtTime(pan, Howler.ctx.currentTime);
                      sound._panner.positionY.setValueAtTime(0, Howler.ctx.currentTime);
                      sound._panner.positionZ.setValueAtTime(0, Howler.ctx.currentTime);
                    } else {
                      sound._panner.setPosition(pan, 0, 0);
                    }
                  } else {
                    sound._panner.pan.setValueAtTime(pan, Howler.ctx.currentTime);
                  }
                }
                self2._emit("stereo", sound._id);
              } else {
                return sound._stereo;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pos = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "pos",
              action: function() {
                self2.pos(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? 0 : y;
          z = typeof z !== "number" ? -0.5 : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._pos = [x, y, z];
            } else {
              return self2._pos;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._pos = [x, y, z];
                if (sound._node) {
                  if (!sound._panner || sound._panner.pan) {
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.positionX !== "undefined") {
                    sound._panner.positionX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.positionY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.positionZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setPosition(x, y, z);
                  }
                }
                self2._emit("pos", sound._id);
              } else {
                return sound._pos;
              }
            }
          }
          return self2;
        };
        Howl.prototype.orientation = function(x, y, z, id) {
          var self2 = this;
          if (!self2._webAudio) {
            return self2;
          }
          if (self2._state !== "loaded") {
            self2._queue.push({
              event: "orientation",
              action: function() {
                self2.orientation(x, y, z, id);
              }
            });
            return self2;
          }
          y = typeof y !== "number" ? self2._orientation[1] : y;
          z = typeof z !== "number" ? self2._orientation[2] : z;
          if (typeof id === "undefined") {
            if (typeof x === "number") {
              self2._orientation = [x, y, z];
            } else {
              return self2._orientation;
            }
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            var sound = self2._soundById(ids[i]);
            if (sound) {
              if (typeof x === "number") {
                sound._orientation = [x, y, z];
                if (sound._node) {
                  if (!sound._panner) {
                    if (!sound._pos) {
                      sound._pos = self2._pos || [0, 0, -0.5];
                    }
                    setupPanner(sound, "spatial");
                  }
                  if (typeof sound._panner.orientationX !== "undefined") {
                    sound._panner.orientationX.setValueAtTime(x, Howler.ctx.currentTime);
                    sound._panner.orientationY.setValueAtTime(y, Howler.ctx.currentTime);
                    sound._panner.orientationZ.setValueAtTime(z, Howler.ctx.currentTime);
                  } else {
                    sound._panner.setOrientation(x, y, z);
                  }
                }
                self2._emit("orientation", sound._id);
              } else {
                return sound._orientation;
              }
            }
          }
          return self2;
        };
        Howl.prototype.pannerAttr = function() {
          var self2 = this;
          var args = arguments;
          var o, id, sound;
          if (!self2._webAudio) {
            return self2;
          }
          if (args.length === 0) {
            return self2._pannerAttr;
          } else if (args.length === 1) {
            if (typeof args[0] === "object") {
              o = args[0];
              if (typeof id === "undefined") {
                if (!o.pannerAttr) {
                  o.pannerAttr = {
                    coneInnerAngle: o.coneInnerAngle,
                    coneOuterAngle: o.coneOuterAngle,
                    coneOuterGain: o.coneOuterGain,
                    distanceModel: o.distanceModel,
                    maxDistance: o.maxDistance,
                    refDistance: o.refDistance,
                    rolloffFactor: o.rolloffFactor,
                    panningModel: o.panningModel
                  };
                }
                self2._pannerAttr = {
                  coneInnerAngle: typeof o.pannerAttr.coneInnerAngle !== "undefined" ? o.pannerAttr.coneInnerAngle : self2._coneInnerAngle,
                  coneOuterAngle: typeof o.pannerAttr.coneOuterAngle !== "undefined" ? o.pannerAttr.coneOuterAngle : self2._coneOuterAngle,
                  coneOuterGain: typeof o.pannerAttr.coneOuterGain !== "undefined" ? o.pannerAttr.coneOuterGain : self2._coneOuterGain,
                  distanceModel: typeof o.pannerAttr.distanceModel !== "undefined" ? o.pannerAttr.distanceModel : self2._distanceModel,
                  maxDistance: typeof o.pannerAttr.maxDistance !== "undefined" ? o.pannerAttr.maxDistance : self2._maxDistance,
                  refDistance: typeof o.pannerAttr.refDistance !== "undefined" ? o.pannerAttr.refDistance : self2._refDistance,
                  rolloffFactor: typeof o.pannerAttr.rolloffFactor !== "undefined" ? o.pannerAttr.rolloffFactor : self2._rolloffFactor,
                  panningModel: typeof o.pannerAttr.panningModel !== "undefined" ? o.pannerAttr.panningModel : self2._panningModel
                };
              }
            } else {
              sound = self2._soundById(parseInt(args[0], 10));
              return sound ? sound._pannerAttr : self2._pannerAttr;
            }
          } else if (args.length === 2) {
            o = args[0];
            id = parseInt(args[1], 10);
          }
          var ids = self2._getSoundIds(id);
          for (var i = 0; i < ids.length; i++) {
            sound = self2._soundById(ids[i]);
            if (sound) {
              var pa = sound._pannerAttr;
              pa = {
                coneInnerAngle: typeof o.coneInnerAngle !== "undefined" ? o.coneInnerAngle : pa.coneInnerAngle,
                coneOuterAngle: typeof o.coneOuterAngle !== "undefined" ? o.coneOuterAngle : pa.coneOuterAngle,
                coneOuterGain: typeof o.coneOuterGain !== "undefined" ? o.coneOuterGain : pa.coneOuterGain,
                distanceModel: typeof o.distanceModel !== "undefined" ? o.distanceModel : pa.distanceModel,
                maxDistance: typeof o.maxDistance !== "undefined" ? o.maxDistance : pa.maxDistance,
                refDistance: typeof o.refDistance !== "undefined" ? o.refDistance : pa.refDistance,
                rolloffFactor: typeof o.rolloffFactor !== "undefined" ? o.rolloffFactor : pa.rolloffFactor,
                panningModel: typeof o.panningModel !== "undefined" ? o.panningModel : pa.panningModel
              };
              var panner = sound._panner;
              if (!panner) {
                if (!sound._pos) {
                  sound._pos = self2._pos || [0, 0, -0.5];
                }
                setupPanner(sound, "spatial");
                panner = sound._panner;
              }
              panner.coneInnerAngle = pa.coneInnerAngle;
              panner.coneOuterAngle = pa.coneOuterAngle;
              panner.coneOuterGain = pa.coneOuterGain;
              panner.distanceModel = pa.distanceModel;
              panner.maxDistance = pa.maxDistance;
              panner.refDistance = pa.refDistance;
              panner.rolloffFactor = pa.rolloffFactor;
              panner.panningModel = pa.panningModel;
            }
          }
          return self2;
        };
        Sound.prototype.init = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            _super.call(this);
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            }
          };
        }(Sound.prototype.init);
        Sound.prototype.reset = function(_super) {
          return function() {
            var self2 = this;
            var parent = self2._parent;
            self2._orientation = parent._orientation;
            self2._stereo = parent._stereo;
            self2._pos = parent._pos;
            self2._pannerAttr = parent._pannerAttr;
            if (self2._stereo) {
              parent.stereo(self2._stereo);
            } else if (self2._pos) {
              parent.pos(self2._pos[0], self2._pos[1], self2._pos[2], self2._id);
            } else if (self2._panner) {
              self2._panner.disconnect(0);
              self2._panner = void 0;
              parent._refreshBuffer(self2);
            }
            return _super.call(this);
          };
        }(Sound.prototype.reset);
        var setupPanner = function(sound, type) {
          type = type || "spatial";
          if (type === "spatial") {
            sound._panner = Howler.ctx.createPanner();
            sound._panner.coneInnerAngle = sound._pannerAttr.coneInnerAngle;
            sound._panner.coneOuterAngle = sound._pannerAttr.coneOuterAngle;
            sound._panner.coneOuterGain = sound._pannerAttr.coneOuterGain;
            sound._panner.distanceModel = sound._pannerAttr.distanceModel;
            sound._panner.maxDistance = sound._pannerAttr.maxDistance;
            sound._panner.refDistance = sound._pannerAttr.refDistance;
            sound._panner.rolloffFactor = sound._pannerAttr.rolloffFactor;
            sound._panner.panningModel = sound._pannerAttr.panningModel;
            if (typeof sound._panner.positionX !== "undefined") {
              sound._panner.positionX.setValueAtTime(sound._pos[0], Howler.ctx.currentTime);
              sound._panner.positionY.setValueAtTime(sound._pos[1], Howler.ctx.currentTime);
              sound._panner.positionZ.setValueAtTime(sound._pos[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setPosition(sound._pos[0], sound._pos[1], sound._pos[2]);
            }
            if (typeof sound._panner.orientationX !== "undefined") {
              sound._panner.orientationX.setValueAtTime(sound._orientation[0], Howler.ctx.currentTime);
              sound._panner.orientationY.setValueAtTime(sound._orientation[1], Howler.ctx.currentTime);
              sound._panner.orientationZ.setValueAtTime(sound._orientation[2], Howler.ctx.currentTime);
            } else {
              sound._panner.setOrientation(sound._orientation[0], sound._orientation[1], sound._orientation[2]);
            }
          } else {
            sound._panner = Howler.ctx.createStereoPanner();
            sound._panner.pan.setValueAtTime(sound._stereo, Howler.ctx.currentTime);
          }
          sound._panner.connect(sound._node);
          if (!sound._paused) {
            sound._parent.pause(sound._id, true).play(sound._id, true);
          }
        };
      })();
    }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/earcut/src/earcut.js
  var require_earcut = __commonJS({
    "E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/earcut/src/earcut.js"(exports, module) {
      "use strict";
      module.exports = earcut2;
      module.exports.default = earcut2;
      function earcut2(data, holeIndices, dim) {
        dim = dim || 2;
        var hasHoles = holeIndices && holeIndices.length, outerLen = hasHoles ? holeIndices[0] * dim : data.length, outerNode = linkedList(data, 0, outerLen, dim, true), triangles = [];
        if (!outerNode || outerNode.next === outerNode.prev)
          return triangles;
        var minX, minY, maxX, maxY, x, y, invSize;
        if (hasHoles)
          outerNode = eliminateHoles(data, holeIndices, outerNode, dim);
        if (data.length > 80 * dim) {
          minX = maxX = data[0];
          minY = maxY = data[1];
          for (var i = dim; i < outerLen; i += dim) {
            x = data[i];
            y = data[i + 1];
            if (x < minX)
              minX = x;
            if (y < minY)
              minY = y;
            if (x > maxX)
              maxX = x;
            if (y > maxY)
              maxY = y;
          }
          invSize = Math.max(maxX - minX, maxY - minY);
          invSize = invSize !== 0 ? 32767 / invSize : 0;
        }
        earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);
        return triangles;
      }
      function linkedList(data, start, end, dim, clockwise) {
        var i, last;
        if (clockwise === signedArea(data, start, end, dim) > 0) {
          for (i = start; i < end; i += dim)
            last = insertNode(i, data[i], data[i + 1], last);
        } else {
          for (i = end - dim; i >= start; i -= dim)
            last = insertNode(i, data[i], data[i + 1], last);
        }
        if (last && equals6(last, last.next)) {
          removeNode(last);
          last = last.next;
        }
        return last;
      }
      function filterPoints(start, end) {
        if (!start)
          return start;
        if (!end)
          end = start;
        var p = start, again;
        do {
          again = false;
          if (!p.steiner && (equals6(p, p.next) || area(p.prev, p, p.next) === 0)) {
            removeNode(p);
            p = end = p.prev;
            if (p === p.next)
              break;
            again = true;
          } else {
            p = p.next;
          }
        } while (again || p !== end);
        return end;
      }
      function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {
        if (!ear)
          return;
        if (!pass && invSize)
          indexCurve(ear, minX, minY, invSize);
        var stop = ear, prev, next;
        while (ear.prev !== ear.next) {
          prev = ear.prev;
          next = ear.next;
          if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {
            triangles.push(prev.i / dim | 0);
            triangles.push(ear.i / dim | 0);
            triangles.push(next.i / dim | 0);
            removeNode(ear);
            ear = next.next;
            stop = next.next;
            continue;
          }
          ear = next;
          if (ear === stop) {
            if (!pass) {
              earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);
            } else if (pass === 1) {
              ear = cureLocalIntersections(filterPoints(ear), triangles, dim);
              earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);
            } else if (pass === 2) {
              splitEarcut(ear, triangles, dim, minX, minY, invSize);
            }
            break;
          }
        }
      }
      function isEar(ear) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var p = c.next;
        while (p !== a) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.next;
        }
        return true;
      }
      function isEarHashed(ear, minX, minY, invSize) {
        var a = ear.prev, b = ear, c = ear.next;
        if (area(a, b, c) >= 0)
          return false;
        var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;
        var x0 = ax < bx ? ax < cx ? ax : cx : bx < cx ? bx : cx, y0 = ay < by ? ay < cy ? ay : cy : by < cy ? by : cy, x1 = ax > bx ? ax > cx ? ax : cx : bx > cx ? bx : cx, y1 = ay > by ? ay > cy ? ay : cy : by > cy ? by : cy;
        var minZ = zOrder(x0, y0, minX, minY, invSize), maxZ = zOrder(x1, y1, minX, minY, invSize);
        var p = ear.prevZ, n = ear.nextZ;
        while (p && p.z >= minZ && n && n.z <= maxZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        while (p && p.z >= minZ) {
          if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c && pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0)
            return false;
          p = p.prevZ;
        }
        while (n && n.z <= maxZ) {
          if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c && pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0)
            return false;
          n = n.nextZ;
        }
        return true;
      }
      function cureLocalIntersections(start, triangles, dim) {
        var p = start;
        do {
          var a = p.prev, b = p.next.next;
          if (!equals6(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {
            triangles.push(a.i / dim | 0);
            triangles.push(p.i / dim | 0);
            triangles.push(b.i / dim | 0);
            removeNode(p);
            removeNode(p.next);
            p = start = b;
          }
          p = p.next;
        } while (p !== start);
        return filterPoints(p);
      }
      function splitEarcut(start, triangles, dim, minX, minY, invSize) {
        var a = start;
        do {
          var b = a.next.next;
          while (b !== a.prev) {
            if (a.i !== b.i && isValidDiagonal(a, b)) {
              var c = splitPolygon(a, b);
              a = filterPoints(a, a.next);
              c = filterPoints(c, c.next);
              earcutLinked(a, triangles, dim, minX, minY, invSize, 0);
              earcutLinked(c, triangles, dim, minX, minY, invSize, 0);
              return;
            }
            b = b.next;
          }
          a = a.next;
        } while (a !== start);
      }
      function eliminateHoles(data, holeIndices, outerNode, dim) {
        var queue = [], i, len4, start, end, list;
        for (i = 0, len4 = holeIndices.length; i < len4; i++) {
          start = holeIndices[i] * dim;
          end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
          list = linkedList(data, start, end, dim, false);
          if (list === list.next)
            list.steiner = true;
          queue.push(getLeftmost(list));
        }
        queue.sort(compareX);
        for (i = 0; i < queue.length; i++) {
          outerNode = eliminateHole(queue[i], outerNode);
        }
        return outerNode;
      }
      function compareX(a, b) {
        return a.x - b.x;
      }
      function eliminateHole(hole, outerNode) {
        var bridge = findHoleBridge(hole, outerNode);
        if (!bridge) {
          return outerNode;
        }
        var bridgeReverse = splitPolygon(bridge, hole);
        filterPoints(bridgeReverse, bridgeReverse.next);
        return filterPoints(bridge, bridge.next);
      }
      function findHoleBridge(hole, outerNode) {
        var p = outerNode, hx = hole.x, hy = hole.y, qx = -Infinity, m;
        do {
          if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {
            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);
            if (x <= hx && x > qx) {
              qx = x;
              m = p.x < p.next.x ? p : p.next;
              if (x === hx)
                return m;
            }
          }
          p = p.next;
        } while (p !== outerNode);
        if (!m)
          return null;
        var stop = m, mx = m.x, my = m.y, tanMin = Infinity, tan;
        p = m;
        do {
          if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {
            tan = Math.abs(hy - p.y) / (hx - p.x);
            if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {
              m = p;
              tanMin = tan;
            }
          }
          p = p.next;
        } while (p !== stop);
        return m;
      }
      function sectorContainsSector(m, p) {
        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;
      }
      function indexCurve(start, minX, minY, invSize) {
        var p = start;
        do {
          if (p.z === 0)
            p.z = zOrder(p.x, p.y, minX, minY, invSize);
          p.prevZ = p.prev;
          p.nextZ = p.next;
          p = p.next;
        } while (p !== start);
        p.prevZ.nextZ = null;
        p.prevZ = null;
        sortLinked(p);
      }
      function sortLinked(list) {
        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;
        do {
          p = list;
          list = null;
          tail = null;
          numMerges = 0;
          while (p) {
            numMerges++;
            q = p;
            pSize = 0;
            for (i = 0; i < inSize; i++) {
              pSize++;
              q = q.nextZ;
              if (!q)
                break;
            }
            qSize = inSize;
            while (pSize > 0 || qSize > 0 && q) {
              if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {
                e = p;
                p = p.nextZ;
                pSize--;
              } else {
                e = q;
                q = q.nextZ;
                qSize--;
              }
              if (tail)
                tail.nextZ = e;
              else
                list = e;
              e.prevZ = tail;
              tail = e;
            }
            p = q;
          }
          tail.nextZ = null;
          inSize *= 2;
        } while (numMerges > 1);
        return list;
      }
      function zOrder(x, y, minX, minY, invSize) {
        x = (x - minX) * invSize | 0;
        y = (y - minY) * invSize | 0;
        x = (x | x << 8) & 16711935;
        x = (x | x << 4) & 252645135;
        x = (x | x << 2) & 858993459;
        x = (x | x << 1) & 1431655765;
        y = (y | y << 8) & 16711935;
        y = (y | y << 4) & 252645135;
        y = (y | y << 2) & 858993459;
        y = (y | y << 1) & 1431655765;
        return x | y << 1;
      }
      function getLeftmost(start) {
        var p = start, leftmost = start;
        do {
          if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y)
            leftmost = p;
          p = p.next;
        } while (p !== start);
        return leftmost;
      }
      function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {
        return (cx - px) * (ay - py) >= (ax - px) * (cy - py) && (ax - px) * (by - py) >= (bx - px) * (ay - py) && (bx - px) * (cy - py) >= (cx - px) * (by - py);
      }
      function isValidDiagonal(a, b) {
        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges
        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible
        (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors
        equals6(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0);
      }
      function area(p, q, r) {
        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);
      }
      function equals6(p1, p2) {
        return p1.x === p2.x && p1.y === p2.y;
      }
      function intersects(p1, q1, p2, q2) {
        var o1 = sign(area(p1, q1, p2));
        var o2 = sign(area(p1, q1, q2));
        var o3 = sign(area(p2, q2, p1));
        var o4 = sign(area(p2, q2, q1));
        if (o1 !== o2 && o3 !== o4)
          return true;
        if (o1 === 0 && onSegment(p1, p2, q1))
          return true;
        if (o2 === 0 && onSegment(p1, q2, q1))
          return true;
        if (o3 === 0 && onSegment(p2, p1, q2))
          return true;
        if (o4 === 0 && onSegment(p2, q1, q2))
          return true;
        return false;
      }
      function onSegment(p, q, r) {
        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);
      }
      function sign(num) {
        return num > 0 ? 1 : num < 0 ? -1 : 0;
      }
      function intersectsPolygon(a, b) {
        var p = a;
        do {
          if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b))
            return true;
          p = p.next;
        } while (p !== a);
        return false;
      }
      function locallyInside(a, b) {
        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;
      }
      function middleInside(a, b) {
        var p = a, inside = false, px = (a.x + b.x) / 2, py = (a.y + b.y) / 2;
        do {
          if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x)
            inside = !inside;
          p = p.next;
        } while (p !== a);
        return inside;
      }
      function splitPolygon(a, b) {
        var a2 = new Node(a.i, a.x, a.y), b2 = new Node(b.i, b.x, b.y), an = a.next, bp = b.prev;
        a.next = b;
        b.prev = a;
        a2.next = an;
        an.prev = a2;
        b2.next = a2;
        a2.prev = b2;
        bp.next = b2;
        b2.prev = bp;
        return b2;
      }
      function insertNode(i, x, y, last) {
        var p = new Node(i, x, y);
        if (!last) {
          p.prev = p;
          p.next = p;
        } else {
          p.next = last.next;
          p.prev = last;
          last.next.prev = p;
          last.next = p;
        }
        return p;
      }
      function removeNode(p) {
        p.next.prev = p.prev;
        p.prev.next = p.next;
        if (p.prevZ)
          p.prevZ.nextZ = p.nextZ;
        if (p.nextZ)
          p.nextZ.prevZ = p.prevZ;
      }
      function Node(i, x, y) {
        this.i = i;
        this.x = x;
        this.y = y;
        this.prev = null;
        this.next = null;
        this.z = 0;
        this.prevZ = null;
        this.nextZ = null;
        this.steiner = false;
      }
      earcut2.deviation = function(data, holeIndices, dim, triangles) {
        var hasHoles = holeIndices && holeIndices.length;
        var outerLen = hasHoles ? holeIndices[0] * dim : data.length;
        var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));
        if (hasHoles) {
          for (var i = 0, len4 = holeIndices.length; i < len4; i++) {
            var start = holeIndices[i] * dim;
            var end = i < len4 - 1 ? holeIndices[i + 1] * dim : data.length;
            polygonArea -= Math.abs(signedArea(data, start, end, dim));
          }
        }
        var trianglesArea = 0;
        for (i = 0; i < triangles.length; i += 3) {
          var a = triangles[i] * dim;
          var b = triangles[i + 1] * dim;
          var c = triangles[i + 2] * dim;
          trianglesArea += Math.abs(
            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1])
          );
        }
        return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);
      };
      function signedArea(data, start, end, dim) {
        var sum = 0;
        for (var i = start, j = end - dim; i < end; i += dim) {
          sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);
          j = i;
        }
        return sum;
      }
      earcut2.flatten = function(data) {
        var dim = data[0][0].length, result = { vertices: [], holes: [], dimensions: dim }, holeIndex = 0;
        for (var i = 0; i < data.length; i++) {
          for (var j = 0; j < data[i].length; j++) {
            for (var d = 0; d < dim; d++)
              result.vertices.push(data[i][j][d]);
          }
          if (i > 0) {
            holeIndex += data[i - 1].length;
            result.holes.push(holeIndex);
          }
        }
        return result;
      };
    }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/index.js
  var dist_exports = {};
  __export(dist_exports, {
    ARCamera8thwall: () => ARCamera8thwall,
    Anchor: () => Anchor,
    Cursor: () => Cursor,
    CursorTarget: () => CursorTarget,
    DebugObject: () => DebugObject,
    DeviceOrientationLook: () => DeviceOrientationLook,
    FingerCursor: () => FingerCursor,
    FixedFoveation: () => FixedFoveation,
    HandTracking: () => HandTracking,
    HitTestLocation: () => HitTestLocation,
    HowlerAudioListener: () => HowlerAudioListener,
    HowlerAudioSource: () => HowlerAudioSource,
    ImageTexture: () => ImageTexture,
    MouseLookComponent: () => MouseLookComponent,
    PlaneDetection: () => PlaneDetection,
    PlayerHeight: () => PlayerHeight,
    TargetFramerate: () => TargetFramerate,
    TeleportComponent: () => TeleportComponent,
    Trail: () => Trail,
    TwoJointIkSolver: () => TwoJointIkSolver,
    VideoTexture: () => VideoTexture,
    VrModeActiveSwitch: () => VrModeActiveSwitch,
    Vrm: () => Vrm,
    WasdControlsComponent: () => WasdControlsComponent,
    isPointLocalOnXRPlanePolygon: () => isPointLocalOnXRPlanePolygon,
    isPointWorldOnXRPlanePolygon: () => isPointWorldOnXRPlanePolygon
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/api/dist/property.js
  var Type;
  (function(Type2) {
    Type2[Type2["Native"] = 1] = "Native";
    Type2[Type2["Bool"] = 2] = "Bool";
    Type2[Type2["Int"] = 4] = "Int";
    Type2[Type2["Float"] = 8] = "Float";
    Type2[Type2["String"] = 16] = "String";
    Type2[Type2["Enum"] = 32] = "Enum";
    Type2[Type2["Object"] = 64] = "Object";
    Type2[Type2["Mesh"] = 128] = "Mesh";
    Type2[Type2["Texture"] = 256] = "Texture";
    Type2[Type2["Material"] = 512] = "Material";
    Type2[Type2["Animation"] = 1024] = "Animation";
    Type2[Type2["Skin"] = 2048] = "Skin";
    Type2[Type2["Color"] = 4096] = "Color";
  })(Type || (Type = {}));
  var Property = {
    /**
     * Create an boolean property.
     *
     * @param defaultValue The default value. If not provided, defaults to `false`.
     */
    bool(defaultValue = false) {
      return { type: Type.Bool, default: defaultValue };
    },
    /**
     * Create an integer property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0`.
     */
    int(defaultValue = 0) {
      return { type: Type.Int, default: defaultValue };
    },
    /**
     * Create an float property.
     *
     * @param defaultValue The default value. If not provided, defaults to `0.0`.
     */
    float(defaultValue = 0) {
      return { type: Type.Float, default: defaultValue };
    },
    /**
     * Create an string property.
     *
     * @param defaultValue The default value. If not provided, defaults to `''`.
     */
    string(defaultValue = "") {
      return { type: Type.String, default: defaultValue };
    },
    /**
     * Create an enumeration property.
     *
     * @param values The list of values.
     * @param defaultValue The default value. Can be a string or an index into
     *     `values`. If not provided, defaults to the first element.
     */
    enum(values, defaultValue) {
      return { type: Type.Enum, values, default: defaultValue };
    },
    /** Create an {@link Object3D} reference property. */
    object(opts) {
      return { type: Type.Object, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Mesh} reference property. */
    mesh(opts) {
      return { type: Type.Mesh, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Texture} reference property. */
    texture(opts) {
      return { type: Type.Texture, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Material} reference property. */
    material(opts) {
      return { type: Type.Material, default: null, required: opts?.required ?? false };
    },
    /** Create an {@link Animation} reference property. */
    animation(opts) {
      return { type: Type.Animation, default: null, required: opts?.required ?? false };
    },
    /** Create a {@link Skin} reference property. */
    skin(opts) {
      return { type: Type.Skin, default: null, required: opts?.required ?? false };
    },
    /**
     * Create a color property.
     *
     * @param r The red component, in the range [0; 1].
     * @param g The green component, in the range [0; 1].
     * @param b The blue component, in the range [0; 1].
     * @param a The alpha component, in the range [0; 1].
     */
    color(r = 0, g = 0, b = 0, a = 1) {
      return { type: Type.Color, default: [r, g, b, a] };
    }
  };

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/api/dist/decorators.js
  function propertyDecorator(data) {
    return function(target, propertyKey) {
      const ctor = target.constructor;
      ctor.Properties = ctor.hasOwnProperty("Properties") ? ctor.Properties : {};
      ctor.Properties[propertyKey] = data;
    };
  }
  function enumerable() {
    return function(_, __, descriptor) {
      descriptor.enumerable = true;
    };
  }
  function nativeProperty() {
    return function(target, propertyKey, descriptor) {
      enumerable()(target, propertyKey, descriptor);
      propertyDecorator({ type: Type.Native })(target, propertyKey);
    };
  }
  var property = {};
  for (const name in Property) {
    property[name] = (...args) => {
      const functor = Property[name];
      return propertyDecorator(functor(...args));
    };
  }

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/api/dist/utils/object.js
  function isNumber(value) {
    if (value === null || value === void 0)
      return false;
    return typeof value === "number" || value.constructor === Number;
  }

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/api/dist/utils/event.js
  var Emitter = class {
    /**
     * List of listeners to trigger when `notify` is called.
     *
     * @hidden
     */
    _listeners = [];
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Basic usage:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * });
     * ```
     *
     * Automatically remove the listener when an event is received:
     *
     * ```js
     * emitter.add((data) => {
     *     console.log('event received!');
     *     console.log(data);
     * }, {once: true});
     * ```
     *
     * @param listener The callback to register.
     * @param opts The listener options. For more information, please have a look
     *     at the {@link ListenerOptions} interface.
     *
     * @returns Reference to self (for method chaining)
     */
    add(listener, opts = {}) {
      const { once = false, id = void 0 } = opts;
      this._listeners.push({ id, once, callback: listener });
      return this;
    }
    /**
     * Equivalent to {@link Emitter.add}.
     *
     * @param listeners The callback(s) to register.
     * @returns Reference to self (for method chaining).
     *
     * @deprecated Please use {@link Emitter.add} instead.
     */
    push(...listeners) {
      for (const cb of listeners)
        this.add(cb);
      return this;
    }
    /**
     * Register a new listener to be triggered on {@link Emitter.notify}.
     *
     * Once notified, the listener will be automatically removed.
     *
     * The method is equivalent to calling {@link Emitter.add} with:
     *
     * ```js
     * emitter.add(listener, {once: true});
     * ```
     *
     * @param listener The callback to register.
     *
     * @returns Reference to self (for method chaining).
     */
    once(listener) {
      return this.add(listener, { once: true });
    }
    /**
     * Remove a registered listener.
     *
     * Usage with a callback:
     *
     * ```js
     * const listener = (data) => console.log(data);
     * emitter.add(listener);
     *
     * // Remove using the callback reference:
     * emitter.remove(listener);
     * ```
     *
     * Usage with an id:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'my-callback'});
     *
     * // Remove using the id:
     * emitter.remove('my-callback');
     * ```
     *
     * Using identifiers, you will need to ensure your value is unique to avoid
     * removing listeners from other libraries, e.g.,:
     *
     * ```js
     * emitter.add((data) => console.log(data), {id: 'non-unique'});
     * // This second listener could be added by a third-party library.
     * emitter.add((data) => console.log('Hello From Library!'), {id: 'non-unique'});
     *
     * // Ho Snap! This also removed the library listener!
     * emitter.remove('non-unique');
     * ```
     *
     * The identifier can be any type. However, remember that the comparison will be
     * by-value for primitive types (string, number), but by reference for objects.
     *
     * Example:
     *
     * ```js
     * emitter.add(() => console.log('Hello'), {id: {value: 42}});
     * emitter.add(() => console.log('World!'), {id: {value: 42}});
     * emitter.remove({value: 42}); // None of the above listeners match!
     * emitter.notify(); // Prints 'Hello' and 'World!'.
     * ```
     *
     * Here, both emitters have id `{value: 42}`, but the comparison is made by reference. Thus,
     * the `remove()` call has no effect. We can make it work by doing:
     *
     * ```js
     * const id = {value: 42};
     * emitter.add(() => console.log('Hello'), {id});
     * emitter.add(() => console.log('World!'), {id});
     * emitter.remove(id); // Same reference, it works!
     * emitter.notify(); // Doesn't print.
     * ```
     *
     * @param listener The registered callback or a value representing the `id`.
     *
     * @returns Reference to self (for method chaining)
     */
    remove(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener) {
          listeners.splice(i--, 1);
        }
      }
      return this;
    }
    /**
     * Check whether the listener is registered.
     *
     * @note This method performs a linear search.
     *
     * @param listener The registered callback or a value representing the `id`.
     * @returns `true` if the handle is found, `false` otherwise.
     */
    has(listener) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const target = listeners[i];
        if (target.callback === listener || target.id === listener)
          return true;
      }
      return false;
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note This method ensures all listeners are called even if
     * an exception is thrown. For (possibly) faster notification,
     * please use {@link Emitter.notifyUnsafe}.
     *
     * @param data The data to pass to listener when invoked.
     */
    notify(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        try {
          listener.callback(...data);
        } catch (e) {
          console.error(e);
        }
      }
    }
    /**
     * Notify listeners with the given data object.
     *
     * @note Because this method doesn't catch exceptions, some listeners
     * will be skipped on a throw. Please use {@link Emitter.notify} for safe
     * notification.
     *
     * @param data The data to pass to listener when invoked.
     */
    notifyUnsafe(...data) {
      const listeners = this._listeners;
      for (let i = 0; i < listeners.length; ++i) {
        const listener = listeners[i];
        if (listener.once)
          listeners.splice(i--, 1);
        listener.callback(...data);
      }
    }
    /**
     * Return a promise that will resolve on the next event.
     *
     * @note The promise might never resolve if no event is sent.
     *
     * @returns A promise that resolves with the data passed to
     *     {@link Emitter.notify}.
     */
    promise() {
      return new Promise((res, _) => {
        this.once((...args) => {
          if (args.length > 1) {
            res(args);
          } else {
            res(args[0]);
          }
        });
      });
    }
    /** Number of listeners. */
    get listenerCount() {
      return this._listeners.length;
    }
    /** `true` if it has no listeners, `false` otherwise. */
    get isEmpty() {
      return this.listenerCount === 0;
    }
  };

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/api/dist/wonderland.js
  var __decorate = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var Collider;
  (function(Collider2) {
    Collider2[Collider2["Sphere"] = 0] = "Sphere";
    Collider2[Collider2["AxisAlignedBox"] = 1] = "AxisAlignedBox";
    Collider2[Collider2["Box"] = 2] = "Box";
  })(Collider || (Collider = {}));
  var Alignment;
  (function(Alignment2) {
    Alignment2[Alignment2["Left"] = 0] = "Left";
    Alignment2[Alignment2["Center"] = 1] = "Center";
    Alignment2[Alignment2["Right"] = 2] = "Right";
  })(Alignment || (Alignment = {}));
  var Justification;
  (function(Justification2) {
    Justification2[Justification2["Line"] = 0] = "Line";
    Justification2[Justification2["Middle"] = 1] = "Middle";
    Justification2[Justification2["Top"] = 2] = "Top";
    Justification2[Justification2["Bottom"] = 3] = "Bottom";
  })(Justification || (Justification = {}));
  var TextEffect;
  (function(TextEffect2) {
    TextEffect2[TextEffect2["None"] = 0] = "None";
    TextEffect2[TextEffect2["Outline"] = 1] = "Outline";
  })(TextEffect || (TextEffect = {}));
  var InputType;
  (function(InputType2) {
    InputType2[InputType2["Head"] = 0] = "Head";
    InputType2[InputType2["EyeLeft"] = 1] = "EyeLeft";
    InputType2[InputType2["EyeRight"] = 2] = "EyeRight";
    InputType2[InputType2["ControllerLeft"] = 3] = "ControllerLeft";
    InputType2[InputType2["ControllerRight"] = 4] = "ControllerRight";
    InputType2[InputType2["RayLeft"] = 5] = "RayLeft";
    InputType2[InputType2["RayRight"] = 6] = "RayRight";
  })(InputType || (InputType = {}));
  var LightType;
  (function(LightType2) {
    LightType2[LightType2["Point"] = 0] = "Point";
    LightType2[LightType2["Spot"] = 1] = "Spot";
    LightType2[LightType2["Sun"] = 2] = "Sun";
  })(LightType || (LightType = {}));
  var AnimationState;
  (function(AnimationState2) {
    AnimationState2[AnimationState2["Playing"] = 0] = "Playing";
    AnimationState2[AnimationState2["Paused"] = 1] = "Paused";
    AnimationState2[AnimationState2["Stopped"] = 2] = "Stopped";
  })(AnimationState || (AnimationState = {}));
  var ForceMode;
  (function(ForceMode2) {
    ForceMode2[ForceMode2["Force"] = 0] = "Force";
    ForceMode2[ForceMode2["Impulse"] = 1] = "Impulse";
    ForceMode2[ForceMode2["VelocityChange"] = 2] = "VelocityChange";
    ForceMode2[ForceMode2["Acceleration"] = 3] = "Acceleration";
  })(ForceMode || (ForceMode = {}));
  var CollisionEventType;
  (function(CollisionEventType2) {
    CollisionEventType2[CollisionEventType2["Touch"] = 0] = "Touch";
    CollisionEventType2[CollisionEventType2["TouchLost"] = 1] = "TouchLost";
    CollisionEventType2[CollisionEventType2["TriggerTouch"] = 2] = "TriggerTouch";
    CollisionEventType2[CollisionEventType2["TriggerTouchLost"] = 3] = "TriggerTouchLost";
  })(CollisionEventType || (CollisionEventType = {}));
  var Shape;
  (function(Shape2) {
    Shape2[Shape2["None"] = 0] = "None";
    Shape2[Shape2["Sphere"] = 1] = "Sphere";
    Shape2[Shape2["Capsule"] = 2] = "Capsule";
    Shape2[Shape2["Box"] = 3] = "Box";
    Shape2[Shape2["Plane"] = 4] = "Plane";
    Shape2[Shape2["ConvexMesh"] = 5] = "ConvexMesh";
    Shape2[Shape2["TriangleMesh"] = 6] = "TriangleMesh";
  })(Shape || (Shape = {}));
  var MeshAttribute;
  (function(MeshAttribute2) {
    MeshAttribute2[MeshAttribute2["Position"] = 0] = "Position";
    MeshAttribute2[MeshAttribute2["Tangent"] = 1] = "Tangent";
    MeshAttribute2[MeshAttribute2["Normal"] = 2] = "Normal";
    MeshAttribute2[MeshAttribute2["TextureCoordinate"] = 3] = "TextureCoordinate";
    MeshAttribute2[MeshAttribute2["Color"] = 4] = "Color";
    MeshAttribute2[MeshAttribute2["JointId"] = 5] = "JointId";
    MeshAttribute2[MeshAttribute2["JointWeight"] = 6] = "JointWeight";
  })(MeshAttribute || (MeshAttribute = {}));
  var MaterialParamType;
  (function(MaterialParamType2) {
    MaterialParamType2[MaterialParamType2["UnsignedInt"] = 0] = "UnsignedInt";
    MaterialParamType2[MaterialParamType2["Int"] = 1] = "Int";
    MaterialParamType2[MaterialParamType2["Float"] = 2] = "Float";
    MaterialParamType2[MaterialParamType2["Sampler"] = 3] = "Sampler";
    MaterialParamType2[MaterialParamType2["Font"] = 4] = "Font";
  })(MaterialParamType || (MaterialParamType = {}));
  function createDestroyedProxy(type) {
    return new Proxy({}, {
      get(_, param) {
        if (param === "isDestroyed")
          return true;
        throw new Error(`Canno't read '${param}' of destroyed ${type}`);
      },
      set(_, param) {
        throw new Error(`Canno't write '${param}' of destroyed ${type}`);
      }
    });
  }
  var DestroyedObjectInstance = createDestroyedProxy("object");
  var DestroyedComponentInstance = createDestroyedProxy("component");
  var DestroyedTextureInstance = createDestroyedProxy("texture");
  function isMeshShape(shape) {
    return shape === Shape.ConvexMesh || shape === Shape.TriangleMesh;
  }
  function isBaseComponentClass(value) {
    return !!value && value.hasOwnProperty("_isBaseComponent") && value._isBaseComponent;
  }
  var SQRT_3 = Math.sqrt(3);
  var Component = class {
    /**
     * Allows to inherit properties directly inside the editor.
     *
     * @note Do not use directly, prefer using {@link inheritProperties}.
     *
     * @hidden
     */
    static _inheritProperties() {
      inheritProperties(this);
    }
    /** Manager index. @hidden */
    _manager;
    /** Instance index. @hidden */
    _id;
    /**
     * Object containing this object.
     *
     * **Note**: This is cached for faster retrieval.
     *
     * @hidden
     */
    _object;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance
     *
     * @param engine The engine instance.
     * @param manager Index of the manager.
     * @param id WASM component instance index.
     *
     * @hidden
     */
    constructor(engine, manager = -1, id = -1) {
      this._engine = engine;
      this._manager = manager;
      this._id = id;
      this._object = null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /** The name of this component's type */
    get type() {
      const ctor = this.constructor;
      return ctor.TypeName ?? this._engine.wasm._typeNameFor(this._manager);
    }
    /** The object this component is attached to. */
    get object() {
      if (!this._object) {
        const objectId = this._engine.wasm._wl_component_get_object(this._manager, this._id);
        this._object = this._engine.wrapObject(objectId);
      }
      return this._object;
    }
    /**
     * Set whether this component is active.
     *
     * Activating/deactivating a component comes at a small cost of reordering
     * components in the respective component manager. This function therefore
     * is not a trivial assignment.
     *
     * Does nothing if the component is already activated/deactivated.
     *
     * @param active New active state.
     */
    set active(active) {
      this._engine.wasm._wl_component_setActive(this._manager, this._id, active);
    }
    /**
     * Whether this component is active
     */
    get active() {
      return this._engine.wasm._wl_component_isActive(this._manager, this._id) != 0;
    }
    /**
     * Remove this component from its objects and destroy it.
     *
     * It is best practice to set the component to `null` after,
     * to ensure it does not get used later.
     *
     * ```js
     *    c.destroy();
     *    c = null;
     * ```
     * @since 0.9.0
     */
    destroy() {
      const manager = this._manager;
      if (manager < 0 || this._id < 0)
        return;
      const jsManager = this.engine.wasm._jsManagerIndex;
      this._engine.wasm._wl_component_remove(manager, this._id);
      if (manager !== jsManager)
        this._triggerOnDestroy();
    }
    /**
     * Checks equality by comparing whether the wrapped native component ids
     * and component manager types are equal.
     *
     * @param otherComponent Component to check equality with.
     * @returns Whether this component equals the given component.
     */
    equals(otherComponent) {
      if (!otherComponent)
        return false;
      return this._manager == otherComponent._manager && this._id == otherComponent._id;
    }
    /**
     * Reset the component properties to default.
     *
     * @note This is automatically called during the component instantiation.
     *
     * @returns Reference to self (for method chaining).
     */
    resetProperties() {
      const ctor = this.constructor;
      const properties = ctor.Properties;
      if (!properties)
        return this;
      for (const name in properties) {
        this[name] = properties[name].default;
      }
      return this;
    }
    /** @deprecated Use {@link Component.resetProperties} instead. */
    reset() {
      return this.resetProperties();
    }
    /**
     * Validate the properties on this instance.
     *
     * @throws If any of the required properties isn't initialized
     * on this instance.
     */
    validateProperties() {
      const ctor = this.constructor;
      if (!ctor.Properties)
        return;
      for (const name in ctor.Properties) {
        if (!ctor.Properties[name].required)
          continue;
        if (!this[name]) {
          throw new Error(`Property '${name}' is required but was not initialized`);
        }
      }
    }
    /**
     * `true` if the component is destroyed, `false` otherwise.
     *
     * If {@link WonderlandEngine.erasePrototypeOnDestroy} is `true`,
     * reading a custom property will not work:
     *
     * ```js
     * engine.erasePrototypeOnDestroy = true;
     *
     * const comp = obj.addComponent('mesh');
     * comp.customParam = 'Hello World!';
     *
     * console.log(comp.isDestroyed); // Prints `false`
     * comp.destroy();
     * console.log(comp.isDestroyed); // Prints `true`
     * console.log(comp.customParam); // Throws an error
     * ```
     *
     * @since 1.1.1
     */
    get isDestroyed() {
      return this._id < 0;
    }
    /**
     * Trigger the component {@link Component.init} method.
     *
     * @note Use this method instead of directly calling {@link Component.init},
     * because this method creates an handler for the {@link Component.start}.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerInit() {
      if (this.init) {
        try {
          this.init();
        } catch (e) {
          console.error(`Exception during ${this.type} init() on object ${this.object.name}`);
          console.error(e);
        }
      }
      const oldActivate = this.onActivate;
      this.onActivate = function() {
        this.onActivate = oldActivate;
        let failed = false;
        try {
          this.validateProperties();
        } catch (e) {
          console.error(`Exception during ${this.type} validateProperties() on object ${this.object.name}`);
          console.error(e);
          failed = true;
        }
        try {
          this.start?.();
        } catch (e) {
          console.error(`Exception during ${this.type} start() on object ${this.object.name}`);
          console.error(e);
          failed = true;
        }
        if (failed) {
          this.active = false;
          return;
        }
        if (!this.onActivate)
          return;
        try {
          this.onActivate();
        } catch (e) {
          console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
          console.error(e);
        }
      };
    }
    /**
     * Trigger the component {@link Component.update} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerUpdate(dt) {
      if (!this.update)
        return;
      try {
        this.update(dt);
      } catch (e) {
        console.error(`Exception during ${this.type} update() on object ${this.object.name}`);
        console.error(e);
        if (this._engine.wasm._deactivate_component_on_error) {
          this.active = false;
        }
      }
    }
    /**
     * Trigger the component {@link Component.onActivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnActivate() {
      if (!this.onActivate)
        return;
      try {
        this.onActivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onActivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDeactivate} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDeactivate() {
      if (!this.onDeactivate)
        return;
      try {
        this.onDeactivate();
      } catch (e) {
        console.error(`Exception during ${this.type} onDeactivate() on object ${this.object.name}`);
        console.error(e);
      }
    }
    /**
     * Trigger the component {@link Component.onDestroy} method.
     *
     * @note This api is meant to be used internally.
     *
     * @hidden
     */
    _triggerOnDestroy() {
      try {
        if (this.onDestroy)
          this.onDestroy();
      } catch (e) {
        console.error(`Exception during ${this.type} onDestroy() on object ${this.object.name}`);
        console.error(e);
      }
      this._engine._destroyComponent(this);
    }
  };
  /**
   * `true` for every class inheriting from this class.
   *
   * @note This is a workaround for `instanceof` to prevent issues
   * that could arise when an application ends up using multiple API versions.
   *
   * @hidden
   */
  __publicField(Component, "_isBaseComponent", true);
  /**
   * Unique identifier for this component class.
   *
   * This is used to register, add, and retrieve components of a given type.
   */
  __publicField(Component, "TypeName");
  /**
   * Properties of this component class.
   *
   * Properties are public attributes that can be configured via the
   * Wonderland Editor.
   *
   * Example:
   *
   * ```js
   * import { Component, Type } from '@wonderlandengine/api';
   * class MyComponent extends Component {
   *     static TypeName = 'my-component';
   *     static Properties = {
   *         myBoolean: { type: Type.Boolean, default: false },
   *         myFloat: { type: Type.Float, default: false },
   *         myTexture: { type: Type.Texture, default: null },
   *     };
   * }
   * ```
   *
   * Properties are automatically added to each component instance, and are
   * accessible like any JS attribute:
   *
   * ```js
   * // Creates a new component and set each properties value:
   * const myComponent = object.addComponent(MyComponent, {
   *     myBoolean: true,
   *     myFloat: 42.0,
   *     myTexture: null
   * });
   *
   * // You can also override the properties on the instance:
   * myComponent.myBoolean = false;
   * myComponent.myFloat = -42.0;
   * ```
   *
   * #### References
   *
   * Reference types (i.e., mesh, object, etc...) can also be listed as **required**:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class MyComponent extends Component {
   *     static Properties = {
   *         myObject: Property.object({required: true}),
   *         myAnimation: Property.animation({required: true}),
   *         myTexture: Property.texture({required: true}),
   *         myMesh: Property.mesh({required: true}),
   *     }
   * }
   * ```
   *
   * Please note that references are validated **once** before the call to {@link Component.start} only,
   * via the {@link Component.validateProperties} method.
   */
  __publicField(Component, "Properties");
  /**
   * When set to `true`, the child class inherits from the parent
   * properties, as shown in the following example:
   *
   * ```js
   * import {Component, Property} from '@wonderlandengine/api';
   *
   * class Parent extends Component {
   *     static TypeName = 'parent';
   *     static Properties = {parentName: Property.string('parent')}
   * }
   *
   * class Child extends Parent {
   *     static TypeName = 'child';
   *     static Properties = {name: Property.string('child')}
   *     static InheritProperties = true;
   *
   *     start() {
   *         // Works because `InheritProperties` is `true`.
   *         console.log(`${this.name} inherits from ${this.parentName}`);
   *     }
   * }
   * ```
   *
   * @note Properties defined in descendant classes will override properties
   * with the same name defined in ancestor classes.
   *
   * Defaults to `true`.
   */
  __publicField(Component, "InheritProperties");
  /**
   * Called when this component class is registered.
   *
   * @example
   *
   * This callback can be used to register dependencies of a component,
   * e.g., component classes that need to be registered in order to add
   * them at runtime with {@link Object3D.addComponent}, independent of whether
   * they are used in the editor.
   *
   * ```js
   * class Spawner extends Component {
   *     static TypeName = 'spawner';
   *
   *     static onRegister(engine) {
   *         engine.registerComponent(SpawnedComponent);
   *     }
   *
   *     // You can now use addComponent with SpawnedComponent
   * }
   * ```
   *
   * @example
   *
   * This callback can be used to register different implementations of a
   * component depending on client features or API versions.
   *
   * ```js
   * // Properties need to be the same for all implementations!
   * const SharedProperties = {};
   *
   * class Anchor extends Component {
   *     static TypeName = 'spawner';
   *     static Properties = SharedProperties;
   *
   *     static onRegister(engine) {
   *         if(navigator.xr === undefined) {
   *             /* WebXR unsupported, keep this dummy component *\/
   *             return;
   *         }
   *         /* WebXR supported! Override already registered dummy implementation
   *          * with one depending on hit-test API support *\/
   *         engine.registerComponent(window.HitTestSource === undefined ?
   *             AnchorWithoutHitTest : AnchorWithHitTest);
   *     }
   *
   *     // This one implements no functions
   * }
   * ```
   */
  __publicField(Component, "onRegister");
  function inheritProperties(target) {
    if (!target.TypeName)
      return;
    const chain = [];
    let curr = target;
    while (curr && !isBaseComponentClass(curr)) {
      const comp = curr;
      const needsMerge = comp.hasOwnProperty("InheritProperties") ? comp.InheritProperties : true;
      if (!needsMerge)
        break;
      if (comp.TypeName && comp.hasOwnProperty("Properties")) {
        chain.push(comp.Properties);
      }
      curr = Object.getPrototypeOf(curr);
    }
    if (chain.length <= 1)
      return;
    const merged = {};
    for (let i = chain.length - 1; i >= 0; --i) {
      Object.assign(merged, chain[i]);
    }
    target.Properties = merged;
  }
  var _CollisionComponent = class extends Component {
    /** Collision component collider */
    get collider() {
      return this._engine.wasm._wl_collision_component_get_collider(this._id);
    }
    /**
     * Set collision component collider.
     *
     * @param collider Collider of the collision component.
     */
    set collider(collider) {
      this._engine.wasm._wl_collision_component_set_collider(this._id, collider);
    }
    /**
     * Collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the returned vector is used.
     */
    get extents() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
    }
    /**
     * Set collision component extents.
     *
     * If {@link collider} returns {@link Collider.Sphere}, only the first
     * component of the passed vector is used.
     *
     * Example:
     *
     * ```js
     * // Spans 1 unit on the x-axis, 2 on the y-axis, 3 on the z-axis.
     * collision.extent = [1, 2, 3];
     * ```
     *
     * @param extents Extents of the collision component, expects a
     *      3 component array.
     */
    set extents(extents) {
      this.extents.set(extents);
    }
    /**
     * Get collision component radius.
     *
     * @note If {@link collider} is not {@link Collider.Sphere}, the returned value
     * corresponds to the radius of a sphere enclosing the shape.
     *
     * Example:
     * ```js
     * sphere.radius = 3.0;
     * console.log(sphere.radius); // 3.0
     *
     * box.extents = [2.0, 2.0, 2.0];
     * console.log(box.radius); // 1.732...
     * ```
     *
     */
    get radius() {
      const wasm = this._engine.wasm;
      if (this.collider === Collider.Sphere)
        return wasm.HEAPF32[wasm._wl_collision_component_get_extents(this._id) >> 2];
      const extents = new Float32Array(wasm.HEAPF32.buffer, wasm._wl_collision_component_get_extents(this._id), 3);
      const x2 = extents[0] * extents[0];
      const y2 = extents[1] * extents[1];
      const z2 = extents[2] * extents[2];
      return Math.sqrt(x2 + y2 + z2) / 2;
    }
    /**
     * Set collision component radius.
     *
     * @param radius Radius of the collision component
     *
     * @note If {@link collider} is not {@link Collider.Sphere},
     * the extents are set to form a square that fits a sphere with the provided radius.
     *
     * Example:
     * ```js
     * aabbCollision.radius = 2.0; // AABB fits a sphere of radius 2.0
     * boxCollision.radius = 3.0; // Box now fits a sphere of radius 3.0, keeping orientation
     * ```
     *
     */
    set radius(radius) {
      const length5 = this.collider === Collider.Sphere ? radius : 2 * radius / SQRT_3;
      this.extents.set([length5, length5, length5]);
    }
    /**
     * Collision component group.
     *
     * The groups is a bitmask that is compared to other components in {@link CollisionComponent#queryOverlaps}
     * or the group in {@link Scene#rayCast}.
     *
     * Colliders that have no common groups will not overlap with each other. If a collider
     * has none of the groups set for {@link Scene#rayCast}, the ray will not hit it.
     *
     * Each bit represents belonging to a group, see example.
     *
     * ```js
     *    // c belongs to group 2
     *    c.group = (1 << 2);
     *
     *    // c belongs to group 0
     *    c.group = (1 << 0);
     *
     *    // c belongs to group 0 *and* 2
     *    c.group = (1 << 0) | (1 << 2);
     *
     *    (c.group & (1 << 2)) != 0; // true
     *    (c.group & (1 << 7)) != 0; // false
     * ```
     */
    get group() {
      return this._engine.wasm._wl_collision_component_get_group(this._id);
    }
    /**
     * Set collision component group.
     *
     * @param group Group mask of the collision component.
     */
    set group(group) {
      this._engine.wasm._wl_collision_component_set_group(this._id, group);
    }
    /**
     * Query overlapping objects.
     *
     * Usage:
     *
     * ```js
     * const collision = object.getComponent('collision');
     * const overlaps = collision.queryOverlaps();
     * for(const otherCollision of overlaps) {
     *     const otherObject = otherCollision.object;
     *     console.log(`Collision with object ${otherObject.objectId}`);
     * }
     * ```
     *
     * @returns Collision components overlapping this collider.
     */
    queryOverlaps() {
      const count = this._engine.wasm._wl_collision_component_query_overlaps(this._id, this._engine.wasm._tempMem, this._engine.wasm._tempMemSize >> 1);
      const overlaps = new Array(count);
      for (let i = 0; i < count; ++i) {
        overlaps[i] = new _CollisionComponent(this._engine, this._manager, this._engine.wasm._tempMemUint16[i]);
      }
      return overlaps;
    }
  };
  var CollisionComponent = _CollisionComponent;
  /** @override */
  __publicField(CollisionComponent, "TypeName", "collision");
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "collider", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], CollisionComponent.prototype, "group", null);
  var TextComponent = class extends Component {
    /** Text component alignment. */
    get alignment() {
      return this._engine.wasm._wl_text_component_get_horizontal_alignment(this._id);
    }
    /**
     * Set text component alignment.
     *
     * @param alignment Alignment for the text component.
     */
    set alignment(alignment) {
      this._engine.wasm._wl_text_component_set_horizontal_alignment(this._id, alignment);
    }
    /** Text component justification. */
    get justification() {
      return this._engine.wasm._wl_text_component_get_vertical_alignment(this._id);
    }
    /**
     * Set text component justification.
     *
     * @param justification Justification for the text component.
     */
    set justification(justification) {
      this._engine.wasm._wl_text_component_set_vertical_alignment(this._id, justification);
    }
    /** Text component character spacing. */
    get characterSpacing() {
      return this._engine.wasm._wl_text_component_get_character_spacing(this._id);
    }
    /**
     * Set text component character spacing.
     *
     * @param spacing Character spacing for the text component.
     */
    set characterSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_character_spacing(this._id, spacing);
    }
    /** Text component line spacing. */
    get lineSpacing() {
      return this._engine.wasm._wl_text_component_get_line_spacing(this._id);
    }
    /**
     * Set text component line spacing
     *
     * @param spacing Line spacing for the text component
     */
    set lineSpacing(spacing) {
      this._engine.wasm._wl_text_component_set_line_spacing(this._id, spacing);
    }
    /** Text component effect. */
    get effect() {
      return this._engine.wasm._wl_text_component_get_effect(this._id);
    }
    /**
     * Set text component effect
     *
     * @param effect Effect for the text component
     */
    set effect(effect) {
      this._engine.wasm._wl_text_component_set_effect(this._id, effect);
    }
    /** Text component text. */
    get text() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_text_component_get_text(this._id);
      return wasm.UTF8ToString(ptr);
    }
    /**
     * Set text component text.
     *
     * @param text Text of the text component.
     */
    set text(text) {
      const wasm = this._engine.wasm;
      wasm._wl_text_component_set_text(this._id, wasm.tempUTF8(text.toString()));
    }
    /**
     * Set material to render the text with.
     *
     * @param material New material.
     */
    set material(material) {
      const matIndex = material ? material._index : 0;
      this._engine.wasm._wl_text_component_set_material(this._id, matIndex);
    }
    /** Material used to render the text. */
    get material() {
      const id = this._engine.wasm._wl_text_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
  };
  /** @override */
  __publicField(TextComponent, "TypeName", "text");
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "alignment", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "justification", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "characterSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "lineSpacing", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "effect", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "text", null);
  __decorate([
    nativeProperty()
  ], TextComponent.prototype, "material", null);
  var ViewComponent = class extends Component {
    /** Projection matrix. */
    get projectionMatrix() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_view_component_get_projection_matrix(this._id), 16);
    }
    /** ViewComponent near clipping plane value. */
    get near() {
      return this._engine.wasm._wl_view_component_get_near(this._id);
    }
    /**
     * Set near clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param near Near depth value.
     */
    set near(near) {
      this._engine.wasm._wl_view_component_set_near(this._id, near);
    }
    /** Far clipping plane value. */
    get far() {
      return this._engine.wasm._wl_view_component_get_far(this._id);
    }
    /**
     * Set far clipping plane distance for the view.
     *
     * If an XR session is active, the change will apply in the
     * following frame, otherwise the change is immediate.
     *
     * @param far Near depth value.
     */
    set far(far) {
      this._engine.wasm._wl_view_component_set_far(this._id, far);
    }
    /**
     * Get the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, this returns the field of view reported by
     * the device, regardless of the fov that was set.
     */
    get fov() {
      return this._engine.wasm._wl_view_component_get_fov(this._id);
    }
    /**
     * Set the horizontal field of view for the view, **in degrees**.
     *
     * If an XR session is active, the field of view reported by the device is
     * used and this value is ignored. After the XR session ends, the new value
     * is applied.
     *
     * @param fov Horizontal field of view, **in degrees**.
     */
    set fov(fov) {
      this._engine.wasm._wl_view_component_set_fov(this._id, fov);
    }
  };
  /** @override */
  __publicField(ViewComponent, "TypeName", "view");
  __decorate([
    enumerable()
  ], ViewComponent.prototype, "projectionMatrix", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "near", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "far", null);
  __decorate([
    nativeProperty()
  ], ViewComponent.prototype, "fov", null);
  var InputComponent = class extends Component {
    /** Input component type */
    get inputType() {
      return this._engine.wasm._wl_input_component_get_type(this._id);
    }
    /**
     * Set input component type.
     *
     * @params New input component type.
     */
    set inputType(type) {
      this._engine.wasm._wl_input_component_set_type(this._id, type);
    }
    /**
     * WebXR Device API input source associated with this input component,
     * if type {@link InputType.ControllerLeft} or {@link InputType.ControllerRight}.
     */
    get xrInputSource() {
      const xrSession = this._engine.xrSession;
      if (xrSession) {
        for (let inputSource of xrSession.inputSources) {
          if (inputSource.handedness == this.handedness) {
            return inputSource;
          }
        }
      }
      return null;
    }
    /**
     * 'left', 'right' or `null` depending on the {@link InputComponent#inputType}.
     */
    get handedness() {
      const inputType = this.inputType;
      if (inputType == InputType.ControllerRight || inputType == InputType.RayRight || inputType == InputType.EyeRight)
        return "right";
      if (inputType == InputType.ControllerLeft || inputType == InputType.RayLeft || inputType == InputType.EyeLeft)
        return "left";
      return null;
    }
  };
  /** @override */
  __publicField(InputComponent, "TypeName", "input");
  __decorate([
    nativeProperty()
  ], InputComponent.prototype, "inputType", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "xrInputSource", null);
  __decorate([
    enumerable()
  ], InputComponent.prototype, "handedness", null);
  var LightComponent = class extends Component {
    getColor(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      return out;
    }
    /**
     * Set light color.
     *
     * @param c New color array/vector, expected to have at least 3 elements.
     * @since 1.0.0
     */
    setColor(c) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_light_component_get_color(this._id) / 4;
      wasm.HEAPF32[ptr] = c[0];
      wasm.HEAPF32[ptr + 1] = c[1];
      wasm.HEAPF32[ptr + 2] = c[2];
    }
    /**
     * View on the light color.
     *
     * @note Prefer to use {@link getColor} in performance-critical code.
     */
    get color() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_light_component_get_color(this._id), 3);
    }
    /**
     * Set light color.
     *
     * @param c Color of the light component.
     *
     * @note Prefer to use {@link setColor} in performance-critical code.
     */
    set color(c) {
      this.color.set(c);
    }
    /** Light type. */
    get lightType() {
      return this._engine.wasm._wl_light_component_get_type(this._id);
    }
    /**
     * Set light type.
     *
     * @param lightType Type of the light component.
     */
    set lightType(t) {
      this._engine.wasm._wl_light_component_set_type(this._id, t);
    }
    /**
     * Light intensity.
     * @since 1.0.0
     */
    get intensity() {
      return this._engine.wasm._wl_light_component_get_intensity(this._id);
    }
    /**
     * Set light intensity.
     *
     * @param intensity Intensity of the light component.
     * @since 1.0.0
     */
    set intensity(intensity) {
      this._engine.wasm._wl_light_component_set_intensity(this._id, intensity);
    }
    /**
     * Outer angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get outerAngle() {
      return this._engine.wasm._wl_light_component_get_outerAngle(this._id);
    }
    /**
     * Set outer angle for spot lights.
     *
     * @param angle Outer angle, in degrees.
     * @since 1.0.0
     */
    set outerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_outerAngle(this._id, angle2);
    }
    /**
     * Inner angle for spot lights, in degrees.
     * @since 1.0.0
     */
    get innerAngle() {
      return this._engine.wasm._wl_light_component_get_innerAngle(this._id);
    }
    /**
     * Set inner angle for spot lights.
     *
     * @param angle Inner angle, in degrees.
     * @since 1.0.0
     */
    set innerAngle(angle2) {
      this._engine.wasm._wl_light_component_set_innerAngle(this._id, angle2);
    }
    /**
     * Whether the light casts shadows.
     * @since 1.0.0
     */
    get shadows() {
      return !!this._engine.wasm._wl_light_component_get_shadows(this._id);
    }
    /**
     * Set whether the light casts shadows.
     *
     * @param b Whether the light casts shadows.
     * @since 1.0.0
     */
    set shadows(b) {
      this._engine.wasm._wl_light_component_set_shadows(this._id, b);
    }
    /**
     * Range for shadows.
     * @since 1.0.0
     */
    get shadowRange() {
      return this._engine.wasm._wl_light_component_get_shadowRange(this._id);
    }
    /**
     * Set range for shadows.
     *
     * @param range Range for shadows.
     * @since 1.0.0
     */
    set shadowRange(range) {
      this._engine.wasm._wl_light_component_set_shadowRange(this._id, range);
    }
    /**
     * Bias value for shadows.
     * @since 1.0.0
     */
    get shadowBias() {
      return this._engine.wasm._wl_light_component_get_shadowBias(this._id);
    }
    /**
     * Set bias value for shadows.
     *
     * @param bias Bias for shadows.
     * @since 1.0.0
     */
    set shadowBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowBias(this._id, bias);
    }
    /**
     * Normal bias value for shadows.
     * @since 1.0.0
     */
    get shadowNormalBias() {
      return this._engine.wasm._wl_light_component_get_shadowNormalBias(this._id);
    }
    /**
     * Set normal bias value for shadows.
     *
     * @param bias Normal bias for shadows.
     * @since 1.0.0
     */
    set shadowNormalBias(bias) {
      this._engine.wasm._wl_light_component_set_shadowNormalBias(this._id, bias);
    }
    /**
     * Texel size for shadows.
     * @since 1.0.0
     */
    get shadowTexelSize() {
      return this._engine.wasm._wl_light_component_get_shadowTexelSize(this._id);
    }
    /**
     * Set texel size for shadows.
     *
     * @param size Texel size for shadows.
     * @since 1.0.0
     */
    set shadowTexelSize(size) {
      this._engine.wasm._wl_light_component_set_shadowTexelSize(this._id, size);
    }
    /**
     * Cascade count for {@link LightType.Sun} shadows.
     * @since 1.0.0
     */
    get cascadeCount() {
      return this._engine.wasm._wl_light_component_get_cascadeCount(this._id);
    }
    /**
     * Set cascade count for {@link LightType.Sun} shadows.
     *
     * @param count Cascade count.
     * @since 1.0.0
     */
    set cascadeCount(count) {
      this._engine.wasm._wl_light_component_set_cascadeCount(this._id, count);
    }
  };
  /** @override */
  __publicField(LightComponent, "TypeName", "light");
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "color", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "lightType", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "intensity", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "outerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "innerAngle", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadows", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowRange", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowNormalBias", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "shadowTexelSize", null);
  __decorate([
    nativeProperty()
  ], LightComponent.prototype, "cascadeCount", null);
  var AnimationComponent = class extends Component {
    /**
     * Set animation to play.
     *
     * Make sure to {@link Animation#retarget} the animation to affect the
     * right objects.
     *
     * @param anim Animation to play.
     */
    set animation(anim) {
      this._engine.wasm._wl_animation_component_set_animation(this._id, anim ? anim._index : 0);
    }
    /** Animation set for this component */
    get animation() {
      const id = this._engine.wasm._wl_animation_component_get_animation(this._id);
      return id > 0 ? new Animation(this._engine, id) : null;
    }
    /**
     * Set play count. Set to `0` to loop indefinitely.
     *
     * @param playCount Number of times to repeat the animation.
     */
    set playCount(playCount) {
      this._engine.wasm._wl_animation_component_set_playCount(this._id, playCount);
    }
    /** Number of times the animation is played. */
    get playCount() {
      return this._engine.wasm._wl_animation_component_get_playCount(this._id);
    }
    /**
     * Set speed. Set to negative values to run the animation backwards.
     *
     * Setting speed has an immediate effect for the current frame's update
     * and will continue with the speed from the current point in the animation.
     *
     * @param speed New speed at which to play the animation.
     * @since 0.8.10
     */
    set speed(speed) {
      this._engine.wasm._wl_animation_component_set_speed(this._id, speed);
    }
    /**
     * Speed factor at which the animation is played.
     *
     * @since 0.8.10
     */
    get speed() {
      return this._engine.wasm._wl_animation_component_get_speed(this._id);
    }
    /** Current playing state of the animation */
    get state() {
      return this._engine.wasm._wl_animation_component_state(this._id);
    }
    /**
     * Play animation.
     *
     * If the animation is currently paused, resumes from that position. If the
     * animation is already playing, does nothing.
     *
     * To restart the animation, {@link AnimationComponent#stop} it first.
     */
    play() {
      this._engine.wasm._wl_animation_component_play(this._id);
    }
    /** Stop animation. */
    stop() {
      this._engine.wasm._wl_animation_component_stop(this._id);
    }
    /** Pause animation. */
    pause() {
      this._engine.wasm._wl_animation_component_pause(this._id);
    }
  };
  /** @override */
  __publicField(AnimationComponent, "TypeName", "animation");
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "animation", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "playCount", null);
  __decorate([
    nativeProperty()
  ], AnimationComponent.prototype, "speed", null);
  __decorate([
    enumerable()
  ], AnimationComponent.prototype, "state", null);
  var MeshComponent = class extends Component {
    /**
     * Set material to render the mesh with.
     *
     * @param material Material to render the mesh with.
     */
    set material(material) {
      this._engine.wasm._wl_mesh_component_set_material(this._id, material ? material._index : 0);
    }
    /** Material used to render the mesh. */
    get material() {
      const id = this._engine.wasm._wl_mesh_component_get_material(this._id);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /** Mesh rendered by this component. */
    get mesh() {
      const id = this._engine.wasm._wl_mesh_component_get_mesh(this._id);
      return id > 0 ? new Mesh(this._engine, id) : null;
    }
    /**
     * Set mesh to rendered with this component.
     *
     * @param mesh Mesh rendered by this component.
     */
    set mesh(mesh) {
      this._engine.wasm._wl_mesh_component_set_mesh(this._id, mesh ? mesh._index : 0);
    }
    /** Skin for this mesh component. */
    get skin() {
      const id = this._engine.wasm._wl_mesh_component_get_skin(this._id);
      return id > 0 ? new Skin(this._engine, id) : null;
    }
    /**
     * Set skin to transform this mesh component.
     *
     * @param skin Skin to use for rendering skinned meshes.
     */
    set skin(skin) {
      this._engine.wasm._wl_mesh_component_set_skin(this._id, skin ? skin._index : 0);
    }
  };
  /** @override */
  __publicField(MeshComponent, "TypeName", "mesh");
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "material", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "mesh", null);
  __decorate([
    nativeProperty()
  ], MeshComponent.prototype, "skin", null);
  var LockAxis;
  (function(LockAxis2) {
    LockAxis2[LockAxis2["None"] = 0] = "None";
    LockAxis2[LockAxis2["X"] = 1] = "X";
    LockAxis2[LockAxis2["Y"] = 2] = "Y";
    LockAxis2[LockAxis2["Z"] = 4] = "Z";
  })(LockAxis || (LockAxis = {}));
  var PhysXComponent = class extends Component {
    getTranslationOffset(out = new Float32Array(3)) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_offsetTranslation(this._id, wasm._tempMem);
      out[0] = wasm._tempMemFloat[0];
      out[1] = wasm._tempMemFloat[1];
      out[2] = wasm._tempMemFloat[2];
      return out;
    }
    getRotationOffset(out = new Float32Array(4)) {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_offsetTransform(this._id) >> 2;
      out[0] = wasm.HEAPF32[ptr];
      out[1] = wasm.HEAPF32[ptr + 1];
      out[2] = wasm.HEAPF32[ptr + 2];
      out[3] = wasm.HEAPF32[ptr + 3];
      return out;
    }
    /**
     * Set whether this rigid body is static.
     *
     * Setting this property only takes effect once the component
     * switches from inactive to active.
     *
     * @param b Whether the rigid body should be static.
     */
    set static(b) {
      this._engine.wasm._wl_physx_component_set_static(this._id, b);
    }
    /**
     * Whether this rigid body is static.
     *
     * This property returns whether the rigid body is *effectively*
     * static. If static property was set while the rigid body was
     * active, it will not take effect until the rigid body is set
     * inactive and active again. Until the component is set inactive,
     * this getter will return whether the rigid body is actually
     * static.
     */
    get static() {
      return !!this._engine.wasm._wl_physx_component_get_static(this._id);
    }
    /**
     * Equivalent to {@link PhysXComponent.getTranslationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getTranslationOffset} for performance.
     *
     * @since 1.1.1
     */
    get translationOffset() {
      return this.getTranslationOffset();
    }
    /**
     * Set the offset translation.
     *
     * The array must be a vector of at least **3** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set translationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetTranslation(this._id, offset2[0], offset2[1], offset2[2]);
    }
    /**
     * Equivalent to {@link PhysXComponent.getRotationOffset}.
     *
     * Gives a quick view of the offset in a debugger.
     *
     * @note Prefer to use {@link PhysXComponent.getRotationOffset} for performance.
     *
     * @since 1.1.1
     */
    get rotationOffset() {
      return this.getRotationOffset();
    }
    /**
     * Set the offset rotation.
     *
     * The array must be a quaternion of at least **4** elements.
     *
     * @note The component must be re-activated to apply the change.
     *
     * @since 1.1.1
     */
    set rotationOffset(offset2) {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_set_offsetRotation(this._id, offset2[0], offset2[1], offset2[2], offset2[3]);
    }
    /**
     * Set whether this rigid body is kinematic.
     *
     * @param b Whether the rigid body should be kinematic.
     */
    set kinematic(b) {
      this._engine.wasm._wl_physx_component_set_kinematic(this._id, b);
    }
    /**
     * Whether this rigid body is kinematic.
     */
    get kinematic() {
      return !!this._engine.wasm._wl_physx_component_get_kinematic(this._id);
    }
    /**
     * Set whether this rigid body's gravity is enabled.
     *
     * @param b Whether the rigid body's gravity should be enabled.
     */
    set gravity(b) {
      this._engine.wasm._wl_physx_component_set_gravity(this._id, b);
    }
    /**
     * Whether this rigid body's gravity flag is enabled.
     */
    get gravity() {
      return !!this._engine.wasm._wl_physx_component_get_gravity(this._id);
    }
    /**
     * Set whether this rigid body's simulate flag is enabled.
     *
     * @param b Whether the rigid body's simulate flag should be enabled.
     */
    set simulate(b) {
      this._engine.wasm._wl_physx_component_set_simulate(this._id, b);
    }
    /**
     * Whether this rigid body's simulate flag is enabled.
     */
    get simulate() {
      return !!this._engine.wasm._wl_physx_component_get_simulate(this._id);
    }
    /**
     * Set whether to allow simulation of this rigid body.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling {@link allowSimulation} while {@link trigger} is enabled
     * will disable {@link trigger}.
     *
     * @param b Whether to allow simulation of this rigid body.
     */
    set allowSimulation(b) {
      this._engine.wasm._wl_physx_component_set_allowSimulation(this._id, b);
    }
    /**
     * Whether to allow simulation of this rigid body.
     */
    get allowSimulation() {
      return !!this._engine.wasm._wl_physx_component_get_allowSimulation(this._id);
    }
    /**
     * Set whether this rigid body may be queried in ray casts.
     *
     * @param b Whether this rigid body may be queried in ray casts.
     */
    set allowQuery(b) {
      this._engine.wasm._wl_physx_component_set_allowQuery(this._id, b);
    }
    /**
     * Whether this rigid body may be queried in ray casts.
     */
    get allowQuery() {
      return !!this._engine.wasm._wl_physx_component_get_allowQuery(this._id);
    }
    /**
     * Set whether this physics body is a trigger.
     *
     * {@link allowSimulation} and {@link trigger} can not be enabled at the
     * same time. Enabling trigger while {@link allowSimulation} is enabled,
     * will disable {@link allowSimulation}.
     *
     * @param b Whether this physics body is a trigger.
     */
    set trigger(b) {
      this._engine.wasm._wl_physx_component_set_trigger(this._id, b);
    }
    /**
     * Whether this physics body is a trigger.
     */
    get trigger() {
      return !!this._engine.wasm._wl_physx_component_get_trigger(this._id);
    }
    /**
     * Set the shape for collision detection.
     *
     * @param s New shape.
     * @since 0.8.5
     */
    set shape(s) {
      this._engine.wasm._wl_physx_component_set_shape(this._id, s);
    }
    /** The shape for collision detection. */
    get shape() {
      return this._engine.wasm._wl_physx_component_get_shape(this._id);
    }
    /**
     * Set additional data for the shape.
     *
     * Retrieved only from {@link PhysXComponent#shapeData}.
     * @since 0.8.10
     */
    set shapeData(d) {
      if (d == null || !isMeshShape(this.shape))
        return;
      this._engine.wasm._wl_physx_component_set_shape_data(this._id, d.index);
    }
    /**
     * Additional data for the shape.
     *
     * `null` for {@link Shape} values: `None`, `Sphere`, `Capsule`, `Box`, `Plane`.
     * `{index: n}` for `TriangleMesh` and `ConvexHull`.
     *
     * This data is currently only for passing onto or creating other {@link PhysXComponent}.
     * @since 0.8.10
     */
    get shapeData() {
      if (!isMeshShape(this.shape))
        return null;
      return {
        index: this._engine.wasm._wl_physx_component_get_shape_data(this._id)
      };
    }
    /**
     * Set the shape extents for collision detection.
     *
     * @param e New extents for the shape.
     * @since 0.8.5
     */
    set extents(e) {
      this.extents.set(e);
    }
    /**
     * The shape extents for collision detection.
     */
    get extents() {
      const wasm = this._engine.wasm;
      const ptr = wasm._wl_physx_component_get_extents(this._id);
      return new Float32Array(wasm.HEAPF32.buffer, ptr, 3);
    }
    /**
     * Get staticFriction.
     */
    get staticFriction() {
      return this._engine.wasm._wl_physx_component_get_staticFriction(this._id);
    }
    /**
     * Set staticFriction.
     * @param v New staticFriction.
     */
    set staticFriction(v) {
      this._engine.wasm._wl_physx_component_set_staticFriction(this._id, v);
    }
    /**
     * Get dynamicFriction.
     */
    get dynamicFriction() {
      return this._engine.wasm._wl_physx_component_get_dynamicFriction(this._id);
    }
    /**
     * Set dynamicFriction
     * @param v New dynamicDamping.
     */
    set dynamicFriction(v) {
      this._engine.wasm._wl_physx_component_set_dynamicFriction(this._id, v);
    }
    /**
     * Get bounciness.
     * @since 0.9.0
     */
    get bounciness() {
      return this._engine.wasm._wl_physx_component_get_bounciness(this._id);
    }
    /**
     * Set bounciness.
     * @param v New bounciness.
     * @since 0.9.0
     */
    set bounciness(v) {
      this._engine.wasm._wl_physx_component_set_bounciness(this._id, v);
    }
    /**
     * Get linearDamping/
     */
    get linearDamping() {
      return this._engine.wasm._wl_physx_component_get_linearDamping(this._id);
    }
    /**
     * Set linearDamping.
     * @param v New linearDamping.
     */
    set linearDamping(v) {
      this._engine.wasm._wl_physx_component_set_linearDamping(this._id, v);
    }
    /** Get angularDamping. */
    get angularDamping() {
      return this._engine.wasm._wl_physx_component_get_angularDamping(this._id);
    }
    /**
     * Set angularDamping.
     * @param v New angularDamping.
     */
    set angularDamping(v) {
      this._engine.wasm._wl_physx_component_set_angularDamping(this._id, v);
    }
    /**
     * Set linear velocity.
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New linear velocity.
     */
    set linearVelocity(v) {
      this._engine.wasm._wl_physx_component_set_linearVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Linear velocity or `[0, 0, 0]` if the component is not active. */
    get linearVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_linearVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set angular velocity
     *
     * [PhysX Manual - "Velocity"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#velocity)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New angular velocity
     */
    set angularVelocity(v) {
      this._engine.wasm._wl_physx_component_set_angularVelocity(this._id, v[0], v[1], v[2]);
    }
    /** Angular velocity or `[0, 0, 0]` if the component is not active. */
    get angularVelocity() {
      const wasm = this._engine.wasm;
      wasm._wl_physx_component_get_angularVelocity(this._id, wasm._tempMem);
      return new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, 3);
    }
    /**
     * Set the components groups mask.
     *
     * @param flags New flags that need to be set.
     */
    set groupsMask(flags) {
      this._engine.wasm._wl_physx_component_set_groupsMask(this._id, flags);
    }
    /**
     * Get the components groups mask flags.
     *
     * Each bit represents membership to group, see example.
     *
     * ```js
     * // Assign c to group 2
     * c.groupsMask = (1 << 2);
     *
     * // Assign c to group 0
     * c.groupsMask  = (1 << 0);
     *
     * // Assign c to group 0 and 2
     * c.groupsMask = (1 << 0) | (1 << 2);
     *
     * (c.groupsMask & (1 << 2)) != 0; // true
     * (c.groupsMask & (1 << 7)) != 0; // false
     * ```
     */
    get groupsMask() {
      return this._engine.wasm._wl_physx_component_get_groupsMask(this._id);
    }
    /**
     * Set the components blocks mask.
     *
     * @param flags New flags that need to be set.
     */
    set blocksMask(flags) {
      this._engine.wasm._wl_physx_component_set_blocksMask(this._id, flags);
    }
    /**
     * Get the components blocks mask flags.
     *
     * Each bit represents membership to the block, see example.
     *
     * ```js
     * // Block overlap with any objects in group 2
     * c.blocksMask = (1 << 2);
     *
     * // Block overlap with any objects in group 0
     * c.blocksMask  = (1 << 0)
     *
     * // Block overlap with any objects in group 0 and 2
     * c.blocksMask = (1 << 0) | (1 << 2);
     *
     * (c.blocksMask & (1 << 2)) != 0; // true
     * (c.blocksMask & (1 << 7)) != 0; // false
     * ```
     */
    get blocksMask() {
      return this._engine.wasm._wl_physx_component_get_blocksMask(this._id);
    }
    /**
     * Set axes to lock for linear velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * Combine flags with Bitwise OR.
     * ```js
     * body.linearLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.linearLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set linearLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_linearLockAxis(this._id, lock);
    }
    /**
     * Get the linear lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.linearLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for linear movement.
     */
    get linearLockAxis() {
      return this._engine.wasm._wl_physx_component_get_linearLockAxis(this._id);
    }
    /**
     * Set axes to lock for angular velocity.
     *
     * @param lock The Axis that needs to be set.
     *
     * ```js
     * body.angularLockAxis = LockAxis.X | LockAxis.Y; // x and y set
     * body.angularLockAxis = LockAxis.X; // y unset
     * ```
     *
     * @note This has no effect if the component is static.
     */
    set angularLockAxis(lock) {
      this._engine.wasm._wl_physx_component_set_angularLockAxis(this._id, lock);
    }
    /**
     * Get the angular lock axes flags.
     *
     * To get the state of a specific flag, Bitwise AND with the LockAxis needed.
     *
     * ```js
     * if(body.angularLockAxis & LockAxis.Y) {
     *     console.log("The Y flag was set!");
     * }
     * ```
     *
     * @return axes that are currently locked for angular movement.
     */
    get angularLockAxis() {
      return this._engine.wasm._wl_physx_component_get_angularLockAxis(this._id);
    }
    /**
     * Set mass.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * @param m New mass.
     */
    set mass(m) {
      this._engine.wasm._wl_physx_component_set_mass(this._id, m);
    }
    /** Mass */
    get mass() {
      return this._engine.wasm._wl_physx_component_get_mass(this._id);
    }
    /**
     * Set mass space interia tensor.
     *
     * [PhysX Manual - "Mass Properties"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#mass-properties)
     *
     * Has no effect, if the component is not active.
     *
     * @param v New mass space interatia tensor.
     */
    set massSpaceInteriaTensor(v) {
      this._engine.wasm._wl_physx_component_set_massSpaceInertiaTensor(this._id, v[0], v[1], v[2]);
    }
    /**
     * Apply a force.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     * @param localForce Whether the force vector is in local space, default `false`.
     * @param p Position to apply force at, default is center of mass.
     * @param local Whether position is in local space, default `false`.
     */
    addForce(f, m = ForceMode.Force, localForce = false, p, local = false) {
      const wasm = this._engine.wasm;
      if (!p) {
        wasm._wl_physx_component_addForce(this._id, f[0], f[1], f[2], m, localForce);
        return;
      }
      wasm._wl_physx_component_addForceAt(this._id, f[0], f[1], f[2], m, localForce, p[0], p[1], p[2], local);
    }
    /**
     * Apply torque.
     *
     * [PhysX Manual - "Applying Forces and Torques"](https://gameworksdocs.nvidia.com/PhysX/4.1/documentation/physxguide/Manual/RigidBodyDynamics.html#applying-forces-and-torques)
     *
     * Has no effect, if the component is not active.
     *
     * @param f Force vector.
     * @param m Force mode, see {@link ForceMode}, default `Force`.
     */
    addTorque(f, m = ForceMode.Force) {
      this._engine.wasm._wl_physx_component_addTorque(this._id, f[0], f[1], f[2], m);
    }
    /**
     * Add on collision callback.
     *
     * @param callback Function to call when this rigid body (un)collides with any other.
     *
     * ```js
     *  let rigidBody = this.object.getComponent('physx');
     *  rigidBody.onCollision(function(type, other) {
     *      // Ignore uncollides
     *      if(type == CollisionEventType.TouchLost) return;
     *
     *      // Take damage on collision with enemies
     *      if(other.object.name.startsWith("enemy-")) {
     *          this.applyDamage(10);
     *      }
     *  }.bind(this));
     * ```
     *
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollision(callback) {
      return this.onCollisionWith(this, callback);
    }
    /**
     * Add filtered on collision callback.
     *
     * @param otherComp Component for which callbacks will
     *        be triggered. If you pass this component, the method is equivalent to.
     *        {@link PhysXComponent#onCollision}.
     * @param callback Function to call when this rigid body
     *        (un)collides with `otherComp`.
     * @returns Id of the new callback for use with {@link PhysXComponent#removeCollisionCallback}.
     */
    onCollisionWith(otherComp, callback) {
      const physics = this._engine.physics;
      physics._callbacks[this._id] = physics._callbacks[this._id] || [];
      physics._callbacks[this._id].push(callback);
      return this._engine.wasm._wl_physx_component_addCallback(this._id, otherComp._id || this._id);
    }
    /**
     * Remove a collision callback added with {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     *
     * @param callbackId Callback id as returned by {@link PhysXComponent#onCollision} or {@link PhysXComponent#onCollisionWith}.
     * @throws When the callback does not belong to the component.
     * @throws When the callback does not exist.
     */
    removeCollisionCallback(callbackId) {
      const physics = this._engine.physics;
      const r = this._engine.wasm._wl_physx_component_removeCallback(this._id, callbackId);
      if (r)
        physics._callbacks[this._id].splice(-r);
    }
  };
  /** @override */
  __publicField(PhysXComponent, "TypeName", "physx");
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "static", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "translationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "rotationOffset", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "kinematic", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "gravity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "simulate", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowSimulation", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "allowQuery", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "trigger", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shape", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "shapeData", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "extents", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "staticFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "dynamicFriction", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "bounciness", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularDamping", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularVelocity", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "groupsMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "blocksMask", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "linearLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "angularLockAxis", null);
  __decorate([
    nativeProperty()
  ], PhysXComponent.prototype, "mass", null);
  var MeshIndexType;
  (function(MeshIndexType2) {
    MeshIndexType2[MeshIndexType2["UnsignedByte"] = 1] = "UnsignedByte";
    MeshIndexType2[MeshIndexType2["UnsignedShort"] = 2] = "UnsignedShort";
    MeshIndexType2[MeshIndexType2["UnsignedInt"] = 4] = "UnsignedInt";
  })(MeshIndexType || (MeshIndexType = {}));
  var MeshSkinningType;
  (function(MeshSkinningType2) {
    MeshSkinningType2[MeshSkinningType2["None"] = 0] = "None";
    MeshSkinningType2[MeshSkinningType2["FourJoints"] = 1] = "FourJoints";
    MeshSkinningType2[MeshSkinningType2["EightJoints"] = 2] = "EightJoints";
  })(MeshSkinningType || (MeshSkinningType = {}));
  var Mesh = class {
    /**
     * Index of the mesh in the manager.
     *
     * @hidden
     */
    _index = -1;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new instance.
     *
     * @param params Either a mesh index to wrap or set of parameters to create a new mesh.
     *    For more information, please have a look at the {@link MeshParameters} interface.
     */
    constructor(engine, params) {
      this._engine = engine ?? WL;
      this._index = -1;
      if (isNumber(params)) {
        this._index = params;
        return;
      }
      if (!params.vertexCount)
        throw new Error("Missing parameter 'vertexCount'");
      const wasm = this._engine.wasm;
      let indexData = 0;
      let indexType = 0;
      let indexDataSize = 0;
      if (params.indexData) {
        indexType = params.indexType || MeshIndexType.UnsignedShort;
        indexDataSize = params.indexData.length * indexType;
        indexData = wasm._malloc(indexDataSize);
        switch (indexType) {
          case MeshIndexType.UnsignedByte:
            wasm.HEAPU8.set(params.indexData, indexData);
            break;
          case MeshIndexType.UnsignedShort:
            wasm.HEAPU16.set(params.indexData, indexData >> 1);
            break;
          case MeshIndexType.UnsignedInt:
            wasm.HEAPU32.set(params.indexData, indexData >> 2);
            break;
        }
      }
      const { skinningType = MeshSkinningType.None } = params;
      this._index = wasm._wl_mesh_create(indexData, indexDataSize, indexType, params.vertexCount, skinningType);
    }
    /** Number of vertices in this mesh. */
    get vertexCount() {
      return this._engine.wasm._wl_mesh_get_vertexCount(this._index);
    }
    /** Index data (read-only) or `null` if the mesh is not indexed. */
    get indexData() {
      const wasm = this._engine.wasm;
      const tempMem = wasm._tempMem;
      const ptr = wasm._wl_mesh_get_indexData(this._index, tempMem, tempMem + 4);
      if (ptr === null)
        return null;
      const indexCount = wasm.HEAPU32[tempMem / 4];
      const indexSize = wasm.HEAPU32[tempMem / 4 + 1];
      switch (indexSize) {
        case MeshIndexType.UnsignedByte:
          return new Uint8Array(wasm.HEAPU8.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedShort:
          return new Uint16Array(wasm.HEAPU16.buffer, ptr, indexCount);
        case MeshIndexType.UnsignedInt:
          return new Uint32Array(wasm.HEAPU32.buffer, ptr, indexCount);
      }
      return null;
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Apply changes to {@link attribute | vertex attributes}.
     *
     * Uploads the updated vertex attributes to the GPU and updates the bounding
     * sphere to match the new vertex positions.
     *
     * Since this is an expensive operation, call it only once you have performed
     * all modifications on a mesh and avoid calling if you did not perform any
     * modifications at all.
     */
    update() {
      this._engine.wasm._wl_mesh_update(this._index);
    }
    getBoundingSphere(out = new Float32Array(4)) {
      const tempMemFloat = this._engine.wasm._tempMemFloat;
      this._engine.wasm._wl_mesh_get_boundingSphere(this._index, this._engine.wasm._tempMem);
      out[0] = tempMemFloat[0];
      out[1] = tempMemFloat[1];
      out[2] = tempMemFloat[2];
      out[3] = tempMemFloat[3];
      return out;
    }
    attribute(attr) {
      if (typeof attr != "number")
        throw new TypeError("Expected number, but got " + typeof attr);
      const tempMemUint32 = this._engine.wasm._tempMemUint32;
      this._engine.wasm._wl_mesh_get_attribute(this._index, attr, this._engine.wasm._tempMem);
      if (tempMemUint32[0] == 255)
        return null;
      const arraySize = tempMemUint32[5];
      return new MeshAttributeAccessor(this._engine, {
        attribute: tempMemUint32[0],
        offset: tempMemUint32[1],
        stride: tempMemUint32[2],
        formatSize: tempMemUint32[3],
        componentCount: tempMemUint32[4],
        /* The WASM API returns `0` for a scalar value. We clamp it to 1 as we strictly use it as a multiplier for get/set operations */
        arraySize: arraySize ? arraySize : 1,
        length: this.vertexCount,
        bufferType: attr !== MeshAttribute.JointId ? Float32Array : Uint16Array
      });
    }
    /**
     * Destroy and free the meshes memory.
     *
     * It is best practice to set the mesh variable to `null` after calling
     * destroy to prevent accidental use:
     *
     * ```js
     *   mesh.destroy();
     *   mesh = null;
     * ```
     *
     * Accessing the mesh after destruction behaves like accessing an empty
     * mesh.
     *
     * @since 0.9.0
     */
    destroy() {
      this._engine.wasm._wl_mesh_destroy(this._index);
    }
    /**
     * Checks equality by comparing whether the wrapped native mesh ids are
     * equal.
     *
     * @param otherMesh Mesh to check equality with.
     * @returns Whether this mesh equals the given mesh.
     *
     * @since 1.0.0
     */
    equals(otherMesh) {
      if (!otherMesh)
        return false;
      return this._index === otherMesh._index;
    }
  };
  var MeshAttributeAccessor = class {
    /** Max number of elements. */
    length = 0;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Attribute index. @hidden */
    _attribute = -1;
    /** Attribute offset. @hidden */
    _offset = 0;
    /** Attribute stride. @hidden */
    _stride = 0;
    /** Format size native enum. @hidden */
    _formatSize = 0;
    /** Number of components per vertex. @hidden */
    _componentCount = 0;
    /** Number of values per vertex. @hidden */
    _arraySize = 1;
    /**
     * Class to instantiate an ArrayBuffer to get/set values.
     */
    _bufferType;
    /**
     * Function to allocate temporary WASM memory. It is cached in the accessor to avoid
     * conditionals during get/set.
     */
    _tempBufferGetter;
    /**
     * Create a new instance.
     *
     * @note Please use {@link Mesh.attribute} to create a new instance.
     *
     * @param options Contains information about how to read the data.
     * @note Do not use this constructor. Instead, please use the {@link Mesh.attribute} method.
     *
     * @hidden
     */
    constructor(engine, options) {
      this._engine = engine;
      const wasm = this._engine.wasm;
      this._attribute = options.attribute;
      this._offset = options.offset;
      this._stride = options.stride;
      this._formatSize = options.formatSize;
      this._componentCount = options.componentCount;
      this._arraySize = options.arraySize;
      this._bufferType = options.bufferType;
      this.length = options.length;
      this._tempBufferGetter = this._bufferType === Float32Array ? wasm.getTempBufferF32.bind(wasm) : wasm.getTempBufferU16.bind(wasm);
    }
    /**
     * Create a new TypedArray to hold this attribute's values.
     *
     * This method is useful to create a view to hold the data to
     * pass to {@link get} and {@link set}
     *
     * Example:
     *
     * ```js
     * const vertexCount = 4;
     * const positionAttribute = mesh.attribute(MeshAttribute.Position);
     *
     * // A position has 3 floats per vertex. Thus, positions has length 3 * 4.
     * const positions = positionAttribute.createArray(vertexCount);
     * ```
     *
     * @param count The number of **vertices** expected.
     * @returns A TypedArray with the appropriate format to access the data
     */
    createArray(count = 1) {
      count = count > this.length ? this.length : count;
      return new this._bufferType(count * this._componentCount * this._arraySize);
    }
    get(index, out = this.createArray()) {
      if (out.length % this._componentCount !== 0) {
        throw new Error(`out.length, ${out.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      }
      const dest = this._tempBufferGetter(out.length);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const destSize = elementSize * out.length;
      const srcFormatSize = this._formatSize * this._arraySize;
      const destFormatSize = this._componentCount * elementSize * this._arraySize;
      this._engine.wasm._wl_mesh_get_attribute_values(this._attribute, srcFormatSize, this._offset + index * this._stride, this._stride, destFormatSize, dest.byteOffset, destSize);
      for (let i = 0; i < out.length; ++i)
        out[i] = dest[i];
      return out;
    }
    /**
     * Set attribute element.
     *
     * @param i Index
     * @param v Value to set the element to
     *
     * `v.length` needs to be a multiple of the attributes component count, see
     * {@link MeshAttribute}. If `v.length` is more than one multiple, it will be
     * filled with the next n attribute elements, which can reduce overhead
     * of this call.
     *
     * @returns Reference to self (for method chaining)
     */
    set(i, v) {
      if (v.length % this._componentCount !== 0)
        throw new Error(`out.length, ${v.length} is not a multiple of the attribute vector components, ${this._componentCount}`);
      const elementSize = this._bufferType.BYTES_PER_ELEMENT;
      const srcSize = elementSize * v.length;
      const srcFormatSize = this._componentCount * elementSize * this._arraySize;
      const destFormatSize = this._formatSize * this._arraySize;
      const wasm = this._engine.wasm;
      if (v.buffer != wasm.HEAPU8.buffer) {
        const dest = this._tempBufferGetter(v.length);
        dest.set(v);
        v = dest;
      }
      wasm._wl_mesh_set_attribute_values(this._attribute, srcFormatSize, v.byteOffset, srcSize, destFormatSize, this._offset + i * this._stride, this._stride);
      return this;
    }
  };
  var Material = class {
    /**
     * Index of this material in the manager.
     *
     * @hidden
     */
    _index;
    /**
     * Material definition index in the scene.
     *
     * @hidden
     */
    _definition;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * Create a new Material.
     *
     * @note Creating material is expensive. Please use {@link Material#clone} to clone a material.
     * @note Do not use this constructor directly with an index, this is reserved for internal purposes.
     */
    constructor(engine, params) {
      this._engine = engine;
      if (typeof params !== "number") {
        if (!params?.pipeline)
          throw new Error("Missing parameter 'pipeline'");
        const wasm = this._engine.wasm;
        const pipeline = params.pipeline;
        this._index = wasm._wl_material_create(wasm.tempUTF8(pipeline));
        if (this._index < 0)
          throw new Error(`No such pipeline '${pipeline}'`);
      } else {
        this._index = params;
      }
      this._definition = this._engine.wasm._wl_material_get_definition(this._index);
      if (!this._engine.wasm._materialDefinitions[this._definition])
        throw new Error(`Material Definition ${this._definition} not found for material with index ${this._index}`);
      return new Proxy(this, {
        get(target, prop) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param)
            return target[prop];
          if (wasm._wl_material_get_param_value(target._index, param.index, wasm._tempMem)) {
            const type = param.type;
            switch (type.type) {
              case MaterialParamType.UnsignedInt:
                return type.componentCount == 1 ? wasm._tempMemUint32[0] : new Uint32Array(wasm.HEAPU32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Int:
                return type.componentCount == 1 ? wasm._tempMemInt[0] : new Int32Array(wasm.HEAP32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Float:
                return type.componentCount == 1 ? wasm._tempMemFloat[0] : new Float32Array(wasm.HEAPF32.buffer, wasm._tempMem, type.componentCount);
              case MaterialParamType.Sampler:
                return engine.textures.wrap(wasm._tempMemInt[0]);
              default:
                throw new Error(`Invalid type ${type.type} on parameter ${param.index} for material ${target._index}`);
            }
          }
        },
        set(target, prop, value) {
          const wasm = engine.wasm;
          const definition = wasm._materialDefinitions[target._definition];
          const param = definition.get(prop);
          if (!param) {
            target[prop] = value;
            return true;
          }
          const type = param.type;
          switch (type.type) {
            case MaterialParamType.UnsignedInt:
            case MaterialParamType.Int:
            case MaterialParamType.Sampler:
              const v = value.id ?? value;
              wasm._wl_material_set_param_value_uint(target._index, param.index, v);
              break;
            case MaterialParamType.Float:
              let count = 1;
              if (typeof value === "number") {
                wasm._tempMemFloat[0] = value;
              } else {
                count = value.length;
                for (let i = 0; i < count; ++i)
                  wasm._tempMemFloat[i] = value[i];
              }
              wasm._wl_material_set_param_value_float(target._index, param.index, wasm._tempMem, count);
              break;
            case MaterialParamType.Font:
              throw new Error("Setting font properties is currently unsupported.");
          }
          return true;
        }
      });
    }
    /** @deprecated Use {@link #pipeline} instead. */
    get shader() {
      return this.pipeline;
    }
    /** Name of the pipeline used by this material. */
    get pipeline() {
      const wasm = this._engine.wasm;
      return wasm.UTF8ToString(wasm._wl_material_get_pipeline(this._index));
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Create a copy of the underlying native material.
     *
     * @returns Material clone.
     */
    clone() {
      const id = this._engine.wasm._wl_material_clone(this._index);
      return id > 0 ? new Material(this._engine, id) : null;
    }
    /**
     * Checks equality by comparing whether the wrapped native material ids are
     * equal.
     *
     * @param otherMaterial Material to check equality with.
     * @returns Whether this material equals the given material.
     *
     * @since 1.0.0
     */
    equals(otherMaterial) {
      if (!otherMaterial)
        return false;
      return this._index === otherMaterial._index;
    }
    /**
     * Wrap a native material index.
     *
     * @param engine Engine instance.
     * @param index The index.
     * @returns Material instance or `null` if index <= 0.
     *
     * @deprecated Please use `new Material()` instead.
     */
    static wrap(engine, index) {
      return index > 0 ? new Material(engine, index) : null;
    }
  };
  var temp2d = null;
  var Texture = class {
    /** Wonderland Engine instance. @hidden */
    _engine;
    /** Index in the manager. @hidden */
    _id = 0;
    /** HTML image index. @hidden */
    _imageIndex = null;
    /**
     * @param engine The engine instance
     * @param param HTML media element to create texture from or texture id to wrap.
     */
    constructor(engine, param) {
      this._engine = engine ?? WL;
      const wasm = engine.wasm;
      if (param instanceof HTMLImageElement || param instanceof HTMLVideoElement || param instanceof HTMLCanvasElement) {
        const index = wasm._images.length;
        wasm._images.push(param);
        this._imageIndex = index;
        this._id = this._engine.wasm._wl_renderer_addImage(index);
      } else {
        this._id = param;
      }
      this._engine.textures._set(this);
    }
    /** Whether this texture is valid. */
    get valid() {
      return this._id >= 0;
    }
    /** Index in this manager. */
    get id() {
      return this._id;
    }
    /** Update the texture to match the HTML element (e.g. reflect the current frame of a video). */
    update() {
      if (!this.valid || this._imageIndex === null)
        return;
      this._engine.wasm._wl_renderer_updateImage(this._id, this._imageIndex);
    }
    /** Width of the texture. */
    get width() {
      return this._engine.wasm._wl_texture_width(this._id);
    }
    /** Height of the texture. */
    get height() {
      return this._engine.wasm._wl_texture_height(this._id);
    }
    /** Hosting engine instance. */
    get engine() {
      return this._engine;
    }
    /**
     * Update a subrange on the texture to match the HTML element (e.g. reflect the current frame of a video).
     *
     * Usage:
     *
     * ```js
     * // Copies rectangle of pixel starting from (10, 20)
     * texture.updateSubImage(10, 20, 600, 400);
     * ```
     *
     * @param x x offset
     * @param y y offset
     * @param w width
     * @param h height
     */
    updateSubImage(x, y, w, h) {
      if (!this.valid || this._imageIndex === null)
        return;
      if (!temp2d) {
        const canvas2 = document.createElement("canvas");
        const ctx = canvas2.getContext("2d");
        if (!ctx) {
          throw new Error("Texture.updateSubImage(): Failed to obtain CanvasRenderingContext2D.");
        }
        temp2d = {
          canvas: canvas2,
          ctx
        };
      }
      const wasm = this._engine.wasm;
      const img = wasm._images[this._imageIndex];
      if (!img)
        return;
      temp2d.canvas.width = w;
      temp2d.canvas.height = h;
      temp2d.ctx.drawImage(img, x, y, w, h, 0, 0, w, h);
      const yOffset = (img.videoHeight ?? img.height) - y - h;
      wasm._images[this._imageIndex] = temp2d.canvas;
      wasm._wl_renderer_updateImage(this._id, this._imageIndex, x, yOffset);
      wasm._images[this._imageIndex] = img;
    }
    /**
     * Destroy and free the texture's texture altas space and memory.
     *
     * It is best practice to set the texture variable to `null` after calling
     * destroy to prevent accidental use of the invalid texture:
     *
     * ```js
     *   texture.destroy();
     *   texture = null;
     * ```
     *
     * @since 0.9.0
     */
    destroy() {
      this.engine._destroyTexture(this);
      this._id = -1;
      this._imageIndex = null;
    }
    /**
     * Checks equality by comparing whether the wrapped native texture ids are
     * equal.
     *
     * @param otherTexture Texture to check equality with.
     * @returns Whether this texture equals the given texture.
     *
     * @since 1.0.0
     */
    equals(otherTexture) {
      if (!otherTexture)
        return false;
      return this._id === otherTexture._id;
    }
  };
  var Animation = class {
    /** Index of the mesh in the manager. @hidden */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    /**
     * @param index Index in the manager
     */
    constructor(engine = WL, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Duration of this animation. */
    get duration() {
      return this._engine.wasm._wl_animation_get_duration(this._index);
    }
    /** Number of tracks in this animation. */
    get trackCount() {
      return this._engine.wasm._wl_animation_get_trackCount(this._index);
    }
    /**
     * Clone this animation retargeted to a new set of objects.
     *
     * The clone shares most of the data with the original and is therefore
     * light-weight.
     *
     * **Experimental:** This API might change in upcoming versions.
     *
     * If retargeting to {@link Skin}, the join names will be used to determine a mapping
     * from the previous skin to the new skin. The source skin will be retrieved from
     * the first track in the animation that targets a joint.
     *
     * @param newTargets New targets per track. Expected to have
     *      {@link Animation#trackCount} elements or to be a {@link Skin}.
     * @returns The retargeted clone of this animation.
     */
    retarget(newTargets) {
      const wasm = this._engine.wasm;
      if (newTargets instanceof Skin) {
        const animId2 = wasm._wl_animation_retargetToSkin(this._index, newTargets._index);
        return new Animation(this._engine, animId2);
      }
      if (newTargets.length != this.trackCount) {
        throw Error("Expected " + this.trackCount.toString() + " targets, but got " + newTargets.length.toString());
      }
      const ptr = wasm._malloc(2 * newTargets.length);
      for (let i = 0; i < newTargets.length; ++i) {
        wasm.HEAPU16[ptr >> 1 + i] = newTargets[i].objectId;
      }
      const animId = wasm._wl_animation_retarget(this._index, ptr);
      wasm._free(ptr);
      return new Animation(this._engine, animId);
    }
    /**
     * Checks equality by comparing whether the wrapped native animation ids
     * are equal.
     *
     * @param otherAnimation Animation to check equality with.
     * @returns Whether this animation equals the given animation.
     *
     * @since 1.0.0
     */
    equals(otherAnimation) {
      if (!otherAnimation)
        return false;
      return this._index === otherAnimation._index;
    }
  };
  var Skin = class {
    /**
     * Index of the skin in the manager.
     * @hidden
     */
    _index;
    /** Wonderland Engine instance. @hidden */
    _engine;
    constructor(engine, index) {
      this._engine = engine;
      this._index = index;
    }
    /** Amount of joints in this skin. */
    get jointCount() {
      return this._engine.wasm._wl_skin_get_joint_count(this._index);
    }
    /** Joints object ids for this skin */
    get jointIds() {
      const wasm = this._engine.wasm;
      return new Uint16Array(wasm.HEAPU16.buffer, wasm._wl_skin_joint_ids(this._index), this.jointCount);
    }
    /**
     * Dual quaternions in a flat array of size 8 times {@link jointCount}.
     *
     * Inverse bind transforms of the skin.
     */
    get inverseBindTransforms() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_transforms(this._index), 8 * this.jointCount);
    }
    /**
     * Vectors in a flat array of size 3 times {@link jointCount}.
     *
     * Inverse bind scalings of the skin.
     */
    get inverseBindScalings() {
      const wasm = this._engine.wasm;
      return new Float32Array(wasm.HEAPF32.buffer, wasm._wl_skin_inverse_bind_scalings(this._index), 3 * this.jointCount);
    }
    /**
     * Checks equality by comparing whether the wrapped native skin ids are
     * equal.
     *
     * @param otherSkin Skin to check equality with.
     * @returns Whether this skin equals the given skin.
     *
     * @since 1.0.0
     */
    equals(otherSkin) {
      if (!otherSkin)
        return false;
      return this._index === otherSkin._index;
    }
  };

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/api/dist/wasm.js
  var _componentDefaults = /* @__PURE__ */ new Map([
    [Type.Bool, false],
    [Type.Int, 0],
    [Type.Float, 0],
    [Type.String, ""],
    [Type.Enum, void 0],
    [Type.Object, null],
    [Type.Mesh, null],
    [Type.Texture, null],
    [Type.Material, null],
    [Type.Animation, null],
    [Type.Skin, null],
    [Type.Color, [0, 0, 0, 1]]
  ]);

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/8thwall-camera.js
  var ARCamera8thwall = class extends Component {
    /* 8thwall camera pipeline module name */
    name = "wonderland-engine-8thwall-camera";
    started = false;
    view = null;
    // cache camera
    position = [0, 0, 0];
    // cache 8thwall cam position
    rotation = [0, 0, 0, -1];
    // cache 8thwall cam rotation
    glTextureRenderer = null;
    // cache XR8.GlTextureRenderer.pipelineModule
    promptForDeviceMotion() {
      return new Promise(async (resolve, reject) => {
        window.dispatchEvent(new Event("8thwall-request-user-interaction"));
        window.addEventListener("8thwall-safe-to-request-permissions", async () => {
          try {
            const motionEvent = await DeviceMotionEvent.requestPermission();
            resolve(motionEvent);
          } catch (exception) {
            reject(exception);
          }
        });
      });
    }
    async getPermissions() {
      if (DeviceMotionEvent && DeviceMotionEvent.requestPermission) {
        try {
          const result = await DeviceMotionEvent.requestPermission();
          if (result !== "granted") {
            throw new Error("MotionEvent");
          }
        } catch (exception) {
          if (exception.name === "NotAllowedError") {
            const motionEvent = await this.promptForDeviceMotion();
            if (motionEvent !== "granted") {
              throw new Error("MotionEvent");
            }
          } else {
            throw new Error("MotionEvent");
          }
        }
      }
      try {
        const stream = await navigator.mediaDevices.getUserMedia({
          video: true,
          audio: true
        });
        stream.getTracks().forEach((track) => {
          track.stop();
        });
      } catch (exception) {
        throw new Error("Camera");
      }
    }
    init() {
      this.view = this.object.getComponent("view");
      this.onUpdate = this.onUpdate.bind(this);
      this.onAttach = this.onAttach.bind(this);
      this.onException = this.onException.bind(this);
      this.onCameraStatusChange = this.onCameraStatusChange.bind(this);
    }
    async start() {
      this.view = this.object.getComponent("view");
      if (!this.useCustomUIOverlays) {
        OverlaysHandler.init();
      }
      try {
        await this.getPermissions();
      } catch (error) {
        window.dispatchEvent(new CustomEvent("8thwall-permission-fail", { detail: error }));
        return;
      }
      await this.waitForXR8();
      XR8.XrController.configure({
        disableWorldTracking: false
      });
      this.glTextureRenderer = XR8.GlTextureRenderer.pipelineModule();
      XR8.addCameraPipelineModules([
        this.glTextureRenderer,
        XR8.XrController.pipelineModule(),
        this
      ]);
      const config = {
        cameraConfig: {
          direction: XR8.XrConfig.camera().BACK
        },
        canvas: Module.canvas,
        allowedDevices: XR8.XrConfig.device().ANY,
        ownRunLoop: false
      };
      XR8.run(config);
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onAttach(params) {
      this.started = true;
      this.engine.scene.colorClearEnabled = false;
      const gl = Module.ctx;
      const rot = this.object.rotationWorld;
      const pos = this.object.getTranslationWorld([]);
      this.position = Array.from(pos);
      this.rotation = Array.from(rot);
      XR8.XrController.updateCameraProjectionMatrix({
        origin: { x: pos[0], y: pos[1], z: pos[2] },
        facing: { x: rot[0], y: rot[1], z: rot[2], w: rot[3] },
        cam: {
          pixelRectWidth: Module.canvas.width,
          pixelRectHeight: Module.canvas.height,
          nearClipPlane: this.view.near,
          farClipPlane: this.view.far
        }
      });
      this.engine.scene.onPreRender.push(() => {
        gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);
        XR8.runPreRender(Date.now());
        XR8.runRender();
      });
      this.engine.scene.onPostRender.push(() => {
        XR8.runPostRender(Date.now());
      });
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onCameraStatusChange(e) {
      if (e && e.status === "failed") {
        this.onException(new Error(`Camera failed with status: ${e.status}`));
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onUpdate(e) {
      if (!e.processCpuResult.reality)
        return;
      const { rotation, position, intrinsics } = e.processCpuResult.reality;
      this.rotation[0] = rotation.x;
      this.rotation[1] = rotation.y;
      this.rotation[2] = rotation.z;
      this.rotation[3] = rotation.w;
      this.position[0] = position.x;
      this.position[1] = position.y;
      this.position[2] = position.z;
      if (intrinsics) {
        const projectionMatrix = this.view.projectionMatrix;
        for (let i = 0; i < 16; i++) {
          if (Number.isFinite(intrinsics[i])) {
            projectionMatrix[i] = intrinsics[i];
          }
        }
      }
      if (position && rotation) {
        this.object.rotationWorld = this.rotation;
        this.object.setTranslationWorld(this.position);
      }
    }
    /**
     * @private
     * 8thwall pipeline function
     */
    onException(error) {
      console.error("8thwall exception:", error);
      window.dispatchEvent(new CustomEvent("8thwall-error", { detail: error }));
    }
    waitForXR8() {
      return new Promise((resolve, _rej) => {
        if (window.XR8) {
          resolve();
        } else {
          window.addEventListener("xrloaded", () => resolve());
        }
      });
    }
  };
  __publicField(ARCamera8thwall, "TypeName", "8thwall-camera");
  __publicField(ARCamera8thwall, "Properties", {
    /** Override the WL html overlays for handling camera/motion permissions and error handling */
    useCustomUIOverlays: { type: Type.Bool, default: false }
  });
  var OverlaysHandler = {
    init: function() {
      this.handleRequestUserInteraction = this.handleRequestUserInteraction.bind(this);
      this.handlePermissionFail = this.handlePermissionFail.bind(this);
      this.handleError = this.handleError.bind(this);
      window.addEventListener("8thwall-request-user-interaction", this.handleRequestUserInteraction);
      window.addEventListener("8thwall-permission-fail", this.handlePermissionFail);
      window.addEventListener("8thwall-error", this.handleError);
    },
    handleRequestUserInteraction: function() {
      const overlay = this.showOverlay(requestPermissionOverlay);
      window.addEventListener("8thwall-safe-to-request-permissions", () => {
        overlay.remove();
      });
    },
    handlePermissionFail: function(_reason) {
      this.showOverlay(failedPermissionOverlay);
    },
    handleError: function(_error) {
      this.showOverlay(runtimeErrorOverlay);
    },
    showOverlay: function(htmlContent) {
      const overlay = document.createElement("div");
      overlay.innerHTML = htmlContent;
      document.body.appendChild(overlay);
      return overlay;
    }
  };
  var requestPermissionOverlay = `
<style>
  #request-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .request-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .request-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="request-permission-overlay">
  <div class="request-permission-overlay_title">This app requires to use your camera and motion sensors</div>

  <button class="request-permission-overlay_button" onclick="window.dispatchEvent(new Event('8thwall-safe-to-request-permissions'))">OK</button>
</div>`;
  var failedPermissionOverlay = `
<style>
  #failed-permission-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .failed-permission-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .failed-permission-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="failed-permission-overlay">
  <div class="failed-permission-overlay_title">Failed to grant permissions. Reset the the permissions and refresh the page.</div>

  <button class="failed-permission-overlay_button" onclick="window.location.reload()">Refresh the page</button>
</div>`;
  var runtimeErrorOverlay = `
<style>
  #wall-error-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 999;
    color: #fff;
    background-color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: sans-serif;
  }

  .wall-error-overlay_title {
    margin: 30px;
    font-size: 32px;
  }

  .wall-error-overlay_button {
    background-color: #e80086;
    font-size: 22px;
    padding: 10px 30px;
    color: #fff;
    border-radius: 15px;
    border: none;
  }
</style>

<div id="wall-error-overlay">
  <div class="wall-error-overlay_title">Error has occurred. Please reload the page</div>

  <button class="wall-error-overlay_button" onclick="window.location.reload()">Reload</button>
</div>`;

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/utils/webxr.js
  var tempVec = new Float32Array(3);
  var tempQuat = new Float32Array(4);
  function setXRRigidTransformLocal(o, transform) {
    const r = transform.orientation;
    tempQuat[0] = r.x;
    tempQuat[1] = r.y;
    tempQuat[2] = r.z;
    tempQuat[3] = r.w;
    const t = transform.position;
    tempVec[0] = t.x;
    tempVec[1] = t.y;
    tempVec[2] = t.z;
    o.resetTranslationRotation();
    o.transformLocal.set(tempQuat);
    o.translate(tempVec);
  }

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/anchor.js
  var __decorate2 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec3 = new Float32Array(3);
  var tempQuat2 = new Float32Array(4);
  var _anchors, _addAnchor, addAnchor_fn, _removeAnchor, removeAnchor_fn, _getFrame, getFrame_fn, _createAnchor, createAnchor_fn, _onAddAnchor, onAddAnchor_fn, _onRestoreAnchor, onRestoreAnchor_fn, _onCreate, onCreate_fn;
  var _Anchor = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _getFrame);
      __privateAdd(this, _createAnchor);
      __privateAdd(this, _onAddAnchor);
      __privateAdd(this, _onRestoreAnchor);
      __privateAdd(this, _onCreate);
      __publicField(this, "persist", false);
      /** Unique identifier to load a persistent anchor from, or empty/null if unknown */
      __publicField(this, "uuid", null);
      /** The xrAnchor, if created */
      __publicField(this, "xrAnchor", null);
      /** Emits events when the anchor is created either by being restored or newly created */
      __publicField(this, "onCreate", new Emitter());
      /** Whether the anchor is currently being tracked */
      __publicField(this, "visible", false);
      /** Emits an event when this anchor starts tracking */
      __publicField(this, "onTrackingFound", new Emitter());
      /** Emits an event when this anchor stops tracking */
      __publicField(this, "onTrackingLost", new Emitter());
      /** XRFrame to use for creating the anchor */
      __publicField(this, "xrFrame", null);
      /** XRHitTestResult to use for creating the anchor */
      __publicField(this, "xrHitResult", null);
    }
    /** Retrieve all anchors of the current scene */
    static getAllAnchors() {
      return __privateGet(_Anchor, _anchors);
    }
    /**
     * Create a new anchor
     *
     * @param o Object to attach the component to
     * @param params Parameters for the anchor component
     * @param frame XRFrame to use for anchor cration, if null, will use the current frame if available
     * @param hitResult Optional hit-test result to create the anchor with
     * @returns Promise for the newly created anchor component
     */
    static create(o, params, frame, hitResult) {
      const a = o.addComponent(_Anchor, { ...params, active: false });
      if (a === null)
        return null;
      a.xrHitResult = hitResult ?? null;
      a.xrFrame = frame ?? null;
      a.onCreate.once(() => (a.xrFrame = null, a.xrHitResult = null));
      a.active = true;
      return a.onCreate.promise();
    }
    start() {
      if (this.uuid && this.engine.xr) {
        this.persist = true;
        if (this.engine.xr.session.restorePersistentAnchor === void 0) {
          console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
        }
        this.engine.xr.session.restorePersistentAnchor(this.uuid).then(__privateMethod(this, _onRestoreAnchor, onRestoreAnchor_fn).bind(this));
      } else if (__privateMethod(this, _getFrame, getFrame_fn).call(this)) {
        __privateMethod(this, _createAnchor, createAnchor_fn).call(this).then(__privateMethod(this, _onAddAnchor, onAddAnchor_fn).bind(this));
      } else {
        throw new Error("Anchors can only be created during the XR frame in an active XR session");
      }
    }
    update() {
      if (!this.xrAnchor || !this.engine.xr)
        return;
      const pose = this.engine.xr.frame.getPose(this.xrAnchor.anchorSpace, this.engine.xr.currentReferenceSpace);
      const visible = !!pose;
      if (visible != this.visible) {
        this.visible = visible;
        (visible ? this.onTrackingFound : this.onTrackingLost).notify(this);
      }
      if (pose) {
        setXRRigidTransformLocal(this.object, pose.transform);
      }
    }
    onDestroy() {
      var _a;
      __privateMethod(_a = _Anchor, _removeAnchor, removeAnchor_fn).call(_a, this);
    }
  };
  var Anchor = _Anchor;
  _anchors = new WeakMap();
  _addAnchor = new WeakSet();
  addAnchor_fn = function(anchor) {
    __privateGet(_Anchor, _anchors).push(anchor);
  };
  _removeAnchor = new WeakSet();
  removeAnchor_fn = function(anchor) {
    const index = __privateGet(_Anchor, _anchors).indexOf(anchor);
    if (index < 0)
      return;
    __privateGet(_Anchor, _anchors).splice(index, 1);
  };
  _getFrame = new WeakSet();
  getFrame_fn = function() {
    return this.xrFrame || this.engine.xr.frame;
  };
  _createAnchor = new WeakSet();
  createAnchor_fn = async function() {
    if (!__privateMethod(this, _getFrame, getFrame_fn).call(this).createAnchor) {
      throw new Error("Cannot create anchor - anchors not supported, did you enable the 'anchors' WebXR feature?");
    }
    if (this.xrHitResult) {
      if (this.xrHitResult.createAnchor === void 0) {
        throw new Error("Requested anchor on XRHitTestResult, but WebXR hit-test feature is not available.");
      }
      return this.xrHitResult.createAnchor();
    } else {
      this.object.getTranslationWorld(tempVec3);
      tempQuat2.set(this.object.rotationWorld);
      const rotation = tempQuat2;
      const anchorPose = new XRRigidTransform({ x: tempVec3[0], y: tempVec3[1], z: tempVec3[2] }, { x: rotation[0], y: rotation[1], z: rotation[2], w: rotation[3] });
      return __privateMethod(this, _getFrame, getFrame_fn).call(this)?.createAnchor(anchorPose, this.engine.xr.currentReferenceSpace);
    }
  };
  _onAddAnchor = new WeakSet();
  onAddAnchor_fn = function(anchor) {
    if (!anchor)
      return;
    if (this.persist) {
      if (anchor.requestPersistentHandle !== void 0) {
        anchor.requestPersistentHandle().then((uuid) => {
          var _a;
          this.uuid = uuid;
          __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
          __privateMethod(_a = _Anchor, _addAnchor, addAnchor_fn).call(_a, this);
        });
        return;
      } else {
        console.warn("anchor: Persistent anchors are not supported by your client. Ignoring persist property.");
      }
    }
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onRestoreAnchor = new WeakSet();
  onRestoreAnchor_fn = function(anchor) {
    __privateMethod(this, _onCreate, onCreate_fn).call(this, anchor);
  };
  _onCreate = new WeakSet();
  onCreate_fn = function(anchor) {
    this.xrAnchor = anchor;
    this.onCreate.notify(this);
  };
  __privateAdd(Anchor, _addAnchor);
  __privateAdd(Anchor, _removeAnchor);
  __publicField(Anchor, "TypeName", "anchor");
  /* Static management of all anchors */
  __privateAdd(Anchor, _anchors, []);
  __decorate2([
    property.bool(false)
  ], Anchor.prototype, "persist", void 0);
  __decorate2([
    property.string()
  ], Anchor.prototype, "uuid", void 0);

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/cursor-target.js
  var CursorTarget = class extends Component {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.add(f);
     */
    addHoverFunction(f) {
      this.onHover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onHover.remove(f);
     */
    removeHoverFunction(f) {
      this.onHover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.add(f);
     */
    addUnHoverFunction(f) {
      this.onUnhover.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onUnhover.remove(f);
     */
    removeUnHoverFunction(f) {
      this.onUnhover.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    this.onClick.add(f);
     */
    addClickFunction(f) {
      this.onClick.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onClick.remove(f);
     */
    removeClickFunction(f) {
      this.onClick.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.add(f);
     */
    addMoveFunction(f) {
      this.onMove.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onMove.remove(f);
     */
    removeMoveFunction(f) {
      this.onMove.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.add(f);
     */
    addDownFunction(f) {
      this.onDown.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onDown.remove(f);
     */
    removeDownFunction(f) {
      this.onDown.remove(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.add(f);
     */
    addUpFunction(f) {
      this.onUp.add(f);
    }
    /**
     * @deprecated Use the emitter instead.
     *
     * @example
     *    component.onUp.remove(f);
     */
    removeUpFunction(f) {
      this.onUp.remove(f);
    }
  };
  __publicField(CursorTarget, "TypeName", "cursor-target");
  __publicField(CursorTarget, "Properties", {});

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/common.js
  var EPSILON = 1e-6;
  var ARRAY_TYPE = typeof Float32Array !== "undefined" ? Float32Array : Array;
  var RANDOM = Math.random;
  var degree = Math.PI / 180;
  if (!Math.hypot)
    Math.hypot = function() {
      var y = 0, i = arguments.length;
      while (i--) {
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/mat3.js
  function create() {
    var out = new ARRAY_TYPE(9);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[5] = 0;
      out[6] = 0;
      out[7] = 0;
    }
    out[0] = 1;
    out[4] = 1;
    out[8] = 1;
    return out;
  }

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/mat4.js
  var mat4_exports = {};
  __export(mat4_exports, {
    add: () => add,
    adjoint: () => adjoint,
    clone: () => clone,
    copy: () => copy,
    create: () => create2,
    determinant: () => determinant,
    equals: () => equals,
    exactEquals: () => exactEquals,
    frob: () => frob,
    fromQuat: () => fromQuat,
    fromQuat2: () => fromQuat2,
    fromRotation: () => fromRotation,
    fromRotationTranslation: () => fromRotationTranslation,
    fromRotationTranslationScale: () => fromRotationTranslationScale,
    fromRotationTranslationScaleOrigin: () => fromRotationTranslationScaleOrigin,
    fromScaling: () => fromScaling,
    fromTranslation: () => fromTranslation,
    fromValues: () => fromValues,
    fromXRotation: () => fromXRotation,
    fromYRotation: () => fromYRotation,
    fromZRotation: () => fromZRotation,
    frustum: () => frustum,
    getRotation: () => getRotation,
    getScaling: () => getScaling,
    getTranslation: () => getTranslation,
    identity: () => identity,
    invert: () => invert,
    lookAt: () => lookAt,
    mul: () => mul,
    multiply: () => multiply,
    multiplyScalar: () => multiplyScalar,
    multiplyScalarAndAdd: () => multiplyScalarAndAdd,
    ortho: () => ortho,
    orthoNO: () => orthoNO,
    orthoZO: () => orthoZO,
    perspective: () => perspective,
    perspectiveFromFieldOfView: () => perspectiveFromFieldOfView,
    perspectiveNO: () => perspectiveNO,
    perspectiveZO: () => perspectiveZO,
    rotate: () => rotate,
    rotateX: () => rotateX,
    rotateY: () => rotateY,
    rotateZ: () => rotateZ,
    scale: () => scale,
    set: () => set,
    str: () => str,
    sub: () => sub,
    subtract: () => subtract,
    targetTo: () => targetTo,
    translate: () => translate,
    transpose: () => transpose
  });
  function create2() {
    var out = new ARRAY_TYPE(16);
    if (ARRAY_TYPE != Float32Array) {
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
      out[4] = 0;
      out[6] = 0;
      out[7] = 0;
      out[8] = 0;
      out[9] = 0;
      out[11] = 0;
      out[12] = 0;
      out[13] = 0;
      out[14] = 0;
    }
    out[0] = 1;
    out[5] = 1;
    out[10] = 1;
    out[15] = 1;
    return out;
  }
  function clone(a) {
    var out = new ARRAY_TYPE(16);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function copy(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    out[8] = a[8];
    out[9] = a[9];
    out[10] = a[10];
    out[11] = a[11];
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    var out = new ARRAY_TYPE(16);
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {
    out[0] = m00;
    out[1] = m01;
    out[2] = m02;
    out[3] = m03;
    out[4] = m10;
    out[5] = m11;
    out[6] = m12;
    out[7] = m13;
    out[8] = m20;
    out[9] = m21;
    out[10] = m22;
    out[11] = m23;
    out[12] = m30;
    out[13] = m31;
    out[14] = m32;
    out[15] = m33;
    return out;
  }
  function identity(out) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function transpose(out, a) {
    if (out === a) {
      var a01 = a[1], a02 = a[2], a03 = a[3];
      var a12 = a[6], a13 = a[7];
      var a23 = a[11];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a01;
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a02;
      out[9] = a12;
      out[11] = a[14];
      out[12] = a03;
      out[13] = a13;
      out[14] = a23;
    } else {
      out[0] = a[0];
      out[1] = a[4];
      out[2] = a[8];
      out[3] = a[12];
      out[4] = a[1];
      out[5] = a[5];
      out[6] = a[9];
      out[7] = a[13];
      out[8] = a[2];
      out[9] = a[6];
      out[10] = a[10];
      out[11] = a[14];
      out[12] = a[3];
      out[13] = a[7];
      out[14] = a[11];
      out[15] = a[15];
    }
    return out;
  }
  function invert(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;
    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;
    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;
    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;
    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;
    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;
    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;
    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;
    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;
    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;
    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;
    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;
    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;
    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;
    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;
    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;
    return out;
  }
  function adjoint(out, a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);
    out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));
    out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);
    out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));
    out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));
    out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);
    out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));
    out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);
    out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);
    out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));
    out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);
    out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));
    out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));
    out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);
    out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));
    out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);
    return out;
  }
  function determinant(a) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b00 = a00 * a11 - a01 * a10;
    var b01 = a00 * a12 - a02 * a10;
    var b02 = a00 * a13 - a03 * a10;
    var b03 = a01 * a12 - a02 * a11;
    var b04 = a01 * a13 - a03 * a11;
    var b05 = a02 * a13 - a03 * a12;
    var b06 = a20 * a31 - a21 * a30;
    var b07 = a20 * a32 - a22 * a30;
    var b08 = a20 * a33 - a23 * a30;
    var b09 = a21 * a32 - a22 * a31;
    var b10 = a21 * a33 - a23 * a31;
    var b11 = a22 * a33 - a23 * a32;
    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;
  }
  function multiply(out, a, b) {
    var a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];
    var a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];
    var a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];
    var a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[4];
    b1 = b[5];
    b2 = b[6];
    b3 = b[7];
    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[8];
    b1 = b[9];
    b2 = b[10];
    b3 = b[11];
    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    b0 = b[12];
    b1 = b[13];
    b2 = b[14];
    b3 = b[15];
    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;
    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;
    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;
    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;
    return out;
  }
  function translate(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    if (a === out) {
      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];
      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];
      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];
      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];
    } else {
      a00 = a[0];
      a01 = a[1];
      a02 = a[2];
      a03 = a[3];
      a10 = a[4];
      a11 = a[5];
      a12 = a[6];
      a13 = a[7];
      a20 = a[8];
      a21 = a[9];
      a22 = a[10];
      a23 = a[11];
      out[0] = a00;
      out[1] = a01;
      out[2] = a02;
      out[3] = a03;
      out[4] = a10;
      out[5] = a11;
      out[6] = a12;
      out[7] = a13;
      out[8] = a20;
      out[9] = a21;
      out[10] = a22;
      out[11] = a23;
      out[12] = a00 * x + a10 * y + a20 * z + a[12];
      out[13] = a01 * x + a11 * y + a21 * z + a[13];
      out[14] = a02 * x + a12 * y + a22 * z + a[14];
      out[15] = a03 * x + a13 * y + a23 * z + a[15];
    }
    return out;
  }
  function scale(out, a, v) {
    var x = v[0], y = v[1], z = v[2];
    out[0] = a[0] * x;
    out[1] = a[1] * x;
    out[2] = a[2] * x;
    out[3] = a[3] * x;
    out[4] = a[4] * y;
    out[5] = a[5] * y;
    out[6] = a[6] * y;
    out[7] = a[7] * y;
    out[8] = a[8] * z;
    out[9] = a[9] * z;
    out[10] = a[10] * z;
    out[11] = a[11] * z;
    out[12] = a[12];
    out[13] = a[13];
    out[14] = a[14];
    out[15] = a[15];
    return out;
  }
  function rotate(out, a, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    var a00, a01, a02, a03;
    var a10, a11, a12, a13;
    var a20, a21, a22, a23;
    var b00, b01, b02;
    var b10, b11, b12;
    var b20, b21, b22;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    a00 = a[0];
    a01 = a[1];
    a02 = a[2];
    a03 = a[3];
    a10 = a[4];
    a11 = a[5];
    a12 = a[6];
    a13 = a[7];
    a20 = a[8];
    a21 = a[9];
    a22 = a[10];
    a23 = a[11];
    b00 = x * x * t + c;
    b01 = y * x * t + z * s;
    b02 = z * x * t - y * s;
    b10 = x * y * t - z * s;
    b11 = y * y * t + c;
    b12 = z * y * t + x * s;
    b20 = x * z * t + y * s;
    b21 = y * z * t - x * s;
    b22 = z * z * t + c;
    out[0] = a00 * b00 + a10 * b01 + a20 * b02;
    out[1] = a01 * b00 + a11 * b01 + a21 * b02;
    out[2] = a02 * b00 + a12 * b01 + a22 * b02;
    out[3] = a03 * b00 + a13 * b01 + a23 * b02;
    out[4] = a00 * b10 + a10 * b11 + a20 * b12;
    out[5] = a01 * b10 + a11 * b11 + a21 * b12;
    out[6] = a02 * b10 + a12 * b11 + a22 * b12;
    out[7] = a03 * b10 + a13 * b11 + a23 * b12;
    out[8] = a00 * b20 + a10 * b21 + a20 * b22;
    out[9] = a01 * b20 + a11 * b21 + a21 * b22;
    out[10] = a02 * b20 + a12 * b21 + a22 * b22;
    out[11] = a03 * b20 + a13 * b21 + a23 * b22;
    if (a !== out) {
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    return out;
  }
  function rotateX(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[0] = a[0];
      out[1] = a[1];
      out[2] = a[2];
      out[3] = a[3];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[4] = a10 * c + a20 * s;
    out[5] = a11 * c + a21 * s;
    out[6] = a12 * c + a22 * s;
    out[7] = a13 * c + a23 * s;
    out[8] = a20 * c - a10 * s;
    out[9] = a21 * c - a11 * s;
    out[10] = a22 * c - a12 * s;
    out[11] = a23 * c - a13 * s;
    return out;
  }
  function rotateY(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a20 = a[8];
    var a21 = a[9];
    var a22 = a[10];
    var a23 = a[11];
    if (a !== out) {
      out[4] = a[4];
      out[5] = a[5];
      out[6] = a[6];
      out[7] = a[7];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c - a20 * s;
    out[1] = a01 * c - a21 * s;
    out[2] = a02 * c - a22 * s;
    out[3] = a03 * c - a23 * s;
    out[8] = a00 * s + a20 * c;
    out[9] = a01 * s + a21 * c;
    out[10] = a02 * s + a22 * c;
    out[11] = a03 * s + a23 * c;
    return out;
  }
  function rotateZ(out, a, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    var a00 = a[0];
    var a01 = a[1];
    var a02 = a[2];
    var a03 = a[3];
    var a10 = a[4];
    var a11 = a[5];
    var a12 = a[6];
    var a13 = a[7];
    if (a !== out) {
      out[8] = a[8];
      out[9] = a[9];
      out[10] = a[10];
      out[11] = a[11];
      out[12] = a[12];
      out[13] = a[13];
      out[14] = a[14];
      out[15] = a[15];
    }
    out[0] = a00 * c + a10 * s;
    out[1] = a01 * c + a11 * s;
    out[2] = a02 * c + a12 * s;
    out[3] = a03 * c + a13 * s;
    out[4] = a10 * c - a00 * s;
    out[5] = a11 * c - a01 * s;
    out[6] = a12 * c - a02 * s;
    out[7] = a13 * c - a03 * s;
    return out;
  }
  function fromTranslation(out, v) {
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromScaling(out, v) {
    out[0] = v[0];
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = v[1];
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = v[2];
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotation(out, rad, axis) {
    var x = axis[0], y = axis[1], z = axis[2];
    var len4 = Math.hypot(x, y, z);
    var s, c, t;
    if (len4 < EPSILON) {
      return null;
    }
    len4 = 1 / len4;
    x *= len4;
    y *= len4;
    z *= len4;
    s = Math.sin(rad);
    c = Math.cos(rad);
    t = 1 - c;
    out[0] = x * x * t + c;
    out[1] = y * x * t + z * s;
    out[2] = z * x * t - y * s;
    out[3] = 0;
    out[4] = x * y * t - z * s;
    out[5] = y * y * t + c;
    out[6] = z * y * t + x * s;
    out[7] = 0;
    out[8] = x * z * t + y * s;
    out[9] = y * z * t - x * s;
    out[10] = z * z * t + c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromXRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = 1;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = c;
    out[6] = s;
    out[7] = 0;
    out[8] = 0;
    out[9] = -s;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromYRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = 0;
    out[2] = -s;
    out[3] = 0;
    out[4] = 0;
    out[5] = 1;
    out[6] = 0;
    out[7] = 0;
    out[8] = s;
    out[9] = 0;
    out[10] = c;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromZRotation(out, rad) {
    var s = Math.sin(rad);
    var c = Math.cos(rad);
    out[0] = c;
    out[1] = s;
    out[2] = 0;
    out[3] = 0;
    out[4] = -s;
    out[5] = c;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 1;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function fromRotationTranslation(out, q, v) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - (yy + zz);
    out[1] = xy + wz;
    out[2] = xz - wy;
    out[3] = 0;
    out[4] = xy - wz;
    out[5] = 1 - (xx + zz);
    out[6] = yz + wx;
    out[7] = 0;
    out[8] = xz + wy;
    out[9] = yz - wx;
    out[10] = 1 - (xx + yy);
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromQuat2(out, a) {
    var translation = new ARRAY_TYPE(3);
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7];
    var magnitude = bx * bx + by * by + bz * bz + bw * bw;
    if (magnitude > 0) {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;
    } else {
      translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
      translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
      translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    }
    fromRotationTranslation(out, a, translation);
    return out;
  }
  function getTranslation(out, mat) {
    out[0] = mat[12];
    out[1] = mat[13];
    out[2] = mat[14];
    return out;
  }
  function getScaling(out, mat) {
    var m11 = mat[0];
    var m12 = mat[1];
    var m13 = mat[2];
    var m21 = mat[4];
    var m22 = mat[5];
    var m23 = mat[6];
    var m31 = mat[8];
    var m32 = mat[9];
    var m33 = mat[10];
    out[0] = Math.hypot(m11, m12, m13);
    out[1] = Math.hypot(m21, m22, m23);
    out[2] = Math.hypot(m31, m32, m33);
    return out;
  }
  function getRotation(out, mat) {
    var scaling = new ARRAY_TYPE(3);
    getScaling(scaling, mat);
    var is1 = 1 / scaling[0];
    var is2 = 1 / scaling[1];
    var is3 = 1 / scaling[2];
    var sm11 = mat[0] * is1;
    var sm12 = mat[1] * is2;
    var sm13 = mat[2] * is3;
    var sm21 = mat[4] * is1;
    var sm22 = mat[5] * is2;
    var sm23 = mat[6] * is3;
    var sm31 = mat[8] * is1;
    var sm32 = mat[9] * is2;
    var sm33 = mat[10] * is3;
    var trace = sm11 + sm22 + sm33;
    var S = 0;
    if (trace > 0) {
      S = Math.sqrt(trace + 1) * 2;
      out[3] = 0.25 * S;
      out[0] = (sm23 - sm32) / S;
      out[1] = (sm31 - sm13) / S;
      out[2] = (sm12 - sm21) / S;
    } else if (sm11 > sm22 && sm11 > sm33) {
      S = Math.sqrt(1 + sm11 - sm22 - sm33) * 2;
      out[3] = (sm23 - sm32) / S;
      out[0] = 0.25 * S;
      out[1] = (sm12 + sm21) / S;
      out[2] = (sm31 + sm13) / S;
    } else if (sm22 > sm33) {
      S = Math.sqrt(1 + sm22 - sm11 - sm33) * 2;
      out[3] = (sm31 - sm13) / S;
      out[0] = (sm12 + sm21) / S;
      out[1] = 0.25 * S;
      out[2] = (sm23 + sm32) / S;
    } else {
      S = Math.sqrt(1 + sm33 - sm11 - sm22) * 2;
      out[3] = (sm12 - sm21) / S;
      out[0] = (sm31 + sm13) / S;
      out[1] = (sm23 + sm32) / S;
      out[2] = 0.25 * S;
    }
    return out;
  }
  function fromRotationTranslationScale(out, q, v, s) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    out[0] = (1 - (yy + zz)) * sx;
    out[1] = (xy + wz) * sx;
    out[2] = (xz - wy) * sx;
    out[3] = 0;
    out[4] = (xy - wz) * sy;
    out[5] = (1 - (xx + zz)) * sy;
    out[6] = (yz + wx) * sy;
    out[7] = 0;
    out[8] = (xz + wy) * sz;
    out[9] = (yz - wx) * sz;
    out[10] = (1 - (xx + yy)) * sz;
    out[11] = 0;
    out[12] = v[0];
    out[13] = v[1];
    out[14] = v[2];
    out[15] = 1;
    return out;
  }
  function fromRotationTranslationScaleOrigin(out, q, v, s, o) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var xy = x * y2;
    var xz = x * z2;
    var yy = y * y2;
    var yz = y * z2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    var sx = s[0];
    var sy = s[1];
    var sz = s[2];
    var ox = o[0];
    var oy = o[1];
    var oz = o[2];
    var out0 = (1 - (yy + zz)) * sx;
    var out1 = (xy + wz) * sx;
    var out2 = (xz - wy) * sx;
    var out4 = (xy - wz) * sy;
    var out5 = (1 - (xx + zz)) * sy;
    var out6 = (yz + wx) * sy;
    var out8 = (xz + wy) * sz;
    var out9 = (yz - wx) * sz;
    var out10 = (1 - (xx + yy)) * sz;
    out[0] = out0;
    out[1] = out1;
    out[2] = out2;
    out[3] = 0;
    out[4] = out4;
    out[5] = out5;
    out[6] = out6;
    out[7] = 0;
    out[8] = out8;
    out[9] = out9;
    out[10] = out10;
    out[11] = 0;
    out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);
    out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);
    out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);
    out[15] = 1;
    return out;
  }
  function fromQuat(out, q) {
    var x = q[0], y = q[1], z = q[2], w = q[3];
    var x2 = x + x;
    var y2 = y + y;
    var z2 = z + z;
    var xx = x * x2;
    var yx = y * x2;
    var yy = y * y2;
    var zx = z * x2;
    var zy = z * y2;
    var zz = z * z2;
    var wx = w * x2;
    var wy = w * y2;
    var wz = w * z2;
    out[0] = 1 - yy - zz;
    out[1] = yx + wz;
    out[2] = zx - wy;
    out[3] = 0;
    out[4] = yx - wz;
    out[5] = 1 - xx - zz;
    out[6] = zy + wx;
    out[7] = 0;
    out[8] = zx + wy;
    out[9] = zy - wx;
    out[10] = 1 - xx - yy;
    out[11] = 0;
    out[12] = 0;
    out[13] = 0;
    out[14] = 0;
    out[15] = 1;
    return out;
  }
  function frustum(out, left, right, bottom, top, near, far) {
    var rl = 1 / (right - left);
    var tb = 1 / (top - bottom);
    var nf = 1 / (near - far);
    out[0] = near * 2 * rl;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = near * 2 * tb;
    out[6] = 0;
    out[7] = 0;
    out[8] = (right + left) * rl;
    out[9] = (top + bottom) * tb;
    out[10] = (far + near) * nf;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near * 2 * nf;
    out[15] = 0;
    return out;
  }
  function perspectiveNO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = (far + near) * nf;
      out[14] = 2 * far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -2 * near;
    }
    return out;
  }
  var perspective = perspectiveNO;
  function perspectiveZO(out, fovy, aspect, near, far) {
    var f = 1 / Math.tan(fovy / 2), nf;
    out[0] = f / aspect;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = f;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[15] = 0;
    if (far != null && far !== Infinity) {
      nf = 1 / (near - far);
      out[10] = far * nf;
      out[14] = far * near * nf;
    } else {
      out[10] = -1;
      out[14] = -near;
    }
    return out;
  }
  function perspectiveFromFieldOfView(out, fov, near, far) {
    var upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    var downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    var xScale = 2 / (leftTan + rightTan);
    var yScale = 2 / (upTan + downTan);
    out[0] = xScale;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = yScale;
    out[6] = 0;
    out[7] = 0;
    out[8] = -((leftTan - rightTan) * xScale * 0.5);
    out[9] = (upTan - downTan) * yScale * 0.5;
    out[10] = far / (near - far);
    out[11] = -1;
    out[12] = 0;
    out[13] = 0;
    out[14] = far * near / (near - far);
    out[15] = 0;
    return out;
  }
  function orthoNO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = 2 * nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = (far + near) * nf;
    out[15] = 1;
    return out;
  }
  var ortho = orthoNO;
  function orthoZO(out, left, right, bottom, top, near, far) {
    var lr = 1 / (left - right);
    var bt = 1 / (bottom - top);
    var nf = 1 / (near - far);
    out[0] = -2 * lr;
    out[1] = 0;
    out[2] = 0;
    out[3] = 0;
    out[4] = 0;
    out[5] = -2 * bt;
    out[6] = 0;
    out[7] = 0;
    out[8] = 0;
    out[9] = 0;
    out[10] = nf;
    out[11] = 0;
    out[12] = (left + right) * lr;
    out[13] = (top + bottom) * bt;
    out[14] = near * nf;
    out[15] = 1;
    return out;
  }
  function lookAt(out, eye, center, up) {
    var x0, x1, x2, y0, y1, y2, z0, z1, z2, len4;
    var eyex = eye[0];
    var eyey = eye[1];
    var eyez = eye[2];
    var upx = up[0];
    var upy = up[1];
    var upz = up[2];
    var centerx = center[0];
    var centery = center[1];
    var centerz = center[2];
    if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {
      return identity(out);
    }
    z0 = eyex - centerx;
    z1 = eyey - centery;
    z2 = eyez - centerz;
    len4 = 1 / Math.hypot(z0, z1, z2);
    z0 *= len4;
    z1 *= len4;
    z2 *= len4;
    x0 = upy * z2 - upz * z1;
    x1 = upz * z0 - upx * z2;
    x2 = upx * z1 - upy * z0;
    len4 = Math.hypot(x0, x1, x2);
    if (!len4) {
      x0 = 0;
      x1 = 0;
      x2 = 0;
    } else {
      len4 = 1 / len4;
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    y0 = z1 * x2 - z2 * x1;
    y1 = z2 * x0 - z0 * x2;
    y2 = z0 * x1 - z1 * x0;
    len4 = Math.hypot(y0, y1, y2);
    if (!len4) {
      y0 = 0;
      y1 = 0;
      y2 = 0;
    } else {
      len4 = 1 / len4;
      y0 *= len4;
      y1 *= len4;
      y2 *= len4;
    }
    out[0] = x0;
    out[1] = y0;
    out[2] = z0;
    out[3] = 0;
    out[4] = x1;
    out[5] = y1;
    out[6] = z1;
    out[7] = 0;
    out[8] = x2;
    out[9] = y2;
    out[10] = z2;
    out[11] = 0;
    out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
    out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
    out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
    out[15] = 1;
    return out;
  }
  function targetTo(out, eye, target, up) {
    var eyex = eye[0], eyey = eye[1], eyez = eye[2], upx = up[0], upy = up[1], upz = up[2];
    var z0 = eyex - target[0], z1 = eyey - target[1], z2 = eyez - target[2];
    var len4 = z0 * z0 + z1 * z1 + z2 * z2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      z0 *= len4;
      z1 *= len4;
      z2 *= len4;
    }
    var x0 = upy * z2 - upz * z1, x1 = upz * z0 - upx * z2, x2 = upx * z1 - upy * z0;
    len4 = x0 * x0 + x1 * x1 + x2 * x2;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
      x0 *= len4;
      x1 *= len4;
      x2 *= len4;
    }
    out[0] = x0;
    out[1] = x1;
    out[2] = x2;
    out[3] = 0;
    out[4] = z1 * x2 - z2 * x1;
    out[5] = z2 * x0 - z0 * x2;
    out[6] = z0 * x1 - z1 * x0;
    out[7] = 0;
    out[8] = z0;
    out[9] = z1;
    out[10] = z2;
    out[11] = 0;
    out[12] = eyex;
    out[13] = eyey;
    out[14] = eyez;
    out[15] = 1;
    return out;
  }
  function str(a) {
    return "mat4(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ", " + a[8] + ", " + a[9] + ", " + a[10] + ", " + a[11] + ", " + a[12] + ", " + a[13] + ", " + a[14] + ", " + a[15] + ")";
  }
  function frob(a) {
    return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);
  }
  function add(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    out[8] = a[8] + b[8];
    out[9] = a[9] + b[9];
    out[10] = a[10] + b[10];
    out[11] = a[11] + b[11];
    out[12] = a[12] + b[12];
    out[13] = a[13] + b[13];
    out[14] = a[14] + b[14];
    out[15] = a[15] + b[15];
    return out;
  }
  function subtract(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    out[3] = a[3] - b[3];
    out[4] = a[4] - b[4];
    out[5] = a[5] - b[5];
    out[6] = a[6] - b[6];
    out[7] = a[7] - b[7];
    out[8] = a[8] - b[8];
    out[9] = a[9] - b[9];
    out[10] = a[10] - b[10];
    out[11] = a[11] - b[11];
    out[12] = a[12] - b[12];
    out[13] = a[13] - b[13];
    out[14] = a[14] - b[14];
    out[15] = a[15] - b[15];
    return out;
  }
  function multiplyScalar(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    out[8] = a[8] * b;
    out[9] = a[9] * b;
    out[10] = a[10] * b;
    out[11] = a[11] * b;
    out[12] = a[12] * b;
    out[13] = a[13] * b;
    out[14] = a[14] * b;
    out[15] = a[15] * b;
    return out;
  }
  function multiplyScalarAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    out[3] = a[3] + b[3] * scale6;
    out[4] = a[4] + b[4] * scale6;
    out[5] = a[5] + b[5] * scale6;
    out[6] = a[6] + b[6] * scale6;
    out[7] = a[7] + b[7] * scale6;
    out[8] = a[8] + b[8] * scale6;
    out[9] = a[9] + b[9] * scale6;
    out[10] = a[10] + b[10] * scale6;
    out[11] = a[11] + b[11] * scale6;
    out[12] = a[12] + b[12] * scale6;
    out[13] = a[13] + b[13] * scale6;
    out[14] = a[14] + b[14] * scale6;
    out[15] = a[15] + b[15] * scale6;
    return out;
  }
  function exactEquals(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];
  }
  function equals(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var a8 = a[8], a9 = a[9], a10 = a[10], a11 = a[11];
    var a12 = a[12], a13 = a[13], a14 = a[14], a15 = a[15];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    var b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    var b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11];
    var b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1, Math.abs(a15), Math.abs(b15));
  }
  var mul = multiply;
  var sub = subtract;

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/quat.js
  var quat_exports = {};
  __export(quat_exports, {
    add: () => add4,
    calculateW: () => calculateW,
    clone: () => clone4,
    conjugate: () => conjugate,
    copy: () => copy4,
    create: () => create5,
    dot: () => dot3,
    equals: () => equals4,
    exactEquals: () => exactEquals4,
    exp: () => exp,
    fromEuler: () => fromEuler,
    fromMat3: () => fromMat3,
    fromValues: () => fromValues4,
    getAngle: () => getAngle,
    getAxisAngle: () => getAxisAngle,
    identity: () => identity2,
    invert: () => invert2,
    len: () => len2,
    length: () => length3,
    lerp: () => lerp3,
    ln: () => ln,
    mul: () => mul3,
    multiply: () => multiply3,
    normalize: () => normalize3,
    pow: () => pow,
    random: () => random2,
    rotateX: () => rotateX3,
    rotateY: () => rotateY3,
    rotateZ: () => rotateZ3,
    rotationTo: () => rotationTo,
    scale: () => scale4,
    set: () => set4,
    setAxes: () => setAxes,
    setAxisAngle: () => setAxisAngle,
    slerp: () => slerp,
    sqlerp: () => sqlerp,
    sqrLen: () => sqrLen2,
    squaredLength: () => squaredLength3,
    str: () => str3
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/vec3.js
  var vec3_exports = {};
  __export(vec3_exports, {
    add: () => add2,
    angle: () => angle,
    bezier: () => bezier,
    ceil: () => ceil,
    clone: () => clone2,
    copy: () => copy2,
    create: () => create3,
    cross: () => cross,
    dist: () => dist,
    distance: () => distance,
    div: () => div,
    divide: () => divide,
    dot: () => dot,
    equals: () => equals2,
    exactEquals: () => exactEquals2,
    floor: () => floor,
    forEach: () => forEach,
    fromValues: () => fromValues2,
    hermite: () => hermite,
    inverse: () => inverse,
    len: () => len,
    length: () => length,
    lerp: () => lerp,
    max: () => max,
    min: () => min,
    mul: () => mul2,
    multiply: () => multiply2,
    negate: () => negate,
    normalize: () => normalize,
    random: () => random,
    rotateX: () => rotateX2,
    rotateY: () => rotateY2,
    rotateZ: () => rotateZ2,
    round: () => round,
    scale: () => scale2,
    scaleAndAdd: () => scaleAndAdd,
    set: () => set2,
    sqrDist: () => sqrDist,
    sqrLen: () => sqrLen,
    squaredDistance: () => squaredDistance,
    squaredLength: () => squaredLength,
    str: () => str2,
    sub: () => sub2,
    subtract: () => subtract2,
    transformMat3: () => transformMat3,
    transformMat4: () => transformMat4,
    transformQuat: () => transformQuat,
    zero: () => zero
  });
  function create3() {
    var out = new ARRAY_TYPE(3);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    return out;
  }
  function clone2(a) {
    var out = new ARRAY_TYPE(3);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function length(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return Math.hypot(x, y, z);
  }
  function fromValues2(x, y, z) {
    var out = new ARRAY_TYPE(3);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function copy2(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    return out;
  }
  function set2(out, x, y, z) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    return out;
  }
  function add2(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    return out;
  }
  function subtract2(out, a, b) {
    out[0] = a[0] - b[0];
    out[1] = a[1] - b[1];
    out[2] = a[2] - b[2];
    return out;
  }
  function multiply2(out, a, b) {
    out[0] = a[0] * b[0];
    out[1] = a[1] * b[1];
    out[2] = a[2] * b[2];
    return out;
  }
  function divide(out, a, b) {
    out[0] = a[0] / b[0];
    out[1] = a[1] / b[1];
    out[2] = a[2] / b[2];
    return out;
  }
  function ceil(out, a) {
    out[0] = Math.ceil(a[0]);
    out[1] = Math.ceil(a[1]);
    out[2] = Math.ceil(a[2]);
    return out;
  }
  function floor(out, a) {
    out[0] = Math.floor(a[0]);
    out[1] = Math.floor(a[1]);
    out[2] = Math.floor(a[2]);
    return out;
  }
  function min(out, a, b) {
    out[0] = Math.min(a[0], b[0]);
    out[1] = Math.min(a[1], b[1]);
    out[2] = Math.min(a[2], b[2]);
    return out;
  }
  function max(out, a, b) {
    out[0] = Math.max(a[0], b[0]);
    out[1] = Math.max(a[1], b[1]);
    out[2] = Math.max(a[2], b[2]);
    return out;
  }
  function round(out, a) {
    out[0] = Math.round(a[0]);
    out[1] = Math.round(a[1]);
    out[2] = Math.round(a[2]);
    return out;
  }
  function scale2(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    return out;
  }
  function scaleAndAdd(out, a, b, scale6) {
    out[0] = a[0] + b[0] * scale6;
    out[1] = a[1] + b[1] * scale6;
    out[2] = a[2] + b[2] * scale6;
    return out;
  }
  function distance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return Math.hypot(x, y, z);
  }
  function squaredDistance(a, b) {
    var x = b[0] - a[0];
    var y = b[1] - a[1];
    var z = b[2] - a[2];
    return x * x + y * y + z * z;
  }
  function squaredLength(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    return x * x + y * y + z * z;
  }
  function negate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    return out;
  }
  function inverse(out, a) {
    out[0] = 1 / a[0];
    out[1] = 1 / a[1];
    out[2] = 1 / a[2];
    return out;
  }
  function normalize(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var len4 = x * x + y * y + z * z;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = a[0] * len4;
    out[1] = a[1] * len4;
    out[2] = a[2] * len4;
    return out;
  }
  function dot(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
  }
  function cross(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2];
    var bx = b[0], by = b[1], bz = b[2];
    out[0] = ay * bz - az * by;
    out[1] = az * bx - ax * bz;
    out[2] = ax * by - ay * bx;
    return out;
  }
  function lerp(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    return out;
  }
  function hermite(out, a, b, c, d, t) {
    var factorTimes2 = t * t;
    var factor1 = factorTimes2 * (2 * t - 3) + 1;
    var factor2 = factorTimes2 * (t - 2) + t;
    var factor3 = factorTimes2 * (t - 1);
    var factor4 = factorTimes2 * (3 - 2 * t);
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function bezier(out, a, b, c, d, t) {
    var inverseFactor = 1 - t;
    var inverseFactorTimesTwo = inverseFactor * inverseFactor;
    var factorTimes2 = t * t;
    var factor1 = inverseFactorTimesTwo * inverseFactor;
    var factor2 = 3 * t * inverseFactorTimesTwo;
    var factor3 = 3 * factorTimes2 * inverseFactor;
    var factor4 = factorTimes2 * t;
    out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;
    out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;
    out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;
    return out;
  }
  function random(out, scale6) {
    scale6 = scale6 || 1;
    var r = RANDOM() * 2 * Math.PI;
    var z = RANDOM() * 2 - 1;
    var zScale = Math.sqrt(1 - z * z) * scale6;
    out[0] = Math.cos(r) * zScale;
    out[1] = Math.sin(r) * zScale;
    out[2] = z * scale6;
    return out;
  }
  function transformMat4(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    var w = m[3] * x + m[7] * y + m[11] * z + m[15];
    w = w || 1;
    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;
    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;
    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;
    return out;
  }
  function transformMat3(out, a, m) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x * m[0] + y * m[3] + z * m[6];
    out[1] = x * m[1] + y * m[4] + z * m[7];
    out[2] = x * m[2] + y * m[5] + z * m[8];
    return out;
  }
  function transformQuat(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3];
    var x = a[0], y = a[1], z = a[2];
    var uvx = qy * z - qz * y, uvy = qz * x - qx * z, uvz = qx * y - qy * x;
    var uuvx = qy * uvz - qz * uvy, uuvy = qz * uvx - qx * uvz, uuvz = qx * uvy - qy * uvx;
    var w2 = qw * 2;
    uvx *= w2;
    uvy *= w2;
    uvz *= w2;
    uuvx *= 2;
    uuvy *= 2;
    uuvz *= 2;
    out[0] = x + uvx + uuvx;
    out[1] = y + uvy + uuvy;
    out[2] = z + uvz + uuvz;
    return out;
  }
  function rotateX2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0];
    r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);
    r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateY2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);
    r[1] = p[1];
    r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad);
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function rotateZ2(out, a, b, rad) {
    var p = [], r = [];
    p[0] = a[0] - b[0];
    p[1] = a[1] - b[1];
    p[2] = a[2] - b[2];
    r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);
    r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);
    r[2] = p[2];
    out[0] = r[0] + b[0];
    out[1] = r[1] + b[1];
    out[2] = r[2] + b[2];
    return out;
  }
  function angle(a, b) {
    var ax = a[0], ay = a[1], az = a[2], bx = b[0], by = b[1], bz = b[2], mag1 = Math.sqrt(ax * ax + ay * ay + az * az), mag2 = Math.sqrt(bx * bx + by * by + bz * bz), mag = mag1 * mag2, cosine = mag && dot(a, b) / mag;
    return Math.acos(Math.min(Math.max(cosine, -1), 1));
  }
  function zero(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    return out;
  }
  function str2(a) {
    return "vec3(" + a[0] + ", " + a[1] + ", " + a[2] + ")";
  }
  function exactEquals2(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];
  }
  function equals2(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2];
    var b0 = b[0], b1 = b[1], b2 = b[2];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2));
  }
  var sub2 = subtract2;
  var mul2 = multiply2;
  var div = divide;
  var dist = distance;
  var sqrDist = squaredDistance;
  var len = length;
  var sqrLen = squaredLength;
  var forEach = function() {
    var vec = create3();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 3;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
      }
      return a;
    };
  }();

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/vec4.js
  function create4() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
      out[3] = 0;
    }
    return out;
  }
  function clone3(a) {
    var out = new ARRAY_TYPE(4);
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function fromValues3(x, y, z, w) {
    var out = new ARRAY_TYPE(4);
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function copy3(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    return out;
  }
  function set3(out, x, y, z, w) {
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = w;
    return out;
  }
  function add3(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    return out;
  }
  function scale3(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    return out;
  }
  function length2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return Math.hypot(x, y, z, w);
  }
  function squaredLength2(a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    return x * x + y * y + z * z + w * w;
  }
  function normalize2(out, a) {
    var x = a[0];
    var y = a[1];
    var z = a[2];
    var w = a[3];
    var len4 = x * x + y * y + z * z + w * w;
    if (len4 > 0) {
      len4 = 1 / Math.sqrt(len4);
    }
    out[0] = x * len4;
    out[1] = y * len4;
    out[2] = z * len4;
    out[3] = w * len4;
    return out;
  }
  function dot2(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];
  }
  function lerp2(out, a, b, t) {
    var ax = a[0];
    var ay = a[1];
    var az = a[2];
    var aw = a[3];
    out[0] = ax + t * (b[0] - ax);
    out[1] = ay + t * (b[1] - ay);
    out[2] = az + t * (b[2] - az);
    out[3] = aw + t * (b[3] - aw);
    return out;
  }
  function exactEquals3(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];
  }
  function equals3(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3));
  }
  var forEach2 = function() {
    var vec = create4();
    return function(a, stride, offset2, count, fn, arg) {
      var i, l;
      if (!stride) {
        stride = 4;
      }
      if (!offset2) {
        offset2 = 0;
      }
      if (count) {
        l = Math.min(count * stride + offset2, a.length);
      } else {
        l = a.length;
      }
      for (i = offset2; i < l; i += stride) {
        vec[0] = a[i];
        vec[1] = a[i + 1];
        vec[2] = a[i + 2];
        vec[3] = a[i + 3];
        fn(vec, vec, arg);
        a[i] = vec[0];
        a[i + 1] = vec[1];
        a[i + 2] = vec[2];
        a[i + 3] = vec[3];
      }
      return a;
    };
  }();

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/quat.js
  function create5() {
    var out = new ARRAY_TYPE(4);
    if (ARRAY_TYPE != Float32Array) {
      out[0] = 0;
      out[1] = 0;
      out[2] = 0;
    }
    out[3] = 1;
    return out;
  }
  function identity2(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    return out;
  }
  function setAxisAngle(out, axis, rad) {
    rad = rad * 0.5;
    var s = Math.sin(rad);
    out[0] = s * axis[0];
    out[1] = s * axis[1];
    out[2] = s * axis[2];
    out[3] = Math.cos(rad);
    return out;
  }
  function getAxisAngle(out_axis, q) {
    var rad = Math.acos(q[3]) * 2;
    var s = Math.sin(rad / 2);
    if (s > EPSILON) {
      out_axis[0] = q[0] / s;
      out_axis[1] = q[1] / s;
      out_axis[2] = q[2] / s;
    } else {
      out_axis[0] = 1;
      out_axis[1] = 0;
      out_axis[2] = 0;
    }
    return rad;
  }
  function getAngle(a, b) {
    var dotproduct = dot3(a, b);
    return Math.acos(2 * dotproduct * dotproduct - 1);
  }
  function multiply3(out, a, b) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    out[0] = ax * bw + aw * bx + ay * bz - az * by;
    out[1] = ay * bw + aw * by + az * bx - ax * bz;
    out[2] = az * bw + aw * bz + ax * by - ay * bx;
    out[3] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function rotateX3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + aw * bx;
    out[1] = ay * bw + az * bx;
    out[2] = az * bw - ay * bx;
    out[3] = aw * bw - ax * bx;
    return out;
  }
  function rotateY3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var by = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw - az * by;
    out[1] = ay * bw + aw * by;
    out[2] = az * bw + ax * by;
    out[3] = aw * bw - ay * by;
    return out;
  }
  function rotateZ3(out, a, rad) {
    rad *= 0.5;
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bz = Math.sin(rad), bw = Math.cos(rad);
    out[0] = ax * bw + ay * bz;
    out[1] = ay * bw - ax * bz;
    out[2] = az * bw + aw * bz;
    out[3] = aw * bw - az * bz;
    return out;
  }
  function calculateW(out, a) {
    var x = a[0], y = a[1], z = a[2];
    out[0] = x;
    out[1] = y;
    out[2] = z;
    out[3] = Math.sqrt(Math.abs(1 - x * x - y * y - z * z));
    return out;
  }
  function exp(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var et = Math.exp(w);
    var s = r > 0 ? et * Math.sin(r) / r : 0;
    out[0] = x * s;
    out[1] = y * s;
    out[2] = z * s;
    out[3] = et * Math.cos(r);
    return out;
  }
  function ln(out, a) {
    var x = a[0], y = a[1], z = a[2], w = a[3];
    var r = Math.sqrt(x * x + y * y + z * z);
    var t = r > 0 ? Math.atan2(r, w) / r : 0;
    out[0] = x * t;
    out[1] = y * t;
    out[2] = z * t;
    out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);
    return out;
  }
  function pow(out, a, b) {
    ln(out, a);
    scale4(out, out, b);
    exp(out, out);
    return out;
  }
  function slerp(out, a, b, t) {
    var ax = a[0], ay = a[1], az = a[2], aw = a[3];
    var bx = b[0], by = b[1], bz = b[2], bw = b[3];
    var omega, cosom, sinom, scale0, scale1;
    cosom = ax * bx + ay * by + az * bz + aw * bw;
    if (cosom < 0) {
      cosom = -cosom;
      bx = -bx;
      by = -by;
      bz = -bz;
      bw = -bw;
    }
    if (1 - cosom > EPSILON) {
      omega = Math.acos(cosom);
      sinom = Math.sin(omega);
      scale0 = Math.sin((1 - t) * omega) / sinom;
      scale1 = Math.sin(t * omega) / sinom;
    } else {
      scale0 = 1 - t;
      scale1 = t;
    }
    out[0] = scale0 * ax + scale1 * bx;
    out[1] = scale0 * ay + scale1 * by;
    out[2] = scale0 * az + scale1 * bz;
    out[3] = scale0 * aw + scale1 * bw;
    return out;
  }
  function random2(out) {
    var u1 = RANDOM();
    var u2 = RANDOM();
    var u3 = RANDOM();
    var sqrt1MinusU1 = Math.sqrt(1 - u1);
    var sqrtU1 = Math.sqrt(u1);
    out[0] = sqrt1MinusU1 * Math.sin(2 * Math.PI * u2);
    out[1] = sqrt1MinusU1 * Math.cos(2 * Math.PI * u2);
    out[2] = sqrtU1 * Math.sin(2 * Math.PI * u3);
    out[3] = sqrtU1 * Math.cos(2 * Math.PI * u3);
    return out;
  }
  function invert2(out, a) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];
    var dot5 = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;
    var invDot = dot5 ? 1 / dot5 : 0;
    out[0] = -a0 * invDot;
    out[1] = -a1 * invDot;
    out[2] = -a2 * invDot;
    out[3] = a3 * invDot;
    return out;
  }
  function conjugate(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    return out;
  }
  function fromMat3(out, m) {
    var fTrace = m[0] + m[4] + m[8];
    var fRoot;
    if (fTrace > 0) {
      fRoot = Math.sqrt(fTrace + 1);
      out[3] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[0] = (m[5] - m[7]) * fRoot;
      out[1] = (m[6] - m[2]) * fRoot;
      out[2] = (m[1] - m[3]) * fRoot;
    } else {
      var i = 0;
      if (m[4] > m[0])
        i = 1;
      if (m[8] > m[i * 3 + i])
        i = 2;
      var j = (i + 1) % 3;
      var k = (i + 2) % 3;
      fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1);
      out[i] = 0.5 * fRoot;
      fRoot = 0.5 / fRoot;
      out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;
      out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;
      out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;
    }
    return out;
  }
  function fromEuler(out, x, y, z) {
    var halfToRad = 0.5 * Math.PI / 180;
    x *= halfToRad;
    y *= halfToRad;
    z *= halfToRad;
    var sx = Math.sin(x);
    var cx = Math.cos(x);
    var sy = Math.sin(y);
    var cy = Math.cos(y);
    var sz = Math.sin(z);
    var cz = Math.cos(z);
    out[0] = sx * cy * cz - cx * sy * sz;
    out[1] = cx * sy * cz + sx * cy * sz;
    out[2] = cx * cy * sz - sx * sy * cz;
    out[3] = cx * cy * cz + sx * sy * sz;
    return out;
  }
  function str3(a) {
    return "quat(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ")";
  }
  var clone4 = clone3;
  var fromValues4 = fromValues3;
  var copy4 = copy3;
  var set4 = set3;
  var add4 = add3;
  var mul3 = multiply3;
  var scale4 = scale3;
  var dot3 = dot2;
  var lerp3 = lerp2;
  var length3 = length2;
  var len2 = length3;
  var squaredLength3 = squaredLength2;
  var sqrLen2 = squaredLength3;
  var normalize3 = normalize2;
  var exactEquals4 = exactEquals3;
  var equals4 = equals3;
  var rotationTo = function() {
    var tmpvec3 = create3();
    var xUnitVec3 = fromValues2(1, 0, 0);
    var yUnitVec3 = fromValues2(0, 1, 0);
    return function(out, a, b) {
      var dot5 = dot(a, b);
      if (dot5 < -0.999999) {
        cross(tmpvec3, xUnitVec3, a);
        if (len(tmpvec3) < 1e-6)
          cross(tmpvec3, yUnitVec3, a);
        normalize(tmpvec3, tmpvec3);
        setAxisAngle(out, tmpvec3, Math.PI);
        return out;
      } else if (dot5 > 0.999999) {
        out[0] = 0;
        out[1] = 0;
        out[2] = 0;
        out[3] = 1;
        return out;
      } else {
        cross(tmpvec3, a, b);
        out[0] = tmpvec3[0];
        out[1] = tmpvec3[1];
        out[2] = tmpvec3[2];
        out[3] = 1 + dot5;
        return normalize3(out, out);
      }
    };
  }();
  var sqlerp = function() {
    var temp1 = create5();
    var temp2 = create5();
    return function(out, a, b, c, d, t) {
      slerp(temp1, a, d, t);
      slerp(temp2, b, c, t);
      slerp(out, temp1, temp2, 2 * t * (1 - t));
      return out;
    };
  }();
  var setAxes = function() {
    var matr = create();
    return function(out, view, right, up) {
      matr[0] = right[0];
      matr[3] = right[1];
      matr[6] = right[2];
      matr[1] = up[0];
      matr[4] = up[1];
      matr[7] = up[2];
      matr[2] = -view[0];
      matr[5] = -view[1];
      matr[8] = -view[2];
      return normalize3(out, fromMat3(out, matr));
    };
  }();

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/gl-matrix/esm/quat2.js
  var quat2_exports = {};
  __export(quat2_exports, {
    add: () => add5,
    clone: () => clone5,
    conjugate: () => conjugate2,
    copy: () => copy5,
    create: () => create6,
    dot: () => dot4,
    equals: () => equals5,
    exactEquals: () => exactEquals5,
    fromMat4: () => fromMat4,
    fromRotation: () => fromRotation2,
    fromRotationTranslation: () => fromRotationTranslation2,
    fromRotationTranslationValues: () => fromRotationTranslationValues,
    fromTranslation: () => fromTranslation2,
    fromValues: () => fromValues5,
    getDual: () => getDual,
    getReal: () => getReal,
    getTranslation: () => getTranslation2,
    identity: () => identity3,
    invert: () => invert3,
    len: () => len3,
    length: () => length4,
    lerp: () => lerp4,
    mul: () => mul4,
    multiply: () => multiply4,
    normalize: () => normalize4,
    rotateAroundAxis: () => rotateAroundAxis,
    rotateByQuatAppend: () => rotateByQuatAppend,
    rotateByQuatPrepend: () => rotateByQuatPrepend,
    rotateX: () => rotateX4,
    rotateY: () => rotateY4,
    rotateZ: () => rotateZ4,
    scale: () => scale5,
    set: () => set5,
    setDual: () => setDual,
    setReal: () => setReal,
    sqrLen: () => sqrLen3,
    squaredLength: () => squaredLength4,
    str: () => str4,
    translate: () => translate2
  });
  function create6() {
    var dq = new ARRAY_TYPE(8);
    if (ARRAY_TYPE != Float32Array) {
      dq[0] = 0;
      dq[1] = 0;
      dq[2] = 0;
      dq[4] = 0;
      dq[5] = 0;
      dq[6] = 0;
      dq[7] = 0;
    }
    dq[3] = 1;
    return dq;
  }
  function clone5(a) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = a[0];
    dq[1] = a[1];
    dq[2] = a[2];
    dq[3] = a[3];
    dq[4] = a[4];
    dq[5] = a[5];
    dq[6] = a[6];
    dq[7] = a[7];
    return dq;
  }
  function fromValues5(x1, y1, z1, w1, x2, y2, z2, w2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    dq[4] = x2;
    dq[5] = y2;
    dq[6] = z2;
    dq[7] = w2;
    return dq;
  }
  function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {
    var dq = new ARRAY_TYPE(8);
    dq[0] = x1;
    dq[1] = y1;
    dq[2] = z1;
    dq[3] = w1;
    var ax = x2 * 0.5, ay = y2 * 0.5, az = z2 * 0.5;
    dq[4] = ax * w1 + ay * z1 - az * y1;
    dq[5] = ay * w1 + az * x1 - ax * z1;
    dq[6] = az * w1 + ax * y1 - ay * x1;
    dq[7] = -ax * x1 - ay * y1 - az * z1;
    return dq;
  }
  function fromRotationTranslation2(out, q, t) {
    var ax = t[0] * 0.5, ay = t[1] * 0.5, az = t[2] * 0.5, bx = q[0], by = q[1], bz = q[2], bw = q[3];
    out[0] = bx;
    out[1] = by;
    out[2] = bz;
    out[3] = bw;
    out[4] = ax * bw + ay * bz - az * by;
    out[5] = ay * bw + az * bx - ax * bz;
    out[6] = az * bw + ax * by - ay * bx;
    out[7] = -ax * bx - ay * by - az * bz;
    return out;
  }
  function fromTranslation2(out, t) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = t[0] * 0.5;
    out[5] = t[1] * 0.5;
    out[6] = t[2] * 0.5;
    out[7] = 0;
    return out;
  }
  function fromRotation2(out, q) {
    out[0] = q[0];
    out[1] = q[1];
    out[2] = q[2];
    out[3] = q[3];
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function fromMat4(out, a) {
    var outer = create5();
    getRotation(outer, a);
    var t = new ARRAY_TYPE(3);
    getTranslation(t, a);
    fromRotationTranslation2(out, outer, t);
    return out;
  }
  function copy5(out, a) {
    out[0] = a[0];
    out[1] = a[1];
    out[2] = a[2];
    out[3] = a[3];
    out[4] = a[4];
    out[5] = a[5];
    out[6] = a[6];
    out[7] = a[7];
    return out;
  }
  function identity3(out) {
    out[0] = 0;
    out[1] = 0;
    out[2] = 0;
    out[3] = 1;
    out[4] = 0;
    out[5] = 0;
    out[6] = 0;
    out[7] = 0;
    return out;
  }
  function set5(out, x1, y1, z1, w1, x2, y2, z2, w2) {
    out[0] = x1;
    out[1] = y1;
    out[2] = z1;
    out[3] = w1;
    out[4] = x2;
    out[5] = y2;
    out[6] = z2;
    out[7] = w2;
    return out;
  }
  var getReal = copy4;
  function getDual(out, a) {
    out[0] = a[4];
    out[1] = a[5];
    out[2] = a[6];
    out[3] = a[7];
    return out;
  }
  var setReal = copy4;
  function setDual(out, q) {
    out[4] = q[0];
    out[5] = q[1];
    out[6] = q[2];
    out[7] = q[3];
    return out;
  }
  function getTranslation2(out, a) {
    var ax = a[4], ay = a[5], az = a[6], aw = a[7], bx = -a[0], by = -a[1], bz = -a[2], bw = a[3];
    out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;
    out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;
    out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;
    return out;
  }
  function translate2(out, a, v) {
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3], bx1 = v[0] * 0.5, by1 = v[1] * 0.5, bz1 = v[2] * 0.5, ax2 = a[4], ay2 = a[5], az2 = a[6], aw2 = a[7];
    out[0] = ax1;
    out[1] = ay1;
    out[2] = az1;
    out[3] = aw1;
    out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;
    out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;
    out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;
    out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;
    return out;
  }
  function rotateX4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateX3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateY4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateY3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateZ4(out, a, rad) {
    var bx = -a[0], by = -a[1], bz = -a[2], bw = a[3], ax = a[4], ay = a[5], az = a[6], aw = a[7], ax1 = ax * bw + aw * bx + ay * bz - az * by, ay1 = ay * bw + aw * by + az * bx - ax * bz, az1 = az * bw + aw * bz + ax * by - ay * bx, aw1 = aw * bw - ax * bx - ay * by - az * bz;
    rotateZ3(out, a, rad);
    bx = out[0];
    by = out[1];
    bz = out[2];
    bw = out[3];
    out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    return out;
  }
  function rotateByQuatAppend(out, a, q) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], ax = a[0], ay = a[1], az = a[2], aw = a[3];
    out[0] = ax * qw + aw * qx + ay * qz - az * qy;
    out[1] = ay * qw + aw * qy + az * qx - ax * qz;
    out[2] = az * qw + aw * qz + ax * qy - ay * qx;
    out[3] = aw * qw - ax * qx - ay * qy - az * qz;
    ax = a[4];
    ay = a[5];
    az = a[6];
    aw = a[7];
    out[4] = ax * qw + aw * qx + ay * qz - az * qy;
    out[5] = ay * qw + aw * qy + az * qx - ax * qz;
    out[6] = az * qw + aw * qz + ax * qy - ay * qx;
    out[7] = aw * qw - ax * qx - ay * qy - az * qz;
    return out;
  }
  function rotateByQuatPrepend(out, q, a) {
    var qx = q[0], qy = q[1], qz = q[2], qw = q[3], bx = a[0], by = a[1], bz = a[2], bw = a[3];
    out[0] = qx * bw + qw * bx + qy * bz - qz * by;
    out[1] = qy * bw + qw * by + qz * bx - qx * bz;
    out[2] = qz * bw + qw * bz + qx * by - qy * bx;
    out[3] = qw * bw - qx * bx - qy * by - qz * bz;
    bx = a[4];
    by = a[5];
    bz = a[6];
    bw = a[7];
    out[4] = qx * bw + qw * bx + qy * bz - qz * by;
    out[5] = qy * bw + qw * by + qz * bx - qx * bz;
    out[6] = qz * bw + qw * bz + qx * by - qy * bx;
    out[7] = qw * bw - qx * bx - qy * by - qz * bz;
    return out;
  }
  function rotateAroundAxis(out, a, axis, rad) {
    if (Math.abs(rad) < EPSILON) {
      return copy5(out, a);
    }
    var axisLength = Math.hypot(axis[0], axis[1], axis[2]);
    rad = rad * 0.5;
    var s = Math.sin(rad);
    var bx = s * axis[0] / axisLength;
    var by = s * axis[1] / axisLength;
    var bz = s * axis[2] / axisLength;
    var bw = Math.cos(rad);
    var ax1 = a[0], ay1 = a[1], az1 = a[2], aw1 = a[3];
    out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;
    out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;
    out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;
    out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;
    var ax = a[4], ay = a[5], az = a[6], aw = a[7];
    out[4] = ax * bw + aw * bx + ay * bz - az * by;
    out[5] = ay * bw + aw * by + az * bx - ax * bz;
    out[6] = az * bw + aw * bz + ax * by - ay * bx;
    out[7] = aw * bw - ax * bx - ay * by - az * bz;
    return out;
  }
  function add5(out, a, b) {
    out[0] = a[0] + b[0];
    out[1] = a[1] + b[1];
    out[2] = a[2] + b[2];
    out[3] = a[3] + b[3];
    out[4] = a[4] + b[4];
    out[5] = a[5] + b[5];
    out[6] = a[6] + b[6];
    out[7] = a[7] + b[7];
    return out;
  }
  function multiply4(out, a, b) {
    var ax0 = a[0], ay0 = a[1], az0 = a[2], aw0 = a[3], bx1 = b[4], by1 = b[5], bz1 = b[6], bw1 = b[7], ax1 = a[4], ay1 = a[5], az1 = a[6], aw1 = a[7], bx0 = b[0], by0 = b[1], bz0 = b[2], bw0 = b[3];
    out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;
    out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;
    out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;
    out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;
    out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;
    out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;
    out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;
    out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;
    return out;
  }
  var mul4 = multiply4;
  function scale5(out, a, b) {
    out[0] = a[0] * b;
    out[1] = a[1] * b;
    out[2] = a[2] * b;
    out[3] = a[3] * b;
    out[4] = a[4] * b;
    out[5] = a[5] * b;
    out[6] = a[6] * b;
    out[7] = a[7] * b;
    return out;
  }
  var dot4 = dot3;
  function lerp4(out, a, b, t) {
    var mt = 1 - t;
    if (dot4(a, b) < 0)
      t = -t;
    out[0] = a[0] * mt + b[0] * t;
    out[1] = a[1] * mt + b[1] * t;
    out[2] = a[2] * mt + b[2] * t;
    out[3] = a[3] * mt + b[3] * t;
    out[4] = a[4] * mt + b[4] * t;
    out[5] = a[5] * mt + b[5] * t;
    out[6] = a[6] * mt + b[6] * t;
    out[7] = a[7] * mt + b[7] * t;
    return out;
  }
  function invert3(out, a) {
    var sqlen = squaredLength4(a);
    out[0] = -a[0] / sqlen;
    out[1] = -a[1] / sqlen;
    out[2] = -a[2] / sqlen;
    out[3] = a[3] / sqlen;
    out[4] = -a[4] / sqlen;
    out[5] = -a[5] / sqlen;
    out[6] = -a[6] / sqlen;
    out[7] = a[7] / sqlen;
    return out;
  }
  function conjugate2(out, a) {
    out[0] = -a[0];
    out[1] = -a[1];
    out[2] = -a[2];
    out[3] = a[3];
    out[4] = -a[4];
    out[5] = -a[5];
    out[6] = -a[6];
    out[7] = a[7];
    return out;
  }
  var length4 = length3;
  var len3 = length4;
  var squaredLength4 = squaredLength3;
  var sqrLen3 = squaredLength4;
  function normalize4(out, a) {
    var magnitude = squaredLength4(a);
    if (magnitude > 0) {
      magnitude = Math.sqrt(magnitude);
      var a0 = a[0] / magnitude;
      var a1 = a[1] / magnitude;
      var a2 = a[2] / magnitude;
      var a3 = a[3] / magnitude;
      var b0 = a[4];
      var b1 = a[5];
      var b2 = a[6];
      var b3 = a[7];
      var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;
      out[0] = a0;
      out[1] = a1;
      out[2] = a2;
      out[3] = a3;
      out[4] = (b0 - a0 * a_dot_b) / magnitude;
      out[5] = (b1 - a1 * a_dot_b) / magnitude;
      out[6] = (b2 - a2 * a_dot_b) / magnitude;
      out[7] = (b3 - a3 * a_dot_b) / magnitude;
    }
    return out;
  }
  function str4(a) {
    return "quat2(" + a[0] + ", " + a[1] + ", " + a[2] + ", " + a[3] + ", " + a[4] + ", " + a[5] + ", " + a[6] + ", " + a[7] + ")";
  }
  function exactEquals5(a, b) {
    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];
  }
  function equals5(a, b) {
    var a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3], a4 = a[4], a5 = a[5], a6 = a[6], a7 = a[7];
    var b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7];
    return Math.abs(a0 - b0) <= EPSILON * Math.max(1, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1, Math.abs(a7), Math.abs(b7));
  }

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/hit-test-location.js
  var __decorate3 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var HitTestLocation = class extends Component {
    tempScaling = new Float32Array(3);
    visible = false;
    xrHitTestSource = null;
    /** Reference space for creating the hit test when the session starts */
    xrReferenceSpace = null;
    /**
     * For maintaining backwards compatibility: Whether to scale the object to 0 and back.
     * @deprecated Use onHitLost and onHitFound instead.
     */
    scaleObject = true;
    /** Emits an event when the hit test switches from visible to invisible */
    onHitLost = new Emitter();
    /** Emits an event when the hit test switches from invisible to visible */
    onHitFound = new Emitter();
    onSessionStartCallback = null;
    onSessionEndCallback = null;
    start() {
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
      if (this.scaleObject) {
        this.tempScaling.set(this.object.scalingLocal);
        this.object.scale([0, 0, 0]);
        this.onHitLost.add(() => {
          this.tempScaling.set(this.object.scalingLocal);
          this.object.scale([0, 0, 0]);
        });
        this.onHitFound.add(() => {
          this.object.scalingLocal.set(this.tempScaling);
          this.object.setDirty();
        });
      }
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    update() {
      const wasVisible = this.visible;
      if (this.xrHitTestSource) {
        const frame = this.engine.xrFrame;
        if (!frame)
          return;
        let hitTestResults = frame.getHitTestResults(this.xrHitTestSource);
        if (hitTestResults.length > 0) {
          let pose = hitTestResults[0].getPose(this.engine.xr.currentReferenceSpace);
          this.visible = !!pose;
          if (pose) {
            setXRRigidTransformLocal(this.object, pose.transform);
          }
        } else {
          this.visible = false;
        }
      }
      if (this.visible != wasVisible) {
        (this.visible ? this.onHitFound : this.onHitLost).notify(this);
      }
    }
    getHitTestResults(frame = this.engine.xr?.frame ?? null) {
      if (!frame)
        return [];
      if (!this.xrHitTestSource)
        return [];
      return frame.getHitTestResults(this.xrHitTestSource);
    }
    onXRSessionStart(session) {
      if (session.requestHitTestSource === void 0) {
        console.error("hit-test-location: hit test feature not available. Deactivating component.");
        this.active = false;
        return;
      }
      session.requestHitTestSource({
        space: this.xrReferenceSpace ?? this.engine.xr.referenceSpaceForType("viewer")
      }).then((hitTestSource) => {
        this.xrHitTestSource = hitTestSource;
      }).catch(console.error);
    }
    onXRSessionEnd() {
      if (!this.xrHitTestSource)
        return;
      this.xrHitTestSource.cancel();
      this.xrHitTestSource = null;
    }
  };
  __publicField(HitTestLocation, "TypeName", "hit-test-location");
  __decorate3([
    property.bool(true)
  ], HitTestLocation.prototype, "scaleObject", void 0);

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/cursor.js
  var __decorate4 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec2 = new Float32Array(3);
  var CursorTargetEmitters = class {
    /** Emitter for events when the target is hovered */
    onHover = new Emitter();
    /** Emitter for events when the target is unhovered */
    onUnhover = new Emitter();
    /** Emitter for events when the target is clicked */
    onClick = new Emitter();
    /** Emitter for events when the cursor moves on the target */
    onMove = new Emitter();
    /** Emitter for events when the user pressed the select button on the target */
    onDown = new Emitter();
    /** Emitter for events when the user unpressed the select button on the target */
    onUp = new Emitter();
  };
  var Cursor = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HitTestLocation);
    }
    _collisionMask = 0;
    _onDeactivateCallbacks = [];
    _input = null;
    _origin = new Float32Array(3);
    _cursorObjScale = new Float32Array(3);
    _direction = new Float32Array(3);
    _projectionMatrix = new Float32Array(16);
    _viewComponent = null;
    _isDown = false;
    _lastIsDown = false;
    _arTouchDown = false;
    _lastPointerPos = new Float32Array(2);
    _lastCursorPosOnTarget = new Float32Array(3);
    _cursorRayScale = new Float32Array(3);
    _hitTestLocation = null;
    _hitTestObject = null;
    _onSessionStartCallback = null;
    /**
     * Whether the cursor (and cursorObject) is visible, i.e. pointing at an object
     * that matches the collision group
     */
    visible = true;
    /** Currently hovered object */
    hoveringObject = null;
    /** CursorTarget component of the currently hovered object */
    hoveringObjectTarget = null;
    /** Whether the cursor is hovering reality via hit-test */
    hoveringReality = false;
    /**
     * Global target lets you receive global cursor events on any object.
     */
    globalTarget = new CursorTargetEmitters();
    /**
     * Hit test target lets you receive cursor events for "reality", if
     * `useWebXRHitTest` is set to `true`.
     *
     * @example
     * ```js
     * cursor.hitTestTarget.onClick.add((hit, cursor) => {
     *     // User clicked on reality
     * });
     * ```
     */
    hitTestTarget = new CursorTargetEmitters();
    /** World position of the cursor */
    cursorPos = new Float32Array(3);
    /** Collision group for the ray cast. Only objects in this group will be affected by this cursor. */
    collisionGroup = 1;
    /** (optional) Object that visualizes the cursor's ray. */
    cursorRayObject = null;
    /** Axis along which to scale the `cursorRayObject`. */
    cursorRayScalingAxis = 2;
    /** (optional) Object that visualizes the cursor's hit location. */
    cursorObject = null;
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness = 0;
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode = 0;
    /** Maximum distance for the cursor's ray cast. */
    maxDistance = 100;
    /** Whether to set the CSS style of the mouse cursor on desktop */
    styleCursor = true;
    /**
     * Use WebXR hit-test if available.
     *
     * Attaches a hit-test-location component to the cursorObject, which will be used
     * by the cursor to send events to the hitTestTarget with HitTestResult.
     */
    useWebXRHitTest = false;
    _onViewportResize = () => {
      if (!this._viewComponent)
        return;
      mat4_exports.invert(this._projectionMatrix, this._viewComponent.projectionMatrix);
    };
    start() {
      this._collisionMask = 1 << this.collisionGroup;
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("cursor component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness || "none";
          this._input = inputComp;
        }
      } else {
        this.handedness = ["left", "right", "none"][this.handedness - 1];
      }
      this._viewComponent = this.object.getComponent(ViewComponent);
      if (this.useWebXRHitTest) {
        this._hitTestObject = this.engine.scene.addObject(this.object);
        this._hitTestLocation = this._hitTestObject.addComponent(HitTestLocation, {
          scaleObject: false
        }) ?? null;
      }
      this._onSessionStartCallback = this.setupVREvents.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this._onSessionStartCallback);
      this.engine.onResize.add(this._onViewportResize);
      this._setCursorVisibility(true);
      if (this._viewComponent != null) {
        const canvas2 = this.engine.canvas;
        const onClick = this.onClick.bind(this);
        const onPointerMove = this.onPointerMove.bind(this);
        const onPointerDown = this.onPointerDown.bind(this);
        const onPointerUp = this.onPointerUp.bind(this);
        canvas2.addEventListener("click", onClick);
        canvas2.addEventListener("pointermove", onPointerMove);
        canvas2.addEventListener("pointerdown", onPointerDown);
        canvas2.addEventListener("pointerup", onPointerUp);
        this._onDeactivateCallbacks.push(() => {
          canvas2.removeEventListener("click", onClick);
          canvas2.removeEventListener("pointermove", onPointerMove);
          canvas2.removeEventListener("pointerdown", onPointerDown);
          canvas2.removeEventListener("pointerup", onPointerUp);
        });
      }
      this._onViewportResize();
    }
    _setCursorRayTransform(hitPosition) {
      if (!this.cursorRayObject)
        return;
      const dist2 = vec3_exports.dist(this._origin, hitPosition);
      this.cursorRayObject.setTranslationLocal([0, 0, -dist2 / 2]);
      if (this.cursorRayScalingAxis != 4) {
        this.cursorRayObject.resetScaling();
        this._cursorRayScale[this.cursorRayScalingAxis] = dist2 / 2;
        this.cursorRayObject.scale(this._cursorRayScale);
      }
    }
    _setCursorVisibility(visible) {
      if (this.visible == visible)
        return;
      this.visible = visible;
      if (!this.cursorObject)
        return;
      if (visible) {
        this.cursorObject.setScalingWorld(this._cursorObjScale);
      } else {
        this.cursorObject.getScalingWorld(this._cursorObjScale);
        this.cursorObject.scaleLocal([0, 0, 0]);
      }
    }
    update() {
      if (this.engine.xr && this._arTouchDown && this._input && this.engine.xr.session.inputSources[0].handedness === "none" && this.engine.xr.session.inputSources[0].gamepad) {
        const p = this.engine.xr.session.inputSources[0].gamepad.axes;
        this._direction[0] = p[0];
        this._direction[1] = -p[1];
        this._direction[2] = -1;
        this.applyTransformAndProjectDirection();
      } else if (this.engine.xr && this._input && this._input.xrInputSource) {
        this._direction[0] = 0;
        this._direction[1] = 0;
        this._direction[2] = -1;
        this.applyTransformToDirection();
      } else if (this._viewComponent) {
        this.updateDirection();
      }
      this.rayCast(null, this.engine.xr?.frame);
      if (this.cursorObject) {
        if (this.hoveringObject && (this.cursorPos[0] != 0 || this.cursorPos[1] != 0 || this.cursorPos[2] != 0)) {
          this._setCursorVisibility(true);
          this.cursorObject.setTranslationWorld(this.cursorPos);
          this._setCursorRayTransform(this.cursorPos);
        } else {
          this._setCursorVisibility(false);
        }
      }
    }
    /* Returns the hovered cursor target, if available */
    notify(event, originalEvent) {
      const target = this.hoveringObject;
      if (target) {
        const cursorTarget = this.hoveringObjectTarget;
        if (cursorTarget)
          cursorTarget[event].notify(target, this, originalEvent ?? void 0);
        this.globalTarget[event].notify(target, this, originalEvent ?? void 0);
      }
    }
    hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent) {
      const hit = !this.hoveringReality && rayHit.hitCount > 0 ? rayHit.objects[0] : null;
      if (hit) {
        if (!this.hoveringObject || !this.hoveringObject.equals(hit)) {
          if (this.hoveringObject) {
            this.notify("onUnhover", originalEvent);
          }
          this.hoveringObject = hit;
          this.hoveringObjectTarget = this.hoveringObject.getComponent(CursorTarget);
          if (this.styleCursor)
            this.engine.canvas.style.cursor = "pointer";
          this.notify("onHover", originalEvent);
        }
      } else if (this.hoveringObject) {
        this.notify("onUnhover", originalEvent);
        this.hoveringObject = null;
        this.hoveringObjectTarget = null;
        if (this.styleCursor)
          this.engine.canvas.style.cursor = "default";
      }
      if (this.hoveringObject) {
        if (this._isDown !== this._lastIsDown) {
          this.notify(this._isDown ? "onDown" : "onUp", originalEvent);
        }
        if (doClick)
          this.notify("onClick", originalEvent);
      } else if (this.hoveringReality) {
        if (this._isDown !== this._lastIsDown) {
          (this._isDown ? this.hitTestTarget.onDown : this.hitTestTarget.onUp).notify(hitTestResult, this, originalEvent ?? void 0);
        }
        if (doClick)
          this.hitTestTarget.onClick.notify(hitTestResult, this, originalEvent ?? void 0);
      }
      if (hit) {
        if (this.hoveringObject) {
          this.hoveringObject.transformPointInverseWorld(tempVec2, this.cursorPos);
        } else {
          tempVec2.set(this.cursorPos);
        }
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, tempVec2)) {
          this.notify("onMove", originalEvent);
          this._lastCursorPosOnTarget.set(tempVec2);
        }
      } else if (this.hoveringReality) {
        if (!vec3_exports.equals(this._lastCursorPosOnTarget, this.cursorPos)) {
          this.hitTestTarget.onMove.notify(hitTestResult, this, originalEvent ?? void 0);
          this._lastCursorPosOnTarget.set(this.cursorPos);
        }
      } else {
        this._lastCursorPosOnTarget.set(this.cursorPos);
      }
      this._lastIsDown = this._isDown;
    }
    /**
     * Setup event listeners on session object
     * @param s WebXR session
     *
     * Sets up 'select' and 'end' events.
     */
    setupVREvents(s) {
      if (!s)
        console.error("setupVREvents called without a valid session");
      const onSelect = this.onSelect.bind(this);
      s.addEventListener("select", onSelect);
      const onSelectStart = this.onSelectStart.bind(this);
      s.addEventListener("selectstart", onSelectStart);
      const onSelectEnd = this.onSelectEnd.bind(this);
      s.addEventListener("selectend", onSelectEnd);
      this._onDeactivateCallbacks.push(() => {
        if (!this.engine.xrSession)
          return;
        s.removeEventListener("select", onSelect);
        s.removeEventListener("selectstart", onSelectStart);
        s.removeEventListener("selectend", onSelectEnd);
      });
      this._onViewportResize();
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this._onSessionStartCallback);
      this.engine.onResize.remove(this._onViewportResize);
      this._setCursorVisibility(false);
      if (this.hoveringObject)
        this.notify("onUnhover", null);
      if (this.cursorRayObject)
        this.cursorRayObject.scale([0, 0, 0]);
      for (const f of this._onDeactivateCallbacks)
        f();
      this._onDeactivateCallbacks.length = 0;
    }
    onDestroy() {
      this._hitTestObject?.destroy();
    }
    /** 'select' event listener */
    onSelect(e) {
      if (e.inputSource.handedness != this.handedness)
        return;
      this.rayCast(e, e.frame, true);
    }
    /** 'selectstart' event listener */
    onSelectStart(e) {
      this._arTouchDown = true;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = true;
        this.rayCast(e, e.frame);
      }
    }
    /** 'selectend' event listener */
    onSelectEnd(e) {
      this._arTouchDown = false;
      if (e.inputSource.handedness == this.handedness) {
        this._isDown = false;
        this.rayCast(e, e.frame);
      }
    }
    /** 'pointermove' event listener */
    onPointerMove(e) {
      if (!e.isPrimary)
        return;
      this.updateMousePos(e);
      this.rayCast(e, null);
    }
    /** 'click' event listener */
    onClick(e) {
      this.updateMousePos(e);
      this.rayCast(e, null, true);
    }
    /** 'pointerdown' event listener */
    onPointerDown(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = true;
      this.rayCast(e);
    }
    /** 'pointerup' event listener */
    onPointerUp(e) {
      if (!e.isPrimary || e.button !== 0)
        return;
      this.updateMousePos(e);
      this._isDown = false;
      this.rayCast(e);
    }
    /**
     * Update mouse position in non-VR mode and raycast for new position
     * @returns @ref WL.RayHit for new position.
     */
    updateMousePos(e) {
      this._lastPointerPos[0] = e.clientX;
      this._lastPointerPos[1] = e.clientY;
      this.updateDirection();
    }
    updateDirection() {
      const bounds = this.engine.canvas.getBoundingClientRect();
      const left = this._lastPointerPos[0] / bounds.width;
      const top = this._lastPointerPos[1] / bounds.height;
      this._direction[0] = left * 2 - 1;
      this._direction[1] = -top * 2 + 1;
      this._direction[2] = -1;
      this.applyTransformAndProjectDirection();
    }
    applyTransformAndProjectDirection() {
      vec3_exports.transformMat4(this._direction, this._direction, this._projectionMatrix);
      vec3_exports.normalize(this._direction, this._direction);
      this.applyTransformToDirection();
    }
    applyTransformToDirection() {
      vec3_exports.transformQuat(this._direction, this._direction, this.object.transformWorld);
      this.object.getTranslationWorld(this._origin);
    }
    rayCast(originalEvent, frame = null, doClick = false) {
      const rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(this._origin, this._direction, this._collisionMask) : this.engine.physics.rayCast(this._origin, this._direction, this._collisionMask, this.maxDistance);
      let hitResultDistance = Infinity;
      let hitTestResult = null;
      if (this._hitTestLocation?.visible) {
        this._hitTestObject.getTranslationWorld(this.cursorPos);
        hitResultDistance = vec3_exports.distance(this.object.getTranslationWorld(tempVec2), this.cursorPos);
        hitTestResult = this._hitTestLocation?.getHitTestResults(frame)[0];
      }
      let hoveringReality = false;
      if (rayHit.hitCount > 0) {
        const d = rayHit.distances[0];
        if (hitResultDistance >= d) {
          this.cursorPos.set(rayHit.locations[0]);
        } else {
          hoveringReality = true;
        }
      } else if (hitResultDistance < Infinity) {
      } else {
        this.cursorPos.fill(0);
      }
      if (hoveringReality && !this.hoveringReality) {
        this.hitTestTarget.onHover.notify(hitTestResult, this);
      } else if (!hoveringReality && this.hoveringReality) {
        this.hitTestTarget.onUnhover.notify(hitTestResult, this);
      }
      this.hoveringReality = hoveringReality;
      this.hoverBehaviour(rayHit, hitTestResult, doClick, originalEvent);
      return rayHit;
    }
  };
  __publicField(Cursor, "TypeName", "cursor");
  /* Dependencies is deprecated, but we keep it here for compatibility
   * with 1.0.0-rc2 until 1.0.0 is released */
  __publicField(Cursor, "Dependencies", [HitTestLocation]);
  __decorate4([
    property.int(1)
  ], Cursor.prototype, "collisionGroup", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorRayObject", void 0);
  __decorate4([
    property.enum(["x", "y", "z", "none"], "z")
  ], Cursor.prototype, "cursorRayScalingAxis", void 0);
  __decorate4([
    property.object()
  ], Cursor.prototype, "cursorObject", void 0);
  __decorate4([
    property.enum(["input component", "left", "right", "none"], "input component")
  ], Cursor.prototype, "handedness", void 0);
  __decorate4([
    property.enum(["collision", "physx"], "collision")
  ], Cursor.prototype, "rayCastMode", void 0);
  __decorate4([
    property.float(100)
  ], Cursor.prototype, "maxDistance", void 0);
  __decorate4([
    property.bool(true)
  ], Cursor.prototype, "styleCursor", void 0);
  __decorate4([
    property.bool(false)
  ], Cursor.prototype, "useWebXRHitTest", void 0);

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/debug-object.js
  var __decorate5 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var DebugObject = class extends Component {
    /** A second object to print the name of */
    obj = null;
    start() {
      let origin = new Float32Array(3);
      quat2_exports.getTranslation(origin, this.object.transformWorld);
      console.log("Debug object:", this.object.name);
      console.log("Other object:", this.obj?.name);
      console.log("	translation", origin);
      console.log("	transformWorld", this.object.transformWorld);
      console.log("	transformLocal", this.object.transformLocal);
    }
  };
  __publicField(DebugObject, "TypeName", "debug-object");
  __decorate5([
    property.object()
  ], DebugObject.prototype, "obj", void 0);

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/device-orientation-look.js
  function quatFromEulerYXZ(out, x, y, z) {
    const c1 = Math.cos(x / 2);
    const c2 = Math.cos(y / 2);
    const c3 = Math.cos(z / 2);
    const s1 = Math.sin(x / 2);
    const s2 = Math.sin(y / 2);
    const s3 = Math.sin(z / 2);
    out[0] = s1 * c2 * c3 + c1 * s2 * s3;
    out[1] = c1 * s2 * c3 - s1 * c2 * s3;
    out[2] = c1 * c2 * s3 - s1 * s2 * c3;
    out[3] = c1 * c2 * c3 + s1 * s2 * s3;
  }
  var DeviceOrientationLook = class extends Component {
    start() {
      this.rotationX = 0;
      this.rotationY = 0;
      this.lastClientX = -1;
      this.lastClientY = -1;
    }
    init() {
      this.deviceOrientation = [0, 0, 0, 1];
      this.screenOrientation = window.innerHeight > window.innerWidth ? 0 : 90;
      this._origin = [0, 0, 0];
      window.addEventListener("deviceorientation", function(e) {
        let alpha = e.alpha || 0;
        let beta = e.beta || 0;
        let gamma = e.gamma || 0;
        const toRad = Math.PI / 180;
        quatFromEulerYXZ(this.deviceOrientation, beta * toRad, alpha * toRad, -gamma * toRad);
      }.bind(this));
      window.addEventListener("orientationchange", function(e) {
        this.screenOrientation = window.orientation || 0;
      }.bind(this), false);
    }
    update() {
      if (this.engine.xr)
        return;
      this.object.getTranslationLocal(this._origin);
      this.object.resetTransform();
      if (this.screenOrientation != 0) {
        this.object.rotateAxisAngleDeg([0, 0, -1], this.screenOrientation);
      }
      this.object.rotate([-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)]);
      this.object.rotate(this.deviceOrientation);
      this.object.translate(this._origin);
    }
  };
  __publicField(DeviceOrientationLook, "TypeName", "device-orientation-look");
  __publicField(DeviceOrientationLook, "Properties", {});

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/finger-cursor.js
  var FingerCursor = class extends Component {
    init() {
      this.lastTarget = null;
    }
    start() {
      this.tip = this.object.getComponent("collision");
    }
    update() {
      const overlaps = this.tip.queryOverlaps();
      let overlapFound = null;
      for (let i = 0; i < overlaps.length; ++i) {
        const o = overlaps[i].object;
        const target = o.getComponent("cursor-target");
        if (target) {
          if (!target.equals(this.lastTarget)) {
            target.onHover(o, this);
            target.onClick(o, this);
          }
          overlapFound = target;
          break;
        }
      }
      if (!overlapFound) {
        if (this.lastTarget)
          this.lastTarget.onUnhover(this.lastTarget.object, this);
        this.lastTarget = null;
        return;
      } else {
        this.lastTarget = overlapFound;
      }
    }
  };
  __publicField(FingerCursor, "TypeName", "finger-cursor");
  __publicField(FingerCursor, "Properties", {});

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/fixed-foveation.js
  var FixedFoveation = class extends Component {
    start() {
      this.onSessionStartCallback = this.setFixedFoveation.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setFixedFoveation() {
      this.engine.xr.baseLayer.fixedFoveation = this.fixedFoveation;
    }
  };
  __publicField(FixedFoveation, "TypeName", "fixed-foveation");
  __publicField(FixedFoveation, "Properties", {
    /** Amount to apply from 0 (none) to 1 (full) */
    fixedFoveation: { type: Type.Float, default: 0.5 }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/hand-tracking.js
  var ORDERED_JOINTS = [
    "wrist",
    "thumb-metacarpal",
    "thumb-phalanx-proximal",
    "thumb-phalanx-distal",
    "thumb-tip",
    "index-finger-metacarpal",
    "index-finger-phalanx-proximal",
    "index-finger-phalanx-intermediate",
    "index-finger-phalanx-distal",
    "index-finger-tip",
    "middle-finger-metacarpal",
    "middle-finger-phalanx-proximal",
    "middle-finger-phalanx-intermediate",
    "middle-finger-phalanx-distal",
    "middle-finger-tip",
    "ring-finger-metacarpal",
    "ring-finger-phalanx-proximal",
    "ring-finger-phalanx-intermediate",
    "ring-finger-phalanx-distal",
    "ring-finger-tip",
    "pinky-finger-metacarpal",
    "pinky-finger-phalanx-proximal",
    "pinky-finger-phalanx-intermediate",
    "pinky-finger-phalanx-distal",
    "pinky-finger-tip"
  ];
  var invTranslation = new Float32Array(3);
  var invRotation = new Float32Array(4);
  var HandTracking = class extends Component {
    init() {
      this.handedness = ["left", "right"][this.handedness];
    }
    joints = {};
    session = null;
    /* Whether last update had a hand pose */
    hasPose = false;
    _childrenActive = true;
    start() {
      if (!("XRHand" in window)) {
        console.warn("WebXR Hand Tracking not supported by this browser.");
        this.active = false;
        return;
      }
      if (this.handSkin) {
        let skin = this.handSkin;
        let jointIds = skin.jointIds;
        this.joints[ORDERED_JOINTS[0]] = this.engine.wrapObject(jointIds[0]);
        for (let j = 0; j < jointIds.length; ++j) {
          let joint = this.engine.wrapObject(jointIds[j]);
          this.joints[joint.name] = joint;
        }
        return;
      }
      const jointObjects = this.engine.scene.addObjects(ORDERED_JOINTS.length, this.object.parent, ORDERED_JOINTS.length);
      for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
        let joint = jointObjects[j];
        joint.addComponent(MeshComponent, {
          mesh: this.jointMesh,
          material: this.jointMaterial
        });
        this.joints[ORDERED_JOINTS[j]] = joint;
      }
    }
    update(dt) {
      if (!this.session) {
        if (this.engine.xr)
          this.setupVREvents(this.engine.xr.session);
      }
      if (!this.session)
        return;
      this.hasPose = false;
      if (this.session && this.session.inputSources) {
        for (let i = 0; i < this.session.inputSources.length; ++i) {
          const inputSource = this.session.inputSources[i];
          if (!inputSource || !inputSource.hand || inputSource.handedness != this.handedness)
            continue;
          this.hasPose = true;
          const wristSpace = inputSource.hand.get("wrist");
          if (wristSpace !== null) {
            const p = this.engine.xr.frame.getJointPose(wristSpace, this.engine.xr.currentReferenceSpace);
            if (p) {
              setXRRigidTransformLocal(this.object, p.transform);
            }
          }
          this.object.getRotationLocal(invRotation);
          quat_exports.conjugate(invRotation, invRotation);
          this.object.getTranslationLocal(invTranslation);
          for (let j = 0; j < ORDERED_JOINTS.length; ++j) {
            const jointName = ORDERED_JOINTS[j];
            const joint = this.joints[jointName];
            if (joint === null)
              continue;
            let jointPose = null;
            const jointSpace = inputSource.hand.get(jointName);
            if (jointSpace !== null) {
              jointPose = this.engine.xr.frame.getJointPose(jointSpace, this.engine.xr.currentReferenceSpace);
            }
            if (jointPose !== null) {
              if (this.handSkin) {
                joint.resetTranslationRotation();
                joint.translate([
                  jointPose.transform.position.x - invTranslation[0],
                  jointPose.transform.position.y - invTranslation[1],
                  jointPose.transform.position.z - invTranslation[2]
                ]);
                joint.rotate(invRotation);
                joint.rotateObject([
                  jointPose.transform.orientation.x,
                  jointPose.transform.orientation.y,
                  jointPose.transform.orientation.z,
                  jointPose.transform.orientation.w
                ]);
              } else {
                setXRRigidTransformLocal(joint, jointPose.transform);
                const r = jointPose.radius || 7e-3;
                joint.setScalingLocal([r, r, r]);
              }
            }
          }
        }
      }
      if (!this.hasPose && this._childrenActive) {
        this._childrenActive = false;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(false);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = true;
          this.setChildrenActive(true, this.controllerToDeactivate);
        }
      } else if (this.hasPose && !this._childrenActive) {
        this._childrenActive = true;
        if (this.deactivateChildrenWithoutPose) {
          this.setChildrenActive(true);
        }
        if (this.controllerToDeactivate) {
          this.controllerToDeactivate.active = false;
          this.setChildrenActive(false, this.controllerToDeactivate);
        }
      }
    }
    setChildrenActive(active, object) {
      object = object || this.object;
      const children = object.children;
      for (const o of children) {
        o.active = active;
        this.setChildrenActive(active, o);
      }
    }
    isGrabbing() {
      const indexTipPos = [0, 0, 0];
      quat2_exports.getTranslation(indexTipPos, this.joints["index-finger-tip"].transformLocal);
      const thumbTipPos = [0, 0, 0];
      quat2_exports.getTranslation(thumbTipPos, this.joints["thumb-tip"].transformLocal);
      return vec3_exports.sqrDist(thumbTipPos, indexTipPos) < 1e-3;
    }
    setupVREvents(s) {
      this.session = s;
    }
  };
  __publicField(HandTracking, "TypeName", "hand-tracking");
  __publicField(HandTracking, "Properties", {
    /** Handedness determining whether to receive tracking input from right or left hand */
    handedness: { type: Type.Enum, default: "left", values: ["left", "right"] },
    /** (optional) Mesh to use to visualize joints */
    jointMesh: { type: Type.Mesh, default: null },
    /** Material to use for display. Applied to either the spawned skinned mesh or the joint spheres. */
    jointMaterial: { type: Type.Material, default: null },
    /** (optional) Skin to apply tracked joint poses to. If not present, joint spheres will be used for display instead. */
    handSkin: { type: Type.Skin, default: null },
    /** Deactivate children if no pose was tracked */
    deactivateChildrenWithoutPose: { type: Type.Bool, default: true },
    /** Controller objects to activate including children if no pose is available */
    controllerToDeactivate: { type: Type.Object }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/howler-audio-listener.js
  var import_howler = __toESM(require_howler(), 1);
  var HowlerAudioListener = class extends Component {
    init() {
      this.origin = new Float32Array(3);
      this.fwd = new Float32Array(3);
      this.up = new Float32Array(3);
    }
    update() {
      if (!this.spatial)
        return;
      this.object.getTranslationWorld(this.origin);
      this.object.getForward(this.fwd);
      this.object.getUp(this.up);
      Howler.pos(this.origin[0], this.origin[1], this.origin[2]);
      Howler.orientation(this.fwd[0], this.fwd[1], this.fwd[2], this.up[0], this.up[1], this.up[2]);
    }
  };
  __publicField(HowlerAudioListener, "TypeName", "howler-audio-listener");
  __publicField(HowlerAudioListener, "Properties", {
    /** Whether audio should be spatialized/positional. */
    spatial: { type: Type.Bool, default: true }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/howler-audio-source.js
  var import_howler2 = __toESM(require_howler(), 1);
  var HowlerAudioSource = class extends Component {
    start() {
      this.audio = new Howl({
        src: [this.src],
        loop: this.loop,
        volume: this.volume,
        autoplay: this.autoplay
      });
      this.lastPlayedAudioId = null;
      this.origin = new Float32Array(3);
      this.lastOrigin = new Float32Array(3);
      if (this.spatial && this.autoplay) {
        this.updatePosition();
        this.play();
      }
    }
    update() {
      if (!this.spatial || !this.lastPlayedAudioId)
        return;
      this.object.getTranslationWorld(this.origin);
      if (Math.abs(this.lastOrigin[0] - this.origin[0]) > 5e-3 || Math.abs(this.lastOrigin[1] - this.origin[1]) > 5e-3 || Math.abs(this.lastOrigin[2] - this.origin[2]) > 5e-3) {
        this.updatePosition();
      }
    }
    updatePosition() {
      this.audio.pos(this.origin[0], this.origin[1], this.origin[2], this.lastPlayedAudioId);
      this.lastOrigin.set(this.origin);
    }
    play() {
      if (this.lastPlayedAudioId)
        this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = this.audio.play();
      if (this.spatial)
        this.updatePosition();
    }
    stop() {
      if (!this.lastPlayedAudioId)
        return;
      this.audio.stop(this.lastPlayedAudioId);
      this.lastPlayedAudioId = null;
    }
    onDeactivate() {
      this.stop();
    }
  };
  __publicField(HowlerAudioSource, "TypeName", "howler-audio-source");
  __publicField(HowlerAudioSource, "Properties", {
    /** Volume */
    volume: { type: Type.Float, default: 1 },
    /** Whether audio should be spatialized/positional */
    spatial: { type: Type.Bool, default: true },
    /** Whether to loop the sound */
    loop: { type: Type.Bool, default: false },
    /** Whether to start playing automatically */
    autoplay: { type: Type.Bool, default: false },
    /** URL to a sound file to play */
    src: { type: Type.String, default: "" }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/utils/utils.js
  function setFirstMaterialTexture(mat, texture, customTextureProperty) {
    if (customTextureProperty !== "auto") {
      mat[customTextureProperty] = texture;
      return true;
    }
    const shader = mat.shader;
    if (shader === "Flat Opaque Textured") {
      mat.flatTexture = texture;
      return true;
    } else if (shader === "Phong Opaque Textured" || shader === "Foliage" || shader === "Phong Normalmapped" || shader === "Phong Lightmapped") {
      mat.diffuseTexture = texture;
      return true;
    } else if (shader === "Particle") {
      mat.mainTexture = texture;
      return true;
    } else if (shader === "DistanceFieldVector") {
      mat.vectorTexture = texture;
      return true;
    } else if (shader === "Background" || shader === "Sky") {
      mat.texture = texture;
      return true;
    } else if (shader === "Physical Opaque Textured") {
      mat.albedoTexture = texture;
      return true;
    }
    return false;
  }

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/image-texture.js
  var ImageTexture = class extends Component {
    start() {
      if (!this.material) {
        throw Error("image-texture: material property not set");
      }
      this.engine.textures.load(this.url, "anonymous").then((texture) => {
        const mat = this.material;
        if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
          console.error("Shader", mat.shader, "not supported by image-texture");
        }
      }).catch(console.err);
    }
  };
  __publicField(ImageTexture, "TypeName", "image-texture");
  __publicField(ImageTexture, "Properties", {
    /** URL to download the image from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/mouse-look.js
  var MouseLookComponent = class extends Component {
    init() {
      this.currentRotationY = 0;
      this.currentRotationX = 0;
      this.origin = new Float32Array(3);
      this.parentOrigin = new Float32Array(3);
      this.rotationX = 0;
      this.rotationY = 0;
    }
    start() {
      document.addEventListener("mousemove", (e) => {
        if (this.active && (this.mouseDown || !this.requireMouseDown)) {
          this.rotationY = -this.sensitity * e.movementX / 100;
          this.rotationX = -this.sensitity * e.movementY / 100;
          this.currentRotationX += this.rotationX;
          this.currentRotationY += this.rotationY;
          this.currentRotationX = Math.min(1.507, this.currentRotationX);
          this.currentRotationX = Math.max(-1.507, this.currentRotationX);
          this.object.getTranslationWorld(this.origin);
          const parent = this.object.parent;
          if (parent !== null) {
            parent.getTranslationWorld(this.parentOrigin);
            vec3_exports.sub(this.origin, this.origin, this.parentOrigin);
          }
          this.object.resetTranslationRotation();
          this.object.rotateAxisAngleRad([1, 0, 0], this.currentRotationX);
          this.object.rotateAxisAngleRad([0, 1, 0], this.currentRotationY);
          this.object.translate(this.origin);
        }
      });
      const canvas2 = this.engine.canvas;
      if (this.pointerLockOnClick) {
        canvas2.addEventListener("mousedown", () => {
          canvas2.requestPointerLock = canvas2.requestPointerLock || canvas2.mozRequestPointerLock || canvas2.webkitRequestPointerLock;
          canvas2.requestPointerLock();
        });
      }
      if (this.requireMouseDown) {
        if (this.mouseButtonIndex == 2) {
          canvas2.addEventListener("contextmenu", (e) => {
            e.preventDefault();
          }, false);
        }
        canvas2.addEventListener("mousedown", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = true;
            document.body.style.cursor = "grabbing";
            if (e.button == 1) {
              e.preventDefault();
              return false;
            }
          }
        });
        canvas2.addEventListener("mouseup", (e) => {
          if (e.button == this.mouseButtonIndex) {
            this.mouseDown = false;
            document.body.style.cursor = "initial";
          }
        });
      }
    }
  };
  __publicField(MouseLookComponent, "TypeName", "mouse-look");
  __publicField(MouseLookComponent, "Properties", {
    /** Mouse look sensitivity */
    sensitity: { type: Type.Float, default: 0.25 },
    /** Require a mouse button to be pressed to control view.
     * Otherwise view will allways follow mouse movement */
    requireMouseDown: { type: Type.Bool, default: true },
    /** If "moveOnClick" is enabled, mouse button which should
     * be held down to control view */
    mouseButtonIndex: { type: Type.Int },
    /** Enables pointer lock on "mousedown" event on canvas */
    pointerLockOnClick: { type: Type.Bool, default: false }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/player-height.js
  var __decorate6 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var PlayerHeight = class extends Component {
    height = 1.75;
    onSessionStartCallback;
    onSessionEndCallback;
    start() {
      this.object.resetPositionRotation();
      this.object.translateLocal([0, this.height, 0]);
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    onXRSessionStart() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
      }
    }
    onXRSessionEnd() {
      const type = this.engine.xr?.currentReferenceSpaceType;
      if (type !== "local" && type !== "viewer") {
        this.object.resetPositionRotation();
        this.object.translateLocal([0, this.height, 0]);
      }
    }
  };
  __publicField(PlayerHeight, "TypeName", "player-height");
  __decorate6([
    property.float(1.75)
  ], PlayerHeight.prototype, "height", void 0);

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/target-framerate.js
  var TargetFramerate = class extends Component {
    start() {
      this.onSessionStartCallback = this.setTargetFramerate.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    setTargetFramerate(s) {
      if (s.supportedFrameRates && s.updateTargetFrameRate) {
        const a = this.engine.xr.session.supportedFrameRates;
        a.sort((a2, b) => Math.abs(a2 - this.framerate) - Math.abs(b - this.framerate));
        this.engine.xr.session.updateTargetFrameRate(a[0]);
      }
    }
  };
  __publicField(TargetFramerate, "TypeName", "target-framerate");
  __publicField(TargetFramerate, "Properties", {
    framerate: { type: Type.Float, default: 90 }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/teleport.js
  var TeleportComponent = class extends Component {
    init() {
      this._prevThumbstickAxis = new Float32Array(2);
      this._tempVec = new Float32Array(3);
      this._tempVec0 = new Float32Array(3);
      this._currentIndicatorRotation = 0;
      this.input = this.object.getComponent("input");
      if (!this.input) {
        console.error(this.object.name, "generic-teleport-component.js: input component is required on the object");
        return;
      }
      if (!this.teleportIndicatorMeshObject) {
        console.error(this.object.name, "generic-teleport-component.js: Teleport indicator mesh is missing");
        return;
      }
      if (!this.camRoot) {
        console.error(this.object.name, "generic-teleport-component.js: camRoot not set");
        return;
      }
      this.isIndicating = false;
      this.indicatorHidden = true;
      this.hitSpot = new Float32Array(3);
      this._hasHit = false;
      this._extraRotation = 0;
      this._currentStickAxes = new Float32Array(2);
    }
    start() {
      if (this.cam) {
        this.isMouseIndicating = false;
        canvas.addEventListener("mousedown", this.onMouseDown.bind(this));
        canvas.addEventListener("mouseup", this.onMouseUp.bind(this));
      }
      if (this.handedness == 0) {
        const inputComp = this.object.getComponent("input");
        if (!inputComp) {
          console.warn("teleport component on object", this.object.name, 'was configured with handedness "input component", but object has no input component.');
        } else {
          this.handedness = inputComp.handedness;
          this.input = inputComp;
        }
      } else {
        this.handedness = ["left", "right"][this.handedness - 1];
      }
      this.onSessionStartCallback = this.setupVREvents.bind(this);
      this.teleportIndicatorMeshObject.active = false;
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
    }
    /* Get current camera Y rotation */
    _getCamRotation() {
      this.eyeLeft.getForward(this._tempVec);
      this._tempVec[1] = 0;
      vec3_exports.normalize(this._tempVec, this._tempVec);
      return Math.atan2(this._tempVec[0], this._tempVec[2]);
    }
    update() {
      let inputLength = 0;
      if (this.gamepad && this.gamepad.axes) {
        this._currentStickAxes[0] = this.gamepad.axes[2];
        this._currentStickAxes[1] = this.gamepad.axes[3];
        inputLength = Math.abs(this._currentStickAxes[0]) + Math.abs(this._currentStickAxes[1]);
      }
      if (!this.isIndicating && this._prevThumbstickAxis[1] >= this.thumbstickActivationThreshhold && this._currentStickAxes[1] < this.thumbstickActivationThreshhold) {
        this.isIndicating = true;
      } else if (this.isIndicating && inputLength < this.thumbstickDeactivationThreshhold) {
        this.isIndicating = false;
        this.teleportIndicatorMeshObject.active = false;
        if (this._hasHit) {
          this._teleportPlayer(this.hitSpot, this._extraRotation);
        }
      }
      if (this.isIndicating && this.teleportIndicatorMeshObject && this.input) {
        const origin = this._tempVec0;
        this.object.getPositionWorld(origin);
        const direction2 = this.object.getForwardWorld(this._tempVec);
        let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
        if (rayHit.hitCount > 0) {
          this.indicatorHidden = false;
          this._extraRotation = Math.PI + Math.atan2(this._currentStickAxes[0], this._currentStickAxes[1]);
          this._currentIndicatorRotation = this._getCamRotation() + (this._extraRotation - Math.PI);
          this.teleportIndicatorMeshObject.resetPositionRotation();
          this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
          this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
          this.teleportIndicatorMeshObject.translate([
            0,
            this.indicatorYOffset,
            0
          ]);
          this.teleportIndicatorMeshObject.active = true;
          this.hitSpot.set(rayHit.locations[0]);
          this._hasHit = true;
        } else {
          if (!this.indicatorHidden) {
            this.teleportIndicatorMeshObject.active = false;
            this.indicatorHidden = true;
          }
          this._hasHit = false;
        }
      } else if (this.teleportIndicatorMeshObject && this.isMouseIndicating) {
        this.onMousePressed();
      }
      this._prevThumbstickAxis.set(this._currentStickAxes);
    }
    setupVREvents(s) {
      this.session = s;
      s.addEventListener("end", function() {
        this.gamepad = null;
        this.session = null;
      }.bind(this));
      if (s.inputSources && s.inputSources.length) {
        for (let i = 0; i < s.inputSources.length; i++) {
          let inputSource = s.inputSources[i];
          if (inputSource.handedness == this.handedness) {
            this.gamepad = inputSource.gamepad;
          }
        }
      }
      s.addEventListener("inputsourceschange", function(e) {
        if (e.added && e.added.length) {
          for (let i = 0; i < e.added.length; i++) {
            let inputSource = e.added[i];
            if (inputSource.handedness == this.handedness) {
              this.gamepad = inputSource.gamepad;
            }
          }
        }
      }.bind(this));
    }
    onMouseDown() {
      this.isMouseIndicating = true;
    }
    onMouseUp() {
      this.isMouseIndicating = false;
      this.teleportIndicatorMeshObject.active = false;
      if (this._hasHit) {
        this._teleportPlayer(this.hitSpot, 0);
      }
    }
    onMousePressed() {
      let origin = [0, 0, 0];
      this.cam.getPositionWorld(origin);
      const direction2 = this.cam.getForward(this._tempVec);
      let rayHit = this.rayHit = this.rayCastMode == 0 ? this.engine.scene.rayCast(origin, direction2, 1 << this.floorGroup) : this.engine.physics.rayCast(origin, direction2, 1 << this.floorGroup, this.maxDistance);
      if (rayHit.hitCount > 0) {
        this.indicatorHidden = false;
        direction2[1] = 0;
        vec3_exports.normalize(direction2, direction2);
        this._currentIndicatorRotation = -Math.sign(direction2[2]) * Math.acos(direction2[0]) - Math.PI * 0.5;
        this.teleportIndicatorMeshObject.resetPositionRotation();
        this.teleportIndicatorMeshObject.rotateAxisAngleRad([0, 1, 0], this._currentIndicatorRotation);
        this.teleportIndicatorMeshObject.translate(rayHit.locations[0]);
        this.teleportIndicatorMeshObject.active = true;
        this.hitSpot = rayHit.locations[0];
        this._hasHit = true;
      } else {
        if (!this.indicatorHidden) {
          this.teleportIndicatorMeshObject.active = false;
          this.indicatorHidden = true;
        }
        this._hasHit = false;
      }
    }
    _teleportPlayer(newPosition, rotationToAdd) {
      this.camRoot.rotateAxisAngleRad([0, 1, 0], rotationToAdd);
      const p = this._tempVec;
      const p1 = this._tempVec0;
      if (this.session) {
        this.eyeLeft.getPositionWorld(p);
        this.eyeRight.getPositionWorld(p1);
        vec3_exports.add(p, p, p1);
        vec3_exports.scale(p, p, 0.5);
      } else {
        this.cam.getPositionWorld(p);
      }
      this.camRoot.getPositionWorld(p1);
      vec3_exports.sub(p, p1, p);
      p[0] += newPosition[0];
      p[1] = newPosition[1];
      p[2] += newPosition[2];
      this.camRoot.setPositionWorld(p);
    }
  };
  __publicField(TeleportComponent, "TypeName", "teleport");
  __publicField(TeleportComponent, "Properties", {
    /** Object that will be placed as indiciation forwhere the player will teleport to. */
    teleportIndicatorMeshObject: { type: Type.Object },
    /** Root of the player, the object that will be positioned on teleportation. */
    camRoot: { type: Type.Object },
    /** Non-vr camera for use outside of VR */
    cam: { type: Type.Object },
    /** Left eye for use in VR*/
    eyeLeft: { type: Type.Object },
    /** Right eye for use in VR*/
    eyeRight: { type: Type.Object },
    /** Handedness for VR cursors to accept trigger events only from respective controller. */
    handedness: {
      type: Type.Enum,
      values: ["input component", "left", "right", "none"],
      default: "input component"
    },
    /** Collision group of valid "floor" objects that can be teleported on */
    floorGroup: { type: Type.Int, default: 1 },
    /** How far the thumbstick needs to be pushed to have the teleport target indicator show up */
    thumbstickActivationThreshhold: { type: Type.Float, default: -0.7 },
    /** How far the thumbstick needs to be released to execute the teleport */
    thumbstickDeactivationThreshhold: { type: Type.Float, default: 0.3 },
    /** Offset to apply to the indicator object, e.g. to avoid it from Z-fighting with the floor */
    indicatorYOffset: { type: Type.Float, default: 0.01 },
    /** Mode for raycasting, whether to use PhysX or simple collision components */
    rayCastMode: {
      type: Type.Enum,
      values: ["collision", "physx"],
      default: "collision"
    },
    /** Max distance for PhysX raycast */
    maxDistance: { type: Type.Float, default: 100 }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/trail.js
  var direction = vec3_exports.create();
  var offset = vec3_exports.create();
  var normal = vec3_exports.create();
  var Trail = class extends Component {
    init() {
      this.points = new Array(this.segments + 1);
      for (let i = 0; i < this.points.length; ++i) {
        this.points[i] = vec3_exports.create();
      }
      this.currentPointOffset = 0;
      this.up = [0, 1, 0];
      this.timeTillNext = this.interval;
    }
    start() {
      this.trailContainer = this.engine.scene.addObject();
      this.meshComp = this.trailContainer.addComponent("mesh");
      this.meshComp.material = this.material;
      const vertexCount = 2 * this.points.length;
      this.indexData = new Uint32Array(6 * this.segments);
      for (let i = 0, v = 0; i < vertexCount - 2; i += 2, v += 6) {
        this.indexData.subarray(v, v + 6).set([i + 1, i + 0, i + 2, i + 2, i + 3, i + 1]);
      }
      this.mesh = new Mesh(this.engine, {
        vertexCount,
        indexData: this.indexData,
        indexType: MeshIndexType.UnsignedInt
      });
      this.meshComp.mesh = this.mesh;
    }
    updateVertices() {
      const positions = this.mesh.attribute(MeshAttribute.Position);
      const texCoords = this.mesh.attribute(MeshAttribute.TextureCoordinate);
      const normals = this.mesh.attribute(MeshAttribute.Normal);
      vec3_exports.set(direction, 0, 0, 0);
      for (let i = 0; i < this.points.length; ++i) {
        const curr = this.points[(this.currentPointIndex + i + 1) % this.points.length];
        const next = this.points[(this.currentPointIndex + i + 2) % this.points.length];
        if (i !== this.points.length - 1) {
          vec3_exports.sub(direction, next, curr);
        }
        vec3_exports.cross(offset, this.up, direction);
        vec3_exports.normalize(offset, offset);
        const timeFraction = 1 - this.timeTillNext / this.interval;
        const fraction = (i - timeFraction) / this.segments;
        vec3_exports.scale(offset, offset, (this.taper ? fraction : 1) * this.width / 2);
        positions.set(i * 2, [
          curr[0] - offset[0],
          curr[1] - offset[1],
          curr[2] - offset[2]
        ]);
        positions.set(i * 2 + 1, [
          curr[0] + offset[0],
          curr[1] + offset[1],
          curr[2] + offset[2]
        ]);
        if (normals) {
          vec3_exports.cross(normal, direction, offset);
          vec3_exports.normalize(normal, normal);
          normals.set(i * 2, normal);
          normals.set(i * 2 + 1, normal);
        }
        if (texCoords) {
          texCoords.set(i * 2, [0, fraction]);
          texCoords.set(i * 2 + 1, [1, fraction]);
        }
      }
      this.mesh.update();
    }
    resetTrail() {
      this.object.getTranslationWorld(this.points[0]);
      for (let i = 1; i < this.points.length; ++i) {
        vec3_exports.copy(this.points[i], this.points[0]);
      }
      this.currentPointIndex = 0;
      this.timeTillNext = this.interval;
    }
    update(dt) {
      this.timeTillNext -= dt;
      if (dt > this.resetThreshold) {
        this.resetTrail();
      }
      if (this.timeTillNext < 0) {
        this.currentPointIndex = (this.currentPointIndex + 1) % this.points.length;
        this.timeTillNext = this.timeTillNext % this.interval + this.interval;
      }
      this.object.getTranslationWorld(this.points[this.currentPointIndex]);
      this.updateVertices();
    }
    onActivate() {
      this.resetTrail();
    }
    onDestroy() {
      this.trailContainer.destroy();
      this.mesh.destroy();
    }
  };
  __publicField(Trail, "TypeName", "trail");
  __publicField(Trail, "Properties", {
    /** The material to apply to the trail mesh */
    material: { type: Type.Material },
    /** The number of segments in the trail mesh */
    segments: { type: Type.Int, default: 50 },
    /** The time interval before recording a new point */
    interval: { type: Type.Float, default: 0.1 },
    /** The width of the trail (in world space) */
    width: { type: Type.Float, default: 1 },
    /** Whether or not the trail should taper off */
    taper: { type: Type.Bool, default: true },
    /**
     * The maximum delta time in seconds, above which the trail resets.
     * This prevents the trail from jumping around when updates happen
     * infrequently (e.g. when the tab doesn't have focus).
     */
    resetThreshold: { type: Type.Float, default: 0.5 }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/two-joint-ik-solver.js
  function clamp2(v, a, b) {
    return Math.max(a, Math.min(v, b));
  }
  var rootScaling = new Float32Array(3);
  var tempQuat3 = new Float32Array(4);
  var middlePos = new Float32Array(3);
  var endPos = new Float32Array(3);
  var targetPos = new Float32Array(3);
  var helperPos = new Float32Array(3);
  var rootTransform = new Float32Array(8);
  var middleTransform = new Float32Array(8);
  var endTransform = new Float32Array(8);
  var twoJointIK = function() {
    const ta = new Float32Array(3);
    const ca = new Float32Array(3);
    const ba = new Float32Array(3);
    const ab = new Float32Array(3);
    const cb = new Float32Array(3);
    const axis0 = new Float32Array(3);
    const axis1 = new Float32Array(3);
    const temp = new Float32Array(3);
    return function(root, middle, b, c, targetPos2, eps, helper) {
      ba.set(b);
      const lab = vec3_exports.length(ba);
      vec3_exports.sub(ta, b, c);
      const lcb = vec3_exports.length(ta);
      ta.set(targetPos2);
      const lat = clamp2(vec3_exports.length(ta), eps, lab + lcb - eps);
      ca.set(c);
      vec3_exports.scale(ab, b, -1);
      vec3_exports.sub(cb, c, b);
      vec3_exports.normalize(ca, ca);
      vec3_exports.normalize(ba, ba);
      vec3_exports.normalize(ab, ab);
      vec3_exports.normalize(cb, cb);
      vec3_exports.normalize(ta, ta);
      const ac_ab_0 = Math.acos(clamp2(vec3_exports.dot(ca, ba), -1, 1));
      const ba_bc_0 = Math.acos(clamp2(vec3_exports.dot(ab, cb), -1, 1));
      const ac_at_0 = Math.acos(clamp2(vec3_exports.dot(ca, ta), -1, 1));
      const ac_ab_1 = Math.acos(clamp2((lcb * lcb - lab * lab - lat * lat) / (-2 * lab * lat), -1, 1));
      const ba_bc_1 = Math.acos(clamp2((lat * lat - lab * lab - lcb * lcb) / (-2 * lab * lcb), -1, 1));
      if (helper) {
        vec3_exports.sub(ba, helper, b);
        vec3_exports.normalize(ba, ba);
      }
      vec3_exports.cross(axis0, ca, ba);
      vec3_exports.normalize(axis0, axis0);
      vec3_exports.cross(axis1, c, targetPos2);
      vec3_exports.normalize(axis1, axis1);
      middle.transformVectorInverseLocal(temp, axis0);
      root.rotateAxisAngleRadObject(axis1, ac_at_0);
      root.rotateAxisAngleRadObject(axis0, ac_ab_1 - ac_ab_0);
      middle.rotateAxisAngleRadObject(axis0, ba_bc_1 - ba_bc_0);
    };
  }();
  var TwoJointIkSolver = class extends Component {
    time = 0;
    start() {
      this.root.getTransformLocal(rootTransform);
      this.middle.getTransformLocal(middleTransform);
      this.end.getTransformLocal(endTransform);
    }
    update(dt) {
      this.time += dt;
      this.root.setTransformLocal(rootTransform);
      this.middle.setTransformLocal(middleTransform);
      this.end.setTransformLocal(endTransform);
      this.root.getScalingWorld(rootScaling);
      this.middle.getPositionLocal(middlePos);
      this.end.getPositionLocal(endPos);
      this.middle.transformPointLocal(endPos, endPos);
      if (this.helper) {
        this.helper.getPositionWorld(helperPos);
        this.root.transformPointInverseWorld(helperPos, helperPos);
        vec3_exports.div(helperPos, helperPos, rootScaling);
      }
      this.target.getPositionWorld(targetPos);
      this.root.transformPointInverseWorld(targetPos, targetPos);
      vec3_exports.div(targetPos, targetPos, rootScaling);
      twoJointIK(this.root, this.middle, middlePos, endPos, targetPos, 0.01, this.helper ? helperPos : null, this.time);
      if (this.copyTargetRotation) {
        this.end.setRotationWorld(this.target.getRotationWorld(tempQuat3));
      }
    }
  };
  __publicField(TwoJointIkSolver, "TypeName", "two-joint-ik-solver");
  __publicField(TwoJointIkSolver, "Properties", {
    /** Root bone, never moves */
    root: Property.object(),
    /** Bone attached to the root */
    middle: Property.object(),
    /** Bone attached to the middle */
    end: Property.object(),
    /** Target the joins should reach for */
    target: Property.object(),
    /** Flag for copying rotation from target to end */
    copyTargetRotation: Property.bool(true),
    /** Helper object to use to determine joint rotation axis */
    helper: Property.object()
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/video-texture.js
  var VideoTexture = class extends Component {
    init() {
      if (!this.material) {
        throw Error("video-texture: material property not set");
      }
      this.loaded = false;
      this.frameUpdateRequested = true;
    }
    start() {
      this.video = document.createElement("video");
      this.video.src = this.url;
      this.video.crossOrigin = "anonymous";
      this.video.playsInline = true;
      this.video.loop = this.loop;
      this.video.muted = this.muted;
      this.video.addEventListener("playing", () => {
        this.loaded = true;
      });
      if (this.autoplay) {
        const playAfterUserGesture = () => {
          this.video.play();
          window.removeEventListener("click", playAfterUserGesture);
          window.removeEventListener("touchstart", playAfterUserGesture);
        };
        window.addEventListener("click", playAfterUserGesture);
        window.addEventListener("touchstart", playAfterUserGesture);
      }
    }
    applyTexture() {
      const mat = this.material;
      const shader = mat.shader;
      const texture = this.texture = new Texture(this.engine, this.video);
      if (!setFirstMaterialTexture(mat, texture, this.textureProperty)) {
        console.error("Shader", shader, "not supported by video-texture");
      }
      if ("requestVideoFrameCallback" in this.video) {
        this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
      } else {
        this.video.addEventListener("timeupdate", () => {
          this.frameUpdateRequested = true;
        });
      }
    }
    update(dt) {
      if (this.loaded && this.frameUpdateRequested) {
        if (this.texture) {
          this.texture.update();
        } else {
          this.applyTexture();
        }
        this.frameUpdateRequested = false;
      }
    }
    updateVideo() {
      this.frameUpdateRequested = true;
      this.video.requestVideoFrameCallback(this.updateVideo.bind(this));
    }
  };
  __publicField(VideoTexture, "TypeName", "video-texture");
  __publicField(VideoTexture, "Properties", {
    /** URL to download video from */
    url: Property.string(),
    /** Material to apply the video texture to */
    material: Property.material(),
    /** Whether to loop the video */
    loop: Property.bool(true),
    /** Whether to automatically start playing the video */
    autoplay: Property.bool(true),
    /** Whether to mute sound */
    muted: Property.bool(true),
    /** Name of the texture property to set */
    textureProperty: Property.string("auto")
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/vr-mode-active-switch.js
  var VrModeActiveSwitch = class extends Component {
    start() {
      this.components = [];
      this.getComponents(this.object);
      this.onXRSessionEnd();
      this.onSessionStartCallback = this.onXRSessionStart.bind(this);
      this.onSessionEndCallback = this.onXRSessionEnd.bind(this);
    }
    onActivate() {
      this.engine.onXRSessionStart.add(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.add(this.onSessionEndCallback);
    }
    onDeactivate() {
      this.engine.onXRSessionStart.remove(this.onSessionStartCallback);
      this.engine.onXRSessionEnd.remove(this.onSessionEndCallback);
    }
    getComponents(obj) {
      const comps = obj.getComponents().filter((c) => c.type !== "vr-mode-active-switch");
      this.components = this.components.concat(comps);
      if (this.affectChildren) {
        let children = obj.children;
        for (let i = 0; i < children.length; ++i) {
          this.getComponents(children[i]);
        }
      }
    }
    setComponentsActive(active) {
      const comps = this.components;
      for (let i = 0; i < comps.length; ++i) {
        comps[i].active = active;
      }
    }
    onXRSessionStart() {
      this.setComponentsActive(this.activateComponents == 0);
    }
    onXRSessionEnd() {
      this.setComponentsActive(this.activateComponents != 0);
    }
  };
  __publicField(VrModeActiveSwitch, "TypeName", "vr-mode-active-switch");
  __publicField(VrModeActiveSwitch, "Properties", {
    /** When components should be active: In VR or when not in VR */
    activateComponents: {
      type: Type.Enum,
      values: ["in VR", "in non-VR"],
      default: "in VR"
    },
    /** Whether child object's components should be affected */
    affectChildren: { type: Type.Bool, default: true }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/plane-detection.js
  var import_earcut = __toESM(require_earcut(), 1);
  var __decorate7 = function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
      r = Reflect.decorate(decorators, target, key, desc);
    else
      for (var i = decorators.length - 1; i >= 0; i--)
        if (d = decorators[i])
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var tempVec32 = new Float32Array(3);
  function extentsFromContour(out, points) {
    if (points.length == 0)
      return out;
    let absMaxX = Math.abs(points[0].x);
    let absMaxZ = Math.abs(points[0].z);
    for (let i = 1; i < points.length; ++i) {
      absMaxX = Math.max(absMaxX, Math.abs(points[i].x));
      absMaxZ = Math.max(absMaxZ, Math.abs(points[i].z));
    }
    out[0] = absMaxX;
    out[1] = 0;
    out[2] = absMaxZ;
  }
  function within(x, a, b) {
    if (a > b)
      return x < a && x > b;
    return x > a && x < b;
  }
  function isPointLocalOnXRPlanePolygon(p, plane) {
    const points = plane.polygon;
    if (points.length < 3)
      return false;
    const pX = p[0];
    const pZ = p[2];
    let intersections = 0;
    for (let n = 0, l = points.length - 1; n < points.length; ++n) {
      const aX = points[l].x;
      const aZ = points[l].z;
      const s = (points[n].z - aZ) / (points[n].x - aX);
      const x = Math.abs((pZ - aZ) / s);
      if (x >= 0 && x <= 1 && within(x + pX, aX, points[n].x))
        ++intersections;
      l = n;
    }
    return (intersections & 1) == 0;
  }
  function isPointWorldOnXRPlanePolygon(object, p, plane) {
    if (plane.polygon.length < 3)
      return false;
    isPointLocalOnXRPlanePolygon(object.transformPointInverseWorld(tempVec32, p), plane);
  }
  function planeMeshFromContour(engine, points, meshToUpdate = null) {
    const vertexCount = points.length;
    const vertices = new Float32Array(vertexCount * 2);
    for (let i = 0, d = 0; i < vertexCount; ++i, d += 2) {
      vertices[d] = points[i].x;
      vertices[d + 1] = points[i].z;
    }
    const triangles = (0, import_earcut.default)(vertices);
    const mesh = meshToUpdate || new Mesh(engine, {
      vertexCount,
      /* Assumption here that we will never have more than 256 points
       * in the detected plane meshes! */
      indexType: MeshIndexType.UnsignedByte,
      indexData: triangles
    });
    if (mesh.vertexCount !== vertexCount) {
      console.warn("vertexCount of meshToUpdate did not match required vertexCount");
      return mesh;
    }
    const positions = mesh.attribute(MeshAttribute.Position);
    const textureCoords = mesh.attribute(MeshAttribute.TextureCoordinate);
    const normals = mesh.attribute(MeshAttribute.Normal);
    tempVec32[1] = 0;
    for (let i = 0, s = 0; i < vertexCount; ++i, s += 2) {
      tempVec32[0] = vertices[s];
      tempVec32[2] = vertices[s + 1];
      positions.set(i, tempVec32);
    }
    textureCoords?.set(0, vertices);
    if (normals) {
      tempVec32[0] = 0;
      tempVec32[1] = 1;
      tempVec32[2] = 0;
      for (let i = 0; i < vertexCount; ++i) {
        normals.set(i, tempVec32);
      }
    }
    if (meshToUpdate)
      mesh.update();
    return mesh;
  }
  var _planeLost, planeLost_fn, _planeFound, planeFound_fn, _planeUpdate, planeUpdate_fn, _planeUpdatePose, planeUpdatePose_fn;
  var PlaneDetection = class extends Component {
    constructor() {
      super(...arguments);
      __privateAdd(this, _planeLost);
      __privateAdd(this, _planeFound);
      __privateAdd(this, _planeUpdate);
      __privateAdd(this, _planeUpdatePose);
      /**
       * Material to assign to created plane meshes or `null` if meshes should not be created.
       */
      __publicField(this, "planeMaterial", null);
      /**
       * Collision mask to assign to newly created collision components or a negative value if
       * collision components should not be created.
       */
      __publicField(this, "collisionMask", -1);
      /** Map of all planes and their last updated timestamps */
      __publicField(this, "planes", /* @__PURE__ */ new Map());
      /** Objects generated for each XRPlane */
      __publicField(this, "planeObjects", /* @__PURE__ */ new Map());
      /** Called when a plane starts tracking */
      __publicField(this, "onPlaneFound", new Emitter());
      /** Called when a plane stops tracking */
      __publicField(this, "onPlaneLost", new Emitter());
    }
    update() {
      if (!this.engine.xr?.frame)
        return;
      if (this.engine.xr.frame.detectedPlanes === void 0) {
        console.error("plane-detection: WebXR feature not available.");
        this.active = false;
        return;
      }
      const detectedPlanes = this.engine.xr.frame.detectedPlanes;
      for (const [plane, _] of this.planes) {
        if (!detectedPlanes.has(plane)) {
          __privateMethod(this, _planeLost, planeLost_fn).call(this, plane);
        }
      }
      detectedPlanes.forEach((plane) => {
        if (this.planes.has(plane)) {
          if (plane.lastChangedTime > this.planes.get(plane)) {
            __privateMethod(this, _planeUpdate, planeUpdate_fn).call(this, plane);
          }
        } else {
          __privateMethod(this, _planeFound, planeFound_fn).call(this, plane);
        }
        __privateMethod(this, _planeUpdatePose, planeUpdatePose_fn).call(this, plane);
      });
    }
  };
  _planeLost = new WeakSet();
  planeLost_fn = function(plane) {
    this.planes.delete(plane);
    const o = this.planeObjects.get(plane);
    this.onPlaneLost.notify(plane, o);
    if (o.objectId > 0)
      o.destroy();
  };
  _planeFound = new WeakSet();
  planeFound_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const o = this.engine.scene.addObject(this.object);
    this.planeObjects.set(plane, o);
    if (this.planeMaterial) {
      o.addComponent(MeshComponent, {
        mesh: planeMeshFromContour(this.engine, plane.polygon),
        material: this.planeMaterial
      });
    }
    if (this.collisionMask >= 0) {
      extentsFromContour(tempVec32, plane.polygon);
      tempVec32[1] = 0.025;
      o.addComponent(CollisionComponent, {
        group: this.collisionMask,
        collider: Collider.Box,
        extents: tempVec32
      });
    }
    this.onPlaneFound.notify(plane, o);
  };
  _planeUpdate = new WeakSet();
  planeUpdate_fn = function(plane) {
    this.planes.set(plane, plane.lastChangedTime);
    const planeMesh = this.planeObjects.get(plane).getComponent(MeshComponent);
    if (!planeMesh)
      return;
    planeMeshFromContour(this.engine, plane.polygon, planeMesh.mesh);
  };
  _planeUpdatePose = new WeakSet();
  planeUpdatePose_fn = function(plane) {
    const o = this.planeObjects.get(plane);
    const pose = this.engine.xr.frame.getPose(plane.planeSpace, this.engine.xr.currentReferenceSpace);
    if (!pose) {
      o.active = false;
      return;
    }
    setXRRigidTransformLocal(o, pose.transform);
  };
  __publicField(PlaneDetection, "TypeName", "plane-detection");
  __decorate7([
    property.material()
  ], PlaneDetection.prototype, "planeMaterial", void 0);
  __decorate7([
    property.int()
  ], PlaneDetection.prototype, "collisionMask", void 0);

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/vrm.js
  var VRM_ROLL_AXES = {
    X: [1, 0, 0],
    Y: [0, 1, 0],
    Z: [0, 0, 1]
  };
  var VRM_AIM_AXES = {
    PositiveX: [1, 0, 0],
    NegativeX: [-1, 0, 0],
    PositiveY: [0, 1, 0],
    NegativeY: [0, -1, 0],
    PositiveZ: [0, 0, 1],
    NegativeZ: [0, 0, -1]
  };
  var Vrm = class extends Component {
    /** Meta information about the VRM model */
    meta = null;
    /** The humanoid bones of the VRM model */
    bones = {
      /* Torso */
      hips: null,
      spine: null,
      chest: null,
      upperChest: null,
      neck: null,
      /* Head */
      head: null,
      leftEye: null,
      rightEye: null,
      jaw: null,
      /* Legs */
      leftUpperLeg: null,
      leftLowerLeg: null,
      leftFoot: null,
      leftToes: null,
      rightUpperLeg: null,
      rightLowerLeg: null,
      rightFoot: null,
      rightToes: null,
      /* Arms */
      leftShoulder: null,
      leftUpperArm: null,
      leftLowerArm: null,
      leftHand: null,
      rightShoulder: null,
      rightUpperArm: null,
      rightLowerArm: null,
      rightHand: null,
      /* Fingers */
      leftThumbMetacarpal: null,
      leftThumbProximal: null,
      leftThumbDistal: null,
      leftIndexProximal: null,
      leftIndexIntermediate: null,
      leftIndexDistal: null,
      leftMiddleProximal: null,
      leftMiddleIntermediate: null,
      leftMiddleDistal: null,
      leftRingProximal: null,
      leftRingIntermediate: null,
      leftRingDistal: null,
      leftLittleProximal: null,
      leftLittleIntermediate: null,
      leftLittleDistal: null,
      rightThumbMetacarpal: null,
      rightThumbProximal: null,
      rightThumbDistal: null,
      rightIndexProximal: null,
      rightIndexIntermediate: null,
      rightIndexDistal: null,
      rightMiddleProximal: null,
      rightMiddleIntermediate: null,
      rightMiddleDistal: null,
      rightRingProximal: null,
      rightRingIntermediate: null,
      rightRingDistal: null,
      rightLittleProximal: null,
      rightLittleIntermediate: null,
      rightLittleDistal: null
    };
    /** Rotations of the bones in the rest pose (T-pose) */
    restPose = {};
    /* All node constraints, ordered to deal with dependencies */
    _nodeConstraints = [];
    /* VRMC_springBone chains */
    _springChains = [];
    /* Spherical colliders for spring bones */
    _sphereColliders = [];
    /* Capsule shaped colliders for spring bones */
    _capsuleColliders = [];
    /* Indicates which meshes are rendered in first/third person views */
    _firstPersonAnnotations = [];
    /* Contains details for (bone type) lookAt behaviour */
    _lookAt = null;
    /* Whether or not the VRM component has been initialized with `initializeVrm` */
    _initialized = false;
    init() {
      this._tempV3 = vec3_exports.create();
      this._tempV3A = vec3_exports.create();
      this._tempV3B = vec3_exports.create();
      this._tempQuat = quat_exports.create();
      this._tempQuatA = quat_exports.create();
      this._tempQuatB = quat_exports.create();
      this._tempMat4A = mat4_exports.create();
      this._tempQuat2 = quat2_exports.create();
      this._tailToShape = vec3_exports.create();
      this._headToTail = vec3_exports.create();
      this._inertia = vec3_exports.create();
      this._stiffness = vec3_exports.create();
      this._external = vec3_exports.create();
      this._rightVector = vec3_exports.set(vec3_exports.create(), 1, 0, 0);
      this._upVector = vec3_exports.set(vec3_exports.create(), 0, 1, 0);
      this._forwardVector = vec3_exports.set(vec3_exports.create(), 0, 0, 1);
      this._identityQuat = quat_exports.identity(quat_exports.create());
      this._rad2deg = 180 / Math.PI;
    }
    start() {
      if (!this.src) {
        console.error("vrm: src property not set");
        return;
      }
      this.engine.scene.append(this.src, { loadGltfExtensions: true }).then(({ root, extensions }) => {
        root.children.forEach((child) => child.parent = this.object);
        this._initializeVrm(extensions);
        root.destroy();
      });
    }
    /**
     * Parses the VRM glTF extensions and initializes the vrm component.
     * @param {GLTFExtensions} extensions The glTF extensions for the VRM model
     */
    _initializeVrm(extensions) {
      if (this._initialized) {
        throw Error("VRM component has already been initialized");
      }
      const VRMC_vrm = extensions.root["VRMC_vrm"];
      if (!VRMC_vrm) {
        throw Error("Missing VRM extensions");
      }
      if (VRMC_vrm.specVersion !== "1.0") {
        throw Error(`Unsupported VRM version, only 1.0 is supported, but encountered '${VRMC_vrm.specVersion}'`);
      }
      this.meta = VRMC_vrm.meta;
      this._parseHumanoid(VRMC_vrm.humanoid, extensions);
      if (VRMC_vrm.firstPerson) {
        this._parseFirstPerson(VRMC_vrm.firstPerson, extensions);
      }
      if (VRMC_vrm.lookAt) {
        this._parseLookAt(VRMC_vrm.lookAt);
      }
      this._findAndParseNodeConstraints(extensions);
      const springBone = extensions.root["VRMC_springBone"];
      if (springBone) {
        this._parseAndInitializeSpringBones(springBone, extensions);
      }
      this._initialized = true;
    }
    _parseHumanoid(humanoid, extensions) {
      for (const boneName in humanoid.humanBones) {
        if (!(boneName in this.bones)) {
          console.warn(`Unrecognized bone '${boneName}'`);
          continue;
        }
        const node = humanoid.humanBones[boneName].node;
        const objectId = extensions.idMapping[node];
        this.bones[boneName] = this.engine.wrapObject(objectId);
        this.restPose[boneName] = quat_exports.copy(quat_exports.create(), this.bones[boneName].rotationLocal);
      }
    }
    _parseFirstPerson(firstPerson, extensions) {
      for (const meshAnnotation of firstPerson.meshAnnotations) {
        const annotation = {
          node: this.engine.wrapObject(extensions.idMapping[meshAnnotation.node]),
          firstPerson: true,
          thirdPerson: true
        };
        switch (meshAnnotation.type) {
          case "firstPersonOnly":
            annotation.thirdPerson = false;
            break;
          case "thirdPersonOnly":
            annotation.firstPerson = false;
            break;
          case "both":
            break;
          case "auto":
            console.warn("First person mesh annotation type 'auto' is not supported, treating as 'both'!");
            break;
          default:
            console.error(`Invalid mesh annotation type '${meshAnnotation.type}'`);
            break;
        }
        this._firstPersonAnnotations.push(annotation);
      }
    }
    _parseLookAt(lookAt2) {
      if (lookAt2.type !== "bone") {
        console.warn(`Unsupported lookAt type '${lookAt2.type}', only 'bone' is supported`);
        return;
      }
      const parseRangeMap = (rangeMap) => {
        return {
          inputMaxValue: rangeMap.inputMaxValue,
          outputScale: rangeMap.outputScale
        };
      };
      this._lookAt = {
        offsetFromHeadBone: lookAt2.offsetFromHeadBone || [0, 0, 0],
        horizontalInner: parseRangeMap(lookAt2.rangeMapHorizontalInner),
        horizontalOuter: parseRangeMap(lookAt2.rangeMapHorizontalOuter),
        verticalDown: parseRangeMap(lookAt2.rangeMapVerticalDown),
        verticalUp: parseRangeMap(lookAt2.rangeMapVerticalUp)
      };
    }
    _findAndParseNodeConstraints(extensions) {
      const traverse = (object) => {
        const nodeExtensions = extensions.node[object.objectId];
        if (nodeExtensions && "VRMC_node_constraint" in nodeExtensions) {
          const nodeConstraintExtension = nodeExtensions["VRMC_node_constraint"];
          const constraint = nodeConstraintExtension.constraint;
          let type, axis;
          if ("roll" in constraint) {
            type = "roll";
            axis = VRM_ROLL_AXES[constraint.roll.rollAxis];
          } else if ("aim" in constraint) {
            type = "aim";
            axis = VRM_AIM_AXES[constraint.aim.aimAxis];
          } else if ("rotation" in constraint) {
            type = "rotation";
          }
          if (type) {
            const source = this.engine.wrapObject(extensions.idMapping[constraint[type].source]);
            this._nodeConstraints.push({
              type,
              source,
              destination: object,
              axis,
              weight: constraint[type].weight,
              /* Rest pose */
              destinationRestLocalRotation: quat_exports.copy(quat_exports.create(), object.rotationLocal),
              sourceRestLocalRotation: quat_exports.copy(quat_exports.create(), source.rotationLocal),
              sourceRestLocalRotationInv: quat_exports.invert(quat_exports.create(), source.rotationLocal)
            });
          } else {
            console.warn("Unrecognized or invalid VRMC_node_constraint, ignoring it");
          }
        }
        for (const child of object.children) {
          traverse(child);
        }
      };
      traverse(this.object);
    }
    _parseAndInitializeSpringBones(springBone, extensions) {
      const colliders = (springBone.colliders || []).map((collider, i) => {
        const shapeType = "capsule" in collider.shape ? "capsule" : "sphere";
        return {
          id: i,
          object: this.engine.wrapObject(extensions.idMapping[collider.node]),
          shape: {
            isCapsule: shapeType === "capsule",
            radius: collider.shape[shapeType].radius,
            offset: collider.shape[shapeType].offset,
            tail: collider.shape[shapeType].tail
          },
          cache: {
            head: vec3_exports.create(),
            tail: vec3_exports.create()
          }
        };
      });
      this._sphereColliders = colliders.filter((c) => !c.shape.isCapsule);
      this._capsuleColliders = colliders.filter((c) => c.shape.isCapsule);
      const colliderGroups = (springBone.colliderGroups || []).map((group) => ({
        name: group.name,
        colliders: group.colliders.map((c) => colliders[c])
      }));
      for (const spring of springBone.springs) {
        const joints = [];
        for (const joint of spring.joints) {
          const springJoint = {
            hitRadius: 0,
            stiffness: 1,
            gravityPower: 0,
            gravityDir: [0, -1, 0],
            dragForce: 0.5,
            node: null,
            state: null
          };
          Object.assign(springJoint, joint);
          springJoint.node = this.engine.wrapObject(extensions.idMapping[springJoint.node]);
          joints.push(springJoint);
        }
        const springChainColliders = (spring.colliderGroups || []).flatMap((cg) => colliderGroups[cg].colliders);
        this._springChains.push({
          name: spring.name,
          center: spring.center ? this.engine.wrapObject(extensions.idMapping[spring.center]) : null,
          joints,
          sphereColliders: springChainColliders.filter((c) => !c.shape.isCapsule),
          capsuleColliders: springChainColliders.filter((c) => c.shape.isCapsule)
        });
      }
      for (const springChain of this._springChains) {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const springBoneJoint = springChain.joints[i];
          const childSpringBoneJoint = springChain.joints[i + 1];
          const springBonePosition = springBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const childSpringBonePosition = childSpringBoneJoint.node.getTranslationWorld(vec3_exports.create());
          const boneDirection = vec3_exports.subtract(this._tempV3A, springBonePosition, childSpringBonePosition);
          const state = {
            prevTail: childSpringBonePosition,
            currentTail: vec3_exports.copy(vec3_exports.create(), childSpringBonePosition),
            initialLocalRotation: quat_exports.copy(quat_exports.create(), springBoneJoint.node.rotationLocal),
            initialLocalTransformInvert: quat2_exports.invert(quat2_exports.create(), springBoneJoint.node.transformLocal),
            boneAxis: vec3_exports.normalize(vec3_exports.create(), childSpringBoneJoint.node.getTranslationLocal(this._tempV3)),
            /* Ensure bone length is at least 1cm to avoid jittery behaviour from zero-length bones */
            boneLength: Math.max(0.01, vec3_exports.length(boneDirection)),
            /* Tail positions in center space, if needed */
            prevTailCenter: null,
            currentTailCenter: null
          };
          if (springChain.center) {
            state.prevTailCenter = springChain.center.transformPointInverseWorld(vec3_exports.create(), childSpringBonePosition);
            state.currentTailCenter = vec3_exports.copy(vec3_exports.create(), childSpringBonePosition);
          }
          springBoneJoint.state = state;
        }
      }
    }
    update(dt) {
      if (!this._initialized) {
        return;
      }
      this._resolveLookAt();
      this._resolveConstraints();
      this._updateSpringBones(dt);
    }
    _rangeMap(rangeMap, input) {
      const maxValue = rangeMap.inputMaxValue;
      const outputScale = rangeMap.outputScale;
      return Math.min(input, maxValue) / maxValue * outputScale;
    }
    _resolveLookAt() {
      if (!this._lookAt || !this.lookAtTarget) {
        return;
      }
      const lookAtSource = this.bones.head.transformPointWorld(this._tempV3A, this._lookAt.offsetFromHeadBone);
      const lookAtTarget = this.lookAtTarget.getTranslationWorld(this._tempV3B);
      const lookAtDirection = vec3_exports.sub(this._tempV3A, lookAtTarget, lookAtSource);
      vec3_exports.normalize(lookAtDirection, lookAtDirection);
      this.bones.head.parent.transformVectorInverseWorld(lookAtDirection);
      const z = vec3_exports.dot(lookAtDirection, this._forwardVector);
      const x = vec3_exports.dot(lookAtDirection, this._rightVector);
      const yaw = Math.atan2(x, z) * this._rad2deg;
      const xz = Math.sqrt(x * x + z * z);
      const y = vec3_exports.dot(lookAtDirection, this._upVector);
      let pitch = Math.atan2(-y, xz) * this._rad2deg;
      if (pitch > 0) {
        pitch = this._rangeMap(this._lookAt.verticalDown, pitch);
      } else {
        pitch = -this._rangeMap(this._lookAt.verticalUp, -pitch);
      }
      if (this.bones.leftEye) {
        let yawLeft = yaw;
        if (yawLeft > 0) {
          yawLeft = this._rangeMap(this._lookAt.horizontalInner, yawLeft);
        } else {
          yawLeft = -this._rangeMap(this._lookAt.horizontalOuter, -yawLeft);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawLeft, 0);
        this.bones.leftEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.leftEye, eyeRotation);
      }
      if (this.bones.rightEye) {
        let yawRight = yaw;
        if (yawRight > 0) {
          yawRight = this._rangeMap(this._lookAt.horizontalOuter, yawRight);
        } else {
          yawRight = -this._rangeMap(this._lookAt.horizontalInner, -yawRight);
        }
        const eyeRotation = quat_exports.fromEuler(this._tempQuatA, pitch, yawRight, 0);
        this.bones.rightEye.rotationLocal = quat_exports.multiply(eyeRotation, this.restPose.rightEye, eyeRotation);
      }
    }
    _resolveConstraints() {
      for (const nodeConstraint of this._nodeConstraints) {
        this._resolveConstraint(nodeConstraint);
      }
    }
    _resolveConstraint(nodeConstraint) {
      const dstRestQuat = nodeConstraint.destinationRestLocalRotation;
      const srcRestQuatInv = nodeConstraint.sourceRestLocalRotationInv;
      const targetQuat = quat_exports.identity(this._tempQuatA);
      switch (nodeConstraint.type) {
        case "roll":
          {
            const deltaSrcQuat = quat_exports.multiply(this._tempQuatA, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            const deltaSrcQuatInParent = quat_exports.multiply(this._tempQuatA, nodeConstraint.sourceRestLocalRotation, deltaSrcQuat);
            quat_exports.mul(deltaSrcQuatInParent, deltaSrcQuatInParent, srcRestQuatInv);
            const dstRestQuatInv = quat_exports.invert(this._tempQuatB, dstRestQuat);
            const deltaSrcQuatInDst = quat_exports.multiply(this._tempQuatB, dstRestQuatInv, deltaSrcQuatInParent);
            quat_exports.multiply(deltaSrcQuatInDst, deltaSrcQuatInDst, dstRestQuat);
            const toVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, deltaSrcQuatInDst);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, nodeConstraint.axis, toVec);
            quat_exports.mul(targetQuat, dstRestQuat, quat_exports.invert(this._tempQuat, fromToQuat));
            quat_exports.mul(targetQuat, targetQuat, deltaSrcQuatInDst);
          }
          break;
        case "aim":
          {
            const dstParentWorldQuat = nodeConstraint.destination.parent.rotationWorld;
            const fromVec = vec3_exports.transformQuat(this._tempV3A, nodeConstraint.axis, dstRestQuat);
            vec3_exports.transformQuat(fromVec, fromVec, dstParentWorldQuat);
            const toVec = nodeConstraint.source.getTranslationWorld(this._tempV3B);
            vec3_exports.sub(toVec, toVec, nodeConstraint.destination.getTranslationWorld(this._tempV3));
            vec3_exports.normalize(toVec, toVec);
            const fromToQuat = quat_exports.rotationTo(this._tempQuatA, fromVec, toVec);
            quat_exports.mul(targetQuat, quat_exports.invert(this._tempQuat, dstParentWorldQuat), fromToQuat);
            quat_exports.mul(targetQuat, targetQuat, dstParentWorldQuat);
            quat_exports.mul(targetQuat, targetQuat, dstRestQuat);
          }
          break;
        case "rotation":
          {
            const srcDeltaQuat = quat_exports.mul(targetQuat, srcRestQuatInv, nodeConstraint.source.rotationLocal);
            quat_exports.mul(targetQuat, dstRestQuat, srcDeltaQuat);
          }
          break;
      }
      quat_exports.slerp(targetQuat, dstRestQuat, targetQuat, nodeConstraint.weight);
      nodeConstraint.destination.rotationLocal = targetQuat;
    }
    _updateSpringBones(dt) {
      this._sphereColliders.forEach(({ object, shape, cache }) => {
        const offset2 = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(offset2);
        vec3_exports.add(cache.head, object.getTranslationWorld(this._tempV3), offset2);
      });
      this._capsuleColliders.forEach(({ object, shape, cache }) => {
        const shapeCenter = object.getTranslationWorld(this._tempV3A);
        const headOffset = vec3_exports.copy(cache.head, shape.offset);
        object.transformVectorWorld(headOffset);
        vec3_exports.add(cache.head, shapeCenter, headOffset);
        const tailOffset = vec3_exports.copy(cache.tail, shape.tail);
        object.transformVectorWorld(tailOffset);
        vec3_exports.add(cache.tail, shapeCenter, tailOffset);
      });
      this._springChains.forEach((springChain) => {
        for (let i = 0; i < springChain.joints.length - 1; ++i) {
          const joint = springChain.joints[i];
          const parentWorldRotation = joint.node.parent ? joint.node.parent.rotationWorld : this._identityQuat;
          const inertia = this._inertia;
          if (springChain.center) {
            vec3_exports.sub(inertia, joint.state.currentTailCenter, joint.state.prevTailCenter);
            springChain.center.transformVectorWorld(inertia);
          } else {
            vec3_exports.sub(inertia, joint.state.currentTail, joint.state.prevTail);
          }
          vec3_exports.scale(inertia, inertia, 1 - joint.dragForce);
          const stiffness = vec3_exports.copy(this._stiffness, joint.state.boneAxis);
          vec3_exports.transformQuat(stiffness, stiffness, joint.state.initialLocalRotation);
          vec3_exports.transformQuat(stiffness, stiffness, parentWorldRotation);
          vec3_exports.scale(stiffness, stiffness, dt * joint.stiffness);
          const external = vec3_exports.scale(this._external, joint.gravityDir, dt * joint.gravityPower);
          const nextTail = vec3_exports.copy(this._tempV3A, joint.state.currentTail);
          vec3_exports.add(nextTail, nextTail, inertia);
          vec3_exports.add(nextTail, nextTail, stiffness);
          vec3_exports.add(nextTail, nextTail, external);
          const worldPosition = joint.node.getTranslationWorld(this._tempV3B);
          vec3_exports.sub(nextTail, nextTail, worldPosition);
          vec3_exports.normalize(nextTail, nextTail);
          vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
          for (const { shape, cache } of springChain.sphereColliders) {
            let tailToShape = this._tailToShape;
            const sphereCenter = cache.head;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, sphereCenter);
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          for (const { shape, cache } of springChain.capsuleColliders) {
            let tailToShape = this._tailToShape;
            const head = cache.head;
            const tail = cache.tail;
            tailToShape = vec3_exports.sub(tailToShape, nextTail, head);
            const headToTail = vec3_exports.sub(this._headToTail, tail, head);
            const dot5 = vec3_exports.dot(headToTail, tailToShape);
            if (vec3_exports.squaredLength(headToTail) <= dot5) {
              vec3_exports.sub(tailToShape, nextTail, tail);
            } else if (dot5 > 0) {
              vec3_exports.scale(headToTail, headToTail, dot5 / vec3_exports.squaredLength(headToTail));
              vec3_exports.sub(tailToShape, tailToShape, headToTail);
            }
            const radius = shape.radius + joint.hitRadius;
            const dist2 = vec3_exports.length(tailToShape) - radius;
            if (dist2 < 0) {
              vec3_exports.normalize(tailToShape, tailToShape);
              vec3_exports.scaleAndAdd(nextTail, nextTail, tailToShape, -dist2);
              vec3_exports.sub(nextTail, nextTail, worldPosition);
              vec3_exports.normalize(nextTail, nextTail);
              vec3_exports.scaleAndAdd(nextTail, worldPosition, nextTail, joint.state.boneLength);
            }
          }
          vec3_exports.copy(joint.state.prevTail, joint.state.currentTail);
          vec3_exports.copy(joint.state.currentTail, nextTail);
          if (springChain.center) {
            vec3_exports.copy(joint.state.prevTailCenter, joint.state.currentTailCenter);
            vec3_exports.copy(joint.state.currentTailCenter, nextTail);
            springChain.center.transformPointInverseWorld(joint.state.currentTailCenter);
          }
          joint.node.parent.transformPointInverseWorld(nextTail);
          const nextTailDualQuat = quat2_exports.fromTranslation(this._tempQuat2, nextTail);
          quat2_exports.multiply(nextTailDualQuat, joint.state.initialLocalTransformInvert, nextTailDualQuat);
          quat2_exports.getTranslation(nextTail, nextTailDualQuat);
          vec3_exports.normalize(nextTail, nextTail);
          const jointRotation = quat_exports.rotationTo(this._tempQuatA, joint.state.boneAxis, nextTail);
          joint.node.rotationLocal = quat_exports.mul(this._tempQuatA, joint.state.initialLocalRotation, jointRotation);
        }
      });
    }
    /**
     * @param {boolean} firstPerson Whether the model should render for first person or third person views
     */
    set firstPerson(firstPerson) {
      this._firstPersonAnnotations.forEach((annotation) => {
        const visible = firstPerson == annotation.firstPerson || firstPerson != annotation.thirdPerson;
        annotation.node.getComponents("mesh").forEach((mesh) => {
          mesh.active = visible;
        });
      });
    }
  };
  __publicField(Vrm, "TypeName", "vrm");
  __publicField(Vrm, "Properties", {
    /** URL to a VRM file to load */
    src: { type: Type.String },
    /** Object the VRM is looking at */
    lookAtTarget: { type: Type.Object }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/node_modules/@wonderlandengine/components/dist/wasd-controls.js
  var _direction = new Float32Array(3);
  var WasdControlsComponent = class extends Component {
    init() {
      this.up = false;
      this.right = false;
      this.down = false;
      this.left = false;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
    }
    start() {
      this.headObject = this.headObject || this.object;
    }
    update() {
      vec3_exports.zero(_direction);
      if (this.up)
        _direction[2] -= 1;
      if (this.down)
        _direction[2] += 1;
      if (this.left)
        _direction[0] -= 1;
      if (this.right)
        _direction[0] += 1;
      vec3_exports.normalize(_direction, _direction);
      _direction[0] *= this.speed;
      _direction[2] *= this.speed;
      vec3_exports.transformQuat(_direction, _direction, this.headObject.transformWorld);
      if (this.lockY) {
        _direction[1] = 0;
        vec3_exports.normalize(_direction, _direction);
        vec3_exports.scale(_direction, _direction, this.speed);
      }
      this.object.translateLocal(_direction);
    }
    press(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = true;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = true;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = true;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = true;
      }
    }
    release(e) {
      if (e.keyCode === 38 || e.keyCode === 87 || e.keyCode === 90) {
        this.up = false;
      } else if (e.keyCode === 39 || e.keyCode === 68) {
        this.right = false;
      } else if (e.keyCode === 40 || e.keyCode === 83) {
        this.down = false;
      } else if (e.keyCode === 37 || e.keyCode === 65 || e.keyCode === 81) {
        this.left = false;
      }
    }
  };
  __publicField(WasdControlsComponent, "TypeName", "wasd-controls");
  __publicField(WasdControlsComponent, "Properties", {
    /** Movement speed in m/s. */
    speed: { type: Type.Float, default: 0.1 },
    /** Flag for only moving the object on the global x & z planes */
    lockY: { type: Type.Bool, default: false },
    /** Object of which the orientation is used to determine forward direction */
    headObject: { type: Type.Object }
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/Bullet.js
  var Bullet_exports = {};
  __export(Bullet_exports, {
    Bullet: () => Bullet
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/playerController.js
  var playerController_exports = {};
  __export(playerController_exports, {
    PlayerController: () => PlayerController
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/bulletManager.js
  var bulletManager_exports = {};
  __export(bulletManager_exports, {
    BulletManager: () => BulletManager
  });
  var BulletManager = class extends Component {
    //playerController;
    //bullet;
    parentObj;
    static onRegister(engine) {
    }
    init() {
    }
    start() {
      this.playerComponent = this.player.getComponent(PlayerController);
      this.bulletComponent = this.bullet.getComponent(Bullet);
    }
    update(dt) {
    }
    spawnBullet() {
      this.spawnPos = this.player.getPositionWorld();
      this.bullet.setPositionWorld([this.spawnPos[0], this.spawnPos[1], this.spawnPos[2]]);
      console.log("???");
    }
  };
  __publicField(BulletManager, "TypeName", "bulletManager");
  /* Properties that are configurable in the editor */
  __publicField(BulletManager, "Properties", {
    param: Property.float(1),
    player: Property.object(),
    bullet: Property.object()
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/playerController.js
  var PlayerController = class extends Component {
    speed;
    moveLeft = false;
    moveRight = false;
    moveUp = false;
    moveDown = false;
    spaceBar = false;
    time = 0;
    spawnInterval = 3;
    static onRegister(engine) {
    }
    init() {
    }
    start() {
      this.bulletManager = this.bulletManager.getComponent(BulletManager);
      this.speed = 0.03;
      this.playerPos = [0, 1, -4];
      this.direction = 1;
      window.addEventListener("keydown", this.press.bind(this));
      window.addEventListener("keyup", this.release.bind(this));
      this.initCollision();
    }
    update(dt) {
      this.isMove();
      this.isShooting();
      this.time += dt;
      this.timeRound = Math.round(this.time);
      if (this.timeRound >= this.spawnInterval) {
        this.time = 0;
      }
    }
    press(moving) {
      if (moving.key === "w")
        this.moveUp = true;
      if (moving.key === "s")
        this.moveDown = true;
      if (moving.key === "a")
        this.moveLeft = true;
      if (moving.key === "d")
        this.moveRight = true;
      if (moving.code === "Space")
        this.spaceBar = true;
    }
    release(moving) {
      if (moving.key === "w")
        this.moveUp = false;
      if (moving.key === "s")
        this.moveDown = false;
      if (moving.key === "a")
        this.moveLeft = false;
      if (moving.key === "d")
        this.moveRight = false;
      if (moving.code === "Space")
        this.spaceBar = false;
    }
    isMove() {
      this.playerCurrPos = this.object.getPositionWorld();
      if (this.moveUp === true) {
        if (this.playerCurrPos[1] < 3)
          this.playerPos[1] += this.speed;
      }
      if (this.moveDown === true) {
        if (this.playerCurrPos[1] > 1)
          this.playerPos[1] -= this.speed;
      }
      if (this.moveLeft === true) {
        if (this.playerCurrPos[0] > -1)
          this.playerPos[0] -= this.speed;
      }
      if (this.moveRight === true) {
        if (this.playerCurrPos[0] < 1)
          this.playerPos[0] += this.speed;
      }
      this.object.setPositionLocal(this.playerPos);
    }
    isShooting() {
      if (this.spaceBar === true) {
        console.log("spaceBar");
        this.bulletManager.spawnBullet();
      }
    }
    //Check Collision
    initCollision() {
      this.rigidBody = this.object.getComponent("physx");
      console.log("RigidBody", this.rigidBody);
      this.rigidBody.onCollision(
        function(type, other) {
          var otherObj = other.object.name;
          if (type === CollisionEventType.Touch) {
            return;
          } else {
            return;
          }
        }.bind(this)
      );
    }
  };
  __publicField(PlayerController, "TypeName", "playerController");
  /* Properties that are configurable in the editor */
  __publicField(PlayerController, "Properties", {
    param: Property.float(1),
    bulletManager: Property.object()
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/Bullet.js
  var Bullet = class extends Component {
    speed;
    static onRegister(engine) {
    }
    init() {
    }
    start() {
      this.speed = 0.1;
      this.bulletPos = [0, 0, 0];
    }
    update(dt) {
    }
    /*
        shootingBullet(){
    
            //this.bulletPos[1] += this.speed;
    
            //this.object.setPositionWorld(this.bulletPos);
            this.bulletCurrPos = this.object.getPositionWorld(); //Get bullet's current position
            
            if(this.bulletCurrPos[1] > 6){
    
                this.bulletPos[1] = 1.0; //Reset bullet's y.position
                //this.object.destroy();
            }        
        }
        */
    //Collision check
    initCollision() {
      this.rigidBody = this.object.getComponent("physx");
      console.log("RigidBody", this.rigidBody);
      this.rigidBody.onCollision(
        function(type, other) {
          if (type === CollisionEventType.Touch) {
            var otherObj = other.object.name;
            if (otherObj.includes("Enemy")) {
              setTimeout(() => {
                this.object.destroy();
              }, 50);
            }
            return;
          } else {
            return;
          }
        }.bind(this)
      );
    }
  };
  __publicField(Bullet, "TypeName", "bullet");
  /* Properties that are configurable in the editor */
  __publicField(Bullet, "Properties", {
    param: Property.float(1),
    player: Property.object()
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/button.js
  var button_exports = {};
  __export(button_exports, {
    ButtonComponent: () => ButtonComponent,
    hapticFeedback: () => hapticFeedback
  });
  function hapticFeedback(object, strength, duration) {
    const input = object.getComponent(InputComponent);
    if (input && input.xrInputSource) {
      const gamepad = input.xrInputSource.gamepad;
      if (gamepad && gamepad.hapticActuators)
        gamepad.hapticActuators[0].pulse(strength, duration);
    }
  }
  var ButtonComponent = class extends Component {
    static onRegister(engine) {
      engine.registerComponent(HowlerAudioSource);
      engine.registerComponent(CursorTarget);
    }
    /* Position to return to when "unpressing" the button */
    returnPos = new Float32Array(3);
    start() {
      this.mesh = this.buttonMeshObject.getComponent(MeshComponent);
      this.defaultMaterial = this.mesh.material;
      this.buttonMeshObject.getTranslationLocal(this.returnPos);
      this.target = this.object.getComponent(CursorTarget) || this.object.addComponent(CursorTarget);
      this.soundClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/click.wav",
        spatial: true
      });
      this.soundUnClick = this.object.addComponent(HowlerAudioSource, {
        src: "sfx/unclick.wav",
        spatial: true
      });
    }
    onActivate() {
      this.target.onHover.add(this.onHover);
      this.target.onUnhover.add(this.onUnhover);
      this.target.onDown.add(this.onDown);
      this.target.onUp.add(this.onUp);
    }
    onDeactivate() {
      this.target.onHover.remove(this.onHover);
      this.target.onUnhover.remove(this.onUnhover);
      this.target.onDown.remove(this.onDown);
      this.target.onUp.remove(this.onUp);
    }
    /* Called by 'cursor-target' */
    onHover = (_, cursor) => {
      this.mesh.material = this.hoverMaterial;
      if (cursor.type === "finger-cursor") {
        this.onDown(_, cursor);
      }
      hapticFeedback(cursor.object, 0.5, 50);
    };
    /* Called by 'cursor-target' */
    onDown = (_, cursor) => {
      this.soundClick.play();
      this.buttonMeshObject.translate([0, -0.1, 0]);
      hapticFeedback(cursor.object, 1, 20);
    };
    /* Called by 'cursor-target' */
    onUp = (_, cursor) => {
      this.soundUnClick.play();
      this.buttonMeshObject.setTranslationLocal(this.returnPos);
      hapticFeedback(cursor.object, 0.7, 20);
    };
    /* Called by 'cursor-target' */
    onUnhover = (_, cursor) => {
      this.mesh.material = this.defaultMaterial;
      if (cursor.type === "finger-cursor") {
        this.onUp(_, cursor);
      }
      hapticFeedback(cursor.object, 0.3, 50);
    };
  };
  __publicField(ButtonComponent, "TypeName", "button");
  __publicField(ButtonComponent, "Properties", {
    /** Object that has the button's mesh attached */
    buttonMeshObject: Property.object(),
    /** Material to apply when the user hovers the button */
    hoverMaterial: Property.material()
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/enemyController.js
  var enemyController_exports = {};
  __export(enemyController_exports, {
    EnemyController: () => EnemyController
  });
  var EnemyController = class extends Component {
    speed;
    check;
    static onRegister(engine) {
    }
    init() {
    }
    start() {
      this.speed = 0.03;
      this.enemyPos = [0, 4, -3];
      this.collisionComponent = this.object.getComponent(CollisionComponent);
      this.check = false;
    }
    update(dt) {
    }
    isMove() {
      this.enemyPos[1] -= this.speed;
      this.object.setPositionLocal(this.enemyPos);
      this.enemyCurrPos = this.object.getPositionLocal();
      if (this.enemyCurrPos[1] < 0) {
        this.enemyPos[1] = 4;
      }
    }
    isCollision() {
      this.overlaps = this.collisionComponent.queryOverlaps();
      for (var otherCollider of this.overlaps) {
        var otherObject = otherCollider.object;
        console.log("???");
      }
    }
  };
  __publicField(EnemyController, "TypeName", "enemyController");
  /* Properties that are configurable in the editor */
  __publicField(EnemyController, "Properties", {
    param: Property.float(1)
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/enemyControllerPhsx.js
  var enemyControllerPhsx_exports = {};
  __export(enemyControllerPhsx_exports, {
    EnemyControllerPhsx: () => EnemyControllerPhsx
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/gameManager.js
  var gameManager_exports = {};
  __export(gameManager_exports, {
    GameManager: () => GameManager
  });
  var GameManager = class extends Component {
    score;
    static onRegister(engine) {
    }
    init() {
    }
    start() {
      this.textBox = this.object.getComponent("text");
      this.textBox.text = " ";
      this.score = 0;
    }
    update(dt) {
    }
    isKill() {
      this.score += 500;
      this.textBox.text = this.score;
      return;
    }
  };
  __publicField(GameManager, "TypeName", "gameManager");
  /* Properties that are configurable in the editor */
  __publicField(GameManager, "Properties", {
    param: Property.float(1)
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/enemyControllerPhsx.js
  var EnemyControllerPhsx = class extends Component {
    gameManager;
    speed;
    //physXComponent;
    static onRegister(engine) {
    }
    init() {
    }
    start() {
      this.gameManager = this.gameManager.getComponent(GameManager);
      this.speed = 0.03;
      this.enemyPos = [0, 6, -4];
      this.initCollision();
    }
    update(dt) {
    }
    isMove() {
      this.enemyPos[1] -= this.speed;
      this.object.setPositionWorld(this.enemyPos);
      this.enemyCurrPos = this.object.getPositionWorld();
      if (this.enemyCurrPos[1] < -10) {
        this.enemyPos[1] = 6;
      }
    }
    initCollision() {
      this.rigidBody = this.object.getComponent("physx");
      console.log("RigidBody", this.rigidBody);
      this.rigidBody.onCollision(
        function(type, other) {
          if (type === CollisionEventType.Touch) {
            var otherObj = other.object.name;
            if (otherObj.includes("Player")) {
              console.log("Name :", otherObj);
            }
            if (otherObj.includes("Bullet")) {
              this.gameManager.isKill();
              console.log("Name :", otherObj);
            }
            return;
          } else {
            return;
          }
        }.bind(this)
      );
    }
  };
  __publicField(EnemyControllerPhsx, "TypeName", "enemyControllerPhsx");
  /* Properties that are configurable in the editor */
  __publicField(EnemyControllerPhsx, "Properties", {
    param: Property.float(1),
    gameManager: Property.object()
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/js/enemySpawner.js
  var enemySpawner_exports = {};
  __export(enemySpawner_exports, {
    EnemySpawner: () => EnemySpawner
  });
  var EnemySpawner = class extends Component {
    time = 0;
    spawnInterval = 3;
    static onRegister(engine) {
    }
    init() {
    }
    start() {
    }
    update(dt) {
      this.time += dt;
      this.timeRound = Math.round(this.time);
      if (this.timeRound >= this.spawnInterval) {
        this.time = 0;
        this.isEnemySpawn();
      }
    }
    isEnemySpawn() {
    }
  };
  __publicField(EnemySpawner, "TypeName", "enemySpawner");
  /* Properties that are configurable in the editor */
  __publicField(EnemySpawner, "Properties", {
    param: Property.float(1)
  });

  // E:/git/Wonderland Engine/Wonderland_Shooting/cache/js/_editor_index.js
  _registerEditor(dist_exports);
  _registerEditor(Bullet_exports);
  _registerEditor(bulletManager_exports);
  _registerEditor(button_exports);
  _registerEditor(enemyController_exports);
  _registerEditor(enemyControllerPhsx_exports);
  _registerEditor(enemySpawner_exports);
  _registerEditor(gameManager_exports);
  _registerEditor(playerController_exports);
})();
/*! Bundled license information:

howler/dist/howler.js:
  (*!
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
  (*!
   *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
   *  
   *  howler.js v2.2.4
   *  howlerjs.com
   *
   *  (c) 2013-2020, James Simpson of GoldFire Studios
   *  goldfirestudios.com
   *
   *  MIT License
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2hvd2xlci9kaXN0L2hvd2xlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvcHJvcGVydHkuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L2RlY29yYXRvcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3V0aWxzL29iamVjdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2Rpc3QvdXRpbHMvZXZlbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dvbmRlcmxhbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2FwaS9kaXN0L3dhc20uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC84dGh3YWxsLWNhbWVyYS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3V0aWxzL3dlYnhyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvYW5jaG9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvY3Vyc29yLXRhcmdldC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0My5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQ0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3F1YXQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjMy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9nbC1tYXRyaXgvZXNtL3F1YXQyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaGl0LXRlc3QtbG9jYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9jdXJzb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9kZWJ1Zy1vYmplY3QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9kZXZpY2Utb3JpZW50YXRpb24tbG9vay5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L2Zpbmdlci1jdXJzb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9maXhlZC1mb3ZlYXRpb24uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9oYW5kLXRyYWNraW5nLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaG93bGVyLWF1ZGlvLWxpc3RlbmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaG93bGVyLWF1ZGlvLXNvdXJjZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3V0aWxzL3V0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvaW1hZ2UtdGV4dHVyZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L21vdXNlLWxvb2suanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC9wbGF5ZXItaGVpZ2h0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdGFyZ2V0LWZyYW1lcmF0ZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3RlbGVwb3J0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdHJhaWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMvZGlzdC90d28tam9pbnQtaWstc29sdmVyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9Ad29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzL2Rpc3QvdmlkZW8tdGV4dHVyZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZyLW1vZGUtYWN0aXZlLXN3aXRjaC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3BsYW5lLWRldGVjdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3ZybS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHdvbmRlcmxhbmRlbmdpbmUvY29tcG9uZW50cy9kaXN0L3dhc2QtY29udHJvbHMuanMiLCAiLi4vLi4vanMvQnVsbGV0LmpzIiwgIi4uLy4uL2pzL3BsYXllckNvbnRyb2xsZXIuanMiLCAiLi4vLi4vanMvYnVsbGV0TWFuYWdlci5qcyIsICIuLi8uLi9qcy9idXR0b24uanMiLCAiLi4vLi4vanMvZW5lbXlDb250cm9sbGVyLmpzIiwgIi4uLy4uL2pzL2VuZW15Q29udHJvbGxlclBoc3guanMiLCAiLi4vLi4vanMvZ2FtZU1hbmFnZXIuanMiLCAiLi4vLi4vanMvZW5lbXlTcGF3bmVyLmpzIiwgIl9lZGl0b3JfaW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qIVxyXG4gKiAgaG93bGVyLmpzIHYyLjIuNFxyXG4gKiAgaG93bGVyanMuY29tXHJcbiAqXHJcbiAqICAoYykgMjAxMy0yMDIwLCBKYW1lcyBTaW1wc29uIG9mIEdvbGRGaXJlIFN0dWRpb3NcclxuICogIGdvbGRmaXJlc3R1ZGlvcy5jb21cclxuICpcclxuICogIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8qKiBHbG9iYWwgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgdGhlIGdsb2JhbCBjb250cm9sbGVyLiBBbGwgY29udGFpbmVkIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgYXBwbHlcclxuICAgKiB0byBhbGwgc291bmRzIHRoYXQgYXJlIGN1cnJlbnRseSBwbGF5aW5nIG9yIHdpbGwgYmUgaW4gdGhlIGZ1dHVyZS5cclxuICAgKi9cclxuICB2YXIgSG93bGVyR2xvYmFsID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9O1xyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgdGhlIGdsb2JhbCBIb3dsZXIgb2JqZWN0LlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSBhIGdsb2JhbCBJRCBjb3VudGVyLlxyXG4gICAgICBzZWxmLl9jb3VudGVyID0gMTAwMDtcclxuXHJcbiAgICAgIC8vIFBvb2wgb2YgdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0cy5cclxuICAgICAgc2VsZi5faHRtbDVBdWRpb1Bvb2wgPSBbXTtcclxuICAgICAgc2VsZi5odG1sNVBvb2xTaXplID0gMTA7XHJcblxyXG4gICAgICAvLyBJbnRlcm5hbCBwcm9wZXJ0aWVzLlxyXG4gICAgICBzZWxmLl9jb2RlY3MgPSB7fTtcclxuICAgICAgc2VsZi5faG93bHMgPSBbXTtcclxuICAgICAgc2VsZi5fbXV0ZWQgPSBmYWxzZTtcclxuICAgICAgc2VsZi5fdm9sdW1lID0gMTtcclxuICAgICAgc2VsZi5fY2FuUGxheUV2ZW50ID0gJ2NhbnBsYXl0aHJvdWdoJztcclxuICAgICAgc2VsZi5fbmF2aWdhdG9yID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3IpID8gd2luZG93Lm5hdmlnYXRvciA6IG51bGw7XHJcblxyXG4gICAgICAvLyBQdWJsaWMgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5tYXN0ZXJHYWluID0gbnVsbDtcclxuICAgICAgc2VsZi5ub0F1ZGlvID0gZmFsc2U7XHJcbiAgICAgIHNlbGYudXNpbmdXZWJBdWRpbyA9IHRydWU7XHJcbiAgICAgIHNlbGYuYXV0b1N1c3BlbmQgPSB0cnVlO1xyXG4gICAgICBzZWxmLmN0eCA9IG51bGw7XHJcblxyXG4gICAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0aGUgYXV0byBhdWRpbyB1bmxvY2tlci5cclxuICAgICAgc2VsZi5hdXRvVW5sb2NrID0gdHJ1ZTtcclxuXHJcbiAgICAgIC8vIFNldHVwIHRoZSB2YXJpb3VzIHN0YXRlIHZhbHVlcyBmb3IgZ2xvYmFsIHRyYWNraW5nLlxyXG4gICAgICBzZWxmLl9zZXR1cCgpO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0L3NldCB0aGUgZ2xvYmFsIHZvbHVtZSBmb3IgYWxsIHNvdW5kcy5cclxuICAgICAqIEBwYXJhbSAge0Zsb2F0fSB2b2wgVm9sdW1lIGZyb20gMC4wIHRvIDEuMC5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlci9GbG9hdH0gICAgIFJldHVybnMgc2VsZiBvciBjdXJyZW50IHZvbHVtZS5cclxuICAgICAqL1xyXG4gICAgdm9sdW1lOiBmdW5jdGlvbih2b2wpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuICAgICAgdm9sID0gcGFyc2VGbG9hdCh2b2wpO1xyXG5cclxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXHJcbiAgICAgIGlmICghc2VsZi5jdHgpIHtcclxuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHZvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdm9sID49IDAgJiYgdm9sIDw9IDEpIHtcclxuICAgICAgICBzZWxmLl92b2x1bWUgPSB2b2w7XHJcblxyXG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBhbnkgb2YgdGhlIG5vZGVzIGlmIHdlIGFyZSBtdXRlZC5cclxuICAgICAgICBpZiAoc2VsZi5fbXV0ZWQpIHtcclxuICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2hlbiB1c2luZyBXZWIgQXVkaW8sIHdlIGp1c3QgbmVlZCB0byBhZGp1c3QgdGhlIG1hc3RlciBnYWluLlxyXG4gICAgICAgIGlmIChzZWxmLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgICAgIHNlbGYubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKHZvbCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb29wIHRocm91Z2ggYW5kIGNoYW5nZSB2b2x1bWUgZm9yIGFsbCBIVE1MNSBhdWRpbyBub2Rlcy5cclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgb2YgdGhlIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgICAgICAgIHZhciBpZHMgPSBzZWxmLl9ob3dsc1tpXS5fZ2V0U291bmRJZHMoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBjaGFuZ2UgdGhlIHZvbHVtZXMuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gc291bmQuX3ZvbHVtZSAqIHZvbDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZi5fdm9sdW1lO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBtdXRpbmcgYW5kIHVubXV0aW5nIGdsb2JhbGx5LlxyXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gbXV0ZWQgSXMgbXV0ZWQgb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBtdXRlOiBmdW5jdGlvbihtdXRlZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXMgfHwgSG93bGVyO1xyXG5cclxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXHJcbiAgICAgIGlmICghc2VsZi5jdHgpIHtcclxuICAgICAgICBzZXR1cEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxmLl9tdXRlZCA9IG11dGVkO1xyXG5cclxuICAgICAgLy8gV2l0aCBXZWIgQXVkaW8sIHdlIGp1c3QgbmVlZCB0byBtdXRlIHRoZSBtYXN0ZXIgZ2Fpbi5cclxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbykge1xyXG4gICAgICAgIHNlbGYubWFzdGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKG11dGVkID8gMCA6IHNlbGYuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbmQgbXV0ZSBhbGwgSFRNTDUgQXVkaW8gbm9kZXMuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICAvLyBHZXQgYWxsIG9mIHRoZSBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xyXG5cclxuICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBtYXJrIHRoZSBhdWRpbyBub2RlIGFzIG11dGVkLlxyXG4gICAgICAgICAgZm9yICh2YXIgaj0wOyBqPGlkcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc291bmQgJiYgc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5tdXRlZCA9IChtdXRlZCkgPyB0cnVlIDogc291bmQuX211dGVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgc3RvcHBpbmcgYWxsIHNvdW5kcyBnbG9iYWxseS5cclxuICAgICAqL1xyXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIEhvd2xzIGFuZCBzdG9wIHRoZW0uXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNlbGYuX2hvd2xzW2ldLnN0b3AoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IGFsbCBjdXJyZW50bHkgbG9hZGVkIEhvd2wgb2JqZWN0cy5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgdW5sb2FkOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIGZvciAodmFyIGk9c2VsZi5faG93bHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xyXG4gICAgICAgIHNlbGYuX2hvd2xzW2ldLnVubG9hZCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgQXVkaW9Db250ZXh0IHRvIG1ha2Ugc3VyZSBpdCBpcyBmdWxseSByZXNldC5cclxuICAgICAgaWYgKHNlbGYudXNpbmdXZWJBdWRpbyAmJiBzZWxmLmN0eCAmJiB0eXBlb2Ygc2VsZi5jdHguY2xvc2UgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc2VsZi5jdHguY2xvc2UoKTtcclxuICAgICAgICBzZWxmLmN0eCA9IG51bGw7XHJcbiAgICAgICAgc2V0dXBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgZm9yIGNvZGVjIHN1cHBvcnQgb2Ygc3BlY2lmaWMgZXh0ZW5zaW9uLlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBleHQgQXVkaW8gZmlsZSBleHRlbnRpb24uXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAgICovXHJcbiAgICBjb2RlY3M6IGZ1bmN0aW9uKGV4dCkge1xyXG4gICAgICByZXR1cm4gKHRoaXMgfHwgSG93bGVyKS5fY29kZWNzW2V4dC5yZXBsYWNlKC9eeC0vLCAnJyldO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIHZhcmlvdXMgc3RhdGUgdmFsdWVzIGZvciBnbG9iYWwgdHJhY2tpbmcuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF9zZXR1cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgc3VzcGVuZC9yZXN1bWUgc3RhdGUgb2YgdGhlIEF1ZGlvQ29udGV4dC5cclxuICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuY3R4ID8gc2VsZi5jdHguc3RhdGUgfHwgJ3N1c3BlbmRlZCcgOiAnc3VzcGVuZGVkJztcclxuXHJcbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIDMwLXNlY29uZCBzdXNwZW5kIHByb2Nlc3NcclxuICAgICAgc2VsZi5fYXV0b1N1c3BlbmQoKTtcclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIGF1ZGlvIGlzIGF2YWlsYWJsZS5cclxuICAgICAgaWYgKCFzZWxmLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgICAvLyBObyBhdWRpbyBpcyBhdmFpbGFibGUgb24gdGhpcyBzeXN0ZW0gaWYgbm9BdWRpbyBpcyBzZXQgdG8gdHJ1ZS5cclxuICAgICAgICBpZiAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHRlc3QgPSBuZXcgQXVkaW8oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBjYW5wbGF5dGhyb3VnaCBldmVudCBpcyBhdmFpbGFibGUuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGVzdC5vbmNhbnBsYXl0aHJvdWdoID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2NhblBsYXlFdmVudCA9ICdjYW5wbGF5JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYubm9BdWRpbyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUZXN0IHRvIG1ha2Ugc3VyZSBhdWRpbyBpc24ndCBkaXNhYmxlZCBpbiBJbnRlcm5ldCBFeHBsb3Jlci5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICB2YXIgdGVzdCA9IG5ldyBBdWRpbygpO1xyXG4gICAgICAgIGlmICh0ZXN0Lm11dGVkKSB7XHJcbiAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge31cclxuXHJcbiAgICAgIC8vIENoZWNrIGZvciBzdXBwb3J0ZWQgY29kZWNzLlxyXG4gICAgICBpZiAoIXNlbGYubm9BdWRpbykge1xyXG4gICAgICAgIHNlbGYuX3NldHVwQ29kZWNzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGZvciBicm93c2VyIHN1cHBvcnQgZm9yIHZhcmlvdXMgY29kZWNzIGFuZCBjYWNoZSB0aGUgcmVzdWx0cy5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgX3NldHVwQ29kZWNzOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuICAgICAgdmFyIGF1ZGlvVGVzdCA9IG51bGw7XHJcblxyXG4gICAgICAvLyBNdXN0IHdyYXAgaW4gYSB0cnkvY2F0Y2ggYmVjYXVzZSBJRTExIGluIHNlcnZlciBtb2RlIHRocm93cyBhbiBlcnJvci5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhdWRpb1Rlc3QgPSAodHlwZW9mIEF1ZGlvICE9PSAndW5kZWZpbmVkJykgPyBuZXcgQXVkaW8oKSA6IG51bGw7XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWF1ZGlvVGVzdCB8fCB0eXBlb2YgYXVkaW9UZXN0LmNhblBsYXlUeXBlICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBtcGVnVGVzdCA9IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywgJycpO1xyXG5cclxuICAgICAgLy8gT3BlcmEgdmVyc2lvbiA8MzMgaGFzIG1peGVkIE1QMyBzdXBwb3J0LCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvciBhbmQgYmxvY2sgaXQuXHJcbiAgICAgIHZhciB1YSA9IHNlbGYuX25hdmlnYXRvciA/IHNlbGYuX25hdmlnYXRvci51c2VyQWdlbnQgOiAnJztcclxuICAgICAgdmFyIGNoZWNrT3BlcmEgPSB1YS5tYXRjaCgvT1BSXFwvKFxcZCspL2cpO1xyXG4gICAgICB2YXIgaXNPbGRPcGVyYSA9IChjaGVja09wZXJhICYmIHBhcnNlSW50KGNoZWNrT3BlcmFbMF0uc3BsaXQoJy8nKVsxXSwgMTApIDwgMzMpO1xyXG4gICAgICB2YXIgY2hlY2tTYWZhcmkgPSB1YS5pbmRleE9mKCdTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xO1xyXG4gICAgICB2YXIgc2FmYXJpVmVyc2lvbiA9IHVhLm1hdGNoKC9WZXJzaW9uXFwvKC4qPykgLyk7XHJcbiAgICAgIHZhciBpc09sZFNhZmFyaSA9IChjaGVja1NhZmFyaSAmJiBzYWZhcmlWZXJzaW9uICYmIHBhcnNlSW50KHNhZmFyaVZlcnNpb25bMV0sIDEwKSA8IDE1KTtcclxuXHJcbiAgICAgIHNlbGYuX2NvZGVjcyA9IHtcclxuICAgICAgICBtcDM6ICEhKCFpc09sZE9wZXJhICYmIChtcGVnVGVzdCB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wMzsnKS5yZXBsYWNlKC9ebm8kLywgJycpKSksXHJcbiAgICAgICAgbXBlZzogISFtcGVnVGVzdCxcclxuICAgICAgICBvcHVzOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJvcHVzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIG9nZzogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIG9nYTogISFhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIHdhdjogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgYWFjOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgY2FmOiAhIWF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1jYWY7JykucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICBtNGE6ICEhKGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8veC1tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tNGE7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgbTRiOiAhIShhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3gtbTRiOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vbTRiOycpIHx8IGF1ZGlvVGVzdC5jYW5QbGF5VHlwZSgnYXVkaW8vYWFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpLFxyXG4gICAgICAgIG1wNDogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LW1wNDsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDsnKSB8fCBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkucmVwbGFjZSgvXm5vJC8sICcnKSxcclxuICAgICAgICB3ZWJhOiAhISghaXNPbGRTYWZhcmkgJiYgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCAnJykpLFxyXG4gICAgICAgIHdlYm06ICEhKCFpc09sZFNhZmFyaSAmJiBhdWRpb1Rlc3QuY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sICcnKSksXHJcbiAgICAgICAgZG9sYnk6ICEhYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7IGNvZGVjcz1cImVjLTNcIicpLnJlcGxhY2UoL15ubyQvLCAnJyksXHJcbiAgICAgICAgZmxhYzogISEoYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby94LWZsYWM7JykgfHwgYXVkaW9UZXN0LmNhblBsYXlUeXBlKCdhdWRpby9mbGFjOycpKS5yZXBsYWNlKC9ebm8kLywgJycpXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTb21lIGJyb3dzZXJzL2RldmljZXMgd2lsbCBvbmx5IGFsbG93IGF1ZGlvIHRvIGJlIHBsYXllZCBhZnRlciBhIHVzZXIgaW50ZXJhY3Rpb24uXHJcbiAgICAgKiBBdHRlbXB0IHRvIGF1dG9tYXRpY2FsbHkgdW5sb2NrIGF1ZGlvIG9uIHRoZSBmaXJzdCB1c2VyIGludGVyYWN0aW9uLlxyXG4gICAgICogQ29uY2VwdCBmcm9tOiBodHRwOi8vcGF1bGJha2F1cy5jb20vdHV0b3JpYWxzL2h0bWw1L3dlYi1hdWRpby1vbi1pb3MvXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF91bmxvY2tBdWRpbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBPbmx5IHJ1biB0aGlzIGlmIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQgYW5kIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gdW5sb2NrZWQuXHJcbiAgICAgIGlmIChzZWxmLl9hdWRpb1VubG9ja2VkIHx8ICFzZWxmLmN0eCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2VsZi5fYXVkaW9VbmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgICBzZWxmLmF1dG9VbmxvY2sgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIFNvbWUgbW9iaWxlIGRldmljZXMvcGxhdGZvcm1zIGhhdmUgZGlzdG9ydGlvbiBpc3N1ZXMgd2hlbiBvcGVuaW5nL2Nsb3NpbmcgdGFicyBhbmQvb3Igd2ViIHZpZXdzLlxyXG4gICAgICAvLyBCdWdzIGluIHRoZSBicm93c2VyIChlc3BlY2lhbGx5IE1vYmlsZSBTYWZhcmkpIGNhbiBjYXVzZSB0aGUgc2FtcGxlUmF0ZSB0byBjaGFuZ2UgZnJvbSA0NDEwMCB0byA0ODAwMC5cclxuICAgICAgLy8gQnkgY2FsbGluZyBIb3dsZXIudW5sb2FkKCksIHdlIGNyZWF0ZSBhIG5ldyBBdWRpb0NvbnRleHQgd2l0aCB0aGUgY29ycmVjdCBzYW1wbGVSYXRlLlxyXG4gICAgICBpZiAoIXNlbGYuX21vYmlsZVVubG9hZGVkICYmIHNlbGYuY3R4LnNhbXBsZVJhdGUgIT09IDQ0MTAwKSB7XHJcbiAgICAgICAgc2VsZi5fbW9iaWxlVW5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIHNlbGYudW5sb2FkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNjcmF0Y2ggYnVmZmVyIGZvciBlbmFibGluZyBpT1MgdG8gZGlzcG9zZSBvZiB3ZWIgYXVkaW8gYnVmZmVycyBjb3JyZWN0bHksIGFzIHBlcjpcclxuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNDExOTY4NFxyXG4gICAgICBzZWxmLl9zY3JhdGNoQnVmZmVyID0gc2VsZi5jdHguY3JlYXRlQnVmZmVyKDEsIDEsIDIyMDUwKTtcclxuXHJcbiAgICAgIC8vIENhbGwgdGhpcyBtZXRob2Qgb24gdG91Y2ggc3RhcnQgdG8gY3JlYXRlIGFuZCBwbGF5IGEgYnVmZmVyLFxyXG4gICAgICAvLyB0aGVuIGNoZWNrIGlmIHRoZSBhdWRpbyBhY3R1YWxseSBwbGF5ZWQgdG8gZGV0ZXJtaW5lIGlmXHJcbiAgICAgIC8vIGF1ZGlvIGhhcyBub3cgYmVlbiB1bmxvY2tlZCBvbiBpT1MsIEFuZHJvaWQsIGV0Yy5cclxuICAgICAgdmFyIHVubG9jayA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyBDcmVhdGUgYSBwb29sIG9mIHVubG9ja2VkIEhUTUw1IEF1ZGlvIG9iamVjdHMgdGhhdCBjYW5cclxuICAgICAgICAvLyBiZSB1c2VkIGZvciBwbGF5aW5nIHNvdW5kcyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24uIEhUTUw1XHJcbiAgICAgICAgLy8gQXVkaW8gb2JqZWN0cyBtdXN0IGJlIGluZGl2aWR1YWxseSB1bmxvY2tlZCwgYXMgb3Bwb3NlZFxyXG4gICAgICAgIC8vIHRvIHRoZSBXZWJBdWRpbyBBUEkgd2hpY2ggb25seSBuZWVkcyBhIHNpbmdsZSBhY3RpdmF0aW9uLlxyXG4gICAgICAgIC8vIFRoaXMgbXVzdCBvY2N1ciBiZWZvcmUgV2ViQXVkaW8gc2V0dXAgb3IgdGhlIHNvdXJjZS5vbmVuZGVkXHJcbiAgICAgICAgLy8gZXZlbnQgd2lsbCBub3QgZmlyZS5cclxuICAgICAgICB3aGlsZSAoc2VsZi5faHRtbDVBdWRpb1Bvb2wubGVuZ3RoIDwgc2VsZi5odG1sNVBvb2xTaXplKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgYXVkaW9Ob2RlID0gbmV3IEF1ZGlvKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYXJrIHRoaXMgQXVkaW8gb2JqZWN0IGFzIHVubG9ja2VkIHRvIGVuc3VyZSBpdCBjYW4gZ2V0IHJldHVybmVkXHJcbiAgICAgICAgICAgIC8vIHRvIHRoZSB1bmxvY2tlZCBwb29sIHdoZW4gcmVsZWFzZWQuXHJcbiAgICAgICAgICAgIGF1ZGlvTm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBhdWRpbyBub2RlIHRvIHRoZSBwb29sLlxyXG4gICAgICAgICAgICBzZWxmLl9yZWxlYXNlSHRtbDVBdWRpbyhhdWRpb05vZGUpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBzZWxmLm5vQXVkaW8gPSB0cnVlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbnkgYXNzaWduZWQgYXVkaW8gbm9kZXMgYW5kIHVubG9jayB0aGVtLlxyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKCFzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgICAgLy8gR2V0IGFsbCBvZiB0aGUgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAgICAgICAgdmFyIGlkcyA9IHNlbGYuX2hvd2xzW2ldLl9nZXRTb3VuZElkcygpO1xyXG5cclxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBzb3VuZHMgYW5kIHVubG9jayB0aGUgYXVkaW8gbm9kZXMuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGo9MDsgajxpZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9ob3dsc1tpXS5fc291bmRCeUlkKGlkc1tqXSk7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChzb3VuZCAmJiBzb3VuZC5fbm9kZSAmJiAhc291bmQuX25vZGUuX3VubG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc291bmQuX25vZGUubG9hZCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRml4IEFuZHJvaWQgY2FuIG5vdCBwbGF5IGluIHN1c3BlbmQgc3RhdGUuXHJcbiAgICAgICAgc2VsZi5fYXV0b1Jlc3VtZSgpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYW4gZW1wdHkgYnVmZmVyLlxyXG4gICAgICAgIHZhciBzb3VyY2UgPSBzZWxmLmN0eC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcclxuICAgICAgICBzb3VyY2UuYnVmZmVyID0gc2VsZi5fc2NyYXRjaEJ1ZmZlcjtcclxuICAgICAgICBzb3VyY2UuY29ubmVjdChzZWxmLmN0eC5kZXN0aW5hdGlvbik7XHJcblxyXG4gICAgICAgIC8vIFBsYXkgdGhlIGVtcHR5IGJ1ZmZlci5cclxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZS5zdGFydCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHNvdXJjZS5ub3RlT24oMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgcmVzdW1lKCkgb24gYSBzdGFjayBpbml0aWF0ZWQgYnkgdXNlciBnZXN0dXJlIGlzIHdoYXQgYWN0dWFsbHkgdW5sb2NrcyB0aGUgYXVkaW8gb24gQW5kcm9pZCBDaHJvbWUgPj0gNTUuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5yZXN1bWUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIHNlbGYuY3R4LnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0dXAgYSB0aW1lb3V0IHRvIGNoZWNrIHRoYXQgd2UgYXJlIHVubG9ja2VkIG9uIHRoZSBuZXh0IGV2ZW50IGxvb3AuXHJcbiAgICAgICAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNvdXJjZS5kaXNjb25uZWN0KDApO1xyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdW5sb2NrZWQgc3RhdGUgYW5kIHByZXZlbnQgdGhpcyBjaGVjayBmcm9tIGhhcHBlbmluZyBhZ2Fpbi5cclxuICAgICAgICAgIHNlbGYuX2F1ZGlvVW5sb2NrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG91Y2ggc3RhcnQgbGlzdGVuZXIuXHJcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdW5sb2NrLCB0cnVlKTtcclxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdW5sb2NrLCB0cnVlKTtcclxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5sb2NrLCB0cnVlKTtcclxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB1bmxvY2ssIHRydWUpO1xyXG5cclxuICAgICAgICAgIC8vIExldCBhbGwgc291bmRzIGtub3cgdGhhdCBhdWRpbyBoYXMgYmVlbiB1bmxvY2tlZC5cclxuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzZWxmLl9ob3dsc1tpXS5fZW1pdCgndW5sb2NrJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFNldHVwIGEgdG91Y2ggc3RhcnQgbGlzdGVuZXIgdG8gYXR0ZW1wdCBhbiB1bmxvY2sgaW4uXHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB1bmxvY2ssIHRydWUpO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHVubG9jaywgdHJ1ZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5sb2NrLCB0cnVlKTtcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHVubG9jaywgdHJ1ZSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYW4gdW5sb2NrZWQgSFRNTDUgQXVkaW8gb2JqZWN0IGZyb20gdGhlIHBvb2wuIElmIG5vbmUgYXJlIGxlZnQsXHJcbiAgICAgKiByZXR1cm4gYSBuZXcgQXVkaW8gb2JqZWN0IGFuZCB0aHJvdyBhIHdhcm5pbmcuXHJcbiAgICAgKiBAcmV0dXJuIHtBdWRpb30gSFRNTDUgQXVkaW8gb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBfb2J0YWluSHRtbDVBdWRpbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcyB8fCBIb3dsZXI7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gdGhlIG5leHQgb2JqZWN0IGZyb20gdGhlIHBvb2wgaWYgb25lIGV4aXN0cy5cclxuICAgICAgaWYgKHNlbGYuX2h0bWw1QXVkaW9Qb29sLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBzZWxmLl9odG1sNUF1ZGlvUG9vbC5wb3AoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8uQ2hlY2sgaWYgdGhlIGF1ZGlvIGlzIGxvY2tlZCBhbmQgdGhyb3cgYSB3YXJuaW5nLlxyXG4gICAgICB2YXIgdGVzdFBsYXkgPSBuZXcgQXVkaW8oKS5wbGF5KCk7XHJcbiAgICAgIGlmICh0ZXN0UGxheSAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgKHRlc3RQbGF5IGluc3RhbmNlb2YgUHJvbWlzZSB8fCB0eXBlb2YgdGVzdFBsYXkudGhlbiA9PT0gJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICB0ZXN0UGxheS5jYXRjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignSFRNTDUgQXVkaW8gcG9vbCBleGhhdXN0ZWQsIHJldHVybmluZyBwb3RlbnRpYWxseSBsb2NrZWQgYXVkaW8gb2JqZWN0LicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbmV3IEF1ZGlvKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIGFjdGl2YXRlZCBIVE1MNSBBdWRpbyBvYmplY3QgdG8gdGhlIHBvb2wuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsZXJ9XHJcbiAgICAgKi9cclxuICAgIF9yZWxlYXNlSHRtbDVBdWRpbzogZnVuY3Rpb24oYXVkaW8pIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzIHx8IEhvd2xlcjtcclxuXHJcbiAgICAgIC8vIERvbid0IGFkZCBhdWRpbyB0byB0aGUgcG9vbCBpZiB3ZSBkb24ndCBrbm93IGlmIGl0IGhhcyBiZWVuIHVubG9ja2VkLlxyXG4gICAgICBpZiAoYXVkaW8uX3VubG9ja2VkKSB7XHJcbiAgICAgICAgc2VsZi5faHRtbDVBdWRpb1Bvb2wucHVzaChhdWRpbyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEF1dG9tYXRpY2FsbHkgc3VzcGVuZCB0aGUgV2ViIEF1ZGlvIEF1ZGlvQ29udGV4dCBhZnRlciBubyBzb3VuZCBoYXMgcGxheWVkIGZvciAzMCBzZWNvbmRzLlxyXG4gICAgICogVGhpcyBzYXZlcyBwcm9jZXNzaW5nL2VuZXJneSBhbmQgZml4ZXMgdmFyaW91cyBicm93c2VyLXNwZWNpZmljIGJ1Z3Mgd2l0aCBhdWRpbyBnZXR0aW5nIHN0dWNrLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBfYXV0b1N1c3BlbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoIXNlbGYuYXV0b1N1c3BlbmQgfHwgIXNlbGYuY3R4IHx8IHR5cGVvZiBzZWxmLmN0eC5zdXNwZW5kID09PSAndW5kZWZpbmVkJyB8fCAhSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIGFueSBzb3VuZHMgYXJlIHBsYXlpbmcuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChzZWxmLl9ob3dsc1tpXS5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIGZvciAodmFyIGo9MDsgajxzZWxmLl9ob3dsc1tpXS5fc291bmRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmICghc2VsZi5faG93bHNbaV0uX3NvdW5kc1tqXS5fcGF1c2VkKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzZWxmLl9zdXNwZW5kVGltZXIpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbm8gc291bmQgaGFzIHBsYXllZCBhZnRlciAzMCBzZWNvbmRzLCBzdXNwZW5kIHRoZSBjb250ZXh0LlxyXG4gICAgICBzZWxmLl9zdXNwZW5kVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghc2VsZi5hdXRvU3VzcGVuZCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5fc3VzcGVuZFRpbWVyID0gbnVsbDtcclxuICAgICAgICBzZWxmLnN0YXRlID0gJ3N1c3BlbmRpbmcnO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgdXBkYXRpbmcgdGhlIHN0YXRlIG9mIHRoZSBhdWRpbyBjb250ZXh0IGFmdGVyIHN1c3BlbmRpbmcuXHJcbiAgICAgICAgdmFyIGhhbmRsZVN1c3BlbnNpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuc3RhdGUgPSAnc3VzcGVuZGVkJztcclxuXHJcbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdW1lQWZ0ZXJTdXNwZW5kKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzZWxmLl9yZXN1bWVBZnRlclN1c3BlbmQ7XHJcbiAgICAgICAgICAgIHNlbGYuX2F1dG9SZXN1bWUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBFaXRoZXIgdGhlIHN0YXRlIGdldHMgc3VzcGVuZGVkIG9yIGl0IGlzIGludGVycnVwdGVkLlxyXG4gICAgICAgIC8vIEVpdGhlciB3YXksIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBzdGF0ZSB0byBzdXNwZW5kZWQuXHJcbiAgICAgICAgc2VsZi5jdHguc3VzcGVuZCgpLnRoZW4oaGFuZGxlU3VzcGVuc2lvbiwgaGFuZGxlU3VzcGVuc2lvbik7XHJcbiAgICAgIH0sIDMwMDAwKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEF1dG9tYXRpY2FsbHkgcmVzdW1lIHRoZSBXZWIgQXVkaW8gQXVkaW9Db250ZXh0IHdoZW4gYSBuZXcgc291bmQgaXMgcGxheWVkLlxyXG4gICAgICogQHJldHVybiB7SG93bGVyfVxyXG4gICAgICovXHJcbiAgICBfYXV0b1Jlc3VtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmICghc2VsZi5jdHggfHwgdHlwZW9mIHNlbGYuY3R4LnJlc3VtZSA9PT0gJ3VuZGVmaW5lZCcgfHwgIUhvd2xlci51c2luZ1dlYkF1ZGlvKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIHNlbGYuY3R4LnN0YXRlICE9PSAnaW50ZXJydXB0ZWQnICYmIHNlbGYuX3N1c3BlbmRUaW1lcikge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChzZWxmLl9zdXNwZW5kVGltZXIpO1xyXG4gICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcgfHwgc2VsZi5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIHNlbGYuY3R4LnN0YXRlID09PSAnaW50ZXJydXB0ZWQnKSB7XHJcbiAgICAgICAgc2VsZi5jdHgucmVzdW1lKCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuc3RhdGUgPSAncnVubmluZyc7XHJcblxyXG4gICAgICAgICAgLy8gRW1pdCB0byBhbGwgSG93bHMgdGhhdCB0aGUgYXVkaW8gaGFzIHJlc3VtZWQuXHJcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5faG93bHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc2VsZi5faG93bHNbaV0uX2VtaXQoJ3Jlc3VtZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5fc3VzcGVuZFRpbWVyKSB7XHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQoc2VsZi5fc3VzcGVuZFRpbWVyKTtcclxuICAgICAgICAgIHNlbGYuX3N1c3BlbmRUaW1lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHNlbGYuc3RhdGUgPT09ICdzdXNwZW5kaW5nJykge1xyXG4gICAgICAgIHNlbGYuX3Jlc3VtZUFmdGVyU3VzcGVuZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFNldHVwIHRoZSBnbG9iYWwgYXVkaW8gY29udHJvbGxlci5cclxuICB2YXIgSG93bGVyID0gbmV3IEhvd2xlckdsb2JhbCgpO1xyXG5cclxuICAvKiogR3JvdXAgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYW4gYXVkaW8gZ3JvdXAgY29udHJvbGxlci5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gbyBQYXNzZWQgaW4gcHJvcGVydGllcyBmb3IgdGhpcyBncm91cC5cclxuICAgKi9cclxuICB2YXIgSG93bCA9IGZ1bmN0aW9uKG8pIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiBubyBzb3VyY2UgaXMgcHJvdmlkZWQuXHJcbiAgICBpZiAoIW8uc3JjIHx8IG8uc3JjLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBbiBhcnJheSBvZiBzb3VyY2UgZmlsZXMgbXVzdCBiZSBwYXNzZWQgd2l0aCBhbnkgbmV3IEhvd2wuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZWxmLmluaXQobyk7XHJcbiAgfTtcclxuICBIb3dsLnByb3RvdHlwZSA9IHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSBhIG5ldyBIb3dsIGdyb3VwIG9iamVjdC5cclxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbyBQYXNzZWQgaW4gcHJvcGVydGllcyBmb3IgdGhpcyBncm91cC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uKG8pIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhbiBBdWRpb0NvbnRleHQgY3JlYXRlZCB5ZXQsIHJ1biB0aGUgc2V0dXAuXHJcbiAgICAgIGlmICghSG93bGVyLmN0eCkge1xyXG4gICAgICAgIHNldHVwQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXHJcbiAgICAgIHNlbGYuX2F1dG9wbGF5ID0gby5hdXRvcGxheSB8fCBmYWxzZTtcclxuICAgICAgc2VsZi5fZm9ybWF0ID0gKHR5cGVvZiBvLmZvcm1hdCAhPT0gJ3N0cmluZycpID8gby5mb3JtYXQgOiBbby5mb3JtYXRdO1xyXG4gICAgICBzZWxmLl9odG1sNSA9IG8uaHRtbDUgfHwgZmFsc2U7XHJcbiAgICAgIHNlbGYuX211dGVkID0gby5tdXRlIHx8IGZhbHNlO1xyXG4gICAgICBzZWxmLl9sb29wID0gby5sb29wIHx8IGZhbHNlO1xyXG4gICAgICBzZWxmLl9wb29sID0gby5wb29sIHx8IDU7XHJcbiAgICAgIHNlbGYuX3ByZWxvYWQgPSAodHlwZW9mIG8ucHJlbG9hZCA9PT0gJ2Jvb2xlYW4nIHx8IG8ucHJlbG9hZCA9PT0gJ21ldGFkYXRhJykgPyBvLnByZWxvYWQgOiB0cnVlO1xyXG4gICAgICBzZWxmLl9yYXRlID0gby5yYXRlIHx8IDE7XHJcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IG8uc3ByaXRlIHx8IHt9O1xyXG4gICAgICBzZWxmLl9zcmMgPSAodHlwZW9mIG8uc3JjICE9PSAnc3RyaW5nJykgPyBvLnNyYyA6IFtvLnNyY107XHJcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IG8udm9sdW1lICE9PSB1bmRlZmluZWQgPyBvLnZvbHVtZSA6IDE7XHJcbiAgICAgIHNlbGYuX3hociA9IHtcclxuICAgICAgICBtZXRob2Q6IG8ueGhyICYmIG8ueGhyLm1ldGhvZCA/IG8ueGhyLm1ldGhvZCA6ICdHRVQnLFxyXG4gICAgICAgIGhlYWRlcnM6IG8ueGhyICYmIG8ueGhyLmhlYWRlcnMgPyBvLnhoci5oZWFkZXJzIDogbnVsbCxcclxuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IG8ueGhyICYmIG8ueGhyLndpdGhDcmVkZW50aWFscyA/IG8ueGhyLndpdGhDcmVkZW50aWFscyA6IGZhbHNlLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU2V0dXAgYWxsIG90aGVyIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5fZHVyYXRpb24gPSAwO1xyXG4gICAgICBzZWxmLl9zdGF0ZSA9ICd1bmxvYWRlZCc7XHJcbiAgICAgIHNlbGYuX3NvdW5kcyA9IFtdO1xyXG4gICAgICBzZWxmLl9lbmRUaW1lcnMgPSB7fTtcclxuICAgICAgc2VsZi5fcXVldWUgPSBbXTtcclxuICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcclxuXHJcbiAgICAgIC8vIFNldHVwIGV2ZW50IGxpc3RlbmVycy5cclxuICAgICAgc2VsZi5fb25lbmQgPSBvLm9uZW5kID8gW3tmbjogby5vbmVuZH1dIDogW107XHJcbiAgICAgIHNlbGYuX29uZmFkZSA9IG8ub25mYWRlID8gW3tmbjogby5vbmZhZGV9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbmxvYWQgPSBvLm9ubG9hZCA/IFt7Zm46IG8ub25sb2FkfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25sb2FkZXJyb3IgPSBvLm9ubG9hZGVycm9yID8gW3tmbjogby5vbmxvYWRlcnJvcn1dIDogW107XHJcbiAgICAgIHNlbGYuX29ucGxheWVycm9yID0gby5vbnBsYXllcnJvciA/IFt7Zm46IG8ub25wbGF5ZXJyb3J9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnBhdXNlID0gby5vbnBhdXNlID8gW3tmbjogby5vbnBhdXNlfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25wbGF5ID0gby5vbnBsYXkgPyBbe2ZuOiBvLm9ucGxheX1dIDogW107XHJcbiAgICAgIHNlbGYuX29uc3RvcCA9IG8ub25zdG9wID8gW3tmbjogby5vbnN0b3B9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbm11dGUgPSBvLm9ubXV0ZSA/IFt7Zm46IG8ub25tdXRlfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb252b2x1bWUgPSBvLm9udm9sdW1lID8gW3tmbjogby5vbnZvbHVtZX1dIDogW107XHJcbiAgICAgIHNlbGYuX29ucmF0ZSA9IG8ub25yYXRlID8gW3tmbjogby5vbnJhdGV9XSA6IFtdO1xyXG4gICAgICBzZWxmLl9vbnNlZWsgPSBvLm9uc2VlayA/IFt7Zm46IG8ub25zZWVrfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb251bmxvY2sgPSBvLm9udW5sb2NrID8gW3tmbjogby5vbnVubG9ja31dIDogW107XHJcbiAgICAgIHNlbGYuX29ucmVzdW1lID0gW107XHJcblxyXG4gICAgICAvLyBXZWIgQXVkaW8gb3IgSFRNTDUgQXVkaW8/XHJcbiAgICAgIHNlbGYuX3dlYkF1ZGlvID0gSG93bGVyLnVzaW5nV2ViQXVkaW8gJiYgIXNlbGYuX2h0bWw1O1xyXG5cclxuICAgICAgLy8gQXV0b21hdGljYWxseSB0cnkgdG8gZW5hYmxlIGF1ZGlvLlxyXG4gICAgICBpZiAodHlwZW9mIEhvd2xlci5jdHggIT09ICd1bmRlZmluZWQnICYmIEhvd2xlci5jdHggJiYgSG93bGVyLmF1dG9VbmxvY2spIHtcclxuICAgICAgICBIb3dsZXIuX3VubG9ja0F1ZGlvKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtlZXAgdHJhY2sgb2YgdGhpcyBIb3dsIGdyb3VwIGluIHRoZSBnbG9iYWwgY29udHJvbGxlci5cclxuICAgICAgSG93bGVyLl9ob3dscy5wdXNoKHNlbGYpO1xyXG5cclxuICAgICAgLy8gSWYgdGhleSBzZWxlY3RlZCBhdXRvcGxheSwgYWRkIGEgcGxheSBldmVudCB0byB0aGUgbG9hZCBxdWV1ZS5cclxuICAgICAgaWYgKHNlbGYuX2F1dG9wbGF5KSB7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ3BsYXknLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5wbGF5KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExvYWQgdGhlIHNvdXJjZSBmaWxlIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxyXG4gICAgICBpZiAoc2VsZi5fcHJlbG9hZCAmJiBzZWxmLl9wcmVsb2FkICE9PSAnbm9uZScpIHtcclxuICAgICAgICBzZWxmLmxvYWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZCB0aGUgYXVkaW8gZmlsZS5cclxuICAgICAqIEByZXR1cm4ge0hvd2xlcn1cclxuICAgICAqL1xyXG4gICAgbG9hZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHVybCA9IG51bGw7XHJcblxyXG4gICAgICAvLyBJZiBubyBhdWRpbyBpcyBhdmFpbGFibGUsIHF1aXQgaW1tZWRpYXRlbHkuXHJcbiAgICAgIGlmIChIb3dsZXIubm9BdWRpbykge1xyXG4gICAgICAgIHNlbGYuX2VtaXQoJ2xvYWRlcnJvcicsIG51bGwsICdObyBhdWRpbyBzdXBwb3J0LicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWFrZSBzdXJlIG91ciBzb3VyY2UgaXMgaW4gYW4gYXJyYXkuXHJcbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5fc3JjID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHNlbGYuX3NyYyA9IFtzZWxmLl9zcmNdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMb29wIHRocm91Z2ggdGhlIHNvdXJjZXMgYW5kIHBpY2sgdGhlIGZpcnN0IG9uZSB0aGF0IGlzIGNvbXBhdGlibGUuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zcmMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgZXh0LCBzdHI7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLl9mb3JtYXQgJiYgc2VsZi5fZm9ybWF0W2ldKSB7XHJcbiAgICAgICAgICAvLyBJZiBhbiBleHRlbnNpb24gd2FzIHNwZWNpZmllZCwgdXNlIHRoYXQgaW5zdGVhZC5cclxuICAgICAgICAgIGV4dCA9IHNlbGYuX2Zvcm1hdFtpXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcuXHJcbiAgICAgICAgICBzdHIgPSBzZWxmLl9zcmNbaV07XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ05vbi1zdHJpbmcgZm91bmQgaW4gc2VsZWN0ZWQgYXVkaW8gc291cmNlcyAtIGlnbm9yaW5nLicpO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBmaWxlIGV4dGVuc2lvbiBmcm9tIHRoZSBVUkwgb3IgYmFzZTY0IGRhdGEgVVJJLlxyXG4gICAgICAgICAgZXh0ID0gL15kYXRhOmF1ZGlvXFwvKFteOyxdKyk7L2kuZXhlYyhzdHIpO1xyXG4gICAgICAgICAgaWYgKCFleHQpIHtcclxuICAgICAgICAgICAgZXh0ID0gL1xcLihbXi5dKykkLy5leGVjKHN0ci5zcGxpdCgnPycsIDEpWzBdKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoZXh0KSB7XHJcbiAgICAgICAgICAgIGV4dCA9IGV4dFsxXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTG9nIGEgd2FybmluZyBpZiBubyBleHRlbnNpb24gd2FzIGZvdW5kLlxyXG4gICAgICAgIGlmICghZXh0KSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIGZpbGUgZXh0ZW5zaW9uIHdhcyBmb3VuZC4gQ29uc2lkZXIgdXNpbmcgdGhlIFwiZm9ybWF0XCIgcHJvcGVydHkgb3Igc3BlY2lmeSBhbiBleHRlbnNpb24uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGV4dGVuc2lvbiBpcyBhdmFpbGFibGUuXHJcbiAgICAgICAgaWYgKGV4dCAmJiBIb3dsZXIuY29kZWNzKGV4dCkpIHtcclxuICAgICAgICAgIHVybCA9IHNlbGYuX3NyY1tpXTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF1cmwpIHtcclxuICAgICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnTm8gY29kZWMgc3VwcG9ydCBmb3Igc2VsZWN0ZWQgYXVkaW8gc291cmNlcy4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNlbGYuX3NyYyA9IHVybDtcclxuICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGluZyc7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgaG9zdGluZyBwYWdlIGlzIEhUVFBTIGFuZCB0aGUgc291cmNlIGlzbid0LFxyXG4gICAgICAvLyBkcm9wIGRvd24gdG8gSFRNTDUgQXVkaW8gdG8gYXZvaWQgTWl4ZWQgQ29udGVudCBlcnJvcnMuXHJcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonICYmIHVybC5zbGljZSgwLCA1KSA9PT0gJ2h0dHA6Jykge1xyXG4gICAgICAgIHNlbGYuX2h0bWw1ID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgc291bmQgb2JqZWN0IGFuZCBhZGQgaXQgdG8gdGhlIHBvb2wuXHJcbiAgICAgIG5ldyBTb3VuZChzZWxmKTtcclxuXHJcbiAgICAgIC8vIExvYWQgYW5kIGRlY29kZSB0aGUgYXVkaW8gZGF0YSBmb3IgcGxheWJhY2suXHJcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgIGxvYWRCdWZmZXIoc2VsZik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBsYXkgYSBzb3VuZCBvciByZXN1bWUgcHJldmlvdXMgcGxheWJhY2suXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmcvTnVtYmVyfSBzcHJpdGUgICBTcHJpdGUgbmFtZSBmb3Igc3ByaXRlIHBsYXliYWNrIG9yIHNvdW5kIGlkIHRvIGNvbnRpbnVlIHByZXZpb3VzLlxyXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaW50ZXJuYWwgSW50ZXJuYWwgVXNlOiB0cnVlIHByZXZlbnRzIGV2ZW50IGZpcmluZy5cclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgU291bmQgSUQuXHJcbiAgICAgKi9cclxuICAgIHBsYXk6IGZ1bmN0aW9uKHNwcml0ZSwgaW50ZXJuYWwpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgaWQgPSBudWxsO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIGEgc3ByaXRlLCBzb3VuZCBpZCBvciBub3RoaW5nIHdhcyBwYXNzZWRcclxuICAgICAgaWYgKHR5cGVvZiBzcHJpdGUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgaWQgPSBzcHJpdGU7XHJcbiAgICAgICAgc3ByaXRlID0gbnVsbDtcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAnc3RyaW5nJyAmJiBzZWxmLl9zdGF0ZSA9PT0gJ2xvYWRlZCcgJiYgIXNlbGYuX3Nwcml0ZVtzcHJpdGVdKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIHBhc3NlZCBzcHJpdGUgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ByaXRlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgZGVmYXVsdCBzb3VuZCBzcHJpdGUgKHBsYXlzIHRoZSBmdWxsIGF1ZGlvIGxlbmd0aCkuXHJcbiAgICAgICAgc3ByaXRlID0gJ19fZGVmYXVsdCc7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGEgc2luZ2xlIHBhdXNlZCBzb3VuZCB0aGF0IGlzbid0IGVuZGVkLlxyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzLCBwbGF5IHRoYXQgc291bmQuIElmIG5vdCwgY29udGludWUgYXMgdXN1YWwuXHJcbiAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgICAgdmFyIG51bSA9IDA7XHJcbiAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX3BhdXNlZCAmJiAhc2VsZi5fc291bmRzW2ldLl9lbmRlZCkge1xyXG4gICAgICAgICAgICAgIG51bSsrO1xyXG4gICAgICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzW2ldLl9pZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChudW0gPT09IDEpIHtcclxuICAgICAgICAgICAgc3ByaXRlID0gbnVsbDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlkID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgc2VsZWN0ZWQgbm9kZSwgb3IgZ2V0IG9uZSBmcm9tIHRoZSBwb29sLlxyXG4gICAgICB2YXIgc291bmQgPSBpZCA/IHNlbGYuX3NvdW5kQnlJZChpZCkgOiBzZWxmLl9pbmFjdGl2ZVNvdW5kKCk7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc291bmQgZG9lc24ndCBleGlzdCwgZG8gbm90aGluZy5cclxuICAgICAgaWYgKCFzb3VuZCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZWxlY3QgdGhlIHNwcml0ZSBkZWZpbml0aW9uLlxyXG4gICAgICBpZiAoaWQgJiYgIXNwcml0ZSkge1xyXG4gICAgICAgIHNwcml0ZSA9IHNvdW5kLl9zcHJpdGUgfHwgJ19fZGVmYXVsdCc7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCB3ZSBtdXN0IHdhaXQgdG8gZ2V0IHRoZSBhdWRpbydzIGR1cmF0aW9uLlxyXG4gICAgICAvLyBXZSBhbHNvIG5lZWQgdG8gd2FpdCB0byBtYWtlIHN1cmUgd2UgZG9uJ3QgcnVuIGludG8gcmFjZSBjb25kaXRpb25zIHdpdGhcclxuICAgICAgLy8gdGhlIG9yZGVyIG9mIGZ1bmN0aW9uIGNhbGxzLlxyXG4gICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgICAgLy8gU2V0IHRoZSBzcHJpdGUgdmFsdWUgb24gdGhpcyBzb3VuZC5cclxuICAgICAgICBzb3VuZC5fc3ByaXRlID0gc3ByaXRlO1xyXG5cclxuICAgICAgICAvLyBNYXJrIHRoaXMgc291bmQgYXMgbm90IGVuZGVkIGluIGNhc2UgYW5vdGhlciBzb3VuZCBpcyBwbGF5ZWQgYmVmb3JlIHRoaXMgb25lIGxvYWRzLlxyXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIHNvdW5kIHRvIHRoZSBxdWV1ZSB0byBiZSBwbGF5ZWQgb24gbG9hZC5cclxuICAgICAgICB2YXIgc291bmRJZCA9IHNvdW5kLl9pZDtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAncGxheScsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnBsYXkoc291bmRJZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzb3VuZElkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEb24ndCBwbGF5IHRoZSBzb3VuZCBpZiBhbiBpZCB3YXMgcGFzc2VkIGFuZCBpdCBpcyBhbHJlYWR5IHBsYXlpbmcuXHJcbiAgICAgIGlmIChpZCAmJiAhc291bmQuX3BhdXNlZCkge1xyXG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIHBsYXkgZXZlbnQsIGluIG9yZGVyIHRvIGtlZXAgaXRlcmF0aW5nIHRocm91Z2ggcXVldWUuXHJcbiAgICAgICAgaWYgKCFpbnRlcm5hbCkge1xyXG4gICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCdwbGF5Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc291bmQuX2lkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBNYWtlIHN1cmUgdGhlIEF1ZGlvQ29udGV4dCBpc24ndCBzdXNwZW5kZWQsIGFuZCByZXN1bWUgaXQgaWYgaXQgaXMuXHJcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgIEhvd2xlci5fYXV0b1Jlc3VtZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgaG93IGxvbmcgdG8gcGxheSBmb3IgYW5kIHdoZXJlIHRvIHN0YXJ0IHBsYXlpbmcuXHJcbiAgICAgIHZhciBzZWVrID0gTWF0aC5tYXgoMCwgc291bmQuX3NlZWsgPiAwID8gc291bmQuX3NlZWsgOiBzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSAvIDEwMDApO1xyXG4gICAgICB2YXIgZHVyYXRpb24gPSBNYXRoLm1heCgwLCAoKHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzBdICsgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrKTtcclxuICAgICAgdmFyIHRpbWVvdXQgPSAoZHVyYXRpb24gKiAxMDAwKSAvIE1hdGguYWJzKHNvdW5kLl9yYXRlKTtcclxuICAgICAgdmFyIHN0YXJ0ID0gc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMF0gLyAxMDAwO1xyXG4gICAgICB2YXIgc3RvcCA9IChzZWxmLl9zcHJpdGVbc3ByaXRlXVswXSArIHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzFdKSAvIDEwMDA7XHJcbiAgICAgIHNvdW5kLl9zcHJpdGUgPSBzcHJpdGU7XHJcblxyXG4gICAgICAvLyBNYXJrIHRoZSBzb3VuZCBhcyBlbmRlZCBpbnN0YW50bHkgc28gdGhhdCB0aGlzIGFzeW5jIHBsYXliYWNrXHJcbiAgICAgIC8vIGRvZXNuJ3QgZ2V0IGdyYWJiZWQgYnkgYW5vdGhlciBjYWxsIHRvIHBsYXkgd2hpbGUgdGhpcyBvbmUgd2FpdHMgdG8gc3RhcnQuXHJcbiAgICAgIHNvdW5kLl9lbmRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBzb3VuZC5cclxuICAgICAgdmFyIHNldFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICBzb3VuZC5fc2VlayA9IHNlZWs7XHJcbiAgICAgICAgc291bmQuX3N0YXJ0ID0gc3RhcnQ7XHJcbiAgICAgICAgc291bmQuX3N0b3AgPSBzdG9wO1xyXG4gICAgICAgIHNvdW5kLl9sb29wID0gISEoc291bmQuX2xvb3AgfHwgc2VsZi5fc3ByaXRlW3Nwcml0ZV1bMl0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gRW5kIHRoZSBzb3VuZCBpbnN0YW50bHkgaWYgc2VlayBpcyBhdCB0aGUgZW5kLlxyXG4gICAgICBpZiAoc2VlayA+PSBzdG9wKSB7XHJcbiAgICAgICAgc2VsZi5fZW5kZWQoc291bmQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQmVnaW4gdGhlIGFjdHVhbCBwbGF5YmFjay5cclxuICAgICAgdmFyIG5vZGUgPSBzb3VuZC5fbm9kZTtcclxuICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgLy8gRmlyZSB0aGlzIHdoZW4gdGhlIHNvdW5kIGlzIHJlYWR5IHRvIHBsYXkgdG8gYmVnaW4gV2ViIEF1ZGlvIHBsYXliYWNrLlxyXG4gICAgICAgIHZhciBwbGF5V2ViQXVkaW8gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICBzZXRQYXJhbXMoKTtcclxuICAgICAgICAgIHNlbGYuX3JlZnJlc2hCdWZmZXIoc291bmQpO1xyXG5cclxuICAgICAgICAgIC8vIFNldHVwIHRoZSBwbGF5YmFjayBwYXJhbXMuXHJcbiAgICAgICAgICB2YXIgdm9sID0gKHNvdW5kLl9tdXRlZCB8fCBzZWxmLl9tdXRlZCkgPyAwIDogc291bmQuX3ZvbHVtZTtcclxuICAgICAgICAgIG5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2wsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IEhvd2xlci5jdHguY3VycmVudFRpbWU7XHJcblxyXG4gICAgICAgICAgLy8gUGxheSB0aGUgc291bmQgdXNpbmcgdGhlIHN1cHBvcnRlZCBtZXRob2QuXHJcbiAgICAgICAgICBpZiAodHlwZW9mIG5vZGUuYnVmZmVyU291cmNlLnN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBzb3VuZC5fbG9vcCA/IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIDg2NDAwKSA6IG5vZGUuYnVmZmVyU291cmNlLm5vdGVHcmFpbk9uKDAsIHNlZWssIGR1cmF0aW9uKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9sb29wID8gbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQoMCwgc2VlaywgODY0MDApIDogbm9kZS5idWZmZXJTb3VyY2Uuc3RhcnQoMCwgc2VlaywgZHVyYXRpb24pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFN0YXJ0IGEgbmV3IHRpbWVyIGlmIG5vbmUgaXMgcHJlc2VudC5cclxuICAgICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcclxuICAgICAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKEhvd2xlci5zdGF0ZSA9PT0gJ3J1bm5pbmcnICYmIEhvd2xlci5jdHguc3RhdGUgIT09ICdpbnRlcnJ1cHRlZCcpIHtcclxuICAgICAgICAgIHBsYXlXZWJBdWRpbygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGF1ZGlvIGNvbnRleHQgdG8gcmVzdW1lIGJlZm9yZSBwbGF5aW5nLlxyXG4gICAgICAgICAgc2VsZi5vbmNlKCdyZXN1bWUnLCBwbGF5V2ViQXVkaW8pO1xyXG5cclxuICAgICAgICAgIC8vIENhbmNlbCB0aGUgZW5kIHRpbWVyLlxyXG4gICAgICAgICAgc2VsZi5fY2xlYXJUaW1lcihzb3VuZC5faWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBGaXJlIHRoaXMgd2hlbiB0aGUgc291bmQgaXMgcmVhZHkgdG8gcGxheSB0byBiZWdpbiBIVE1MNSBBdWRpbyBwbGF5YmFjay5cclxuICAgICAgICB2YXIgcGxheUh0bWw1ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcclxuICAgICAgICAgIG5vZGUubXV0ZWQgPSBzb3VuZC5fbXV0ZWQgfHwgc2VsZi5fbXV0ZWQgfHwgSG93bGVyLl9tdXRlZCB8fCBub2RlLm11dGVkO1xyXG4gICAgICAgICAgbm9kZS52b2x1bWUgPSBzb3VuZC5fdm9sdW1lICogSG93bGVyLnZvbHVtZSgpO1xyXG4gICAgICAgICAgbm9kZS5wbGF5YmFja1JhdGUgPSBzb3VuZC5fcmF0ZTtcclxuXHJcbiAgICAgICAgICAvLyBTb21lIGJyb3dzZXJzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhpcyBpcyBjYWxsZWQgd2l0aG91dCB1c2VyIGludGVyYWN0aW9uLlxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHBsYXkgPSBub2RlLnBsYXkoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgb2xkZXIgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHByb21pc2VzLCBhbmQgdGh1cyBkb24ndCBoYXZlIHRoaXMgaXNzdWUuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiAocGxheSBpbnN0YW5jZW9mIFByb21pc2UgfHwgdHlwZW9mIHBsYXkudGhlbiA9PT0gJ2Z1bmN0aW9uJykpIHtcclxuICAgICAgICAgICAgICAvLyBJbXBsZW1lbnRzIGEgbG9jayB0byBwcmV2ZW50IERPTUV4Y2VwdGlvbjogVGhlIHBsYXkoKSByZXF1ZXN0IHdhcyBpbnRlcnJ1cHRlZCBieSBhIGNhbGwgdG8gcGF1c2UoKS5cclxuICAgICAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFNldCBwYXJhbSB2YWx1ZXMgaW1tZWRpYXRlbHkuXHJcbiAgICAgICAgICAgICAgc2V0UGFyYW1zKCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFJlbGVhc2VzIHRoZSBsb2NrIGFuZCBleGVjdXRlcyBxdWV1ZWQgYWN0aW9ucy5cclxuICAgICAgICAgICAgICBwbGF5XHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgbm9kZS5fdW5sb2NrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoIWludGVybmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGYuX3BsYXlMb2NrID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgJ1BsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSAnICtcclxuICAgICAgICAgICAgICAgICAgICAnb24gbW9iaWxlIGRldmljZXMgYW5kIENocm9tZSB3aGVyZSBwbGF5YmFjayB3YXMgbm90IHdpdGhpbiBhIHVzZXIgaW50ZXJhY3Rpb24uJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgZW5kZWQgYW5kIHBhdXNlZCB2YWx1ZXMuXHJcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWludGVybmFsKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fcGxheUxvY2sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBzZXRQYXJhbXMoKTtcclxuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdwbGF5Jywgc291bmQuX2lkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU2V0dGluZyByYXRlIGJlZm9yZSBwbGF5aW5nIHdvbid0IHdvcmsgaW4gSUUsIHNvIHdlIHNldCBpdCBhZ2FpbiBoZXJlLlxyXG4gICAgICAgICAgICBub2RlLnBsYXliYWNrUmF0ZSA9IHNvdW5kLl9yYXRlO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgc3RpbGwgcGF1c2VkLCB0aGVuIHdlIGNhbiBhc3N1bWUgdGhlcmUgd2FzIGEgcGxheWJhY2sgaXNzdWUuXHJcbiAgICAgICAgICAgIGlmIChub2RlLnBhdXNlZCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgJ1BsYXliYWNrIHdhcyB1bmFibGUgdG8gc3RhcnQuIFRoaXMgaXMgbW9zdCBjb21tb25seSBhbiBpc3N1ZSAnICtcclxuICAgICAgICAgICAgICAgICdvbiBtb2JpbGUgZGV2aWNlcyBhbmQgQ2hyb21lIHdoZXJlIHBsYXliYWNrIHdhcyBub3Qgd2l0aGluIGEgdXNlciBpbnRlcmFjdGlvbi4nKTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNldHVwIHRoZSBlbmQgdGltZXIgb24gc3ByaXRlcyBvciBsaXN0ZW4gZm9yIHRoZSBlbmRlZCBldmVudC5cclxuICAgICAgICAgICAgaWYgKHNwcml0ZSAhPT0gJ19fZGVmYXVsdCcgfHwgc291bmQuX2xvb3ApIHtcclxuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbc291bmQuX2lkXSA9IHNldFRpbWVvdXQoc2VsZi5fZW5kZWQuYmluZChzZWxmLCBzb3VuZCksIHRpbWVvdXQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJlIGVuZGVkIG9uIHRoaXMgYXVkaW8gbm9kZS5cclxuICAgICAgICAgICAgICAgIHNlbGYuX2VuZGVkKHNvdW5kKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGlzIGxpc3RlbmVyLlxyXG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZFRpbWVyc1tzb3VuZC5faWRdLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0sIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3BsYXllcnJvcicsIHNvdW5kLl9pZCwgZXJyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiB0aGlzIGlzIHN0cmVhbWluZyBhdWRpbywgbWFrZSBzdXJlIHRoZSBzcmMgaXMgc2V0IGFuZCBsb2FkIGFnYWluLlxyXG4gICAgICAgIGlmIChub2RlLnNyYyA9PT0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQUFBQlhRVlpGWm0xMElCSUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFBQUJrWVhSaEFnQUFBQUVBJykge1xyXG4gICAgICAgICAgbm9kZS5zcmMgPSBzZWxmLl9zcmM7XHJcbiAgICAgICAgICBub2RlLmxvYWQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBsYXkgaW1tZWRpYXRlbHkgaWYgcmVhZHksIG9yIHdhaXQgZm9yIHRoZSAnY2FucGxheXRocm91Z2gnZSB2ZW50LlxyXG4gICAgICAgIHZhciBsb2FkZWROb1JlYWR5U3RhdGUgPSAod2luZG93ICYmIHdpbmRvdy5lamVjdGEpIHx8ICghbm9kZS5yZWFkeVN0YXRlICYmIEhvd2xlci5fbmF2aWdhdG9yLmlzQ29jb29uSlMpO1xyXG4gICAgICAgIGlmIChub2RlLnJlYWR5U3RhdGUgPj0gMyB8fCBsb2FkZWROb1JlYWR5U3RhdGUpIHtcclxuICAgICAgICAgIHBsYXlIdG1sNSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLl9wbGF5TG9jayA9IHRydWU7XHJcbiAgICAgICAgICBzZWxmLl9zdGF0ZSA9ICdsb2FkaW5nJztcclxuXHJcbiAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5fc3RhdGUgPSAnbG9hZGVkJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEJlZ2luIHBsYXliYWNrLlxyXG4gICAgICAgICAgICBwbGF5SHRtbDUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENsZWFyIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoSG93bGVyLl9jYW5QbGF5RXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBlbmQgdGltZXIuXHJcbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc291bmQuX2lkO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhdXNlIHBsYXliYWNrIGFuZCBzYXZlIGN1cnJlbnQgcG9zaXRpb24uXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBJRCAoZW1wdHkgdG8gcGF1c2UgYWxsIGluIGdyb3VwKS5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIHBhdXNlOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCBvciBhIHBsYXkoKSBwcm9taXNlIGlzIHBlbmRpbmcsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBwYXVzZSB3aGVuIGNhcGFibGUuXHJcbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAncGF1c2UnLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5wYXVzZShpZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpZCBpcyBwYXNzZWQsIGdldCBhbGwgSUQncyB0byBiZSBwYXVzZWQuXHJcbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGVuZCB0aW1lci5cclxuICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICAgIGlmIChzb3VuZCAmJiAhc291bmQuX3BhdXNlZCkge1xyXG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHNlZWsgcG9zaXRpb24uXHJcbiAgICAgICAgICBzb3VuZC5fc2VlayA9IHNlbGYuc2VlayhpZHNbaV0pO1xyXG4gICAgICAgICAgc291bmQuX3JhdGVTZWVrID0gMDtcclxuICAgICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXHJcbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kIGhhcyBiZWVuIGNyZWF0ZWQuXHJcbiAgICAgICAgICAgICAgaWYgKCFzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5ub3RlT2ZmKDApO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBidWZmZXIgc291cmNlLlxyXG4gICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pIHx8IHNvdW5kLl9ub2RlLmR1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZpcmUgdGhlIHBhdXNlIGV2ZW50LCB1bmxlc3MgYHRydWVgIGlzIHBhc3NlZCBhcyB0aGUgMm5kIGFyZ3VtZW50LlxyXG4gICAgICAgIGlmICghYXJndW1lbnRzWzFdKSB7XHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwYXVzZScsIHNvdW5kID8gc291bmQuX2lkIDogbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIHBsYXliYWNrIGFuZCByZXNldCB0byBzdGFydC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgVGhlIHNvdW5kIElEIChlbXB0eSB0byBzdG9wIGFsbCBpbiBncm91cCkuXHJcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpbnRlcm5hbCBJbnRlcm5hbCBVc2U6IHRydWUgcHJldmVudHMgZXZlbnQgZmlyaW5nLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgc3RvcDogZnVuY3Rpb24oaWQsIGludGVybmFsKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gc3RvcCB3aGVuIGNhcGFibGUuXHJcbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAnc3RvcCcsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnN0b3AoaWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgc3RvcHBlZC5cclxuICAgICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBDbGVhciB0aGUgZW5kIHRpbWVyLlxyXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICAvLyBSZXNldCB0aGUgc2VlayBwb3NpdGlvbi5cclxuICAgICAgICAgIHNvdW5kLl9zZWVrID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xyXG4gICAgICAgICAgc291bmQuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICBzb3VuZC5fZW5kZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgIC8vIFN0b3AgY3VycmVudGx5IHJ1bm5pbmcgZmFkZXMuXHJcbiAgICAgICAgICBzZWxmLl9zdG9wRmFkZShpZHNbaV0pO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHNvdW5kJ3MgQXVkaW9CdWZmZXJTb3VyY2VOb2RlIGhhcyBiZWVuIGNyZWF0ZWQuXHJcbiAgICAgICAgICAgICAgaWYgKHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLm5vdGVPZmYoMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2Uuc3RvcCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgYnVmZmVyIHNvdXJjZS5cclxuICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFuQnVmZmVyKHNvdW5kLl9ub2RlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNvdW5kLl9ub2RlLmR1cmF0aW9uKSB8fCBzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5jdXJyZW50VGltZSA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBhdXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBsaXZlIHN0cmVhbSwgc3RvcCBkb3dubG9hZCBvbmNlIHRoZSBhdWRpbyBpcyBzdG9wcGVkLlxyXG4gICAgICAgICAgICAgIGlmIChzb3VuZC5fbm9kZS5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuX2NsZWFyU291bmQoc291bmQuX25vZGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICghaW50ZXJuYWwpIHtcclxuICAgICAgICAgICAgc2VsZi5fZW1pdCgnc3RvcCcsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNdXRlL3VubXV0ZSBhIHNpbmdsZSBzb3VuZCBvciBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IG11dGVkIFNldCB0byB0cnVlIHRvIG11dGUgYW5kIGZhbHNlIHRvIHVubXV0ZS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICAgVGhlIHNvdW5kIElEIHRvIHVwZGF0ZSAob21pdCB0byBtdXRlL3VubXV0ZSBhbGwpLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgbXV0ZTogZnVuY3Rpb24obXV0ZWQsIGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gbXV0ZSB3aGVuIGNhcGFibGUuXHJcbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCd8fCBzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgZXZlbnQ6ICdtdXRlJyxcclxuICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYubXV0ZShtdXRlZCwgaWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgYXBwbHlpbmcgbXV0ZS91bm11dGUgdG8gYWxsIHNvdW5kcywgdXBkYXRlIHRoZSBncm91cCdzIHZhbHVlLlxyXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbXV0ZWQgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgc2VsZi5fbXV0ZWQgPSBtdXRlZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIHNlbGYuX211dGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbXV0ZWQuXHJcbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcblxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICBzb3VuZC5fbXV0ZWQgPSBtdXRlZDtcclxuXHJcbiAgICAgICAgICAvLyBDYW5jZWwgYWN0aXZlIGZhZGUgYW5kIHNldCB0aGUgdm9sdW1lIHRvIHRoZSBlbmQgdmFsdWUuXHJcbiAgICAgICAgICBpZiAoc291bmQuX2ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKHNvdW5kLl9pZCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUobXV0ZWQgPyAwIDogc291bmQuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLm11dGVkID0gSG93bGVyLl9tdXRlZCA/IHRydWUgOiBtdXRlZDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdtdXRlJywgc291bmQuX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldC9zZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNvdW5kIG9yIG9mIHRoZSBIb3dsIGdyb3VwLiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxseSB0YWtlIDAsIDEgb3IgMiBhcmd1bWVudHMuXHJcbiAgICAgKiAgIHZvbHVtZSgpIC0+IFJldHVybnMgdGhlIGdyb3VwJ3Mgdm9sdW1lIHZhbHVlLlxyXG4gICAgICogICB2b2x1bWUoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCB2b2x1bWUuXHJcbiAgICAgKiAgIHZvbHVtZSh2b2wpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBhbGwgc291bmRzIGluIHRoaXMgSG93bCBncm91cC5cclxuICAgICAqICAgdm9sdW1lKHZvbCwgaWQpIC0+IFNldHMgdGhlIHZvbHVtZSBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsL051bWJlcn0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgdm9sdW1lLlxyXG4gICAgICovXHJcbiAgICB2b2x1bWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICB2YXIgdm9sLCBpZDtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGJhc2VkIG9uIGFyZ3VtZW50cy5cclxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZ3JvdXBzJyB2b2x1bWUuXHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3ZvbHVtZTtcclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSB8fCBhcmdzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgYXJnc1sxXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgdm9sdW1lLlxyXG4gICAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcygpO1xyXG4gICAgICAgIHZhciBpbmRleCA9IGlkcy5pbmRleE9mKGFyZ3NbMF0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMF0sIDEwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdm9sID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPj0gMikge1xyXG4gICAgICAgIHZvbCA9IHBhcnNlRmxvYXQoYXJnc1swXSk7XHJcbiAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzFdLCAxMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIG9yIHJldHVybiB0aGUgY3VycmVudCB2b2x1bWUuXHJcbiAgICAgIHZhciBzb3VuZDtcclxuICAgICAgaWYgKHR5cGVvZiB2b2wgIT09ICd1bmRlZmluZWQnICYmIHZvbCA+PSAwICYmIHZvbCA8PSAxKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2Ugdm9sdW1lIHdoZW4gY2FwYWJsZS5cclxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnfHwgc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICAgIHNlbGYuX3F1ZXVlLnB1c2goe1xyXG4gICAgICAgICAgICBldmVudDogJ3ZvbHVtZScsXHJcbiAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi52b2x1bWUuYXBwbHkoc2VsZiwgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCB2b2x1bWUuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBvbmUgb3IgYWxsIHZvbHVtZXMuXHJcbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgICAgICBzb3VuZC5fdm9sdW1lID0gdm9sO1xyXG5cclxuICAgICAgICAgICAgLy8gU3RvcCBjdXJyZW50bHkgcnVubmluZyBmYWRlcy5cclxuICAgICAgICAgICAgaWYgKCFhcmdzWzJdKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5fc3RvcEZhZGUoaWRbaV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgIXNvdW5kLl9tdXRlZCkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUodm9sLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSAmJiAhc291bmQuX211dGVkKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUudm9sdW1lID0gdm9sICogSG93bGVyLnZvbHVtZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxmLl9lbWl0KCd2b2x1bWUnLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzb3VuZCA9IGlkID8gc2VsZi5fc291bmRCeUlkKGlkKSA6IHNlbGYuX3NvdW5kc1swXTtcclxuICAgICAgICByZXR1cm4gc291bmQgPyBzb3VuZC5fdm9sdW1lIDogMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmFkZSBhIGN1cnJlbnRseSBwbGF5aW5nIHNvdW5kIGJldHdlZW4gdHdvIHZvbHVtZXMgKGlmIG5vIGlkIGlzIHBhc3NlZCwgYWxsIHNvdW5kcyB3aWxsIGZhZGUpLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBmcm9tIFRoZSB2YWx1ZSB0byBmYWRlIGZyb20gKDAuMCB0byAxLjApLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0byAgIFRoZSB2b2x1bWUgdG8gZmFkZSB0byAoMC4wIHRvIDEuMCkuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGxlbiAgVGltZSBpbiBtaWxsaXNlY29uZHMgdG8gZmFkZS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgICBUaGUgc291bmQgaWQgKG9taXQgdG8gZmFkZSBhbGwgc291bmRzKS5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIGZhZGU6IGZ1bmN0aW9uKGZyb20sIHRvLCBsZW4sIGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gZmFkZSB3aGVuIGNhcGFibGUuXHJcbiAgICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spIHtcclxuICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgIGV2ZW50OiAnZmFkZScsXHJcbiAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmZhZGUoZnJvbSwgdG8sIGxlbiwgaWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0by9mcm9tL2xlbiB2YWx1ZXMgYXJlIG51bWJlcnMuXHJcbiAgICAgIGZyb20gPSBNYXRoLm1pbihNYXRoLm1heCgwLCBwYXJzZUZsb2F0KGZyb20pKSwgMSk7XHJcbiAgICAgIHRvID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcGFyc2VGbG9hdCh0bykpLCAxKTtcclxuICAgICAgbGVuID0gcGFyc2VGbG9hdChsZW4pO1xyXG5cclxuICAgICAgLy8gU2V0IHRoZSB2b2x1bWUgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uLlxyXG4gICAgICBzZWxmLnZvbHVtZShmcm9tLCBpZCk7XHJcblxyXG4gICAgICAvLyBGYWRlIHRoZSB2b2x1bWUgb2Ygb25lIG9yIGFsbCBzb3VuZHMuXHJcbiAgICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYSBsaW5lYXIgZmFkZSBvciBmYWxsIGJhY2sgdG8gdGltZW91dHMgd2l0aCBIVE1MNSBBdWRpby5cclxuICAgICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAgIC8vIFN0b3AgdGhlIHByZXZpb3VzIGZhZGUgaWYgbm8gc3ByaXRlIGlzIGJlaW5nIHVzZWQgKG90aGVyd2lzZSwgdm9sdW1lIGhhbmRsZXMgdGhpcykuXHJcbiAgICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3N0b3BGYWRlKGlkc1tpXSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIFdlYiBBdWRpbywgbGV0IHRoZSBuYXRpdmUgbWV0aG9kcyBkbyB0aGUgYWN0dWFsIGZhZGUuXHJcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgIXNvdW5kLl9tdXRlZCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xyXG4gICAgICAgICAgICB2YXIgZW5kID0gY3VycmVudFRpbWUgKyAobGVuIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSBmcm9tO1xyXG4gICAgICAgICAgICBzb3VuZC5fbm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGZyb20sIGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0bywgZW5kKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxmLl9zdGFydEZhZGVJbnRlcnZhbChzb3VuZCwgZnJvbSwgdG8sIGxlbiwgaWRzW2ldLCB0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgaW50ZXJuYWwgaW50ZXJ2YWwgdG8gZmFkZSBhIHNvdW5kLlxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzb3VuZCBSZWZlcmVuY2UgdG8gc291bmQgdG8gZmFkZS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gZnJvbSBUaGUgdmFsdWUgdG8gZmFkZSBmcm9tICgwLjAgdG8gMS4wKS5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdG8gICBUaGUgdm9sdW1lIHRvIGZhZGUgdG8gKDAuMCB0byAxLjApLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBsZW4gIFRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGZhZGUuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkICAgVGhlIHNvdW5kIGlkIHRvIGZhZGUuXHJcbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc0dyb3VwICAgSWYgdHJ1ZSwgc2V0IHRoZSB2b2x1bWUgb24gdGhlIGdyb3VwLlxyXG4gICAgICovXHJcbiAgICBfc3RhcnRGYWRlSW50ZXJ2YWw6IGZ1bmN0aW9uKHNvdW5kLCBmcm9tLCB0bywgbGVuLCBpZCwgaXNHcm91cCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciB2b2wgPSBmcm9tO1xyXG4gICAgICB2YXIgZGlmZiA9IHRvIC0gZnJvbTtcclxuICAgICAgdmFyIHN0ZXBzID0gTWF0aC5hYnMoZGlmZiAvIDAuMDEpO1xyXG4gICAgICB2YXIgc3RlcExlbiA9IE1hdGgubWF4KDQsIChzdGVwcyA+IDApID8gbGVuIC8gc3RlcHMgOiBsZW4pO1xyXG4gICAgICB2YXIgbGFzdFRpY2sgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgLy8gU3RvcmUgdGhlIHZhbHVlIGJlaW5nIGZhZGVkIHRvLlxyXG4gICAgICBzb3VuZC5fZmFkZVRvID0gdG87XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSB2YWx1ZSBvbiBlYWNoIGludGVydmFsIHRpY2suXHJcbiAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIGJhc2VkIG9uIHRoZSB0aW1lIHNpbmNlIHRoZSBsYXN0IHRpY2suXHJcbiAgICAgICAgdmFyIHRpY2sgPSAoRGF0ZS5ub3coKSAtIGxhc3RUaWNrKSAvIGxlbjtcclxuICAgICAgICBsYXN0VGljayA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdm9sICs9IGRpZmYgKiB0aWNrO1xyXG5cclxuICAgICAgICAvLyBSb3VuZCB0byB3aXRoaW4gMiBkZWNpbWFsIHBvaW50cy5cclxuICAgICAgICB2b2wgPSBNYXRoLnJvdW5kKHZvbCAqIDEwMCkgLyAxMDA7XHJcblxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdm9sdW1lIGlzIGluIHRoZSByaWdodCBib3VuZHMuXHJcbiAgICAgICAgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgICB2b2wgPSBNYXRoLm1heCh0bywgdm9sKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdm9sID0gTWF0aC5taW4odG8sIHZvbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGFuZ2UgdGhlIHZvbHVtZS5cclxuICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIHNvdW5kLl92b2x1bWUgPSB2b2w7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYudm9sdW1lKHZvbCwgc291bmQuX2lkLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgZ3JvdXAncyB2b2x1bWUuXHJcbiAgICAgICAgaWYgKGlzR3JvdXApIHtcclxuICAgICAgICAgIHNlbGYuX3ZvbHVtZSA9IHZvbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdoZW4gdGhlIGZhZGUgaXMgY29tcGxldGUsIHN0b3AgaXQgYW5kIGZpcmUgZXZlbnQuXHJcbiAgICAgICAgaWYgKCh0byA8IGZyb20gJiYgdm9sIDw9IHRvKSB8fCAodG8gPiBmcm9tICYmIHZvbCA+PSB0bykpIHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoc291bmQuX2ludGVydmFsKTtcclxuICAgICAgICAgIHNvdW5kLl9pbnRlcnZhbCA9IG51bGw7XHJcbiAgICAgICAgICBzb3VuZC5fZmFkZVRvID0gbnVsbDtcclxuICAgICAgICAgIHNlbGYudm9sdW1lKHRvLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBzdGVwTGVuKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBzdG9wcyB0aGUgY3VycmVudGx5IHBsYXlpbmcgZmFkZSB3aGVuXHJcbiAgICAgKiBhIG5ldyBmYWRlIHN0YXJ0cywgdm9sdW1lIGlzIGNoYW5nZWQgb3IgdGhlIHNvdW5kIGlzIHN0b3BwZWQuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IGlkIFRoZSBzb3VuZCBpZC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9zdG9wRmFkZTogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG5cclxuICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9pbnRlcnZhbCkge1xyXG4gICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgc291bmQuX25vZGUuZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjbGVhckludGVydmFsKHNvdW5kLl9pbnRlcnZhbCk7XHJcbiAgICAgICAgc291bmQuX2ludGVydmFsID0gbnVsbDtcclxuICAgICAgICBzZWxmLnZvbHVtZShzb3VuZC5fZmFkZVRvLCBpZCk7XHJcbiAgICAgICAgc291bmQuX2ZhZGVUbyA9IG51bGw7XHJcbiAgICAgICAgc2VsZi5fZW1pdCgnZmFkZScsIGlkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0L3NldCB0aGUgbG9vcCBwYXJhbWV0ZXIgb24gYSBzb3VuZC4gVGhpcyBtZXRob2QgY2FuIG9wdGlvbmFsbHkgdGFrZSAwLCAxIG9yIDIgYXJndW1lbnRzLlxyXG4gICAgICogICBsb29wKCkgLT4gUmV0dXJucyB0aGUgZ3JvdXAncyBsb29wIHZhbHVlLlxyXG4gICAgICogICBsb29wKGlkKSAtPiBSZXR1cm5zIHRoZSBzb3VuZCBpZCdzIGxvb3AgdmFsdWUuXHJcbiAgICAgKiAgIGxvb3AobG9vcCkgLT4gU2V0cyB0aGUgbG9vcCB2YWx1ZSBmb3IgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgKiAgIGxvb3AobG9vcCwgaWQpIC0+IFNldHMgdGhlIGxvb3AgdmFsdWUgb2YgcGFzc2VkIHNvdW5kIGlkLlxyXG4gICAgICogQHJldHVybiB7SG93bC9Cb29sZWFufSBSZXR1cm5zIHNlbGYgb3IgY3VycmVudCBsb29wIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBsb29wOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgdmFyIGxvb3AsIGlkLCBzb3VuZDtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0aGUgdmFsdWVzIGZvciBsb29wIGFuZCBpZC5cclxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBncm91J3MgbG9vcCB2YWx1ZS5cclxuICAgICAgICByZXR1cm4gc2VsZi5fbG9vcDtcclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICBsb29wID0gYXJnc1swXTtcclxuICAgICAgICAgIHNlbGYuX2xvb3AgPSBsb29wO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBSZXR1cm4gdGhpcyBzb3VuZCdzIGxvb3AgdmFsdWUuXHJcbiAgICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChwYXJzZUludChhcmdzWzBdLCAxMCkpO1xyXG4gICAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX2xvb3AgOiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICBsb29wID0gYXJnc1swXTtcclxuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbm8gaWQgaXMgcGFzc2VkLCBnZXQgYWxsIElEJ3MgdG8gYmUgbG9vcGVkLlxyXG4gICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgICBzb3VuZC5fbG9vcCA9IGxvb3A7XHJcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wID0gbG9vcDtcclxuICAgICAgICAgICAgaWYgKGxvb3ApIHtcclxuICAgICAgICAgICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UubG9vcFN0YXJ0ID0gc291bmQuX3N0YXJ0IHx8IDA7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BFbmQgPSBzb3VuZC5fc3RvcDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gSWYgcGxheWluZywgcmVzdGFydCBwbGF5YmFjayB0byBlbnN1cmUgbG9vcGluZyB1cGRhdGVzLlxyXG4gICAgICAgICAgICAgIGlmIChzZWxmLnBsYXlpbmcoaWRzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wYXVzZShpZHNbaV0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wbGF5KGlkc1tpXSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQvc2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cclxuICAgICAqICAgcmF0ZSgpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHBsYXliYWNrIHJhdGUuXHJcbiAgICAgKiAgIHJhdGUoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBwbGF5YmFjayByYXRlLlxyXG4gICAgICogICByYXRlKHJhdGUpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgYWxsIHNvdW5kcyBpbiB0aGlzIEhvd2wgZ3JvdXAuXHJcbiAgICAgKiAgIHJhdGUocmF0ZSwgaWQpIC0+IFNldHMgdGhlIHBsYXliYWNrIHJhdGUgb2YgcGFzc2VkIHNvdW5kIGlkLlxyXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBwbGF5YmFjayByYXRlLlxyXG4gICAgICovXHJcbiAgICByYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgdmFyIHJhdGUsIGlkO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxyXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcmF0ZSBvZiB0aGUgZmlyc3Qgbm9kZS5cclxuICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgcmF0ZSB2YWx1ZS5cclxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcclxuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcclxuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgIHJhdGUgPSBwYXJzZUZsb2F0KGFyZ3NbMF0pO1xyXG4gICAgICAgIGlkID0gcGFyc2VJbnQoYXJnc1sxXSwgMTApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHBsYXliYWNrIHJhdGUgb3IgcmV0dXJuIHRoZSBjdXJyZW50IHZhbHVlLlxyXG4gICAgICB2YXIgc291bmQ7XHJcbiAgICAgIGlmICh0eXBlb2YgcmF0ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBwbGF5YmFjayByYXRlIHdoZW4gY2FwYWJsZS5cclxuICAgICAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnIHx8IHNlbGYuX3BsYXlMb2NrKSB7XHJcbiAgICAgICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgICAgZXZlbnQ6ICdyYXRlJyxcclxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBzZWxmLnJhdGUuYXBwbHkoc2VsZiwgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBncm91cCByYXRlLlxyXG4gICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBzZWxmLl9yYXRlID0gcmF0ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBvbmUgb3IgYWxsIHZvbHVtZXMuXHJcbiAgICAgICAgaWQgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGlkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICAgICAgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRbaV0pO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgICAgICAvLyBLZWVwIHRyYWNrIG9mIG91ciBwb3NpdGlvbiB3aGVuIHRoZSByYXRlIGNoYW5nZWQgYW5kIHVwZGF0ZSB0aGUgcGxheWJhY2tcclxuICAgICAgICAgICAgLy8gc3RhcnQgcG9zaXRpb24gc28gd2UgY2FuIHByb3Blcmx5IGFkanVzdCB0aGUgc2VlayBwb3NpdGlvbiBmb3IgdGltZSBlbGFwc2VkLlxyXG4gICAgICAgICAgICBpZiAoc2VsZi5wbGF5aW5nKGlkW2ldKSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9yYXRlU2VlayA9IHNlbGYuc2VlayhpZFtpXSk7XHJcbiAgICAgICAgICAgICAgc291bmQuX3BsYXlTdGFydCA9IHNlbGYuX3dlYkF1ZGlvID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSA6IHNvdW5kLl9wbGF5U3RhcnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc291bmQuX3JhdGUgPSByYXRlO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hhbmdlIHRoZSBwbGF5YmFjayByYXRlLlxyXG4gICAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc291bmQuX25vZGUgJiYgc291bmQuX25vZGUuYnVmZmVyU291cmNlKSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLnBsYXliYWNrUmF0ZS5zZXRWYWx1ZUF0VGltZShyYXRlLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9ub2RlLnBsYXliYWNrUmF0ZSA9IHJhdGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSB0aW1lcnMuXHJcbiAgICAgICAgICAgIHZhciBzZWVrID0gc2VsZi5zZWVrKGlkW2ldKTtcclxuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gKChzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMF0gKyBzZWxmLl9zcHJpdGVbc291bmQuX3Nwcml0ZV1bMV0pIC8gMTAwMCkgLSBzZWVrO1xyXG4gICAgICAgICAgICB2YXIgdGltZW91dCA9IChkdXJhdGlvbiAqIDEwMDApIC8gTWF0aC5hYnMoc291bmQuX3JhdGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gU3RhcnQgYSBuZXcgZW5kIHRpbWVyIGlmIHNvdW5kIGlzIGFscmVhZHkgcGxheWluZy5cclxuICAgICAgICAgICAgaWYgKHNlbGYuX2VuZFRpbWVyc1tpZFtpXV0gfHwgIXNvdW5kLl9wYXVzZWQpIHtcclxuICAgICAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkW2ldKTtcclxuICAgICAgICAgICAgICBzZWxmLl9lbmRUaW1lcnNbaWRbaV1dID0gc2V0VGltZW91dChzZWxmLl9lbmRlZC5iaW5kKHNlbGYsIHNvdW5kKSwgdGltZW91dCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3JhdGUnLCBzb3VuZC5faWQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZCk7XHJcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3JhdGUgOiBzZWxmLl9yYXRlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQvc2V0IHRoZSBzZWVrIHBvc2l0aW9uIG9mIGEgc291bmQuIFRoaXMgbWV0aG9kIGNhbiBvcHRpb25hbGx5IHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cclxuICAgICAqICAgc2VlaygpIC0+IFJldHVybnMgdGhlIGZpcnN0IHNvdW5kIG5vZGUncyBjdXJyZW50IHNlZWsgcG9zaXRpb24uXHJcbiAgICAgKiAgIHNlZWsoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICogICBzZWVrKHNlZWspIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNvdW5kIG5vZGUuXHJcbiAgICAgKiAgIHNlZWsoc2VlaywgaWQpIC0+IFNldHMgdGhlIHNlZWsgcG9zaXRpb24gb2YgcGFzc2VkIHNvdW5kIGlkLlxyXG4gICAgICogQHJldHVybiB7SG93bC9OdW1iZXJ9IFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCBzZWVrIHBvc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBzZWVrOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgdmFyIHNlZWssIGlkO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB2YWx1ZXMgYmFzZWQgb24gYXJndW1lbnRzLlxyXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBXZSB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG5vZGUuXHJcbiAgICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGlkID0gc2VsZi5fc291bmRzWzBdLl9pZDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIGlzIGFuIElELCBhbmQgaWYgbm90LCBhc3N1bWUgaXQgaXMgYSBuZXcgc2VlayBwb3NpdGlvbi5cclxuICAgICAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoKTtcclxuICAgICAgICB2YXIgaW5kZXggPSBpZHMuaW5kZXhPZihhcmdzWzBdKTtcclxuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgaWQgPSBwYXJzZUludChhcmdzWzBdLCAxMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9zb3VuZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBpZCA9IHNlbGYuX3NvdW5kc1swXS5faWQ7XHJcbiAgICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICBzZWVrID0gcGFyc2VGbG9hdChhcmdzWzBdKTtcclxuICAgICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gSUQsIGJhaWwgb3V0LlxyXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIHNlZWsgd2hlbiBjYXBhYmxlLlxyXG4gICAgICBpZiAodHlwZW9mIHNlZWsgPT09ICdudW1iZXInICYmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcgfHwgc2VsZi5fcGxheUxvY2spKSB7XHJcbiAgICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgICBldmVudDogJ3NlZWsnLFxyXG4gICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5zZWVrLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc2VlayA9PT0gJ251bWJlcicgJiYgc2VlayA+PSAwKSB7XHJcbiAgICAgICAgICAvLyBQYXVzZSB0aGUgc291bmQgYW5kIHVwZGF0ZSBwb3NpdGlvbiBmb3IgcmVzdGFydGluZyBwbGF5YmFjay5cclxuICAgICAgICAgIHZhciBwbGF5aW5nID0gc2VsZi5wbGF5aW5nKGlkKTtcclxuICAgICAgICAgIGlmIChwbGF5aW5nKSB7XHJcbiAgICAgICAgICAgIHNlbGYucGF1c2UoaWQsIHRydWUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIE1vdmUgdGhlIHBvc2l0aW9uIG9mIHRoZSB0cmFjayBhbmQgY2FuY2VsIHRpbWVyLlxyXG4gICAgICAgICAgc291bmQuX3NlZWsgPSBzZWVrO1xyXG4gICAgICAgICAgc291bmQuX2VuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBzZWxmLl9jbGVhclRpbWVyKGlkKTtcclxuXHJcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNlZWsgcG9zaXRpb24gZm9yIEhUTUw1IEF1ZGlvLlxyXG4gICAgICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiBzb3VuZC5fbm9kZSAmJiAhaXNOYU4oc291bmQuX25vZGUuZHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lID0gc2VlaztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBTZWVrIGFuZCBlbWl0IHdoZW4gcmVhZHkuXHJcbiAgICAgICAgICB2YXIgc2Vla0FuZEVtaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgaWYgdGhlIHNvdW5kIHdhcyBwbGF5aW5nLlxyXG4gICAgICAgICAgICBpZiAocGxheWluZykge1xyXG4gICAgICAgICAgICAgIHNlbGYucGxheShpZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuX2VtaXQoJ3NlZWsnLCBpZCk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwbGF5IGxvY2sgdG8gYmUgdW5zZXQgYmVmb3JlIGVtaXR0aW5nIChIVE1MNSBBdWRpbykuXHJcbiAgICAgICAgICBpZiAocGxheWluZyAmJiAhc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgICAgdmFyIGVtaXRTZWVrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wbGF5TG9jaykge1xyXG4gICAgICAgICAgICAgICAgc2Vla0FuZEVtaXQoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChlbWl0U2VlaywgMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGVtaXRTZWVrLCAwKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlZWtBbmRFbWl0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICAgICAgICB2YXIgcmVhbFRpbWUgPSBzZWxmLnBsYXlpbmcoaWQpID8gSG93bGVyLmN0eC5jdXJyZW50VGltZSAtIHNvdW5kLl9wbGF5U3RhcnQgOiAwO1xyXG4gICAgICAgICAgICB2YXIgcmF0ZVNlZWsgPSBzb3VuZC5fcmF0ZVNlZWsgPyBzb3VuZC5fcmF0ZVNlZWsgLSBzb3VuZC5fc2VlayA6IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VuZC5fc2VlayArIChyYXRlU2VlayArIHJlYWxUaW1lICogTWF0aC5hYnMoc291bmQuX3JhdGUpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VuZC5fbm9kZS5jdXJyZW50VGltZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgc3BlY2lmaWMgc291bmQgaXMgY3VycmVudGx5IHBsYXlpbmcgb3Igbm90IChpZiBpZCBpcyBwcm92aWRlZCksIG9yIGNoZWNrIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgc291bmRzIGluIHRoZSBncm91cCBpcyBwbGF5aW5nIG9yIG5vdC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIGlkIFRoZSBzb3VuZCBpZCB0byBjaGVjay4gSWYgbm9uZSBpcyBwYXNzZWQsIHRoZSB3aG9sZSBzb3VuZCBncm91cCBpcyBjaGVja2VkLlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBwbGF5aW5nIGFuZCBmYWxzZSBpZiBub3QuXHJcbiAgICAgKi9cclxuICAgIHBsYXlpbmc6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIENoZWNrIHRoZSBwYXNzZWQgc291bmQgSUQgKGlmIGFueSkuXHJcbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkKTtcclxuICAgICAgICByZXR1cm4gc291bmQgPyAhc291bmQuX3BhdXNlZCA6IGZhbHNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBPdGhlcndpc2UsIGxvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBjaGVjayBpZiBhbnkgYXJlIHBsYXlpbmcuXHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoIXNlbGYuX3NvdW5kc1tpXS5fcGF1c2VkKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGR1cmF0aW9uIG9mIHRoaXMgc291bmQuIFBhc3NpbmcgYSBzb3VuZCBpZCB3aWxsIHJldHVybiB0aGUgc3ByaXRlIGR1cmF0aW9uLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgaWQgdG8gY2hlY2suIElmIG5vbmUgaXMgcGFzc2VkLCByZXR1cm4gZnVsbCBzb3VyY2UgZHVyYXRpb24uXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEF1ZGlvIGR1cmF0aW9uIGluIHNlY29uZHMuXHJcbiAgICAgKi9cclxuICAgIGR1cmF0aW9uOiBmdW5jdGlvbihpZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBkdXJhdGlvbiA9IHNlbGYuX2R1cmF0aW9uO1xyXG5cclxuICAgICAgLy8gSWYgd2UgcGFzcyBhbiBJRCwgZ2V0IHRoZSBzb3VuZCBhbmQgcmV0dXJuIHRoZSBzcHJpdGUgbGVuZ3RoLlxyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG4gICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICBkdXJhdGlvbiA9IHNlbGYuX3Nwcml0ZVtzb3VuZC5fc3ByaXRlXVsxXSAvIDEwMDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBkdXJhdGlvbjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGxvYWRlZCBzdGF0ZSBvZiB0aGlzIEhvd2wuXHJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICd1bmxvYWRlZCcsICdsb2FkaW5nJywgJ2xvYWRlZCdcclxuICAgICAqL1xyXG4gICAgc3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5sb2FkIGFuZCBkZXN0cm95IHRoZSBjdXJyZW50IEhvd2wgb2JqZWN0LlxyXG4gICAgICogVGhpcyB3aWxsIGltbWVkaWF0ZWx5IHN0b3AgYWxsIHNvdW5kIGluc3RhbmNlcyBhdHRhY2hlZCB0byB0aGlzIGdyb3VwLlxyXG4gICAgICovXHJcbiAgICB1bmxvYWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBTdG9wIHBsYXlpbmcgYW55IGFjdGl2ZSBzb3VuZHMuXHJcbiAgICAgIHZhciBzb3VuZHMgPSBzZWxmLl9zb3VuZHM7XHJcbiAgICAgIGZvciAodmFyIGk9MDsgaTxzb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBTdG9wIHRoZSBzb3VuZCBpZiBpdCBpcyBjdXJyZW50bHkgcGxheWluZy5cclxuICAgICAgICBpZiAoIXNvdW5kc1tpXS5fcGF1c2VkKSB7XHJcbiAgICAgICAgICBzZWxmLnN0b3Aoc291bmRzW2ldLl9pZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIHNvdXJjZSBvciBkaXNjb25uZWN0LlxyXG4gICAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgICAgIC8vIFNldCB0aGUgc291cmNlIHRvIDAtc2Vjb25kIHNpbGVuY2UgdG8gc3RvcCBhbnkgZG93bmxvYWRpbmcgKGV4Y2VwdCBpbiBJRSkuXHJcbiAgICAgICAgICBzZWxmLl9jbGVhclNvdW5kKHNvdW5kc1tpXS5fbm9kZSk7XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIGFueSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgICAgICBzb3VuZHNbaV0uX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzb3VuZHNbaV0uX2Vycm9yRm4sIGZhbHNlKTtcclxuICAgICAgICAgIHNvdW5kc1tpXS5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzb3VuZHNbaV0uX2xvYWRGbiwgZmFsc2UpO1xyXG4gICAgICAgICAgc291bmRzW2ldLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc291bmRzW2ldLl9lbmRGbiwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgIC8vIFJlbGVhc2UgdGhlIEF1ZGlvIG9iamVjdCBiYWNrIHRvIHRoZSBwb29sLlxyXG4gICAgICAgICAgSG93bGVyLl9yZWxlYXNlSHRtbDVBdWRpbyhzb3VuZHNbaV0uX25vZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRW1wdHkgb3V0IGFsbCBvZiB0aGUgbm9kZXMuXHJcbiAgICAgICAgZGVsZXRlIHNvdW5kc1tpXS5fbm9kZTtcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIGFsbCB0aW1lcnMgYXJlIGNsZWFyZWQgb3V0LlxyXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmRzW2ldLl9pZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0aGUgcmVmZXJlbmNlcyBpbiB0aGUgZ2xvYmFsIEhvd2xlciBvYmplY3QuXHJcbiAgICAgIHZhciBpbmRleCA9IEhvd2xlci5faG93bHMuaW5kZXhPZihzZWxmKTtcclxuICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICBIb3dsZXIuX2hvd2xzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERlbGV0ZSB0aGlzIHNvdW5kIGZyb20gdGhlIGNhY2hlIChpZiBubyBvdGhlciBIb3dsIGlzIHVzaW5nIGl0KS5cclxuICAgICAgdmFyIHJlbUNhY2hlID0gdHJ1ZTtcclxuICAgICAgZm9yIChpPTA7IGk8SG93bGVyLl9ob3dscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChIb3dsZXIuX2hvd2xzW2ldLl9zcmMgPT09IHNlbGYuX3NyYyB8fCBzZWxmLl9zcmMuaW5kZXhPZihIb3dsZXIuX2hvd2xzW2ldLl9zcmMpID49IDApIHtcclxuICAgICAgICAgIHJlbUNhY2hlID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYWNoZSAmJiByZW1DYWNoZSkge1xyXG4gICAgICAgIGRlbGV0ZSBjYWNoZVtzZWxmLl9zcmNdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGVhciBnbG9iYWwgZXJyb3JzLlxyXG4gICAgICBIb3dsZXIubm9BdWRpbyA9IGZhbHNlO1xyXG5cclxuICAgICAgLy8gQ2xlYXIgb3V0IGBzZWxmYC5cclxuICAgICAgc2VsZi5fc3RhdGUgPSAndW5sb2FkZWQnO1xyXG4gICAgICBzZWxmLl9zb3VuZHMgPSBbXTtcclxuICAgICAgc2VsZiA9IG51bGw7XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gdG8gYSBjdXN0b20gZXZlbnQuXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgZXZlbnQgRXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byBjYWxsLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIGlkICAgIChvcHRpb25hbCkgT25seSBsaXN0ZW4gdG8gZXZlbnRzIGZvciB0aGlzIHNvdW5kLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgIG9uY2UgIChJTlRFUk5BTCkgTWFya3MgZXZlbnQgdG8gZmlyZSBvbmx5IG9uY2UuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBvbjogZnVuY3Rpb24oZXZlbnQsIGZuLCBpZCwgb25jZSkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBldmVudHMgPSBzZWxmWydfb24nICsgZXZlbnRdO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGV2ZW50cy5wdXNoKG9uY2UgPyB7aWQ6IGlkLCBmbjogZm4sIG9uY2U6IG9uY2V9IDoge2lkOiBpZCwgZm46IGZufSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIGN1c3RvbSBldmVudC4gQ2FsbCB3aXRob3V0IHBhcmFtZXRlcnMgdG8gcmVtb3ZlIGFsbCBldmVudHMuXHJcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgZXZlbnQgRXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBmbiAgICBMaXN0ZW5lciB0byByZW1vdmUuIExlYXZlIGVtcHR5IHRvIHJlbW92ZSBhbGwuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IHJlbW92ZSBldmVudHMgZm9yIHRoaXMgc291bmQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBmbiwgaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgZXZlbnRzID0gc2VsZlsnX29uJyArIGV2ZW50XTtcclxuICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgLy8gQWxsb3cgcGFzc2luZyBqdXN0IGFuIGV2ZW50IGFuZCBJRC5cclxuICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBpZCA9IGZuO1xyXG4gICAgICAgIGZuID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGZuIHx8IGlkKSB7XHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGV2ZW50IHN0b3JlIGFuZCByZW1vdmUgdGhlIHBhc3NlZCBmdW5jdGlvbi5cclxuICAgICAgICBmb3IgKGk9MDsgaTxldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBpc0lkID0gKGlkID09PSBldmVudHNbaV0uaWQpO1xyXG4gICAgICAgICAgaWYgKGZuID09PSBldmVudHNbaV0uZm4gJiYgaXNJZCB8fCAhZm4gJiYgaXNJZCkge1xyXG4gICAgICAgICAgICBldmVudHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBDbGVhciBvdXQgYWxsIGV2ZW50cyBvZiB0aGlzIHR5cGUuXHJcbiAgICAgICAgc2VsZlsnX29uJyArIGV2ZW50XSA9IFtdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIENsZWFyIG91dCBhbGwgZXZlbnRzIG9mIGV2ZXJ5IHR5cGUuXHJcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzZWxmKTtcclxuICAgICAgICBmb3IgKGk9MDsgaTxrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoKGtleXNbaV0uaW5kZXhPZignX29uJykgPT09IDApICYmIEFycmF5LmlzQXJyYXkoc2VsZltrZXlzW2ldXSkpIHtcclxuICAgICAgICAgICAgc2VsZltrZXlzW2ldXSA9IFtdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIHRvIGEgY3VzdG9tIGV2ZW50IGFuZCByZW1vdmUgaXQgb25jZSBmaXJlZC5cclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gICBldmVudCBFdmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGZuICAgIExpc3RlbmVyIHRvIGNhbGwuXHJcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgaWQgICAgKG9wdGlvbmFsKSBPbmx5IGxpc3RlbiB0byBldmVudHMgZm9yIHRoaXMgc291bmQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBvbmNlOiBmdW5jdGlvbihldmVudCwgZm4sIGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIFNldHVwIHRoZSBldmVudCBsaXN0ZW5lci5cclxuICAgICAgc2VsZi5vbihldmVudCwgZm4sIGlkLCAxKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVtaXQgYWxsIGV2ZW50cyBvZiBhIHNwZWNpZmljIHR5cGUgYW5kIHBhc3MgdGhlIHNvdW5kIGlkLlxyXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBldmVudCBFdmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAgICBTb3VuZCBJRC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbXNnICAgTWVzc2FnZSB0byBnbyB3aXRoIGV2ZW50LlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX2VtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBpZCwgbXNnKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGV2ZW50cyA9IHNlbGZbJ19vbicgKyBldmVudF07XHJcblxyXG4gICAgICAvLyBMb29wIHRocm91Z2ggZXZlbnQgc3RvcmUgYW5kIGZpcmUgYWxsIGZ1bmN0aW9ucy5cclxuICAgICAgZm9yICh2YXIgaT1ldmVudHMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xyXG4gICAgICAgIC8vIE9ubHkgZmlyZSB0aGUgbGlzdGVuZXIgaWYgdGhlIGNvcnJlY3QgSUQgaXMgdXNlZC5cclxuICAgICAgICBpZiAoIWV2ZW50c1tpXS5pZCB8fCBldmVudHNbaV0uaWQgPT09IGlkIHx8IGV2ZW50ID09PSAnbG9hZCcpIHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBpZCwgbXNnKTtcclxuICAgICAgICAgIH0uYmluZChzZWxmLCBldmVudHNbaV0uZm4pLCAwKTtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGlzIGV2ZW50IHdhcyBzZXR1cCB3aXRoIGBvbmNlYCwgcmVtb3ZlIGl0LlxyXG4gICAgICAgICAgaWYgKGV2ZW50c1tpXS5vbmNlKSB7XHJcbiAgICAgICAgICAgIHNlbGYub2ZmKGV2ZW50LCBldmVudHNbaV0uZm4sIGV2ZW50c1tpXS5pZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQYXNzIHRoZSBldmVudCB0eXBlIGludG8gbG9hZCBxdWV1ZSBzbyB0aGF0IGl0IGNhbiBjb250aW51ZSBzdGVwcGluZy5cclxuICAgICAgc2VsZi5fbG9hZFF1ZXVlKGV2ZW50KTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFF1ZXVlIG9mIGFjdGlvbnMgaW5pdGlhdGVkIGJlZm9yZSB0aGUgc291bmQgaGFzIGxvYWRlZC5cclxuICAgICAqIFRoZXNlIHdpbGwgYmUgY2FsbGVkIGluIHNlcXVlbmNlLCB3aXRoIHRoZSBuZXh0IG9ubHkgZmlyaW5nXHJcbiAgICAgKiBhZnRlciB0aGUgcHJldmlvdXMgaGFzIGZpbmlzaGVkIGV4ZWN1dGluZyAoZXZlbiBpZiBhc3luYyBsaWtlIHBsYXkpLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX2xvYWRRdWV1ZTogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHNlbGYuX3F1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB2YXIgdGFzayA9IHNlbGYuX3F1ZXVlWzBdO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhpcyB0YXNrIGlmIGEgbWF0Y2hpbmcgZXZlbnQgd2FzIHBhc3NlZC5cclxuICAgICAgICBpZiAodGFzay5ldmVudCA9PT0gZXZlbnQpIHtcclxuICAgICAgICAgIHNlbGYuX3F1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICBzZWxmLl9sb2FkUXVldWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJ1biB0aGUgdGFzayBpZiBubyBldmVudCB0eXBlIGlzIHBhc3NlZC5cclxuICAgICAgICBpZiAoIWV2ZW50KSB7XHJcbiAgICAgICAgICB0YXNrLmFjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmlyZWQgd2hlbiBwbGF5YmFjayBlbmRzIGF0IHRoZSBlbmQgb2YgdGhlIGR1cmF0aW9uLlxyXG4gICAgICogQHBhcmFtICB7U291bmR9IHNvdW5kIFRoZSBzb3VuZCBvYmplY3QgdG8gd29yayB3aXRoLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX2VuZGVkOiBmdW5jdGlvbihzb3VuZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBzcHJpdGUgPSBzb3VuZC5fc3ByaXRlO1xyXG5cclxuICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIElFIGFuZCB0aGVyZSB3YXMgbmV0d29yayBsYXRlbmN5IHdlIG1heSBiZSBjbGlwcGluZ1xyXG4gICAgICAvLyBhdWRpbyBiZWZvcmUgaXQgY29tcGxldGVzIHBsYXlpbmcuIExldHMgY2hlY2sgdGhlIG5vZGUgdG8gbWFrZSBzdXJlIGl0XHJcbiAgICAgIC8vIGJlbGlldmVzIGl0IGhhcyBjb21wbGV0ZWQsIGJlZm9yZSBlbmRpbmcgdGhlIHBsYXliYWNrLlxyXG4gICAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvICYmIHNvdW5kLl9ub2RlICYmICFzb3VuZC5fbm9kZS5wYXVzZWQgJiYgIXNvdW5kLl9ub2RlLmVuZGVkICYmIHNvdW5kLl9ub2RlLmN1cnJlbnRUaW1lIDwgc291bmQuX3N0b3ApIHtcclxuICAgICAgICBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCAxMDApO1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTaG91bGQgdGhpcyBzb3VuZCBsb29wP1xyXG4gICAgICB2YXIgbG9vcCA9ICEhKHNvdW5kLl9sb29wIHx8IHNlbGYuX3Nwcml0ZVtzcHJpdGVdWzJdKTtcclxuXHJcbiAgICAgIC8vIEZpcmUgdGhlIGVuZGVkIGV2ZW50LlxyXG4gICAgICBzZWxmLl9lbWl0KCdlbmQnLCBzb3VuZC5faWQpO1xyXG5cclxuICAgICAgLy8gUmVzdGFydCB0aGUgcGxheWJhY2sgZm9yIEhUTUw1IEF1ZGlvIGxvb3AuXHJcbiAgICAgIGlmICghc2VsZi5fd2ViQXVkaW8gJiYgbG9vcCkge1xyXG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpLnBsYXkoc291bmQuX2lkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVzdGFydCB0aGlzIHRpbWVyIGlmIG9uIGEgV2ViIEF1ZGlvIGxvb3AuXHJcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiBsb29wKSB7XHJcbiAgICAgICAgc2VsZi5fZW1pdCgncGxheScsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xyXG4gICAgICAgIHNvdW5kLl9wbGF5U3RhcnQgPSBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lO1xyXG5cclxuICAgICAgICB2YXIgdGltZW91dCA9ICgoc291bmQuX3N0b3AgLSBzb3VuZC5fc3RhcnQpICogMTAwMCkgLyBNYXRoLmFicyhzb3VuZC5fcmF0ZSk7XHJcbiAgICAgICAgc2VsZi5fZW5kVGltZXJzW3NvdW5kLl9pZF0gPSBzZXRUaW1lb3V0KHNlbGYuX2VuZGVkLmJpbmQoc2VsZiwgc291bmQpLCB0aW1lb3V0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWFyayB0aGUgbm9kZSBhcyBwYXVzZWQuXHJcbiAgICAgIGlmIChzZWxmLl93ZWJBdWRpbyAmJiAhbG9vcCkge1xyXG4gICAgICAgIHNvdW5kLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgIHNvdW5kLl9lbmRlZCA9IHRydWU7XHJcbiAgICAgICAgc291bmQuX3NlZWsgPSBzb3VuZC5fc3RhcnQgfHwgMDtcclxuICAgICAgICBzb3VuZC5fcmF0ZVNlZWsgPSAwO1xyXG4gICAgICAgIHNlbGYuX2NsZWFyVGltZXIoc291bmQuX2lkKTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIGJ1ZmZlciBzb3VyY2UuXHJcbiAgICAgICAgc2VsZi5fY2xlYW5CdWZmZXIoc291bmQuX25vZGUpO1xyXG5cclxuICAgICAgICAvLyBBdHRlbXB0IHRvIGF1dG8tc3VzcGVuZCBBdWRpb0NvbnRleHQgaWYgbm8gc291bmRzIGFyZSBzdGlsbCBwbGF5aW5nLlxyXG4gICAgICAgIEhvd2xlci5fYXV0b1N1c3BlbmQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gV2hlbiB1c2luZyBhIHNwcml0ZSwgZW5kIHRoZSB0cmFjay5cclxuICAgICAgaWYgKCFzZWxmLl93ZWJBdWRpbyAmJiAhbG9vcCkge1xyXG4gICAgICAgIHNlbGYuc3RvcChzb3VuZC5faWQsIHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhciB0aGUgZW5kIHRpbWVyIGZvciBhIHNvdW5kIHBsYXliYWNrLlxyXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBpZCBUaGUgc291bmQgSUQuXHJcbiAgICAgKiBAcmV0dXJuIHtIb3dsfVxyXG4gICAgICovXHJcbiAgICBfY2xlYXJUaW1lcjogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHNlbGYuX2VuZFRpbWVyc1tpZF0pIHtcclxuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCBvciByZW1vdmUgdGhlIGVuZGVkIGxpc3RlbmVyLlxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5fZW5kVGltZXJzW2lkXSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHNlbGYuX2VuZFRpbWVyc1tpZF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWQpO1xyXG4gICAgICAgICAgaWYgKHNvdW5kICYmIHNvdW5kLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIHNvdW5kLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgc2VsZi5fZW5kVGltZXJzW2lkXSwgZmFsc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIHNlbGYuX2VuZFRpbWVyc1tpZF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgc291bmQgaWRlbnRpZmllZCBieSB0aGlzIElELCBvciByZXR1cm4gbnVsbC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgU291bmQgSURcclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gICAgU291bmQgb2JqZWN0IG9yIG51bGwuXHJcbiAgICAgKi9cclxuICAgIF9zb3VuZEJ5SWQ6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgc291bmRzIGFuZCBmaW5kIHRoZSBvbmUgd2l0aCB0aGlzIElELlxyXG4gICAgICBmb3IgKHZhciBpPTA7IGk8c2VsZi5fc291bmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGlkID09PSBzZWxmLl9zb3VuZHNbaV0uX2lkKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGFuIGluYWN0aXZlIHNvdW5kIGZyb20gdGhlIHBvb2wgb3IgY3JlYXRlIGEgbmV3IG9uZS5cclxuICAgICAqIEByZXR1cm4ge1NvdW5kfSBTb3VuZCBwbGF5YmFjayBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIF9pbmFjdGl2ZVNvdW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgc2VsZi5fZHJhaW4oKTtcclxuXHJcbiAgICAgIC8vIEZpbmQgdGhlIGZpcnN0IGluYWN0aXZlIG5vZGUgdG8gcmVjeWNsZS5cclxuICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XHJcbiAgICAgICAgICByZXR1cm4gc2VsZi5fc291bmRzW2ldLnJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBpbmFjdGl2ZSBub2RlIHdhcyBmb3VuZCwgY3JlYXRlIGEgbmV3IG9uZS5cclxuICAgICAgcmV0dXJuIG5ldyBTb3VuZChzZWxmKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmFpbiBleGNlc3MgaW5hY3RpdmUgc291bmRzIGZyb20gdGhlIHBvb2wuXHJcbiAgICAgKi9cclxuICAgIF9kcmFpbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGxpbWl0ID0gc2VsZi5fcG9vbDtcclxuICAgICAgdmFyIGNudCA9IDA7XHJcbiAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBsZXNzIHNvdW5kcyB0aGFuIHRoZSBtYXggcG9vbCBzaXplLCB3ZSBhcmUgZG9uZS5cclxuICAgICAgaWYgKHNlbGYuX3NvdW5kcy5sZW5ndGggPCBsaW1pdCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiBpbmFjdGl2ZSBzb3VuZHMuXHJcbiAgICAgIGZvciAoaT0wOyBpPHNlbGYuX3NvdW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XHJcbiAgICAgICAgICBjbnQrKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgaW5hY3RpdmUgc291bmRzLCBnb2luZyBpbiByZXZlcnNlIG9yZGVyLlxyXG4gICAgICBmb3IgKGk9c2VsZi5fc291bmRzLmxlbmd0aCAtIDE7IGk+PTA7IGktLSkge1xyXG4gICAgICAgIGlmIChjbnQgPD0gbGltaXQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWxmLl9zb3VuZHNbaV0uX2VuZGVkKSB7XHJcbiAgICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBhdWRpbyBzb3VyY2Ugd2hlbiB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICAgICAgICBpZiAoc2VsZi5fd2ViQXVkaW8gJiYgc2VsZi5fc291bmRzW2ldLl9ub2RlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3NvdW5kc1tpXS5fbm9kZS5kaXNjb25uZWN0KDApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSBzb3VuZHMgdW50aWwgd2UgaGF2ZSB0aGUgcG9vbCBzaXplLlxyXG4gICAgICAgICAgc2VsZi5fc291bmRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIGNudC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgSUQncyBmcm9tIHRoZSBzb3VuZHMgcG9vbC5cclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gaWQgT25seSByZXR1cm4gb25lIElEIGlmIG9uZSBpcyBwYXNzZWQuXHJcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gICAgQXJyYXkgb2YgSURzLlxyXG4gICAgICovXHJcbiAgICBfZ2V0U291bmRJZHM6IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgdmFyIGlkcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxzZWxmLl9zb3VuZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlkcy5wdXNoKHNlbGYuX3NvdW5kc1tpXS5faWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGlkcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gW2lkXTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWQgdGhlIHNvdW5kIGJhY2sgaW50byB0aGUgYnVmZmVyIHNvdXJjZS5cclxuICAgICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBUaGUgc291bmQgb2JqZWN0IHRvIHdvcmsgd2l0aC5cclxuICAgICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICAgKi9cclxuICAgIF9yZWZyZXNoQnVmZmVyOiBmdW5jdGlvbihzb3VuZCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBTZXR1cCB0aGUgYnVmZmVyIHNvdXJjZSBmb3IgcGxheWJhY2suXHJcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZSA9IEhvd2xlci5jdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XHJcbiAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5idWZmZXIgPSBjYWNoZVtzZWxmLl9zcmNdO1xyXG5cclxuICAgICAgLy8gQ29ubmVjdCB0byB0aGUgY29ycmVjdCBub2RlLlxyXG4gICAgICBpZiAoc291bmQuX3Bhbm5lcikge1xyXG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHNvdW5kLl9wYW5uZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5jb25uZWN0KHNvdW5kLl9ub2RlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0dXAgbG9vcGluZyBhbmQgcGxheWJhY2sgcmF0ZS5cclxuICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3AgPSBzb3VuZC5fbG9vcDtcclxuICAgICAgaWYgKHNvdW5kLl9sb29wKSB7XHJcbiAgICAgICAgc291bmQuX25vZGUuYnVmZmVyU291cmNlLmxvb3BTdGFydCA9IHNvdW5kLl9zdGFydCB8fCAwO1xyXG4gICAgICAgIHNvdW5kLl9ub2RlLmJ1ZmZlclNvdXJjZS5sb29wRW5kID0gc291bmQuX3N0b3AgfHwgMDtcclxuICAgICAgfVxyXG4gICAgICBzb3VuZC5fbm9kZS5idWZmZXJTb3VyY2UucGxheWJhY2tSYXRlLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9yYXRlLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXZlbnQgbWVtb3J5IGxlYWtzIGJ5IGNsZWFuaW5nIHVwIHRoZSBidWZmZXIgc291cmNlIGFmdGVyIHBsYXliYWNrLlxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIFNvdW5kJ3MgYXVkaW8gbm9kZSBjb250YWluaW5nIHRoZSBidWZmZXIgc291cmNlLlxyXG4gICAgICogQHJldHVybiB7SG93bH1cclxuICAgICAqL1xyXG4gICAgX2NsZWFuQnVmZmVyOiBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIGlzSU9TID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPj0gMDtcclxuXHJcbiAgICAgIGlmICghbm9kZS5idWZmZXJTb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKEhvd2xlci5fc2NyYXRjaEJ1ZmZlciAmJiBub2RlLmJ1ZmZlclNvdXJjZSkge1xyXG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLm9uZW5kZWQgPSBudWxsO1xyXG4gICAgICAgIG5vZGUuYnVmZmVyU291cmNlLmRpc2Nvbm5lY3QoMCk7XHJcbiAgICAgICAgaWYgKGlzSU9TKSB7XHJcbiAgICAgICAgICB0cnkgeyBub2RlLmJ1ZmZlclNvdXJjZS5idWZmZXIgPSBIb3dsZXIuX3NjcmF0Y2hCdWZmZXI7IH0gY2F0Y2goZSkge31cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbm9kZS5idWZmZXJTb3VyY2UgPSBudWxsO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBzb3VyY2UgdG8gYSAwLXNlY29uZCBzaWxlbmNlIHRvIHN0b3AgYW55IGRvd25sb2FkaW5nIChleGNlcHQgaW4gSUUpLlxyXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBub2RlIEF1ZGlvIG5vZGUgdG8gY2xlYXIuXHJcbiAgICAgKi9cclxuICAgIF9jbGVhclNvdW5kOiBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgIHZhciBjaGVja0lFID0gL01TSUUgfFRyaWRlbnRcXC8vLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgICAgaWYgKCFjaGVja0lFKSB7XHJcbiAgICAgICAgbm9kZS5zcmMgPSAnZGF0YTphdWRpby93YXY7YmFzZTY0LFVrbEdSaWdBQUFCWFFWWkZabTEwSUJJQUFBQUJBQUVBUkt3QUFJaFlBUUFDQUJBQUFBQmtZWFJoQWdBQUFBRUEnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHVwIHRoZSBzb3VuZCBvYmplY3QsIHdoaWNoIGVhY2ggbm9kZSBhdHRhY2hlZCB0byBhIEhvd2wgZ3JvdXAgaXMgY29udGFpbmVkIGluLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBob3dsIFRoZSBIb3dsIHBhcmVudCBncm91cC5cclxuICAgKi9cclxuICB2YXIgU291bmQgPSBmdW5jdGlvbihob3dsKSB7XHJcbiAgICB0aGlzLl9wYXJlbnQgPSBob3dsO1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfTtcclxuICBTb3VuZC5wcm90b3R5cGUgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemUgYSBuZXcgU291bmQgb2JqZWN0LlxyXG4gICAgICogQHJldHVybiB7U291bmR9XHJcbiAgICAgKi9cclxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHZhciBwYXJlbnQgPSBzZWxmLl9wYXJlbnQ7XHJcblxyXG4gICAgICAvLyBTZXR1cCB0aGUgZGVmYXVsdCBwYXJhbWV0ZXJzLlxyXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XHJcbiAgICAgIHNlbGYuX2xvb3AgPSBwYXJlbnQuX2xvb3A7XHJcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xyXG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xyXG4gICAgICBzZWxmLl9zZWVrID0gMDtcclxuICAgICAgc2VsZi5fcGF1c2VkID0gdHJ1ZTtcclxuICAgICAgc2VsZi5fZW5kZWQgPSB0cnVlO1xyXG4gICAgICBzZWxmLl9zcHJpdGUgPSAnX19kZWZhdWx0JztcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIGEgdW5pcXVlIElEIGZvciB0aGlzIHNvdW5kLlxyXG4gICAgICBzZWxmLl9pZCA9ICsrSG93bGVyLl9jb3VudGVyO1xyXG5cclxuICAgICAgLy8gQWRkIGl0c2VsZiB0byB0aGUgcGFyZW50J3MgcG9vbC5cclxuICAgICAgcGFyZW50Ll9zb3VuZHMucHVzaChzZWxmKTtcclxuXHJcbiAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IG5vZGUuXHJcbiAgICAgIHNlbGYuY3JlYXRlKCk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW5kIHNldHVwIGEgbmV3IHNvdW5kIG9iamVjdCwgd2hldGhlciBIVE1MNSBBdWRpbyBvciBXZWIgQXVkaW8uXHJcbiAgICAgKiBAcmV0dXJuIHtTb3VuZH1cclxuICAgICAqL1xyXG4gICAgY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG4gICAgICB2YXIgdm9sdW1lID0gKEhvd2xlci5fbXV0ZWQgfHwgc2VsZi5fbXV0ZWQgfHwgc2VsZi5fcGFyZW50Ll9tdXRlZCkgPyAwIDogc2VsZi5fdm9sdW1lO1xyXG5cclxuICAgICAgaWYgKHBhcmVudC5fd2ViQXVkaW8pIHtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGdhaW4gbm9kZSBmb3IgY29udHJvbGxpbmcgdm9sdW1lICh0aGUgc291cmNlIHdpbGwgY29ubmVjdCB0byB0aGlzKS5cclxuICAgICAgICBzZWxmLl9ub2RlID0gKHR5cGVvZiBIb3dsZXIuY3R4LmNyZWF0ZUdhaW4gPT09ICd1bmRlZmluZWQnKSA/IEhvd2xlci5jdHguY3JlYXRlR2Fpbk5vZGUoKSA6IEhvd2xlci5jdHguY3JlYXRlR2FpbigpO1xyXG4gICAgICAgIHNlbGYuX25vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZSh2b2x1bWUsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgIHNlbGYuX25vZGUucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICBzZWxmLl9ub2RlLmNvbm5lY3QoSG93bGVyLm1hc3RlckdhaW4pO1xyXG4gICAgICB9IGVsc2UgaWYgKCFIb3dsZXIubm9BdWRpbykge1xyXG4gICAgICAgIC8vIEdldCBhbiB1bmxvY2tlZCBBdWRpbyBvYmplY3QgZnJvbSB0aGUgcG9vbC5cclxuICAgICAgICBzZWxmLl9ub2RlID0gSG93bGVyLl9vYnRhaW5IdG1sNUF1ZGlvKCk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgZXJyb3JzIChodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjLWF1dGhvci12aWV3L3NwZWMuaHRtbCNtZWRpYWVycm9yKS5cclxuICAgICAgICBzZWxmLl9lcnJvckZuID0gc2VsZi5fZXJyb3JMaXN0ZW5lci5iaW5kKHNlbGYpO1xyXG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBzZWxmLl9lcnJvckZuLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCB0byBsZXQgdXMga25vdyB0aGUgc291bmQgaXMgcmVhZHkuXHJcbiAgICAgICAgc2VsZi5fbG9hZEZuID0gc2VsZi5fbG9hZExpc3RlbmVyLmJpbmQoc2VsZik7XHJcbiAgICAgICAgc2VsZi5fbm9kZS5hZGRFdmVudExpc3RlbmVyKEhvd2xlci5fY2FuUGxheUV2ZW50LCBzZWxmLl9sb2FkRm4sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciB0aGUgJ2VuZGVkJyBldmVudCBvbiB0aGUgc291bmQgdG8gYWNjb3VudCBmb3IgZWRnZS1jYXNlIHdoZXJlXHJcbiAgICAgICAgLy8gYSBmaW5pdGUgc291bmQgaGFzIGEgZHVyYXRpb24gb2YgSW5maW5pdHkuXHJcbiAgICAgICAgc2VsZi5fZW5kRm4gPSBzZWxmLl9lbmRMaXN0ZW5lci5iaW5kKHNlbGYpO1xyXG4gICAgICAgIHNlbGYuX25vZGUuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBzZWxmLl9lbmRGbiwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBTZXR1cCB0aGUgbmV3IGF1ZGlvIG5vZGUuXHJcbiAgICAgICAgc2VsZi5fbm9kZS5zcmMgPSBwYXJlbnQuX3NyYztcclxuICAgICAgICBzZWxmLl9ub2RlLnByZWxvYWQgPSBwYXJlbnQuX3ByZWxvYWQgPT09IHRydWUgPyAnYXV0bycgOiBwYXJlbnQuX3ByZWxvYWQ7XHJcbiAgICAgICAgc2VsZi5fbm9kZS52b2x1bWUgPSB2b2x1bWUgKiBIb3dsZXIudm9sdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIEJlZ2luIGxvYWRpbmcgdGhlIHNvdXJjZS5cclxuICAgICAgICBzZWxmLl9ub2RlLmxvYWQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgdGhlIHBhcmFtZXRlcnMgb2YgdGhpcyBzb3VuZCB0byB0aGUgb3JpZ2luYWwgc3RhdGUgKGZvciByZWN5Y2xlKS5cclxuICAgICAqIEByZXR1cm4ge1NvdW5kfVxyXG4gICAgICovXHJcbiAgICByZXNldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuXHJcbiAgICAgIC8vIFJlc2V0IGFsbCBvZiB0aGUgcGFyYW1ldGVycyBvZiB0aGlzIHNvdW5kLlxyXG4gICAgICBzZWxmLl9tdXRlZCA9IHBhcmVudC5fbXV0ZWQ7XHJcbiAgICAgIHNlbGYuX2xvb3AgPSBwYXJlbnQuX2xvb3A7XHJcbiAgICAgIHNlbGYuX3ZvbHVtZSA9IHBhcmVudC5fdm9sdW1lO1xyXG4gICAgICBzZWxmLl9yYXRlID0gcGFyZW50Ll9yYXRlO1xyXG4gICAgICBzZWxmLl9zZWVrID0gMDtcclxuICAgICAgc2VsZi5fcmF0ZVNlZWsgPSAwO1xyXG4gICAgICBzZWxmLl9wYXVzZWQgPSB0cnVlO1xyXG4gICAgICBzZWxmLl9lbmRlZCA9IHRydWU7XHJcbiAgICAgIHNlbGYuX3Nwcml0ZSA9ICdfX2RlZmF1bHQnO1xyXG5cclxuICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgc28gdGhhdCBpdCBpc24ndCBjb25mdXNlZCB3aXRoIHRoZSBwcmV2aW91cyBzb3VuZC5cclxuICAgICAgc2VsZi5faWQgPSArK0hvd2xlci5fY291bnRlcjtcclxuXHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhUTUw1IEF1ZGlvIGVycm9yIGxpc3RlbmVyIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBfZXJyb3JMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIEZpcmUgYW4gZXJyb3IgZXZlbnQgYW5kIHBhc3MgYmFjayB0aGUgY29kZS5cclxuICAgICAgc2VsZi5fcGFyZW50Ll9lbWl0KCdsb2FkZXJyb3InLCBzZWxmLl9pZCwgc2VsZi5fbm9kZS5lcnJvciA/IHNlbGYuX25vZGUuZXJyb3IuY29kZSA6IDApO1xyXG5cclxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICBzZWxmLl9ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgc2VsZi5fZXJyb3JGbiwgZmFsc2UpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhUTUw1IEF1ZGlvIGNhbnBsYXl0aHJvdWdoIGxpc3RlbmVyIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBfbG9hZExpc3RlbmVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gUm91bmQgdXAgdGhlIGR1cmF0aW9uIHRvIGFjY291bnQgZm9yIHRoZSBsb3dlciBwcmVjaXNpb24gaW4gSFRNTDUgQXVkaW8uXHJcbiAgICAgIHBhcmVudC5fZHVyYXRpb24gPSBNYXRoLmNlaWwoc2VsZi5fbm9kZS5kdXJhdGlvbiAqIDEwKSAvIDEwO1xyXG5cclxuICAgICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxyXG4gICAgICBpZiAoT2JqZWN0LmtleXMocGFyZW50Ll9zcHJpdGUpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHBhcmVudC5fc3ByaXRlID0ge19fZGVmYXVsdDogWzAsIHBhcmVudC5fZHVyYXRpb24gKiAxMDAwXX07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwYXJlbnQuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICAgIHBhcmVudC5fc3RhdGUgPSAnbG9hZGVkJztcclxuICAgICAgICBwYXJlbnQuX2VtaXQoJ2xvYWQnKTtcclxuICAgICAgICBwYXJlbnQuX2xvYWRRdWV1ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGVhciB0aGUgZXZlbnQgbGlzdGVuZXIuXHJcbiAgICAgIHNlbGYuX25vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihIb3dsZXIuX2NhblBsYXlFdmVudCwgc2VsZi5fbG9hZEZuLCBmYWxzZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSFRNTDUgQXVkaW8gZW5kZWQgbGlzdGVuZXIgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIF9lbmRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuXHJcbiAgICAgIC8vIE9ubHkgaGFuZGxlIHRoZSBgZW5kZWRgYCBldmVudCBpZiB0aGUgZHVyYXRpb24gaXMgSW5maW5pdHkuXHJcbiAgICAgIGlmIChwYXJlbnQuX2R1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgcGFyZW50IGR1cmF0aW9uIHRvIG1hdGNoIHRoZSByZWFsIGF1ZGlvIGR1cmF0aW9uLlxyXG4gICAgICAgIC8vIFJvdW5kIHVwIHRoZSBkdXJhdGlvbiB0byBhY2NvdW50IGZvciB0aGUgbG93ZXIgcHJlY2lzaW9uIGluIEhUTUw1IEF1ZGlvLlxyXG4gICAgICAgIHBhcmVudC5fZHVyYXRpb24gPSBNYXRoLmNlaWwoc2VsZi5fbm9kZS5kdXJhdGlvbiAqIDEwKSAvIDEwO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHNwcml0ZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSByZWFsIGR1cmF0aW9uLlxyXG4gICAgICAgIGlmIChwYXJlbnQuX3Nwcml0ZS5fX2RlZmF1bHRbMV0gPT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICBwYXJlbnQuX3Nwcml0ZS5fX2RlZmF1bHRbMV0gPSBwYXJlbnQuX2R1cmF0aW9uICogMTAwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJ1biB0aGUgcmVndWxhciBlbmRlZCBtZXRob2QuXHJcbiAgICAgICAgcGFyZW50Ll9lbmRlZChzZWxmKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2xlYXIgdGhlIGV2ZW50IGxpc3RlbmVyIHNpbmNlIHRoZSBkdXJhdGlvbiBpcyBub3cgY29ycmVjdC5cclxuICAgICAgc2VsZi5fbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHNlbGYuX2VuZEZuLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqIEhlbHBlciBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIHZhciBjYWNoZSA9IHt9O1xyXG5cclxuICAvKipcclxuICAgKiBCdWZmZXIgYSBzb3VuZCBmcm9tIFVSTCwgRGF0YSBVUkkgb3IgY2FjaGUgYW5kIGRlY29kZSB0byBhdWRpbyBzb3VyY2UgKFdlYiBBdWRpbyBBUEkpLlxyXG4gICAqIEBwYXJhbSAge0hvd2x9IHNlbGZcclxuICAgKi9cclxuICB2YXIgbG9hZEJ1ZmZlciA9IGZ1bmN0aW9uKHNlbGYpIHtcclxuICAgIHZhciB1cmwgPSBzZWxmLl9zcmM7XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGJ1ZmZlciBoYXMgYWxyZWFkeSBiZWVuIGNhY2hlZCBhbmQgdXNlIGl0IGluc3RlYWQuXHJcbiAgICBpZiAoY2FjaGVbdXJsXSkge1xyXG4gICAgICAvLyBTZXQgdGhlIGR1cmF0aW9uIGZyb20gdGhlIGNhY2hlLlxyXG4gICAgICBzZWxmLl9kdXJhdGlvbiA9IGNhY2hlW3VybF0uZHVyYXRpb247XHJcblxyXG4gICAgICAvLyBMb2FkIHRoZSBzb3VuZCBpbnRvIHRoaXMgSG93bC5cclxuICAgICAgbG9hZFNvdW5kKHNlbGYpO1xyXG5cclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvXmRhdGE6W147XSs7YmFzZTY0LC8udGVzdCh1cmwpKSB7XHJcbiAgICAgIC8vIERlY29kZSB0aGUgYmFzZTY0IGRhdGEgVVJJIHdpdGhvdXQgWEhSLCBzaW5jZSBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgaXQuXHJcbiAgICAgIHZhciBkYXRhID0gYXRvYih1cmwuc3BsaXQoJywnKVsxXSk7XHJcbiAgICAgIHZhciBkYXRhVmlldyA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoKTtcclxuICAgICAgZm9yICh2YXIgaT0wOyBpPGRhdGEubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBkYXRhVmlld1tpXSA9IGRhdGEuY2hhckNvZGVBdChpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZGVjb2RlQXVkaW9EYXRhKGRhdGFWaWV3LmJ1ZmZlciwgc2VsZik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBMb2FkIHRoZSBidWZmZXIgZnJvbSB0aGUgVVJMLlxyXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgIHhoci5vcGVuKHNlbGYuX3hoci5tZXRob2QsIHVybCwgdHJ1ZSk7XHJcbiAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBzZWxmLl94aHIud2l0aENyZWRlbnRpYWxzO1xyXG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuXHJcbiAgICAgIC8vIEFwcGx5IGFueSBjdXN0b20gaGVhZGVycyB0byB0aGUgcmVxdWVzdC5cclxuICAgICAgaWYgKHNlbGYuX3hoci5oZWFkZXJzKSB7XHJcbiAgICAgICAgT2JqZWN0LmtleXMoc2VsZi5feGhyLmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHNlbGYuX3hoci5oZWFkZXJzW2tleV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGdldCBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgYmFjay5cclxuICAgICAgICB2YXIgY29kZSA9ICh4aHIuc3RhdHVzICsgJycpWzBdO1xyXG4gICAgICAgIGlmIChjb2RlICE9PSAnMCcgJiYgY29kZSAhPT0gJzInICYmIGNvZGUgIT09ICczJykge1xyXG4gICAgICAgICAgc2VsZi5fZW1pdCgnbG9hZGVycm9yJywgbnVsbCwgJ0ZhaWxlZCBsb2FkaW5nIGF1ZGlvIGZpbGUgd2l0aCBzdGF0dXM6ICcgKyB4aHIuc3RhdHVzICsgJy4nKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlY29kZUF1ZGlvRGF0YSh4aHIucmVzcG9uc2UsIHNlbGYpO1xyXG4gICAgICB9O1xyXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGVycm9yLCBzd2l0Y2ggdG8gSFRNTDUgQXVkaW8uXHJcbiAgICAgICAgaWYgKHNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgICAgICBzZWxmLl9odG1sNSA9IHRydWU7XHJcbiAgICAgICAgICBzZWxmLl93ZWJBdWRpbyA9IGZhbHNlO1xyXG4gICAgICAgICAgc2VsZi5fc291bmRzID0gW107XHJcbiAgICAgICAgICBkZWxldGUgY2FjaGVbdXJsXTtcclxuICAgICAgICAgIHNlbGYubG9hZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgc2FmZVhoclNlbmQoeGhyKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBTZW5kIHRoZSBYSFIgcmVxdWVzdCB3cmFwcGVkIGluIGEgdHJ5L2NhdGNoLlxyXG4gICAqIEBwYXJhbSAge09iamVjdH0geGhyIFhIUiB0byBzZW5kLlxyXG4gICAqL1xyXG4gIHZhciBzYWZlWGhyU2VuZCA9IGZ1bmN0aW9uKHhocikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgeGhyLnNlbmQoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgeGhyLm9uZXJyb3IoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBEZWNvZGUgYXVkaW8gZGF0YSBmcm9tIGFuIGFycmF5IGJ1ZmZlci5cclxuICAgKiBAcGFyYW0gIHtBcnJheUJ1ZmZlcn0gYXJyYXlidWZmZXIgVGhlIGF1ZGlvIGRhdGEuXHJcbiAgICogQHBhcmFtICB7SG93bH0gICAgICAgIHNlbGZcclxuICAgKi9cclxuICB2YXIgZGVjb2RlQXVkaW9EYXRhID0gZnVuY3Rpb24oYXJyYXlidWZmZXIsIHNlbGYpIHtcclxuICAgIC8vIEZpcmUgYSBsb2FkIGVycm9yIGlmIHNvbWV0aGluZyBicm9rZS5cclxuICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZWxmLl9lbWl0KCdsb2FkZXJyb3InLCBudWxsLCAnRGVjb2RpbmcgYXVkaW8gZGF0YSBmYWlsZWQuJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvYWQgdGhlIHNvdW5kIG9uIHN1Y2Nlc3MuXHJcbiAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xyXG4gICAgICBpZiAoYnVmZmVyICYmIHNlbGYuX3NvdW5kcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY2FjaGVbc2VsZi5fc3JjXSA9IGJ1ZmZlcjtcclxuICAgICAgICBsb2FkU291bmQoc2VsZiwgYnVmZmVyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlcnJvcigpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIERlY29kZSB0aGUgYnVmZmVyIGludG8gYW4gYXVkaW8gc291cmNlLlxyXG4gICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJiBIb3dsZXIuY3R4LmRlY29kZUF1ZGlvRGF0YS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIpLnRoZW4oc3VjY2VzcykuY2F0Y2goZXJyb3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgSG93bGVyLmN0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlidWZmZXIsIHN1Y2Nlc3MsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNvdW5kIGlzIG5vdyBsb2FkZWQsIHNvIGZpbmlzaCBzZXR0aW5nIGV2ZXJ5dGhpbmcgdXAgYW5kIGZpcmUgdGhlIGxvYWRlZCBldmVudC5cclxuICAgKiBAcGFyYW0gIHtIb3dsfSBzZWxmXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBidWZmZXIgVGhlIGRlY29kZWQgYnVmZmVyIHNvdW5kIHNvdXJjZS5cclxuICAgKi9cclxuICB2YXIgbG9hZFNvdW5kID0gZnVuY3Rpb24oc2VsZiwgYnVmZmVyKSB7XHJcbiAgICAvLyBTZXQgdGhlIGR1cmF0aW9uLlxyXG4gICAgaWYgKGJ1ZmZlciAmJiAhc2VsZi5fZHVyYXRpb24pIHtcclxuICAgICAgc2VsZi5fZHVyYXRpb24gPSBidWZmZXIuZHVyYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0dXAgYSBzcHJpdGUgaWYgbm9uZSBpcyBkZWZpbmVkLlxyXG4gICAgaWYgKE9iamVjdC5rZXlzKHNlbGYuX3Nwcml0ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHNlbGYuX3Nwcml0ZSA9IHtfX2RlZmF1bHQ6IFswLCBzZWxmLl9kdXJhdGlvbiAqIDEwMDBdfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGaXJlIHRoZSBsb2FkZWQgZXZlbnQuXHJcbiAgICBpZiAoc2VsZi5fc3RhdGUgIT09ICdsb2FkZWQnKSB7XHJcbiAgICAgIHNlbGYuX3N0YXRlID0gJ2xvYWRlZCc7XHJcbiAgICAgIHNlbGYuX2VtaXQoJ2xvYWQnKTtcclxuICAgICAgc2VsZi5fbG9hZFF1ZXVlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dXAgdGhlIGF1ZGlvIGNvbnRleHQgd2hlbiBhdmFpbGFibGUsIG9yIHN3aXRjaCB0byBIVE1MNSBBdWRpbyBtb2RlLlxyXG4gICAqL1xyXG4gIHZhciBzZXR1cEF1ZGlvQ29udGV4dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gSWYgd2UgaGF2ZSBhbHJlYWR5IGRldGVjdGVkIHRoYXQgV2ViIEF1ZGlvIGlzbid0IHN1cHBvcnRlZCwgZG9uJ3QgcnVuIHRoaXMgc3RlcCBhZ2Fpbi5cclxuICAgIGlmICghSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGlmIHdlIGFyZSB1c2luZyBXZWIgQXVkaW8gYW5kIHNldHVwIHRoZSBBdWRpb0NvbnRleHQgaWYgd2UgYXJlLlxyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHR5cGVvZiBBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgSG93bGVyLmN0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIEhvd2xlci5jdHggPSBuZXcgd2Via2l0QXVkaW9Db250ZXh0KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaChlKSB7XHJcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIGF1ZGlvIGNvbnRleHQgY3JlYXRpb24gc3RpbGwgZmFpbGVkLCBzZXQgdXNpbmcgd2ViIGF1ZGlvIHRvIGZhbHNlLlxyXG4gICAgaWYgKCFIb3dsZXIuY3R4KSB7XHJcbiAgICAgIEhvd2xlci51c2luZ1dlYkF1ZGlvID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgYSB3ZWJ2aWV3IGlzIGJlaW5nIHVzZWQgb24gaU9TOCBvciBlYXJsaWVyIChyYXRoZXIgdGhhbiB0aGUgYnJvd3NlcikuXHJcbiAgICAvLyBJZiBpdCBpcywgZGlzYWJsZSBXZWIgQXVkaW8gYXMgaXQgY2F1c2VzIGNyYXNoaW5nLlxyXG4gICAgdmFyIGlPUyA9ICgvaVAoaG9uZXxvZHxhZCkvLnRlc3QoSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IucGxhdGZvcm0pKTtcclxuICAgIHZhciBhcHBWZXJzaW9uID0gSG93bGVyLl9uYXZpZ2F0b3IgJiYgSG93bGVyLl9uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvT1MgKFxcZCspXyhcXGQrKV8/KFxcZCspPy8pO1xyXG4gICAgdmFyIHZlcnNpb24gPSBhcHBWZXJzaW9uID8gcGFyc2VJbnQoYXBwVmVyc2lvblsxXSwgMTApIDogbnVsbDtcclxuICAgIGlmIChpT1MgJiYgdmVyc2lvbiAmJiB2ZXJzaW9uIDwgOSkge1xyXG4gICAgICB2YXIgc2FmYXJpID0gL3NhZmFyaS8udGVzdChIb3dsZXIuX25hdmlnYXRvciAmJiBIb3dsZXIuX25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgIGlmIChIb3dsZXIuX25hdmlnYXRvciAmJiAhc2FmYXJpKSB7XHJcbiAgICAgICAgSG93bGVyLnVzaW5nV2ViQXVkaW8gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBhbmQgZXhwb3NlIHRoZSBtYXN0ZXIgR2Fpbk5vZGUgd2hlbiB1c2luZyBXZWIgQXVkaW8gKHVzZWZ1bCBmb3IgcGx1Z2lucyBvciBhZHZhbmNlZCB1c2FnZSkuXHJcbiAgICBpZiAoSG93bGVyLnVzaW5nV2ViQXVkaW8pIHtcclxuICAgICAgSG93bGVyLm1hc3RlckdhaW4gPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlR2FpbiA9PT0gJ3VuZGVmaW5lZCcpID8gSG93bGVyLmN0eC5jcmVhdGVHYWluTm9kZSgpIDogSG93bGVyLmN0eC5jcmVhdGVHYWluKCk7XHJcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoSG93bGVyLl9tdXRlZCA/IDAgOiBIb3dsZXIuX3ZvbHVtZSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgIEhvd2xlci5tYXN0ZXJHYWluLmNvbm5lY3QoSG93bGVyLmN0eC5kZXN0aW5hdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmUtcnVuIHRoZSBzZXR1cCBvbiBIb3dsZXIuXHJcbiAgICBIb3dsZXIuX3NldHVwKCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQWRkIHN1cHBvcnQgZm9yIEFNRCAoQXN5bmNocm9ub3VzIE1vZHVsZSBEZWZpbml0aW9uKSBsaWJyYXJpZXMgc3VjaCBhcyByZXF1aXJlLmpzLlxyXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgSG93bGVyOiBIb3dsZXIsXHJcbiAgICAgICAgSG93bDogSG93bFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgc3VwcG9ydCBmb3IgQ29tbW9uSlMgbGlicmFyaWVzIHN1Y2ggYXMgYnJvd3NlcmlmeS5cclxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBleHBvcnRzLkhvd2xlciA9IEhvd2xlcjtcclxuICAgIGV4cG9ydHMuSG93bCA9IEhvd2w7XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgdG8gZ2xvYmFsIGluIE5vZGUuanMgKGZvciB0ZXN0aW5nLCBldGMpLlxyXG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgZ2xvYmFsLkhvd2xlckdsb2JhbCA9IEhvd2xlckdsb2JhbDtcclxuICAgIGdsb2JhbC5Ib3dsZXIgPSBIb3dsZXI7XHJcbiAgICBnbG9iYWwuSG93bCA9IEhvd2w7XHJcbiAgICBnbG9iYWwuU291bmQgPSBTb3VuZDtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7ICAvLyBEZWZpbmUgZ2xvYmFsbHkgaW4gY2FzZSBBTUQgaXMgbm90IGF2YWlsYWJsZSBvciB1bnVzZWQuXHJcbiAgICB3aW5kb3cuSG93bGVyR2xvYmFsID0gSG93bGVyR2xvYmFsO1xyXG4gICAgd2luZG93Lkhvd2xlciA9IEhvd2xlcjtcclxuICAgIHdpbmRvdy5Ib3dsID0gSG93bDtcclxuICAgIHdpbmRvdy5Tb3VuZCA9IFNvdW5kO1xyXG4gIH1cclxufSkoKTtcclxuXHJcblxyXG4vKiFcclxuICogIFNwYXRpYWwgUGx1Z2luIC0gQWRkcyBzdXBwb3J0IGZvciBzdGVyZW8gYW5kIDNEIGF1ZGlvIHdoZXJlIFdlYiBBdWRpbyBpcyBzdXBwb3J0ZWQuXHJcbiAqICBcclxuICogIGhvd2xlci5qcyB2Mi4yLjRcclxuICogIGhvd2xlcmpzLmNvbVxyXG4gKlxyXG4gKiAgKGMpIDIwMTMtMjAyMCwgSmFtZXMgU2ltcHNvbiBvZiBHb2xkRmlyZSBTdHVkaW9zXHJcbiAqICBnb2xkZmlyZXN0dWRpb3MuY29tXHJcbiAqXHJcbiAqICBNSVQgTGljZW5zZVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAvLyBTZXR1cCBkZWZhdWx0IHByb3BlcnRpZXMuXHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5fcG9zID0gWzAsIDAsIDBdO1xyXG4gIEhvd2xlckdsb2JhbC5wcm90b3R5cGUuX29yaWVudGF0aW9uID0gWzAsIDAsIC0xLCAwLCAxLCAwXTtcclxuXHJcbiAgLyoqIEdsb2JhbCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIEhlbHBlciBtZXRob2QgdG8gdXBkYXRlIHRoZSBzdGVyZW8gcGFubmluZyBwb3NpdGlvbiBvZiBhbGwgY3VycmVudCBIb3dscy5cclxuICAgKiBGdXR1cmUgSG93bHMgd2lsbCBub3QgdXNlIHRoaXMgdmFsdWUgdW5sZXNzIGV4cGxpY2l0bHkgc2V0LlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuIEEgdmFsdWUgb2YgLTEuMCBpcyBhbGwgdGhlIHdheSBsZWZ0IGFuZCAxLjAgaXMgYWxsIHRoZSB3YXkgcmlnaHQuXHJcbiAgICogQHJldHVybiB7SG93bGVyL051bWJlcn0gICAgIFNlbGYgb3IgY3VycmVudCBzdGVyZW8gcGFubmluZyB2YWx1ZS5cclxuICAgKi9cclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnN0ZXJlbyA9IGZ1bmN0aW9uKHBhbikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLmN0eCB8fCAhc2VsZi5jdHgubGlzdGVuZXIpIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBIb3dscyBhbmQgdXBkYXRlIHRoZWlyIHN0ZXJlbyBwYW5uaW5nLlxyXG4gICAgZm9yICh2YXIgaT1zZWxmLl9ob3dscy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XHJcbiAgICAgIHNlbGYuX2hvd2xzW2ldLnN0ZXJlbyhwYW4pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldC9zZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lciBpbiAzRCBjYXJ0ZXNpYW4gc3BhY2UuIFNvdW5kcyB1c2luZ1xyXG4gICAqIDNEIHBvc2l0aW9uIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhlIGxpc3RlbmVyJ3MgcG9zaXRpb24uXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB4IFRoZSB4LXBvc2l0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgVGhlIHktcG9zaXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geiBUaGUgei1wb3NpdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgIFNlbGYgb3IgY3VycmVudCBsaXN0ZW5lciBwb3NpdGlvbi5cclxuICAgKi9cclxuICBIb3dsZXJHbG9iYWwucHJvdG90eXBlLnBvcyA9IGZ1bmN0aW9uKHgsIHksIHopIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cclxuICAgIHkgPSAodHlwZW9mIHkgIT09ICdudW1iZXInKSA/IHNlbGYuX3Bvc1sxXSA6IHk7XHJcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9wb3NbMl0gOiB6O1xyXG5cclxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgc2VsZi5fcG9zID0gW3gsIHksIHpdO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBzZWxmLmN0eC5saXN0ZW5lci5wb3NpdGlvblggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25YLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMF0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25ZLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMV0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIucG9zaXRpb25aLnNldFRhcmdldEF0VGltZShzZWxmLl9wb3NbMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUsIDAuMSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5jdHgubGlzdGVuZXIuc2V0UG9zaXRpb24oc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBzZWxmLl9wb3M7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgZGlyZWN0aW9uIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIHNwYWNlLlxyXG4gICAqIEEgZnJvbnQgYW5kIHVwIHZlY3RvciBtdXN0IGJlIHByb3ZpZGVkLiBUaGUgZnJvbnQgaXMgdGhlIGRpcmVjdGlvbiB0aGVcclxuICAgKiBmYWNlIG9mIHRoZSBsaXN0ZW5lciBpcyBwb2ludGluZywgYW5kIHVwIGlzIHRoZSBkaXJlY3Rpb24gdGhlIHRvcCBvZiB0aGVcclxuICAgKiBsaXN0ZW5lciBpcyBwb2ludGluZy4gVGh1cywgdGhlc2UgdmFsdWVzIGFyZSBleHBlY3RlZCB0byBiZSBhdCByaWdodCBhbmdsZXNcclxuICAgKiBmcm9tIGVhY2ggb3RoZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgIFRoZSB5LW9yaWVudGF0aW9uIG9mIHRoZSBsaXN0ZW5lci5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogICBUaGUgei1vcmllbnRhdGlvbiBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB4VXAgVGhlIHgtb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB5VXAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB6VXAgVGhlIHotb3JpZW50YXRpb24gb2YgdGhlIHRvcCBvZiB0aGUgbGlzdGVuZXIuXHJcbiAgICogQHJldHVybiB7SG93bGVyL0FycmF5fSAgICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IG9yaWVudGF0aW9uIHZlY3RvcnMuXHJcbiAgICovXHJcbiAgSG93bGVyR2xvYmFsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5jdHggfHwgIXNlbGYuY3R4Lmxpc3RlbmVyKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB0aGUgZGVmYXVsdHMgZm9yIG9wdGlvbmFsICd5JyAmICd6Jy5cclxuICAgIHZhciBvciA9IHNlbGYuX29yaWVudGF0aW9uO1xyXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gb3JbMV0gOiB5O1xyXG4gICAgeiA9ICh0eXBlb2YgeiAhPT0gJ251bWJlcicpID8gb3JbMl0gOiB6O1xyXG4gICAgeFVwID0gKHR5cGVvZiB4VXAgIT09ICdudW1iZXInKSA/IG9yWzNdIDogeFVwO1xyXG4gICAgeVVwID0gKHR5cGVvZiB5VXAgIT09ICdudW1iZXInKSA/IG9yWzRdIDogeVVwO1xyXG4gICAgelVwID0gKHR5cGVvZiB6VXAgIT09ICdudW1iZXInKSA/IG9yWzVdIDogelVwO1xyXG5cclxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBbeCwgeSwgeiwgeFVwLCB5VXAsIHpVcF07XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRYICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRYLnNldFRhcmdldEF0VGltZSh4LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRZLnNldFRhcmdldEF0VGltZSh5LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLmZvcndhcmRaLnNldFRhcmdldEF0VGltZSh6LCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWC5zZXRUYXJnZXRBdFRpbWUoeFVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWS5zZXRUYXJnZXRBdFRpbWUoeVVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnVwWi5zZXRUYXJnZXRBdFRpbWUoelVwLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lLCAwLjEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuY3R4Lmxpc3RlbmVyLnNldE9yaWVudGF0aW9uKHgsIHksIHosIHhVcCwgeVVwLCB6VXApO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gb3I7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqIEdyb3VwIE1ldGhvZHMgKiovXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoZSBjb3JlIGluaXQuXHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IF9zdXBlciBDb3JlIGluaXQgbWV0aG9kLlxyXG4gICAqIEByZXR1cm4ge0hvd2x9XHJcbiAgICovXHJcbiAgSG93bC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihvKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgIC8vIFNldHVwIHVzZXItZGVmaW5lZCBkZWZhdWx0IHByb3BlcnRpZXMuXHJcbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gby5vcmllbnRhdGlvbiB8fCBbMSwgMCwgMF07XHJcbiAgICAgIHNlbGYuX3N0ZXJlbyA9IG8uc3RlcmVvIHx8IG51bGw7XHJcbiAgICAgIHNlbGYuX3BvcyA9IG8ucG9zIHx8IG51bGw7XHJcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSB7XHJcbiAgICAgICAgY29uZUlubmVyQW5nbGU6IHR5cGVvZiBvLmNvbmVJbm5lckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZUlubmVyQW5nbGUgOiAzNjAsXHJcbiAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLmNvbmVPdXRlckFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG8uY29uZU91dGVyQW5nbGUgOiAzNjAsXHJcbiAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiAwLFxyXG4gICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLmRpc3RhbmNlTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5kaXN0YW5jZU1vZGVsIDogJ2ludmVyc2UnLFxyXG4gICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5tYXhEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLm1heERpc3RhbmNlIDogMTAwMDAsXHJcbiAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uaW5nTW9kZWwgIT09ICd1bmRlZmluZWQnID8gby5wYW5uaW5nTW9kZWwgOiAnSFJURicsXHJcbiAgICAgICAgcmVmRGlzdGFuY2U6IHR5cGVvZiBvLnJlZkRpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucmVmRGlzdGFuY2UgOiAxLFxyXG4gICAgICAgIHJvbGxvZmZGYWN0b3I6IHR5cGVvZiBvLnJvbGxvZmZGYWN0b3IgIT09ICd1bmRlZmluZWQnID8gby5yb2xsb2ZmRmFjdG9yIDogMVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICBzZWxmLl9vbnN0ZXJlbyA9IG8ub25zdGVyZW8gPyBbe2ZuOiBvLm9uc3RlcmVvfV0gOiBbXTtcclxuICAgICAgc2VsZi5fb25wb3MgPSBvLm9ucG9zID8gW3tmbjogby5vbnBvc31dIDogW107XHJcbiAgICAgIHNlbGYuX29ub3JpZW50YXRpb24gPSBvLm9ub3JpZW50YXRpb24gPyBbe2ZuOiBvLm9ub3JpZW50YXRpb259XSA6IFtdO1xyXG5cclxuICAgICAgLy8gQ29tcGxldGUgaW5pdGlsaXphdGlvbiB3aXRoIGhvd2xlci5qcyBjb3JlJ3MgaW5pdCBmdW5jdGlvbi5cclxuICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG8pO1xyXG4gICAgfTtcclxuICB9KShIb3dsLnByb3RvdHlwZS5pbml0KTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgc3RlcmVvIHBhbm5pbmcgb2YgdGhlIGF1ZGlvIHNvdXJjZSBmb3IgdGhpcyBzb3VuZCBvciBhbGwgaW4gdGhlIGdyb3VwLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gcGFuICBBIHZhbHVlIG9mIC0xLjAgaXMgYWxsIHRoZSB3YXkgbGVmdCBhbmQgMS4wIGlzIGFsbCB0aGUgd2F5IHJpZ2h0LlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxyXG4gICAqIEByZXR1cm4ge0hvd2wvTnVtYmVyfSAgICBSZXR1cm5zIHNlbGYgb3IgdGhlIGN1cnJlbnQgc3RlcmVvIHBhbm5pbmcgdmFsdWUuXHJcbiAgICovXHJcbiAgSG93bC5wcm90b3R5cGUuc3RlcmVvID0gZnVuY3Rpb24ocGFuLCBpZCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgc291bmQgaGFzbid0IGxvYWRlZCwgYWRkIGl0IHRvIHRoZSBsb2FkIHF1ZXVlIHRvIGNoYW5nZSBzdGVyZW8gcGFuIHdoZW4gY2FwYWJsZS5cclxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgZXZlbnQ6ICdzdGVyZW8nLFxyXG4gICAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLnN0ZXJlbyhwYW4sIGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIFBhbm5lclN0ZXJlb05vZGUgc3VwcG9ydCBhbmQgZmFsbGJhY2sgdG8gUGFubmVyTm9kZSBpZiBpdCBkb2Vzbid0IGV4aXN0LlxyXG4gICAgdmFyIHBhbm5lclR5cGUgPSAodHlwZW9mIEhvd2xlci5jdHguY3JlYXRlU3RlcmVvUGFubmVyID09PSAndW5kZWZpbmVkJykgPyAnc3BhdGlhbCcgOiAnc3RlcmVvJztcclxuXHJcbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzdGVyZW8gcGFubmluZyBpZiBubyBJRCBpcyBwYXNzZWQuXHJcbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3RlcmVvIHBhbm5pbmcgaWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkLlxyXG4gICAgICBpZiAodHlwZW9mIHBhbiA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBzZWxmLl9zdGVyZW8gPSBwYW47XHJcbiAgICAgICAgc2VsZi5fcG9zID0gW3BhbiwgMCwgMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuX3N0ZXJlbztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENoYW5nZSB0aGUgc3RyZW8gcGFubmluZyBvZiBvbmUgb3IgYWxsIHNvdW5kcyBpbiBncm91cC5cclxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIC8vIEdldCB0aGUgc291bmQuXHJcbiAgICAgIHZhciBzb3VuZCA9IHNlbGYuX3NvdW5kQnlJZChpZHNbaV0pO1xyXG5cclxuICAgICAgaWYgKHNvdW5kKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwYW4gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICBzb3VuZC5fc3RlcmVvID0gcGFuO1xyXG4gICAgICAgICAgc291bmQuX3BvcyA9IFtwYW4sIDAsIDBdO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZmFsbGluZyBiYWNrLCBtYWtlIHN1cmUgdGhlIHBhbm5pbmdNb2RlbCBpcyBlcXVhbHBvd2VyLlxyXG4gICAgICAgICAgICBzb3VuZC5fcGFubmVyQXR0ci5wYW5uaW5nTW9kZWwgPSAnZXF1YWxwb3dlcic7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXHJcbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCAhc291bmQuX3Bhbm5lci5wYW4pIHtcclxuICAgICAgICAgICAgICBzZXR1cFBhbm5lcihzb3VuZCwgcGFubmVyVHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwYW5uZXJUeXBlID09PSAnc3BhdGlhbCcpIHtcclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblguc2V0VmFsdWVBdFRpbWUocGFuLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKDAsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wb3NpdGlvblouc2V0VmFsdWVBdFRpbWUoMCwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24ocGFuLCAwLCAwKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc291bmQuX3Bhbm5lci5wYW4uc2V0VmFsdWVBdFRpbWUocGFuLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNlbGYuX2VtaXQoJ3N0ZXJlbycsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBzb3VuZC5fc3RlcmVvO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWxmO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldC9zZXQgdGhlIDNEIHNwYXRpYWwgcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZSBmb3IgdGhpcyBzb3VuZCBvciBncm91cCByZWxhdGl2ZSB0byB0aGUgZ2xvYmFsIGxpc3RlbmVyLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geCAgVGhlIHgtcG9zaXRpb24gb2YgdGhlIGF1ZGlvIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHkgIFRoZSB5LXBvc2l0aW9uIG9mIHRoZSBhdWRpbyBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB6ICBUaGUgei1wb3NpdGlvbiBvZiB0aGUgYXVkaW8gc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0gaWQgKG9wdGlvbmFsKSBUaGUgc291bmQgSUQuIElmIG5vbmUgaXMgcGFzc2VkLCBhbGwgaW4gZ3JvdXAgd2lsbCBiZSB1cGRhdGVkLlxyXG4gICAqIEByZXR1cm4ge0hvd2wvQXJyYXl9ICAgIFJldHVybnMgc2VsZiBvciB0aGUgY3VycmVudCAzRCBzcGF0aWFsIHBvc2l0aW9uOiBbeCwgeSwgel0uXHJcbiAgICovXHJcbiAgSG93bC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24oeCwgeSwgeiwgaWQpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBTdG9wIHJpZ2h0IGhlcmUgaWYgbm90IHVzaW5nIFdlYiBBdWRpby5cclxuICAgIGlmICghc2VsZi5fd2ViQXVkaW8pIHtcclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIHNvdW5kIGhhc24ndCBsb2FkZWQsIGFkZCBpdCB0byB0aGUgbG9hZCBxdWV1ZSB0byBjaGFuZ2UgcG9zaXRpb24gd2hlbiBjYXBhYmxlLlxyXG4gICAgaWYgKHNlbGYuX3N0YXRlICE9PSAnbG9hZGVkJykge1xyXG4gICAgICBzZWxmLl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICBldmVudDogJ3BvcycsXHJcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYucG9zKHgsIHksIHosIGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0cyBmb3Igb3B0aW9uYWwgJ3knICYgJ3onLlxyXG4gICAgeSA9ICh0eXBlb2YgeSAhPT0gJ251bWJlcicpID8gMCA6IHk7XHJcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyAtMC41IDogejtcclxuXHJcbiAgICAvLyBTZXR1cCB0aGUgZ3JvdXAncyBzcGF0aWFsIHBvc2l0aW9uIGlmIG5vIElEIGlzIHBhc3NlZC5cclxuICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIC8vIFJldHVybiB0aGUgZ3JvdXAncyBzcGF0aWFsIHBvc2l0aW9uIGlmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZC5cclxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNlbGYuX3BvcyA9IFt4LCB5LCB6XTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5fcG9zO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hhbmdlIHRoZSBzcGF0aWFsIHBvc2l0aW9uIG9mIG9uZSBvciBhbGwgc291bmRzIGluIGdyb3VwLlxyXG4gICAgdmFyIGlkcyA9IHNlbGYuX2dldFNvdW5kSWRzKGlkKTtcclxuICAgIGZvciAodmFyIGk9MDsgaTxpZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgLy8gR2V0IHRoZSBzb3VuZC5cclxuICAgICAgdmFyIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICBzb3VuZC5fcG9zID0gW3gsIHksIHpdO1xyXG5cclxuICAgICAgICAgIGlmIChzb3VuZC5fbm9kZSkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhIHBhbm5lciBzZXR1cCBhbmQgY3JlYXRlIGEgbmV3IG9uZSBpZiBub3QuXHJcbiAgICAgICAgICAgIGlmICghc291bmQuX3Bhbm5lciB8fCBzb3VuZC5fcGFubmVyLnBhbikge1xyXG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIucG9zaXRpb25aLnNldFZhbHVlQXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0UG9zaXRpb24oeCwgeSwgeik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdwb3MnLCBzb3VuZC5faWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gc291bmQuX3BvcztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBHZXQvc2V0IHRoZSBkaXJlY3Rpb24gdGhlIGF1ZGlvIHNvdXJjZSBpcyBwb2ludGluZyBpbiB0aGUgM0QgY2FydGVzaWFuIGNvb3JkaW5hdGVcclxuICAgKiBzcGFjZS4gRGVwZW5kaW5nIG9uIGhvdyBkaXJlY3Rpb24gdGhlIHNvdW5kIGlzLCBiYXNlZCBvbiB0aGUgYGNvbmVgIGF0dHJpYnV0ZXMsXHJcbiAgICogYSBzb3VuZCBwb2ludGluZyBhd2F5IGZyb20gdGhlIGxpc3RlbmVyIGNhbiBiZSBxdWlldCBvciBzaWxlbnQuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSB4ICBUaGUgeC1vcmllbnRhdGlvbiBvZiB0aGUgc291cmNlLlxyXG4gICAqIEBwYXJhbSAge051bWJlcn0geSAgVGhlIHktb3JpZW50YXRpb24gb2YgdGhlIHNvdXJjZS5cclxuICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHogIFRoZSB6LW9yaWVudGF0aW9uIG9mIHRoZSBzb3VyY2UuXHJcbiAgICogQHBhcmFtICB7TnVtYmVyfSBpZCAob3B0aW9uYWwpIFRoZSBzb3VuZCBJRC4gSWYgbm9uZSBpcyBwYXNzZWQsIGFsbCBpbiBncm91cCB3aWxsIGJlIHVwZGF0ZWQuXHJcbiAgICogQHJldHVybiB7SG93bC9BcnJheX0gICAgUmV0dXJucyBzZWxmIG9yIHRoZSBjdXJyZW50IDNEIHNwYXRpYWwgb3JpZW50YXRpb246IFt4LCB5LCB6XS5cclxuICAgKi9cclxuICBIb3dsLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uKHgsIHksIHosIGlkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgLy8gU3RvcCByaWdodCBoZXJlIGlmIG5vdCB1c2luZyBXZWIgQXVkaW8uXHJcbiAgICBpZiAoIXNlbGYuX3dlYkF1ZGlvKSB7XHJcbiAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHRoZSBzb3VuZCBoYXNuJ3QgbG9hZGVkLCBhZGQgaXQgdG8gdGhlIGxvYWQgcXVldWUgdG8gY2hhbmdlIG9yaWVudGF0aW9uIHdoZW4gY2FwYWJsZS5cclxuICAgIGlmIChzZWxmLl9zdGF0ZSAhPT0gJ2xvYWRlZCcpIHtcclxuICAgICAgc2VsZi5fcXVldWUucHVzaCh7XHJcbiAgICAgICAgZXZlbnQ6ICdvcmllbnRhdGlvbicsXHJcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYub3JpZW50YXRpb24oeCwgeSwgeiwgaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXQgdGhlIGRlZmF1bHRzIGZvciBvcHRpb25hbCAneScgJiAneicuXHJcbiAgICB5ID0gKHR5cGVvZiB5ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsxXSA6IHk7XHJcbiAgICB6ID0gKHR5cGVvZiB6ICE9PSAnbnVtYmVyJykgPyBzZWxmLl9vcmllbnRhdGlvblsyXSA6IHo7XHJcblxyXG4gICAgLy8gU2V0dXAgdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBJRCBpcyBwYXNzZWQuXHJcbiAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAvLyBSZXR1cm4gdGhlIGdyb3VwJ3Mgc3BhdGlhbCBvcmllbnRhdGlvbiBpZiBubyBwYXJhbWV0ZXJzIGFyZSBwYXNzZWQuXHJcbiAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBzZWxmLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5fb3JpZW50YXRpb247XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGFuZ2UgdGhlIHNwYXRpYWwgb3JpZW50YXRpb24gb2Ygb25lIG9yIGFsbCBzb3VuZHMgaW4gZ3JvdXAuXHJcbiAgICB2YXIgaWRzID0gc2VsZi5fZ2V0U291bmRJZHMoaWQpO1xyXG4gICAgZm9yICh2YXIgaT0wOyBpPGlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAvLyBHZXQgdGhlIHNvdW5kLlxyXG4gICAgICB2YXIgc291bmQgPSBzZWxmLl9zb3VuZEJ5SWQoaWRzW2ldKTtcclxuXHJcbiAgICAgIGlmIChzb3VuZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgIHNvdW5kLl9vcmllbnRhdGlvbiA9IFt4LCB5LCB6XTtcclxuXHJcbiAgICAgICAgICBpZiAoc291bmQuX25vZGUpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYSBwYW5uZXIgc2V0dXAgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm90LlxyXG4gICAgICAgICAgICBpZiAoIXNvdW5kLl9wYW5uZXIpIHtcclxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXHJcbiAgICAgICAgICAgICAgaWYgKCFzb3VuZC5fcG9zKSB7XHJcbiAgICAgICAgICAgICAgICBzb3VuZC5fcG9zID0gc2VsZi5fcG9zIHx8IFswLCAwLCAtMC41XTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHNldHVwUGFubmVyKHNvdW5kLCAnc3BhdGlhbCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHgsIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25ZLnNldFZhbHVlQXRUaW1lKHksIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25aLnNldFZhbHVlQXRUaW1lKHosIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oeCwgeSwgeik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxmLl9lbWl0KCdvcmllbnRhdGlvbicsIHNvdW5kLl9pZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBzb3VuZC5fb3JpZW50YXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0L3NldCB0aGUgcGFubmVyIG5vZGUncyBhdHRyaWJ1dGVzIGZvciBhIHNvdW5kIG9yIGdyb3VwIG9mIHNvdW5kcy5cclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gb3B0aW9uYWxsIHRha2UgMCwgMSBvciAyIGFyZ3VtZW50cy5cclxuICAgKiAgIHBhbm5lckF0dHIoKSAtPiBSZXR1cm5zIHRoZSBncm91cCdzIHZhbHVlcy5cclxuICAgKiAgIHBhbm5lckF0dHIoaWQpIC0+IFJldHVybnMgdGhlIHNvdW5kIGlkJ3MgdmFsdWVzLlxyXG4gICAqICAgcGFubmVyQXR0cihvKSAtPiBTZXQncyB0aGUgdmFsdWVzIG9mIGFsbCBzb3VuZHMgaW4gdGhpcyBIb3dsIGdyb3VwLlxyXG4gICAqICAgcGFubmVyQXR0cihvLCBpZCkgLT4gU2V0J3MgdGhlIHZhbHVlcyBvZiBwYXNzZWQgc291bmQgaWQuXHJcbiAgICpcclxuICAgKiAgIEF0dHJpYnV0ZXM6XHJcbiAgICogICAgIGNvbmVJbm5lckFuZ2xlIC0gKDM2MCBieSBkZWZhdWx0KSBBIHBhcmFtZXRlciBmb3IgZGlyZWN0aW9uYWwgYXVkaW8gc291cmNlcywgdGhpcyBpcyBhbiBhbmdsZSwgaW4gZGVncmVlcyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICBpbnNpZGUgb2Ygd2hpY2ggdGhlcmUgd2lsbCBiZSBubyB2b2x1bWUgcmVkdWN0aW9uLlxyXG4gICAqICAgICBjb25lT3V0ZXJBbmdsZSAtICgzNjAgYnkgZGVmYXVsdCkgQSBwYXJhbWV0ZXIgZm9yIGRpcmVjdGlvbmFsIGF1ZGlvIHNvdXJjZXMsIHRoaXMgaXMgYW4gYW5nbGUsIGluIGRlZ3JlZXMsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgb3V0c2lkZSBvZiB3aGljaCB0aGUgdm9sdW1lIHdpbGwgYmUgcmVkdWNlZCB0byBhIGNvbnN0YW50IHZhbHVlIG9mIGBjb25lT3V0ZXJHYWluYC5cclxuICAgKiAgICAgY29uZU91dGVyR2FpbiAtICgwIGJ5IGRlZmF1bHQpIEEgcGFyYW1ldGVyIGZvciBkaXJlY3Rpb25hbCBhdWRpbyBzb3VyY2VzLCB0aGlzIGlzIHRoZSBnYWluIG91dHNpZGUgb2YgdGhlXHJcbiAgICogICAgICAgICAgICAgICAgICAgICBgY29uZU91dGVyQW5nbGVgLiBJdCBpcyBhIGxpbmVhciB2YWx1ZSBpbiB0aGUgcmFuZ2UgYFswLCAxXWAuXHJcbiAgICogICAgIGRpc3RhbmNlTW9kZWwgLSAoJ2ludmVyc2UnIGJ5IGRlZmF1bHQpIERldGVybWluZXMgYWxnb3JpdGhtIHVzZWQgdG8gcmVkdWNlIHZvbHVtZSBhcyBhdWRpbyBtb3ZlcyBhd2F5IGZyb21cclxuICAgKiAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLiBDYW4gYmUgYGxpbmVhcmAsIGBpbnZlcnNlYCBvciBgZXhwb25lbnRpYWwuXHJcbiAgICogICAgIG1heERpc3RhbmNlIC0gKDEwMDAwIGJ5IGRlZmF1bHQpIFRoZSBtYXhpbXVtIGRpc3RhbmNlIGJldHdlZW4gc291cmNlIGFuZCBsaXN0ZW5lciwgYWZ0ZXIgd2hpY2ggdGhlIHZvbHVtZVxyXG4gICAqICAgICAgICAgICAgICAgICAgIHdpbGwgbm90IGJlIHJlZHVjZWQgYW55IGZ1cnRoZXIuXHJcbiAgICogICAgIHJlZkRpc3RhbmNlIC0gKDEgYnkgZGVmYXVsdCkgQSByZWZlcmVuY2UgZGlzdGFuY2UgZm9yIHJlZHVjaW5nIHZvbHVtZSBhcyBzb3VyY2UgbW92ZXMgZnVydGhlciBmcm9tIHRoZSBsaXN0ZW5lci5cclxuICAgKiAgICAgICAgICAgICAgICAgICBUaGlzIGlzIHNpbXBseSBhIHZhcmlhYmxlIG9mIHRoZSBkaXN0YW5jZSBtb2RlbCBhbmQgaGFzIGEgZGlmZmVyZW50IGVmZmVjdCBkZXBlbmRpbmcgb24gd2hpY2ggbW9kZWxcclxuICAgKiAgICAgICAgICAgICAgICAgICBpcyB1c2VkIGFuZCB0aGUgc2NhbGUgb2YgeW91ciBjb29yZGluYXRlcy4gR2VuZXJhbGx5LCB2b2x1bWUgd2lsbCBiZSBlcXVhbCB0byAxIGF0IHRoaXMgZGlzdGFuY2UuXHJcbiAgICogICAgIHJvbGxvZmZGYWN0b3IgLSAoMSBieSBkZWZhdWx0KSBIb3cgcXVpY2tseSB0aGUgdm9sdW1lIHJlZHVjZXMgYXMgc291cmNlIG1vdmVzIGZyb20gbGlzdGVuZXIuIFRoaXMgaXMgc2ltcGx5IGFcclxuICAgKiAgICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlIG9mIHRoZSBkaXN0YW5jZSBtb2RlbCBhbmQgY2FuIGJlIGluIHRoZSByYW5nZSBvZiBgWzAsIDFdYCB3aXRoIGBsaW5lYXJgIGFuZCBgWzAsIFx1MjIxRV1gXHJcbiAgICogICAgICAgICAgICAgICAgICAgICB3aXRoIGBpbnZlcnNlYCBhbmQgYGV4cG9uZW50aWFsYC5cclxuICAgKiAgICAgcGFubmluZ01vZGVsIC0gKCdIUlRGJyBieSBkZWZhdWx0KSBEZXRlcm1pbmVzIHdoaWNoIHNwYXRpYWxpemF0aW9uIGFsZ29yaXRobSBpcyB1c2VkIHRvIHBvc2l0aW9uIGF1ZGlvLlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgQ2FuIGJlIGBIUlRGYCBvciBgZXF1YWxwb3dlcmAuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtIb3dsL09iamVjdH0gUmV0dXJucyBzZWxmIG9yIGN1cnJlbnQgcGFubmVyIGF0dHJpYnV0ZXMuXHJcbiAgICovXHJcbiAgSG93bC5wcm90b3R5cGUucGFubmVyQXR0ciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICB2YXIgbywgaWQsIHNvdW5kO1xyXG5cclxuICAgIC8vIFN0b3AgcmlnaHQgaGVyZSBpZiBub3QgdXNpbmcgV2ViIEF1ZGlvLlxyXG4gICAgaWYgKCFzZWxmLl93ZWJBdWRpbykge1xyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgdGhlIHZhbHVlcyBiYXNlZCBvbiBhcmd1bWVudHMuXHJcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgLy8gUmV0dXJuIHRoZSBncm91cCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxyXG4gICAgICByZXR1cm4gc2VsZi5fcGFubmVyQXR0cjtcclxuICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIG8gPSBhcmdzWzBdO1xyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGdyb3UncyBwYW5uZXIgYXR0cmlidXRlIHZhbHVlcy5cclxuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgaWYgKCFvLnBhbm5lckF0dHIpIHtcclxuICAgICAgICAgICAgby5wYW5uZXJBdHRyID0ge1xyXG4gICAgICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiBvLmNvbmVJbm5lckFuZ2xlLFxyXG4gICAgICAgICAgICAgIGNvbmVPdXRlckFuZ2xlOiBvLmNvbmVPdXRlckFuZ2xlLFxyXG4gICAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IG8uY29uZU91dGVyR2FpbixcclxuICAgICAgICAgICAgICBkaXN0YW5jZU1vZGVsOiBvLmRpc3RhbmNlTW9kZWwsXHJcbiAgICAgICAgICAgICAgbWF4RGlzdGFuY2U6IG8ubWF4RGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgcmVmRGlzdGFuY2U6IG8ucmVmRGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgcm9sbG9mZkZhY3Rvcjogby5yb2xsb2ZmRmFjdG9yLFxyXG4gICAgICAgICAgICAgIHBhbm5pbmdNb2RlbDogby5wYW5uaW5nTW9kZWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxmLl9wYW5uZXJBdHRyID0ge1xyXG4gICAgICAgICAgICBjb25lSW5uZXJBbmdsZTogdHlwZW9mIG8ucGFubmVyQXR0ci5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZUlubmVyQW5nbGUgOiBzZWxmLl9jb25lSW5uZXJBbmdsZSxcclxuICAgICAgICAgICAgY29uZU91dGVyQW5nbGU6IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5wYW5uZXJBdHRyLmNvbmVPdXRlckFuZ2xlIDogc2VsZi5fY29uZU91dGVyQW5nbGUsXHJcbiAgICAgICAgICAgIGNvbmVPdXRlckdhaW46IHR5cGVvZiBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuY29uZU91dGVyR2FpbiA6IHNlbGYuX2NvbmVPdXRlckdhaW4sXHJcbiAgICAgICAgICAgIGRpc3RhbmNlTW9kZWw6IHR5cGVvZiBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIuZGlzdGFuY2VNb2RlbCA6IHNlbGYuX2Rpc3RhbmNlTW9kZWwsXHJcbiAgICAgICAgICAgIG1heERpc3RhbmNlOiB0eXBlb2Ygby5wYW5uZXJBdHRyLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5tYXhEaXN0YW5jZSA6IHNlbGYuX21heERpc3RhbmNlLFxyXG4gICAgICAgICAgICByZWZEaXN0YW5jZTogdHlwZW9mIG8ucGFubmVyQXR0ci5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucmVmRGlzdGFuY2UgOiBzZWxmLl9yZWZEaXN0YW5jZSxcclxuICAgICAgICAgICAgcm9sbG9mZkZhY3RvcjogdHlwZW9mIG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucGFubmVyQXR0ci5yb2xsb2ZmRmFjdG9yIDogc2VsZi5fcm9sbG9mZkZhY3RvcixcclxuICAgICAgICAgICAgcGFubmluZ01vZGVsOiB0eXBlb2Ygby5wYW5uZXJBdHRyLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5lckF0dHIucGFubmluZ01vZGVsIDogc2VsZi5fcGFubmluZ01vZGVsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBSZXR1cm4gdGhpcyBzb3VuZCdzIHBhbm5lciBhdHRyaWJ1dGUgdmFsdWVzLlxyXG4gICAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKHBhcnNlSW50KGFyZ3NbMF0sIDEwKSk7XHJcbiAgICAgICAgcmV0dXJuIHNvdW5kID8gc291bmQuX3Bhbm5lckF0dHIgOiBzZWxmLl9wYW5uZXJBdHRyO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgIG8gPSBhcmdzWzBdO1xyXG4gICAgICBpZCA9IHBhcnNlSW50KGFyZ3NbMV0sIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgdGhlIHZhbHVlcyBvZiB0aGUgc3BlY2lmaWVkIHNvdW5kcy5cclxuICAgIHZhciBpZHMgPSBzZWxmLl9nZXRTb3VuZElkcyhpZCk7XHJcbiAgICBmb3IgKHZhciBpPTA7IGk8aWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHNvdW5kID0gc2VsZi5fc291bmRCeUlkKGlkc1tpXSk7XHJcblxyXG4gICAgICBpZiAoc291bmQpIHtcclxuICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IHZhbHVlcyBpbnRvIHRoZSBzb3VuZC5cclxuICAgICAgICB2YXIgcGEgPSBzb3VuZC5fcGFubmVyQXR0cjtcclxuICAgICAgICBwYSA9IHtcclxuICAgICAgICAgIGNvbmVJbm5lckFuZ2xlOiB0eXBlb2Ygby5jb25lSW5uZXJBbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVJbm5lckFuZ2xlIDogcGEuY29uZUlubmVyQW5nbGUsXHJcbiAgICAgICAgICBjb25lT3V0ZXJBbmdsZTogdHlwZW9mIG8uY29uZU91dGVyQW5nbGUgIT09ICd1bmRlZmluZWQnID8gby5jb25lT3V0ZXJBbmdsZSA6IHBhLmNvbmVPdXRlckFuZ2xlLFxyXG4gICAgICAgICAgY29uZU91dGVyR2FpbjogdHlwZW9mIG8uY29uZU91dGVyR2FpbiAhPT0gJ3VuZGVmaW5lZCcgPyBvLmNvbmVPdXRlckdhaW4gOiBwYS5jb25lT3V0ZXJHYWluLFxyXG4gICAgICAgICAgZGlzdGFuY2VNb2RlbDogdHlwZW9mIG8uZGlzdGFuY2VNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLmRpc3RhbmNlTW9kZWwgOiBwYS5kaXN0YW5jZU1vZGVsLFxyXG4gICAgICAgICAgbWF4RGlzdGFuY2U6IHR5cGVvZiBvLm1heERpc3RhbmNlICE9PSAndW5kZWZpbmVkJyA/IG8ubWF4RGlzdGFuY2UgOiBwYS5tYXhEaXN0YW5jZSxcclxuICAgICAgICAgIHJlZkRpc3RhbmNlOiB0eXBlb2Ygby5yZWZEaXN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgPyBvLnJlZkRpc3RhbmNlIDogcGEucmVmRGlzdGFuY2UsXHJcbiAgICAgICAgICByb2xsb2ZmRmFjdG9yOiB0eXBlb2Ygby5yb2xsb2ZmRmFjdG9yICE9PSAndW5kZWZpbmVkJyA/IG8ucm9sbG9mZkZhY3RvciA6IHBhLnJvbGxvZmZGYWN0b3IsXHJcbiAgICAgICAgICBwYW5uaW5nTW9kZWw6IHR5cGVvZiBvLnBhbm5pbmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcgPyBvLnBhbm5pbmdNb2RlbCA6IHBhLnBhbm5pbmdNb2RlbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYW5uZXIgbm9kZSBpZiBvbmUgZG9lc24ndCBhbHJlYWR5IGV4aXN0LlxyXG4gICAgICAgIHZhciBwYW5uZXIgPSBzb3VuZC5fcGFubmVyO1xyXG4gICAgICAgIGlmICghcGFubmVyKSB7XHJcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHBvc2l0aW9uIHRvIHNldHVwIHRoZSBub2RlIHdpdGguXHJcbiAgICAgICAgICBpZiAoIXNvdW5kLl9wb3MpIHtcclxuICAgICAgICAgICAgc291bmQuX3BvcyA9IHNlbGYuX3BvcyB8fCBbMCwgMCwgLTAuNV07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBhbm5lciBub2RlLlxyXG4gICAgICAgICAgc2V0dXBQYW5uZXIoc291bmQsICdzcGF0aWFsJyk7XHJcbiAgICAgICAgICBwYW5uZXIgPSBzb3VuZC5fcGFubmVyXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHBhbm5lciB2YWx1ZXMgb3IgY3JlYXRlIGEgbmV3IHBhbm5lciBpZiBub25lIGV4aXN0cy5cclxuICAgICAgICBwYW5uZXIuY29uZUlubmVyQW5nbGUgPSBwYS5jb25lSW5uZXJBbmdsZTtcclxuICAgICAgICBwYW5uZXIuY29uZU91dGVyQW5nbGUgPSBwYS5jb25lT3V0ZXJBbmdsZTtcclxuICAgICAgICBwYW5uZXIuY29uZU91dGVyR2FpbiA9IHBhLmNvbmVPdXRlckdhaW47XHJcbiAgICAgICAgcGFubmVyLmRpc3RhbmNlTW9kZWwgPSBwYS5kaXN0YW5jZU1vZGVsO1xyXG4gICAgICAgIHBhbm5lci5tYXhEaXN0YW5jZSA9IHBhLm1heERpc3RhbmNlO1xyXG4gICAgICAgIHBhbm5lci5yZWZEaXN0YW5jZSA9IHBhLnJlZkRpc3RhbmNlO1xyXG4gICAgICAgIHBhbm5lci5yb2xsb2ZmRmFjdG9yID0gcGEucm9sbG9mZkZhY3RvcjtcclxuICAgICAgICBwYW5uZXIucGFubmluZ01vZGVsID0gcGEucGFubmluZ01vZGVsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfTtcclxuXHJcbiAgLyoqIFNpbmdsZSBTb3VuZCBNZXRob2RzICoqL1xyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBuZXcgcHJvcGVydGllcyB0byB0aGUgY29yZSBTb3VuZCBpbml0LlxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBfc3VwZXIgQ29yZSBTb3VuZCBpbml0IG1ldGhvZC5cclxuICAgKiBAcmV0dXJuIHtTb3VuZH1cclxuICAgKi9cclxuICBTb3VuZC5wcm90b3R5cGUuaW5pdCA9IChmdW5jdGlvbihfc3VwZXIpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICB2YXIgcGFyZW50ID0gc2VsZi5fcGFyZW50O1xyXG5cclxuICAgICAgLy8gU2V0dXAgdXNlci1kZWZpbmVkIGRlZmF1bHQgcHJvcGVydGllcy5cclxuICAgICAgc2VsZi5fb3JpZW50YXRpb24gPSBwYXJlbnQuX29yaWVudGF0aW9uO1xyXG4gICAgICBzZWxmLl9zdGVyZW8gPSBwYXJlbnQuX3N0ZXJlbztcclxuICAgICAgc2VsZi5fcG9zID0gcGFyZW50Ll9wb3M7XHJcbiAgICAgIHNlbGYuX3Bhbm5lckF0dHIgPSBwYXJlbnQuX3Bhbm5lckF0dHI7XHJcblxyXG4gICAgICAvLyBDb21wbGV0ZSBpbml0aWxpemF0aW9uIHdpdGggaG93bGVyLmpzIGNvcmUgU291bmQncyBpbml0IGZ1bmN0aW9uLlxyXG4gICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgIC8vIElmIGEgc3RlcmVvIG9yIHBvc2l0aW9uIHdhcyBzcGVjaWZpZWQsIHNldCBpdCB1cC5cclxuICAgICAgaWYgKHNlbGYuX3N0ZXJlbykge1xyXG4gICAgICAgIHBhcmVudC5zdGVyZW8oc2VsZi5fc3RlcmVvKTtcclxuICAgICAgfSBlbHNlIGlmIChzZWxmLl9wb3MpIHtcclxuICAgICAgICBwYXJlbnQucG9zKHNlbGYuX3Bvc1swXSwgc2VsZi5fcG9zWzFdLCBzZWxmLl9wb3NbMl0sIHNlbGYuX2lkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9KShTb3VuZC5wcm90b3R5cGUuaW5pdCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIE92ZXJyaWRlIHRoZSBTb3VuZC5yZXNldCBtZXRob2QgdG8gY2xlYW4gdXAgcHJvcGVydGllcyBmcm9tIHRoZSBzcGF0aWFsIHBsdWdpbi5cclxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gX3N1cGVyIFNvdW5kIHJlc2V0IG1ldGhvZC5cclxuICAgKiBAcmV0dXJuIHtTb3VuZH1cclxuICAgKi9cclxuICBTb3VuZC5wcm90b3R5cGUucmVzZXQgPSAoZnVuY3Rpb24oX3N1cGVyKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdmFyIHBhcmVudCA9IHNlbGYuX3BhcmVudDtcclxuXHJcbiAgICAgIC8vIFJlc2V0IGFsbCBzcGF0aWFsIHBsdWdpbiBwcm9wZXJ0aWVzIG9uIHRoaXMgc291bmQuXHJcbiAgICAgIHNlbGYuX29yaWVudGF0aW9uID0gcGFyZW50Ll9vcmllbnRhdGlvbjtcclxuICAgICAgc2VsZi5fc3RlcmVvID0gcGFyZW50Ll9zdGVyZW87XHJcbiAgICAgIHNlbGYuX3BvcyA9IHBhcmVudC5fcG9zO1xyXG4gICAgICBzZWxmLl9wYW5uZXJBdHRyID0gcGFyZW50Ll9wYW5uZXJBdHRyO1xyXG5cclxuICAgICAgLy8gSWYgYSBzdGVyZW8gb3IgcG9zaXRpb24gd2FzIHNwZWNpZmllZCwgc2V0IGl0IHVwLlxyXG4gICAgICBpZiAoc2VsZi5fc3RlcmVvKSB7XHJcbiAgICAgICAgcGFyZW50LnN0ZXJlbyhzZWxmLl9zdGVyZW8pO1xyXG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bvcykge1xyXG4gICAgICAgIHBhcmVudC5wb3Moc2VsZi5fcG9zWzBdLCBzZWxmLl9wb3NbMV0sIHNlbGYuX3Bvc1syXSwgc2VsZi5faWQpO1xyXG4gICAgICB9IGVsc2UgaWYgKHNlbGYuX3Bhbm5lcikge1xyXG4gICAgICAgIC8vIERpc2Nvbm5lY3QgdGhlIHBhbm5lci5cclxuICAgICAgICBzZWxmLl9wYW5uZXIuZGlzY29ubmVjdCgwKTtcclxuICAgICAgICBzZWxmLl9wYW5uZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgcGFyZW50Ll9yZWZyZXNoQnVmZmVyKHNlbGYpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb21wbGV0ZSByZXNldHRpbmcgb2YgdGhlIHNvdW5kLlxyXG4gICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcyk7XHJcbiAgICB9O1xyXG4gIH0pKFNvdW5kLnByb3RvdHlwZS5yZXNldCk7XHJcblxyXG4gIC8qKiBIZWxwZXIgTWV0aG9kcyAqKi9cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBuZXcgcGFubmVyIG5vZGUgYW5kIHNhdmUgaXQgb24gdGhlIHNvdW5kLlxyXG4gICAqIEBwYXJhbSAge1NvdW5kfSBzb3VuZCBTcGVjaWZpYyBzb3VuZCB0byBzZXR1cCBwYW5uaW5nIG9uLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFR5cGUgb2YgcGFubmVyIHRvIGNyZWF0ZTogJ3N0ZXJlbycgb3IgJ3NwYXRpYWwnLlxyXG4gICAqL1xyXG4gIHZhciBzZXR1cFBhbm5lciA9IGZ1bmN0aW9uKHNvdW5kLCB0eXBlKSB7XHJcbiAgICB0eXBlID0gdHlwZSB8fCAnc3BhdGlhbCc7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBuZXcgcGFubmVyIG5vZGUuXHJcbiAgICBpZiAodHlwZSA9PT0gJ3NwYXRpYWwnKSB7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVBhbm5lcigpO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLmNvbmVJbm5lckFuZ2xlID0gc291bmQuX3Bhbm5lckF0dHIuY29uZUlubmVyQW5nbGU7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIuY29uZU91dGVyQW5nbGUgPSBzb3VuZC5fcGFubmVyQXR0ci5jb25lT3V0ZXJBbmdsZTtcclxuICAgICAgc291bmQuX3Bhbm5lci5jb25lT3V0ZXJHYWluID0gc291bmQuX3Bhbm5lckF0dHIuY29uZU91dGVyR2FpbjtcclxuICAgICAgc291bmQuX3Bhbm5lci5kaXN0YW5jZU1vZGVsID0gc291bmQuX3Bhbm5lckF0dHIuZGlzdGFuY2VNb2RlbDtcclxuICAgICAgc291bmQuX3Bhbm5lci5tYXhEaXN0YW5jZSA9IHNvdW5kLl9wYW5uZXJBdHRyLm1heERpc3RhbmNlO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLnJlZkRpc3RhbmNlID0gc291bmQuX3Bhbm5lckF0dHIucmVmRGlzdGFuY2U7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIucm9sbG9mZkZhY3RvciA9IHNvdW5kLl9wYW5uZXJBdHRyLnJvbGxvZmZGYWN0b3I7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIucGFubmluZ01vZGVsID0gc291bmQuX3Bhbm5lckF0dHIucGFubmluZ01vZGVsO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWC5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzBdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWS5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLnBvc2l0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fcG9zWzJdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLnNldFBvc2l0aW9uKHNvdW5kLl9wb3NbMF0sIHNvdW5kLl9wb3NbMV0sIHNvdW5kLl9wb3NbMl0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIub3JpZW50YXRpb25YLnNldFZhbHVlQXRUaW1lKHNvdW5kLl9vcmllbnRhdGlvblswXSwgSG93bGVyLmN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgc291bmQuX3Bhbm5lci5vcmllbnRhdGlvblkuc2V0VmFsdWVBdFRpbWUoc291bmQuX29yaWVudGF0aW9uWzFdLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgICAgICBzb3VuZC5fcGFubmVyLm9yaWVudGF0aW9uWi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fb3JpZW50YXRpb25bMl0sIEhvd2xlci5jdHguY3VycmVudFRpbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdW5kLl9wYW5uZXIuc2V0T3JpZW50YXRpb24oc291bmQuX29yaWVudGF0aW9uWzBdLCBzb3VuZC5fb3JpZW50YXRpb25bMV0sIHNvdW5kLl9vcmllbnRhdGlvblsyXSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNvdW5kLl9wYW5uZXIgPSBIb3dsZXIuY3R4LmNyZWF0ZVN0ZXJlb1Bhbm5lcigpO1xyXG4gICAgICBzb3VuZC5fcGFubmVyLnBhbi5zZXRWYWx1ZUF0VGltZShzb3VuZC5fc3RlcmVvLCBIb3dsZXIuY3R4LmN1cnJlbnRUaW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBzb3VuZC5fcGFubmVyLmNvbm5lY3Qoc291bmQuX25vZGUpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbnMuXHJcbiAgICBpZiAoIXNvdW5kLl9wYXVzZWQpIHtcclxuICAgICAgc291bmQuX3BhcmVudC5wYXVzZShzb3VuZC5faWQsIHRydWUpLnBsYXkoc291bmQuX2lkLCB0cnVlKTtcclxuICAgIH1cclxuICB9O1xyXG59KSgpO1xyXG4iLCAiJ3VzZSBzdHJpY3QnO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XHJcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XHJcblxyXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xyXG5cclxuICAgIGRpbSA9IGRpbSB8fCAyO1xyXG5cclxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcclxuICAgICAgICBvdXRlckxlbiA9IGhhc0hvbGVzID8gaG9sZUluZGljZXNbMF0gKiBkaW0gOiBkYXRhLmxlbmd0aCxcclxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxyXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xyXG5cclxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcclxuXHJcbiAgICB2YXIgbWluWCwgbWluWSwgbWF4WCwgbWF4WSwgeCwgeSwgaW52U2l6ZTtcclxuXHJcbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XHJcblxyXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XHJcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xyXG4gICAgICAgIG1pblggPSBtYXhYID0gZGF0YVswXTtcclxuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSBkaW07IGkgPCBvdXRlckxlbjsgaSArPSBkaW0pIHtcclxuICAgICAgICAgICAgeCA9IGRhdGFbaV07XHJcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDtcclxuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcclxuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcclxuICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1pblgsIG1pblkgYW5kIGludlNpemUgYXJlIGxhdGVyIHVzZWQgdG8gdHJhbnNmb3JtIGNvb3JkcyBpbnRvIGludGVnZXJzIGZvciB6LW9yZGVyIGNhbGN1bGF0aW9uXHJcbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XHJcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAzMjc2NyAvIGludlNpemUgOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcclxuXHJcbiAgICByZXR1cm4gdHJpYW5nbGVzO1xyXG59XHJcblxyXG4vLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXJcclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xyXG4gICAgdmFyIGksIGxhc3Q7XHJcblxyXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XHJcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xyXG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XHJcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGFzdDtcclxufVxyXG5cclxuLy8gZWxpbWluYXRlIGNvbGluZWFyIG9yIGR1cGxpY2F0ZSBwb2ludHNcclxuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcclxuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcclxuICAgIGlmICghZW5kKSBlbmQgPSBzdGFydDtcclxuXHJcbiAgICB2YXIgcCA9IHN0YXJ0LFxyXG4gICAgICAgIGFnYWluO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIGFnYWluID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcclxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcclxuICAgICAgICAgICAgcCA9IGVuZCA9IHAucHJldjtcclxuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XHJcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcCA9IHAubmV4dDtcclxuICAgICAgICB9XHJcbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xyXG5cclxuICAgIHJldHVybiBlbmQ7XHJcbn1cclxuXHJcbi8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KVxyXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xyXG4gICAgaWYgKCFlYXIpIHJldHVybjtcclxuXHJcbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXHJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xyXG5cclxuICAgIHZhciBzdG9wID0gZWFyLFxyXG4gICAgICAgIHByZXYsIG5leHQ7XHJcblxyXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXHJcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XHJcbiAgICAgICAgcHJldiA9IGVhci5wcmV2O1xyXG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcclxuXHJcbiAgICAgICAgaWYgKGludlNpemUgPyBpc0Vhckhhc2hlZChlYXIsIG1pblgsIG1pblksIGludlNpemUpIDogaXNFYXIoZWFyKSkge1xyXG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0gfCAwKTtcclxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0gfCAwKTtcclxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltIHwgMCk7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVOb2RlKGVhcik7XHJcblxyXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXHJcbiAgICAgICAgICAgIGVhciA9IG5leHQubmV4dDtcclxuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcclxuXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWFyID0gbmV4dDtcclxuXHJcbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcclxuICAgICAgICBpZiAoZWFyID09PSBzdG9wKSB7XHJcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXHJcbiAgICAgICAgICAgIGlmICghcGFzcykge1xyXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGZpbHRlclBvaW50cyhlYXIpLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltKTtcclxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAyKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy8gY2hlY2sgd2hldGhlciBhIHBvbHlnb24gbm9kZSBmb3JtcyBhIHZhbGlkIGVhciB3aXRoIGFkamFjZW50IG5vZGVzXHJcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xyXG4gICAgdmFyIGEgPSBlYXIucHJldixcclxuICAgICAgICBiID0gZWFyLFxyXG4gICAgICAgIGMgPSBlYXIubmV4dDtcclxuXHJcbiAgICBpZiAoYXJlYShhLCBiLCBjKSA+PSAwKSByZXR1cm4gZmFsc2U7IC8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXHJcblxyXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcclxuICAgIHZhciBheCA9IGEueCwgYnggPSBiLngsIGN4ID0gYy54LCBheSA9IGEueSwgYnkgPSBiLnksIGN5ID0gYy55O1xyXG5cclxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXHJcbiAgICB2YXIgeDAgPSBheCA8IGJ4ID8gKGF4IDwgY3ggPyBheCA6IGN4KSA6IChieCA8IGN4ID8gYnggOiBjeCksXHJcbiAgICAgICAgeTAgPSBheSA8IGJ5ID8gKGF5IDwgY3kgPyBheSA6IGN5KSA6IChieSA8IGN5ID8gYnkgOiBjeSksXHJcbiAgICAgICAgeDEgPSBheCA+IGJ4ID8gKGF4ID4gY3ggPyBheCA6IGN4KSA6IChieCA+IGN4ID8gYnggOiBjeCksXHJcbiAgICAgICAgeTEgPSBheSA+IGJ5ID8gKGF5ID4gY3kgPyBheSA6IGN5KSA6IChieSA+IGN5ID8gYnkgOiBjeSk7XHJcblxyXG4gICAgdmFyIHAgPSBjLm5leHQ7XHJcbiAgICB3aGlsZSAocCAhPT0gYSkge1xyXG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiZcclxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHAueCwgcC55KSAmJlxyXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XHJcbiAgICB2YXIgYSA9IGVhci5wcmV2LFxyXG4gICAgICAgIGIgPSBlYXIsXHJcbiAgICAgICAgYyA9IGVhci5uZXh0O1xyXG5cclxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcclxuXHJcbiAgICB2YXIgYXggPSBhLngsIGJ4ID0gYi54LCBjeCA9IGMueCwgYXkgPSBhLnksIGJ5ID0gYi55LCBjeSA9IGMueTtcclxuXHJcbiAgICAvLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxyXG4gICAgdmFyIHgwID0gYXggPCBieCA/IChheCA8IGN4ID8gYXggOiBjeCkgOiAoYnggPCBjeCA/IGJ4IDogY3gpLFxyXG4gICAgICAgIHkwID0gYXkgPCBieSA/IChheSA8IGN5ID8gYXkgOiBjeSkgOiAoYnkgPCBjeSA/IGJ5IDogY3kpLFxyXG4gICAgICAgIHgxID0gYXggPiBieCA/IChheCA+IGN4ID8gYXggOiBjeCkgOiAoYnggPiBjeCA/IGJ4IDogY3gpLFxyXG4gICAgICAgIHkxID0gYXkgPiBieSA/IChheSA+IGN5ID8gYXkgOiBjeSkgOiAoYnkgPiBjeSA/IGJ5IDogY3kpO1xyXG5cclxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XHJcbiAgICB2YXIgbWluWiA9IHpPcmRlcih4MCwgeTAsIG1pblgsIG1pblksIGludlNpemUpLFxyXG4gICAgICAgIG1heFogPSB6T3JkZXIoeDEsIHkxLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcclxuXHJcbiAgICB2YXIgcCA9IGVhci5wcmV2WixcclxuICAgICAgICBuID0gZWFyLm5leHRaO1xyXG5cclxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblogJiYgbiAmJiBuLnogPD0gbWF4Wikge1xyXG4gICAgICAgIGlmIChwLnggPj0geDAgJiYgcC54IDw9IHgxICYmIHAueSA+PSB5MCAmJiBwLnkgPD0geTEgJiYgcCAhPT0gYSAmJiBwICE9PSBjICYmXHJcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBwLngsIHAueSkgJiYgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHAgPSBwLnByZXZaO1xyXG5cclxuICAgICAgICBpZiAobi54ID49IHgwICYmIG4ueCA8PSB4MSAmJiBuLnkgPj0geTAgJiYgbi55IDw9IHkxICYmIG4gIT09IGEgJiYgbiAhPT0gYyAmJlxyXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgbi54LCBuLnkpICYmIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBuID0gbi5uZXh0WjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxyXG4gICAgd2hpbGUgKHAgJiYgcC56ID49IG1pblopIHtcclxuICAgICAgICBpZiAocC54ID49IHgwICYmIHAueCA8PSB4MSAmJiBwLnkgPj0geTAgJiYgcC55IDw9IHkxICYmIHAgIT09IGEgJiYgcCAhPT0gYyAmJlxyXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgcC54LCBwLnkpICYmIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBwID0gcC5wcmV2WjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxyXG4gICAgd2hpbGUgKG4gJiYgbi56IDw9IG1heFopIHtcclxuICAgICAgICBpZiAobi54ID49IHgwICYmIG4ueCA8PSB4MSAmJiBuLnkgPj0geTAgJiYgbi55IDw9IHkxICYmIG4gIT09IGEgJiYgbiAhPT0gYyAmJlxyXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYXgsIGF5LCBieCwgYnksIGN4LCBjeSwgbi54LCBuLnkpICYmIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBuID0gbi5uZXh0WjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcclxuZnVuY3Rpb24gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhzdGFydCwgdHJpYW5nbGVzLCBkaW0pIHtcclxuICAgIHZhciBwID0gc3RhcnQ7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgdmFyIGEgPSBwLnByZXYsXHJcbiAgICAgICAgICAgIGIgPSBwLm5leHQubmV4dDtcclxuXHJcbiAgICAgICAgaWYgKCFlcXVhbHMoYSwgYikgJiYgaW50ZXJzZWN0cyhhLCBwLCBwLm5leHQsIGIpICYmIGxvY2FsbHlJbnNpZGUoYSwgYikgJiYgbG9jYWxseUluc2lkZShiLCBhKSkge1xyXG5cclxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltIHwgMCk7XHJcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSB8IDApO1xyXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0gfCAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0d28gbm9kZXMgaW52b2x2ZWRcclxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcclxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xyXG5cclxuICAgICAgICAgICAgcCA9IHN0YXJ0ID0gYjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcclxuXHJcbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKHApO1xyXG59XHJcblxyXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxyXG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcclxuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXHJcbiAgICB2YXIgYSA9IHN0YXJ0O1xyXG4gICAgZG8ge1xyXG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XHJcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xyXG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXHJcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xyXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xyXG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXHJcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDApO1xyXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiID0gYi5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBhID0gYS5uZXh0O1xyXG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xyXG59XHJcblxyXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXHJcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xyXG4gICAgdmFyIHF1ZXVlID0gW10sXHJcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xyXG5cclxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcclxuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xyXG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XHJcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XHJcblxyXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcclxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xyXG4gICAgcmV0dXJuIGEueCAtIGIueDtcclxufVxyXG5cclxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XHJcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XHJcbiAgICB2YXIgYnJpZGdlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcclxuICAgIGlmICghYnJpZGdlKSB7XHJcbiAgICAgICAgcmV0dXJuIG91dGVyTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYnJpZGdlUmV2ZXJzZSA9IHNwbGl0UG9seWdvbihicmlkZ2UsIGhvbGUpO1xyXG5cclxuICAgIC8vIGZpbHRlciBjb2xsaW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xyXG4gICAgZmlsdGVyUG9pbnRzKGJyaWRnZVJldmVyc2UsIGJyaWRnZVJldmVyc2UubmV4dCk7XHJcbiAgICByZXR1cm4gZmlsdGVyUG9pbnRzKGJyaWRnZSwgYnJpZGdlLm5leHQpO1xyXG59XHJcblxyXG4vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uXHJcbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xyXG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXHJcbiAgICAgICAgaHggPSBob2xlLngsXHJcbiAgICAgICAgaHkgPSBob2xlLnksXHJcbiAgICAgICAgcXggPSAtSW5maW5pdHksXHJcbiAgICAgICAgbTtcclxuXHJcbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XHJcbiAgICAvLyBzZWdtZW50J3MgZW5kcG9pbnQgd2l0aCBsZXNzZXIgeCB3aWxsIGJlIHBvdGVudGlhbCBjb25uZWN0aW9uIHBvaW50XHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gcC54ICsgKGh5IC0gcC55KSAqIChwLm5leHQueCAtIHAueCkgLyAocC5uZXh0LnkgLSBwLnkpO1xyXG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcclxuICAgICAgICAgICAgICAgIHF4ID0geDtcclxuICAgICAgICAgICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHJldHVybiBtOyAvLyBob2xlIHRvdWNoZXMgb3V0ZXIgc2VnbWVudDsgcGljayBsZWZ0bW9zdCBlbmRwb2ludFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xyXG5cclxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgLy8gbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgb2YgaG9sZSBwb2ludCwgc2VnbWVudCBpbnRlcnNlY3Rpb24gYW5kIGVuZHBvaW50O1xyXG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XHJcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxyXG5cclxuICAgIHZhciBzdG9wID0gbSxcclxuICAgICAgICBteCA9IG0ueCxcclxuICAgICAgICBteSA9IG0ueSxcclxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcclxuICAgICAgICB0YW47XHJcblxyXG4gICAgcCA9IG07XHJcblxyXG4gICAgZG8ge1xyXG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcclxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcclxuXHJcbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcclxuXHJcbiAgICAgICAgICAgIGlmIChsb2NhbGx5SW5zaWRlKHAsIGhvbGUpICYmXHJcbiAgICAgICAgICAgICAgICAodGFuIDwgdGFuTWluIHx8ICh0YW4gPT09IHRhbk1pbiAmJiAocC54ID4gbS54IHx8IChwLnggPT09IG0ueCAmJiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSkpKSkpIHtcclxuICAgICAgICAgICAgICAgIG0gPSBwO1xyXG4gICAgICAgICAgICAgICAgdGFuTWluID0gdGFuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwID0gcC5uZXh0O1xyXG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XHJcblxyXG4gICAgcmV0dXJuIG07XHJcbn1cclxuXHJcbi8vIHdoZXRoZXIgc2VjdG9yIGluIHZlcnRleCBtIGNvbnRhaW5zIHNlY3RvciBpbiB2ZXJ0ZXggcCBpbiB0aGUgc2FtZSBjb29yZGluYXRlc1xyXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XHJcbiAgICByZXR1cm4gYXJlYShtLnByZXYsIG0sIHAucHJldikgPCAwICYmIGFyZWEocC5uZXh0LCBtLCBtLm5leHQpIDwgMDtcclxufVxyXG5cclxuLy8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlclxyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XHJcbiAgICB2YXIgcCA9IHN0YXJ0O1xyXG4gICAgZG8ge1xyXG4gICAgICAgIGlmIChwLnogPT09IDApIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XHJcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcclxuICAgICAgICBwLm5leHRaID0gcC5uZXh0O1xyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XHJcblxyXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XHJcbiAgICBwLnByZXZaID0gbnVsbDtcclxuXHJcbiAgICBzb3J0TGlua2VkKHApO1xyXG59XHJcblxyXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxyXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxyXG5mdW5jdGlvbiBzb3J0TGlua2VkKGxpc3QpIHtcclxuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcclxuICAgICAgICBpblNpemUgPSAxO1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgICBwID0gbGlzdDtcclxuICAgICAgICBsaXN0ID0gbnVsbDtcclxuICAgICAgICB0YWlsID0gbnVsbDtcclxuICAgICAgICBudW1NZXJnZXMgPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAocCkge1xyXG4gICAgICAgICAgICBudW1NZXJnZXMrKztcclxuICAgICAgICAgICAgcSA9IHA7XHJcbiAgICAgICAgICAgIHBTaXplID0gMDtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBwU2l6ZSsrO1xyXG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKHBTaXplID4gMCB8fCAocVNpemUgPiAwICYmIHEpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUgPSBwO1xyXG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xyXG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xyXG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xyXG4gICAgICAgICAgICAgICAgICAgIHFTaXplLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRhaWwpIHRhaWwubmV4dFogPSBlO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcclxuXHJcbiAgICAgICAgICAgICAgICBlLnByZXZaID0gdGFpbDtcclxuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwID0gcTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xyXG4gICAgICAgIGluU2l6ZSAqPSAyO1xyXG5cclxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xyXG5cclxuICAgIHJldHVybiBsaXN0O1xyXG59XHJcblxyXG4vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBpbnZlcnNlIG9mIHRoZSBsb25nZXIgc2lkZSBvZiBkYXRhIGJib3hcclxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcclxuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcclxuICAgIHggPSAoeCAtIG1pblgpICogaW52U2l6ZSB8IDA7XHJcbiAgICB5ID0gKHkgLSBtaW5ZKSAqIGludlNpemUgfCAwO1xyXG5cclxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XHJcbiAgICB4ID0gKHggfCAoeCA8PCA0KSkgJiAweDBGMEYwRjBGO1xyXG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcclxuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XHJcblxyXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcclxuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XHJcbiAgICB5ID0gKHkgfCAoeSA8PCAyKSkgJiAweDMzMzMzMzMzO1xyXG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcclxuXHJcbiAgICByZXR1cm4geCB8ICh5IDw8IDEpO1xyXG59XHJcblxyXG4vLyBmaW5kIHRoZSBsZWZ0bW9zdCBub2RlIG9mIGEgcG9seWdvbiByaW5nXHJcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XHJcbiAgICB2YXIgcCA9IHN0YXJ0LFxyXG4gICAgICAgIGxlZnRtb3N0ID0gc3RhcnQ7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LnggfHwgKHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSkgbGVmdG1vc3QgPSBwO1xyXG4gICAgICAgIHAgPSBwLm5leHQ7XHJcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XHJcblxyXG4gICAgcmV0dXJuIGxlZnRtb3N0O1xyXG59XHJcblxyXG4vLyBjaGVjayBpZiBhIHBvaW50IGxpZXMgd2l0aGluIGEgY29udmV4IHRyaWFuZ2xlXHJcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcclxuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgPj0gKGF4IC0gcHgpICogKGN5IC0gcHkpICYmXHJcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpID49IChieCAtIHB4KSAqIChheSAtIHB5KSAmJlxyXG4gICAgICAgICAgIChieCAtIHB4KSAqIChjeSAtIHB5KSA+PSAoY3ggLSBweCkgKiAoYnkgLSBweSk7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxyXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xyXG4gICAgcmV0dXJuIGEubmV4dC5pICE9PSBiLmkgJiYgYS5wcmV2LmkgIT09IGIuaSAmJiAhaW50ZXJzZWN0c1BvbHlnb24oYSwgYikgJiYgLy8gZG9uZXMndCBpbnRlcnNlY3Qgb3RoZXIgZWRnZXNcclxuICAgICAgICAgICAobG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpICYmIG1pZGRsZUluc2lkZShhLCBiKSAmJiAvLyBsb2NhbGx5IHZpc2libGVcclxuICAgICAgICAgICAgKGFyZWEoYS5wcmV2LCBhLCBiLnByZXYpIHx8IGFyZWEoYSwgYi5wcmV2LCBiKSkgfHwgLy8gZG9lcyBub3QgY3JlYXRlIG9wcG9zaXRlLWZhY2luZyBzZWN0b3JzXHJcbiAgICAgICAgICAgIGVxdWFscyhhLCBiKSAmJiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA+IDAgJiYgYXJlYShiLnByZXYsIGIsIGIubmV4dCkgPiAwKTsgLy8gc3BlY2lhbCB6ZXJvLWxlbmd0aCBjYXNlXHJcbn1cclxuXHJcbi8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcclxuZnVuY3Rpb24gYXJlYShwLCBxLCByKSB7XHJcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXHJcbmZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcclxuICAgIHJldHVybiBwMS54ID09PSBwMi54ICYmIHAxLnkgPT09IHAyLnk7XHJcbn1cclxuXHJcbi8vIGNoZWNrIGlmIHR3byBzZWdtZW50cyBpbnRlcnNlY3RcclxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xyXG4gICAgdmFyIG8xID0gc2lnbihhcmVhKHAxLCBxMSwgcDIpKTtcclxuICAgIHZhciBvMiA9IHNpZ24oYXJlYShwMSwgcTEsIHEyKSk7XHJcbiAgICB2YXIgbzMgPSBzaWduKGFyZWEocDIsIHEyLCBwMSkpO1xyXG4gICAgdmFyIG80ID0gc2lnbihhcmVhKHAyLCBxMiwgcTEpKTtcclxuXHJcbiAgICBpZiAobzEgIT09IG8yICYmIG8zICE9PSBvNCkgcmV0dXJuIHRydWU7IC8vIGdlbmVyYWwgY2FzZVxyXG5cclxuICAgIGlmIChvMSA9PT0gMCAmJiBvblNlZ21lbnQocDEsIHAyLCBxMSkpIHJldHVybiB0cnVlOyAvLyBwMSwgcTEgYW5kIHAyIGFyZSBjb2xsaW5lYXIgYW5kIHAyIGxpZXMgb24gcDFxMVxyXG4gICAgaWYgKG8yID09PSAwICYmIG9uU2VnbWVudChwMSwgcTIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcTIgYXJlIGNvbGxpbmVhciBhbmQgcTIgbGllcyBvbiBwMXExXHJcbiAgICBpZiAobzMgPT09IDAgJiYgb25TZWdtZW50KHAyLCBwMSwgcTIpKSByZXR1cm4gdHJ1ZTsgLy8gcDIsIHEyIGFuZCBwMSBhcmUgY29sbGluZWFyIGFuZCBwMSBsaWVzIG9uIHAycTJcclxuICAgIGlmIChvNCA9PT0gMCAmJiBvblNlZ21lbnQocDIsIHExLCBxMikpIHJldHVybiB0cnVlOyAvLyBwMiwgcTIgYW5kIHExIGFyZSBjb2xsaW5lYXIgYW5kIHExIGxpZXMgb24gcDJxMlxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gZm9yIGNvbGxpbmVhciBwb2ludHMgcCwgcSwgciwgY2hlY2sgaWYgcG9pbnQgcSBsaWVzIG9uIHNlZ21lbnQgcHJcclxuZnVuY3Rpb24gb25TZWdtZW50KHAsIHEsIHIpIHtcclxuICAgIHJldHVybiBxLnggPD0gTWF0aC5tYXgocC54LCByLngpICYmIHEueCA+PSBNYXRoLm1pbihwLngsIHIueCkgJiYgcS55IDw9IE1hdGgubWF4KHAueSwgci55KSAmJiBxLnkgPj0gTWF0aC5taW4ocC55LCByLnkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaWduKG51bSkge1xyXG4gICAgcmV0dXJuIG51bSA+IDAgPyAxIDogbnVtIDwgMCA/IC0xIDogMDtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHNcclxuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xyXG4gICAgdmFyIHAgPSBhO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcclxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXHJcbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xyXG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XHJcbiAgICAgICAgYXJlYShhLCBiLCBhLm5leHQpID49IDAgJiYgYXJlYShhLCBhLnByZXYsIGIpID49IDAgOlxyXG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcclxufVxyXG5cclxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXHJcbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XHJcbiAgICB2YXIgcCA9IGEsXHJcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXHJcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXHJcbiAgICAgICAgcHkgPSAoYS55ICsgYi55KSAvIDI7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcclxuICAgICAgICAgICAgICAgIChweCA8IChwLm5leHQueCAtIHAueCkgKiAocHkgLSBwLnkpIC8gKHAubmV4dC55IC0gcC55KSArIHAueCkpXHJcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XHJcbiAgICAgICAgcCA9IHAubmV4dDtcclxuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xyXG5cclxuICAgIHJldHVybiBpbnNpZGU7XHJcbn1cclxuXHJcbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcclxuLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nXHJcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XHJcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcclxuICAgICAgICBiMiA9IG5ldyBOb2RlKGIuaSwgYi54LCBiLnkpLFxyXG4gICAgICAgIGFuID0gYS5uZXh0LFxyXG4gICAgICAgIGJwID0gYi5wcmV2O1xyXG5cclxuICAgIGEubmV4dCA9IGI7XHJcbiAgICBiLnByZXYgPSBhO1xyXG5cclxuICAgIGEyLm5leHQgPSBhbjtcclxuICAgIGFuLnByZXYgPSBhMjtcclxuXHJcbiAgICBiMi5uZXh0ID0gYTI7XHJcbiAgICBhMi5wcmV2ID0gYjI7XHJcblxyXG4gICAgYnAubmV4dCA9IGIyO1xyXG4gICAgYjIucHJldiA9IGJwO1xyXG5cclxuICAgIHJldHVybiBiMjtcclxufVxyXG5cclxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcclxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XHJcbiAgICB2YXIgcCA9IG5ldyBOb2RlKGksIHgsIHkpO1xyXG5cclxuICAgIGlmICghbGFzdCkge1xyXG4gICAgICAgIHAucHJldiA9IHA7XHJcbiAgICAgICAgcC5uZXh0ID0gcDtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcclxuICAgICAgICBwLnByZXYgPSBsYXN0O1xyXG4gICAgICAgIGxhc3QubmV4dC5wcmV2ID0gcDtcclxuICAgICAgICBsYXN0Lm5leHQgPSBwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZU5vZGUocCkge1xyXG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XHJcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcclxuXHJcbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XHJcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xyXG4gICAgLy8gdmVydGV4IGluZGV4IGluIGNvb3JkaW5hdGVzIGFycmF5XHJcbiAgICB0aGlzLmkgPSBpO1xyXG5cclxuICAgIC8vIHZlcnRleCBjb29yZGluYXRlc1xyXG4gICAgdGhpcy54ID0geDtcclxuICAgIHRoaXMueSA9IHk7XHJcblxyXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXHJcbiAgICB0aGlzLnByZXYgPSBudWxsO1xyXG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcclxuXHJcbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXHJcbiAgICB0aGlzLnogPSAwO1xyXG5cclxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcclxuICAgIHRoaXMucHJldlogPSBudWxsO1xyXG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XHJcblxyXG4gICAgLy8gaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBpcyBhIHN0ZWluZXIgcG9pbnRcclxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xyXG59XHJcblxyXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xyXG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXHJcbmVhcmN1dC5kZXZpYXRpb24gPSBmdW5jdGlvbiAoZGF0YSwgaG9sZUluZGljZXMsIGRpbSwgdHJpYW5nbGVzKSB7XHJcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XHJcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XHJcblxyXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XHJcbiAgICBpZiAoaGFzSG9sZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XHJcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICBwb2x5Z29uQXJlYSAtPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XHJcbiAgICAgICAgdmFyIGEgPSB0cmlhbmdsZXNbaV0gKiBkaW07XHJcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xyXG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcclxuICAgICAgICB0cmlhbmdsZXNBcmVhICs9IE1hdGguYWJzKFxyXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cclxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcclxuICAgICAgICBNYXRoLmFicygodHJpYW5nbGVzQXJlYSAtIHBvbHlnb25BcmVhKSAvIHBvbHlnb25BcmVhKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSB7XHJcbiAgICB2YXIgc3VtID0gMDtcclxuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcclxuICAgICAgICBzdW0gKz0gKGRhdGFbal0gLSBkYXRhW2ldKSAqIChkYXRhW2kgKyAxXSArIGRhdGFbaiArIDFdKTtcclxuICAgICAgICBqID0gaTtcclxuICAgIH1cclxuICAgIHJldHVybiBzdW07XHJcbn1cclxuXHJcbi8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xyXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXHJcbiAgICAgICAgcmVzdWx0ID0ge3ZlcnRpY2VzOiBbXSwgaG9sZXM6IFtdLCBkaW1lbnNpb25zOiBkaW19LFxyXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcclxuICAgICAgICAgICAgcmVzdWx0LmhvbGVzLnB1c2goaG9sZUluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG4iLCAiZXhwb3J0ICogZnJvbSAnLi84dGh3YWxsLWNhbWVyYS5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vYW5jaG9yLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9jdXJzb3ItdGFyZ2V0LmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi9jdXJzb3IuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2RlYnVnLW9iamVjdC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vZGV2aWNlLW9yaWVudGF0aW9uLWxvb2suanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2Zpbmdlci1jdXJzb3IuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2ZpeGVkLWZvdmVhdGlvbi5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaGFuZC10cmFja2luZy5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaGl0LXRlc3QtbG9jYXRpb24uanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2hvd2xlci1hdWRpby1saXN0ZW5lci5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaG93bGVyLWF1ZGlvLXNvdXJjZS5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vaW1hZ2UtdGV4dHVyZS5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vbW91c2UtbG9vay5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vcGxheWVyLWhlaWdodC5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdGFyZ2V0LWZyYW1lcmF0ZS5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdGVsZXBvcnQuanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3RyYWlsLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi90d28tam9pbnQtaWstc29sdmVyLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi92aWRlby10ZXh0dXJlLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi92ci1tb2RlLWFjdGl2ZS1zd2l0Y2guanMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3BsYW5lLWRldGVjdGlvbi5qcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdnJtLmpzJztcclxuZXhwb3J0ICogZnJvbSAnLi93YXNkLWNvbnRyb2xzLmpzJztcclxuIiwgIi8qKlxyXG4gKiBDb21wb25lbnQgcHJvcGVydHkgdHlwZS5cclxuICovXHJcbmV4cG9ydCB2YXIgVHlwZTtcclxuKGZ1bmN0aW9uIChUeXBlKSB7XHJcbiAgICAvKipcclxuICAgICAqICoqTmF0aXZlKipcclxuICAgICAqXHJcbiAgICAgKiBQcm9wZXJ0eSBvZiBhIG5hdGl2ZSBjb21wb25lbnQuIE11c3Qgbm90IGJlIHVzZWQgaW4gY3VzdG9tIGNvbXBvbmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJOYXRpdmVcIl0gPSAxXSA9IFwiTmF0aXZlXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqQm9vbCoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGNoZWNrYm94LlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYGZhbHNlYCwgdW5sZXNzIG92ZXJyaWRkZW4gYnkgdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiQm9vbFwiXSA9IDJdID0gXCJCb29sXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqSW50Kio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGFuIGludGVnZXIgaW5wdXQgZmllbGQuXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgMGAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIkludFwiXSA9IDRdID0gXCJJbnRcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipGbG9hdCoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIGZsb2F0aW5nIHBvaW50IGlucHV0IGZpZWxkLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYDAuMGAsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGAgcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIkZsb2F0XCJdID0gOF0gPSBcIkZsb2F0XCI7XHJcbiAgICAvKipcclxuICAgICAqICoqU3RyaW5nIC8gVGV4dCoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIHNpbmdsZS1saW5lIHRleHQgaW5wdXQgZmllbGQuXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBhbiBlbXB0eSBzdHJpbmcsIHVubGVzcyBvdmVycmlkZGVuIGJ5IHRoZSBgZGVmYXVsdGBcclxuICAgICAqIHByb3BlcnR5LlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJTdHJpbmdcIl0gPSAxNl0gPSBcIlN0cmluZ1wiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkVudW1lcmF0aW9uKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgZHJvcGRvd24gd2l0aCBnaXZlbiB2YWx1ZXMuIFRoZSBhZGRpdGlvbmFsXHJcbiAgICAgKiBgdmFsdWVzYCBwYXJhbWV0ZXIgd2l0aCBzZWxlY3Rpb24gb3B0aW9ucyBpcyBtYW5kYXRvcnkuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHByb3BlcnR5IHZhbHVlIGlzIHJlc29sdmVkIHRvIGFuICoqaW5kZXgqKiBpbnRvIHRoZSBgdmFsdWVzYCBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIHRoZSBmaXJzdCBlbGVtZW50IGluIGB2YWx1ZXNgLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieVxyXG4gICAgICogdGhlIGBkZWZhdWx0YCBwcm9wZXJ0eS4gVGhlIGBkZWZhdWx0YCB2YWx1ZSBjYW4gYmUgYSBzdHJpbmcgb3IgYW4gaW5kZXhcclxuICAgICAqIGludG8gYHZhbHVlc2AuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICAgIGNhbWVyYToge3R5cGU6IFR5cGUuRW51bSwgdmFsdWVzOiBbJ2F1dG8nLCAnYmFjaycsICdmcm9udCddLCBkZWZhdWx0OiAnYXV0byd9LFxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIkVudW1cIl0gPSAzMl0gPSBcIkVudW1cIjtcclxuICAgIC8qKlxyXG4gICAgICogKipPYmplY3QgcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGFuIG9iamVjdCByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd25cclxuICAgICAqIHdpdGggb2JqZWN0IHBpY2tlci5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiT2JqZWN0XCJdID0gNjRdID0gXCJPYmplY3RcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipNZXNoIHJlZmVyZW5jZSoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhIG1lc2ggcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJNZXNoXCJdID0gMTI4XSA9IFwiTWVzaFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlRleHR1cmUgcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgdGV4dHVyZSByZXNvdXJjZSBzZWxlY3Rpb24gZHJvcGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgbnVsbGAuXHJcbiAgICAgKi9cclxuICAgIFR5cGVbVHlwZVtcIlRleHR1cmVcIl0gPSAyNTZdID0gXCJUZXh0dXJlXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqTWF0ZXJpYWwgcmVmZXJlbmNlKio6XHJcbiAgICAgKlxyXG4gICAgICogQXBwZWFycyBpbiB0aGUgZWRpdG9yIGFzIGEgbWF0ZXJpYWwgcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJNYXRlcmlhbFwiXSA9IDUxMl0gPSBcIk1hdGVyaWFsXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqQW5pbWF0aW9uIHJlZmVyZW5jZSoqOlxyXG4gICAgICpcclxuICAgICAqIEFwcGVhcnMgaW4gdGhlIGVkaXRvciBhcyBhbiBhbmltYXRpb24gcmVzb3VyY2Ugc2VsZWN0aW9uIGRyb3Bkb3duLlxyXG4gICAgICpcclxuICAgICAqIEluaXRpYWwgdmFsdWUgaXMgYG51bGxgLlxyXG4gICAgICovXHJcbiAgICBUeXBlW1R5cGVbXCJBbmltYXRpb25cIl0gPSAxMDI0XSA9IFwiQW5pbWF0aW9uXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqU2tpbiByZWZlcmVuY2UqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBza2luIHJlc291cmNlIHNlbGVjdGlvbiBkcm9wZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBJbml0aWFsIHZhbHVlIGlzIGBudWxsYC5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiU2tpblwiXSA9IDIwNDhdID0gXCJTa2luXCI7XHJcbiAgICAvKipcclxuICAgICAqICoqQ29sb3IqKjpcclxuICAgICAqXHJcbiAgICAgKiBBcHBlYXJzIGluIHRoZSBlZGl0b3IgYXMgYSBjb2xvciB3aWRnZXQuXHJcbiAgICAgKlxyXG4gICAgICogSW5pdGlhbCB2YWx1ZSBpcyBgWzAuMCwgMC4wLCAwLjAsIDEuMF1gLCB1bmxlc3Mgb3ZlcnJpZGRlbiBieSB0aGVcclxuICAgICAqIGBkZWZhdWx0YCBwcm9wZXJ0eS5cclxuICAgICAqL1xyXG4gICAgVHlwZVtUeXBlW1wiQ29sb3JcIl0gPSA0MDk2XSA9IFwiQ29sb3JcIjtcclxufSkoVHlwZSB8fCAoVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBDb21wb25lbnQgcHJvcGVydHkgbmFtZXNwYWNlLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICogICAgICAgICBteUJvb2w6IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAqICAgICAgICAgbXlJbnQ6IFByb3BlcnR5LmludCg0MiksXHJcbiAqICAgICAgICAgbXlTdHJpbmc6IFByb3BlcnR5LnN0cmluZygnSGVsbG8gV29ybGQhJyksXHJcbiAqICAgICAgICAgbXlNZXNoOiBQcm9wZXJ0eS5tZXNoKCksXHJcbiAqICAgICB9XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEZvciBUeXBlU2NyaXB0IHVzZXJzLCB5b3UgY2FuIHVzZSB0aGUgZGVjb3JhdG9ycyBpbnN0ZWFkLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFByb3BlcnR5ID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW4gYm9vbGVhbiBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGBmYWxzZWAuXHJcbiAgICAgKi9cclxuICAgIGJvb2woZGVmYXVsdFZhbHVlID0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGludGVnZXIgcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBUaGUgZGVmYXVsdCB2YWx1ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBgMGAuXHJcbiAgICAgKi9cclxuICAgIGludChkZWZhdWx0VmFsdWUgPSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIGZsb2F0IHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gYDAuMGAuXHJcbiAgICAgKi9cclxuICAgIGZsb2F0KGRlZmF1bHRWYWx1ZSA9IDAuMCkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuRmxvYXQsIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGFuIHN0cmluZyBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIGAnJ2AuXHJcbiAgICAgKi9cclxuICAgIHN0cmluZyhkZWZhdWx0VmFsdWUgPSAnJykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuU3RyaW5nLCBkZWZhdWx0OiBkZWZhdWx0VmFsdWUgfTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbiBlbnVtZXJhdGlvbiBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWVzIFRoZSBsaXN0IG9mIHZhbHVlcy5cclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuIENhbiBiZSBhIHN0cmluZyBvciBhbiBpbmRleCBpbnRvXHJcbiAgICAgKiAgICAgYHZhbHVlc2AuIElmIG5vdCBwcm92aWRlZCwgZGVmYXVsdHMgdG8gdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIGVudW0odmFsdWVzLCBkZWZhdWx0VmFsdWUpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkVudW0sIHZhbHVlcywgZGVmYXVsdDogZGVmYXVsdFZhbHVlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhbiB7QGxpbmsgT2JqZWN0M0R9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cclxuICAgIG9iamVjdChvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5PYmplY3QsIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKiBDcmVhdGUgYSB7QGxpbmsgTWVzaH0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgbWVzaChvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogVHlwZS5NZXNoLCBkZWZhdWx0OiBudWxsLCByZXF1aXJlZDogb3B0cz8ucmVxdWlyZWQgPz8gZmFsc2UgfTtcclxuICAgIH0sXHJcbiAgICAvKiogQ3JlYXRlIGEge0BsaW5rIFRleHR1cmV9IHJlZmVyZW5jZSBwcm9wZXJ0eS4gKi9cclxuICAgIHRleHR1cmUob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuVGV4dHVyZSwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBNYXRlcmlhbH0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgbWF0ZXJpYWwob3B0cykge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuTWF0ZXJpYWwsIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKiBDcmVhdGUgYW4ge0BsaW5rIEFuaW1hdGlvbn0gcmVmZXJlbmNlIHByb3BlcnR5LiAqL1xyXG4gICAgYW5pbWF0aW9uKG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLkFuaW1hdGlvbiwgZGVmYXVsdDogbnVsbCwgcmVxdWlyZWQ6IG9wdHM/LnJlcXVpcmVkID8/IGZhbHNlIH07XHJcbiAgICB9LFxyXG4gICAgLyoqIENyZWF0ZSBhIHtAbGluayBTa2lufSByZWZlcmVuY2UgcHJvcGVydHkuICovXHJcbiAgICBza2luKG9wdHMpIHtcclxuICAgICAgICByZXR1cm4geyB0eXBlOiBUeXBlLlNraW4sIGRlZmF1bHQ6IG51bGwsIHJlcXVpcmVkOiBvcHRzPy5yZXF1aXJlZCA/PyBmYWxzZSB9O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgY29sb3IgcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHIgVGhlIHJlZCBjb21wb25lbnQsIGluIHRoZSByYW5nZSBbMDsgMV0uXHJcbiAgICAgKiBAcGFyYW0gZyBUaGUgZ3JlZW4gY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxyXG4gICAgICogQHBhcmFtIGIgVGhlIGJsdWUgY29tcG9uZW50LCBpbiB0aGUgcmFuZ2UgWzA7IDFdLlxyXG4gICAgICogQHBhcmFtIGEgVGhlIGFscGhhIGNvbXBvbmVudCwgaW4gdGhlIHJhbmdlIFswOyAxXS5cclxuICAgICAqL1xyXG4gICAgY29sb3IociA9IDAuMCwgZyA9IDAuMCwgYiA9IDAuMCwgYSA9IDEuMCkge1xyXG4gICAgICAgIHJldHVybiB7IHR5cGU6IFR5cGUuQ29sb3IsIGRlZmF1bHQ6IFtyLCBnLCBiLCBhXSB9O1xyXG4gICAgfSxcclxufTtcclxuIiwgImltcG9ydCB7IFByb3BlcnR5LCBUeXBlIH0gZnJvbSAnLi9wcm9wZXJ0eS5qcyc7XHJcbi8qKlxyXG4gKiBEZWNvcmF0b3IgZm9yIEpTIGNvbXBvbmVudCBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0YSBUaGUgcHJvcGVydHkgZGVzY3JpcHRpb24gYXMgYW4gb2JqZWN0IGxpdGVyYWxcclxuICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24gbW9kaWZ5aW5nIHRoZSBgUHJvcGVydGllc2Agc3RhdGljXHJcbiAqICAgICBhdHRyaWJ1dGVcclxuICovXHJcbmZ1bmN0aW9uIHByb3BlcnR5RGVjb3JhdG9yKGRhdGEpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSB0YXJnZXQuY29uc3RydWN0b3I7XHJcbiAgICAgICAgY3Rvci5Qcm9wZXJ0aWVzID0gY3Rvci5oYXNPd25Qcm9wZXJ0eSgnUHJvcGVydGllcycpID8gY3Rvci5Qcm9wZXJ0aWVzIDoge307XHJcbiAgICAgICAgY3Rvci5Qcm9wZXJ0aWVzW3Byb3BlcnR5S2V5XSA9IGRhdGE7XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBEZWNvcmF0b3IgZm9yIG1ha2luZyBhIGdldHRlciBlbnVtZXJhYmxlLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogYGBgdHNcclxuICogY2xhc3MgTXlDbGFzcyB7XHJcbiAqICAgICBAZW51bWVyYWJsZSgpXHJcbiAqICAgICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBGbG9hdDMyQXJyYXkgeyAuLi4gfVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGVudW1lcmFibGUoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKF8sIF9fLCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIERlY29yYXRvciBmb3IgbmF0aXZlIHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGB0c1xyXG4gKiBjbGFzcyBNeUNsYXNzIHtcclxuICogICAgIEBuYXRpdmVQcm9wZXJ0eSgpXHJcbiAqICAgICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBGbG9hdDMyQXJyYXkgeyAuLi4gfVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG5hdGl2ZVByb3BlcnR5KCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgZW51bWVyYWJsZSgpKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xyXG4gICAgICAgIHByb3BlcnR5RGVjb3JhdG9yKHsgdHlwZTogVHlwZS5OYXRpdmUgfSkodGFyZ2V0LCBwcm9wZXJ0eUtleSk7XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBQcm9wZXJ0eSBkZWNvcmF0b3JzIG5hbWVzcGFjZS5cclxuICpcclxuICogWW91IGNhbiB1c2UgdGhlIGRlY29yYXRvcnMgdG8gbWFyayBhIGNsYXNzIGF0dHJpYnV0ZSBhc1xyXG4gKiBhIFdvbmRlcmxhbmQgRW5naW5lIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogYGBgdHNcclxuICogaW1wb3J0IHtNZXNofSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKiBpbXBvcnQge3Byb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbiAqXHJcbiAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICogICAgIEBwcm9wZXJ0eS5ib29sKHRydWUpXHJcbiAqICAgICBteUJvb2whOiBib29sZWFuO1xyXG4gKlxyXG4gKiAgICAgQHByb3BlcnR5LmludCg0MilcclxuICogICAgIG15SW50ITogbnVtYmVyO1xyXG4gKlxyXG4gKiAgICAgQHByb3BlcnR5LnN0cmluZygnSGVsbG8gV29ybGQhJylcclxuICogICAgIG15U3RyaW5nITogc3RyaW5nO1xyXG4gKlxyXG4gKiAgICAgQHByb3BlcnR5Lm1lc2goKVxyXG4gKiAgICAgbXlNZXNoITogTWVzaDtcclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogRm9yIEphdmFTY3JpcHQgdXNlcnMsIHBsZWFzZSBkZWNsYXJlIHRoZSBwcm9wZXJ0aWVzIHN0YXRpY2FsbHkuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcHJvcGVydHkgPSB7fTtcclxuZm9yIChjb25zdCBuYW1lIGluIFByb3BlcnR5KSB7XHJcbiAgICAvKiBBc3NpZ24gZWFjaCBwcm9wZXJ0eSBmdW5jdG9yIHRvIGEgVHlwZVNjcmlwdCBkZWNvcmF0b3IuXHJcbiAgICAgKiBUaGlzIGNvZGUgZXh0cmFjdHMgcGFyYW1ldGVycyBhbmQgcmV0dXJuIHR5cGUgdG8gcHJvdmlkZSBwcm9wZXJcclxuICAgICAqIHR5cGluZ3MgdG8gdGhlIHVzZXIuICovXHJcbiAgICBwcm9wZXJ0eVtuYW1lXSA9ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZnVuY3RvciA9IFByb3BlcnR5W25hbWVdO1xyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0eURlY29yYXRvcihmdW5jdG9yKC4uLmFyZ3MpKTtcclxuICAgIH07XHJcbn1cclxuIiwgIi8qKlxyXG4gKiBDaGVjayBpZiBhIGdpdmVuIHZhbHVlIGlzIGEgbmF0aXZlIHN0cmluZyBvciBhIGBTdHJpbmdgIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaGFzIHR5cGUgc3RyaW5nIGxpdGVyYWwgb3IgYFN0cmluZ2AsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgPT09ICcnKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBTdHJpbmcpO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhIGdpdmVuIHZhbHVlIGlzIGEgbmF0aXZlIG51bWJlciBvciBhIGBOdW1iZXJgIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaGFzIHR5cGUgbnVtYmVyIGxpdGVyYWwgb3IgYE51bWJlcmAsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gTnVtYmVyO1xyXG59XHJcbiIsICIvKipcclxuICogRXZlbnQgZW1pdHRlci5cclxuICpcclxuICogVGhpcyBjbGFzcyBhbGxvd3MgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzIHRoYXQgd2lsbCBnZXQgbm90aWZpZWQgYnkgdGhlIGVtaXR0ZXIuXHJcbiAqXHJcbiAqIFVzYWdlIGV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogLy8gYG9uUHJlUmVuZGVyYCBpcyBhbiBgRW1pdHRlcmAgaW5zdGFuY2UuXHJcbiAqIHNjZW5lLm9uUHJlUmVuZGVyLmFkZCgoKSA9PiBjb25zb2xlLmxvZygnYmVmb3JlIHJlbmRlcmluZycpKTtcclxuICogLy8gYG9uUG9zdFJlbmRlcmAgaXMgYW4gYEVtaXR0ZXJgIGluc3RhbmNlLlxyXG4gKiBzY2VuZS5vblBvc3RSZW5kZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdhZnRlciByZW5kZXJpbmcnKSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBZb3UgY2FuIGNyZWF0ZSB5b3VyIG93biBlbWl0dGVyczpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtFbWl0dGVyfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gbm90aWZ5IGxpc3RlbmVycyBpbiB0byB5b3VyIGVtaXR0ZXIgdXNpbmcge0BsaW5rIEVtaXR0ZXIubm90aWZ5fTpcclxuICpcclxuICogYGBganNcclxuICogLy8gTm90aWZpZXMgYWxsIHRoZSBsaXN0ZW5lcnMuXHJcbiAqIGVtaXR0ZXIubm90aWZ5KCk7XHJcbiAqIC8vIE5vdGlmaWVzIGFsbCB0aGUgbGlzdGVuZXJzIHdpdGggc29tZSBkYXRhLlxyXG4gKiBlbWl0dGVyLm5vdGlmeSh7IG15SW50OiA0MiwgbXlTdHI6ICdIZWxsbyBXb3JsZCEnIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQGNhdGVnb3J5IGV2ZW50XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRW1pdHRlciB7XHJcbiAgICAvKipcclxuICAgICAqIExpc3Qgb2YgbGlzdGVuZXJzIHRvIHRyaWdnZXIgd2hlbiBgbm90aWZ5YCBpcyBjYWxsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfbGlzdGVuZXJzID0gW107XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGxpc3RlbmVyIHRvIGJlIHRyaWdnZXJlZCBvbiB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxyXG4gICAgICpcclxuICAgICAqIEJhc2ljIHVzYWdlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBlbWl0dGVyLmFkZCgoZGF0YSkgPT4ge1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKCdldmVudCByZWNlaXZlZCEnKTtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQXV0b21hdGljYWxseSByZW1vdmUgdGhlIGxpc3RlbmVyIHdoZW4gYW4gZXZlbnQgaXMgcmVjZWl2ZWQ6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiB7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2V2ZW50IHJlY2VpdmVkIScpO1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICogfSwge29uY2U6IHRydWV9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgY2FsbGJhY2sgdG8gcmVnaXN0ZXIuXHJcbiAgICAgKiBAcGFyYW0gb3B0cyBUaGUgbGlzdGVuZXIgb3B0aW9ucy4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSBoYXZlIGEgbG9va1xyXG4gICAgICogICAgIGF0IHRoZSB7QGxpbmsgTGlzdGVuZXJPcHRpb25zfSBpbnRlcmZhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpXHJcbiAgICAgKi9cclxuICAgIGFkZChsaXN0ZW5lciwgb3B0cyA9IHt9KSB7XHJcbiAgICAgICAgY29uc3QgeyBvbmNlID0gZmFsc2UsIGlkID0gdW5kZWZpbmVkIH0gPSBvcHRzO1xyXG4gICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKHsgaWQsIG9uY2UsIGNhbGxiYWNrOiBsaXN0ZW5lciB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgRW1pdHRlci5hZGR9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lcnMgVGhlIGNhbGxiYWNrKHMpIHRvIHJlZ2lzdGVyLlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIEVtaXR0ZXIuYWRkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBwdXNoKC4uLmxpc3RlbmVycykge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2Igb2YgbGlzdGVuZXJzKVxyXG4gICAgICAgICAgICB0aGlzLmFkZChjYik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGxpc3RlbmVyIHRvIGJlIHRyaWdnZXJlZCBvbiB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxyXG4gICAgICpcclxuICAgICAqIE9uY2Ugbm90aWZpZWQsIHRoZSBsaXN0ZW5lciB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gY2FsbGluZyB7QGxpbmsgRW1pdHRlci5hZGR9IHdpdGg6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVtaXR0ZXIuYWRkKGxpc3RlbmVyLCB7b25jZTogdHJ1ZX0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBjYWxsYmFjayB0byByZWdpc3Rlci5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIG9uY2UobGlzdGVuZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZGQobGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIGEgcmVnaXN0ZXJlZCBsaXN0ZW5lci5cclxuICAgICAqXHJcbiAgICAgKiBVc2FnZSB3aXRoIGEgY2FsbGJhY2s6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGxpc3RlbmVyID0gKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICogZW1pdHRlci5hZGQobGlzdGVuZXIpO1xyXG4gICAgICpcclxuICAgICAqIC8vIFJlbW92ZSB1c2luZyB0aGUgY2FsbGJhY2sgcmVmZXJlbmNlOlxyXG4gICAgICogZW1pdHRlci5yZW1vdmUobGlzdGVuZXIpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogVXNhZ2Ugd2l0aCBhbiBpZDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpLCB7aWQ6ICdteS1jYWxsYmFjayd9KTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBSZW1vdmUgdXNpbmcgdGhlIGlkOlxyXG4gICAgICogZW1pdHRlci5yZW1vdmUoJ215LWNhbGxiYWNrJyk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBVc2luZyBpZGVudGlmaWVycywgeW91IHdpbGwgbmVlZCB0byBlbnN1cmUgeW91ciB2YWx1ZSBpcyB1bmlxdWUgdG8gYXZvaWRcclxuICAgICAqIHJlbW92aW5nIGxpc3RlbmVycyBmcm9tIG90aGVyIGxpYnJhcmllcywgZS5nLiw6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSwge2lkOiAnbm9uLXVuaXF1ZSd9KTtcclxuICAgICAqIC8vIFRoaXMgc2Vjb25kIGxpc3RlbmVyIGNvdWxkIGJlIGFkZGVkIGJ5IGEgdGhpcmQtcGFydHkgbGlicmFyeS5cclxuICAgICAqIGVtaXR0ZXIuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZygnSGVsbG8gRnJvbSBMaWJyYXJ5IScpLCB7aWQ6ICdub24tdW5pcXVlJ30pO1xyXG4gICAgICpcclxuICAgICAqIC8vIEhvIFNuYXAhIFRoaXMgYWxzbyByZW1vdmVkIHRoZSBsaWJyYXJ5IGxpc3RlbmVyIVxyXG4gICAgICogZW1pdHRlci5yZW1vdmUoJ25vbi11bmlxdWUnKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZSBpZGVudGlmaWVyIGNhbiBiZSBhbnkgdHlwZS4gSG93ZXZlciwgcmVtZW1iZXIgdGhhdCB0aGUgY29tcGFyaXNvbiB3aWxsIGJlXHJcbiAgICAgKiBieS12YWx1ZSBmb3IgcHJpbWl0aXZlIHR5cGVzIChzdHJpbmcsIG51bWJlciksIGJ1dCBieSByZWZlcmVuY2UgZm9yIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ0hlbGxvJyksIHtpZDoge3ZhbHVlOiA0Mn19KTtcclxuICAgICAqIGVtaXR0ZXIuYWRkKCgpID0+IGNvbnNvbGUubG9nKCdXb3JsZCEnKSwge2lkOiB7dmFsdWU6IDQyfX0pO1xyXG4gICAgICogZW1pdHRlci5yZW1vdmUoe3ZhbHVlOiA0Mn0pOyAvLyBOb25lIG9mIHRoZSBhYm92ZSBsaXN0ZW5lcnMgbWF0Y2ghXHJcbiAgICAgKiBlbWl0dGVyLm5vdGlmeSgpOyAvLyBQcmludHMgJ0hlbGxvJyBhbmQgJ1dvcmxkIScuXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBIZXJlLCBib3RoIGVtaXR0ZXJzIGhhdmUgaWQgYHt2YWx1ZTogNDJ9YCwgYnV0IHRoZSBjb21wYXJpc29uIGlzIG1hZGUgYnkgcmVmZXJlbmNlLiBUaHVzLFxyXG4gICAgICogdGhlIGByZW1vdmUoKWAgY2FsbCBoYXMgbm8gZWZmZWN0LiBXZSBjYW4gbWFrZSBpdCB3b3JrIGJ5IGRvaW5nOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBjb25zdCBpZCA9IHt2YWx1ZTogNDJ9O1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ0hlbGxvJyksIHtpZH0pO1xyXG4gICAgICogZW1pdHRlci5hZGQoKCkgPT4gY29uc29sZS5sb2coJ1dvcmxkIScpLCB7aWR9KTtcclxuICAgICAqIGVtaXR0ZXIucmVtb3ZlKGlkKTsgLy8gU2FtZSByZWZlcmVuY2UsIGl0IHdvcmtzIVxyXG4gICAgICogZW1pdHRlci5ub3RpZnkoKTsgLy8gRG9lc24ndCBwcmludC5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgcmVnaXN0ZXJlZCBjYWxsYmFjayBvciBhIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgYGlkYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5jYWxsYmFjayA9PT0gbGlzdGVuZXIgfHwgdGFyZ2V0LmlkID09PSBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLS0sIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBsaXN0ZW5lciBpcyByZWdpc3RlcmVkLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHBlcmZvcm1zIGEgbGluZWFyIHNlYXJjaC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIHJlZ2lzdGVyZWQgY2FsbGJhY2sgb3IgYSB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIGBpZGAuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGhhbmRsZSBpcyBmb3VuZCwgYGZhbHNlYCBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIGhhcyhsaXN0ZW5lcikge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBsaXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2FsbGJhY2sgPT09IGxpc3RlbmVyIHx8IHRhcmdldC5pZCA9PT0gbGlzdGVuZXIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3RpZnkgbGlzdGVuZXJzIHdpdGggdGhlIGdpdmVuIGRhdGEgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIGVuc3VyZXMgYWxsIGxpc3RlbmVycyBhcmUgY2FsbGVkIGV2ZW4gaWZcclxuICAgICAqIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24uIEZvciAocG9zc2libHkpIGZhc3RlciBub3RpZmljYXRpb24sXHJcbiAgICAgKiBwbGVhc2UgdXNlIHtAbGluayBFbWl0dGVyLm5vdGlmeVVuc2FmZX0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBsaXN0ZW5lciB3aGVuIGludm9rZWQuXHJcbiAgICAgKi9cclxuICAgIG5vdGlmeSguLi5kYXRhKSB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSlcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaS0tLCAxKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKC4uLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBOb3RpZnkgbGlzdGVuZXJzIHdpdGggdGhlIGdpdmVuIGRhdGEgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIEJlY2F1c2UgdGhpcyBtZXRob2QgZG9lc24ndCBjYXRjaCBleGNlcHRpb25zLCBzb21lIGxpc3RlbmVyc1xyXG4gICAgICogd2lsbCBiZSBza2lwcGVkIG9uIGEgdGhyb3cuIFBsZWFzZSB1c2Uge0BsaW5rIEVtaXR0ZXIubm90aWZ5fSBmb3Igc2FmZVxyXG4gICAgICogbm90aWZpY2F0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gbGlzdGVuZXIgd2hlbiBpbnZva2VkLlxyXG4gICAgICovXHJcbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uY2UpXHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGktLSwgMSk7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKC4uLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBvbiB0aGUgbmV4dCBldmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgcHJvbWlzZSBtaWdodCBuZXZlciByZXNvbHZlIGlmIG5vIGV2ZW50IGlzIHNlbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZGF0YSBwYXNzZWQgdG9cclxuICAgICAqICAgICB7QGxpbmsgRW1pdHRlci5ub3RpZnl9LlxyXG4gICAgICovXHJcbiAgICBwcm9taXNlKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCBfKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25jZSgoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyhhcmdzWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogTnVtYmVyIG9mIGxpc3RlbmVycy4gKi9cclxuICAgIGdldCBsaXN0ZW5lckNvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saXN0ZW5lcnMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLyoqIGB0cnVlYCBpZiBpdCBoYXMgbm8gbGlzdGVuZXJzLCBgZmFsc2VgIG90aGVyd2lzZS4gKi9cclxuICAgIGdldCBpc0VtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyQ291bnQgPT09IDA7XHJcbiAgICB9XHJcbn1cclxuLyogRHVtbXkgdmFsdWUgdXNlZCB3aXRoIFJldGFpbkVtaXR0ZXIuICovXHJcbmNvbnN0IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQgPSB7fTtcclxuLyoqXHJcbiAqIEV2ZW50IGVtaXR0ZXIgdGhhdCByZXRhaW5zIGV2ZW50IGRhdGEgd2hlbiBub3RpZmllZC5cclxuICpcclxuICogQWZ0ZXIgYSBub3RpZmljYXRpb24gaGFwcGVucywgc3Vic2VxdWVudCBjYWxscyB0byB7QGxpbmsgUmV0YWluRW1pdHRlci5hZGR9IHdpbGwgZ2V0XHJcbiAqIGF1dG9tYXRpY2FsbHkgbm90aWZpZWQuXHJcbiAqXHJcbiAqIFlvdSBjYW4gdXNlIGFub3RoZXIgZW1pdHRlciBpbiBvcmRlciB0byBjYW5jZWwgdGhlIGxhc3QgcmV0YWluZWQgZXZlbnQ6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7RW1pdHRlciwgUmV0YWluZWRFbWl0dGVyfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gKlxyXG4gKiBjb25zdCBvblN0YXJ0ID0gbmV3IFJldGFpbmVkRW1pdHRlcigpO1xyXG4gKlxyXG4gKiBvblN0YXJ0Lm5vdGlmeSg0Mik7XHJcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gUHJpbnRzICc0MicuXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBZb3UgY2FuIHJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlciwgaS5lLiwgbWFraW5nIGl0IGZvcmdldCBhYm91dCB0aGVcclxuICogbGFzdCBldmVudCB1c2luZzpcclxuICpcclxuICogYGBganNcclxuICogaW1wb3J0IHtFbWl0dGVyLCBSZXRhaW5lZEVtaXR0ZXJ9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGNvbnN0IG9uU3RhcnQgPSBuZXcgUmV0YWluZWRFbWl0dGVyKCk7XHJcbiAqIG9uU3RhcnQubm90aWZ5KDQyKTtcclxuICogb25TdGFydC5hZGQoKGRhdGEpID0+IGNvbnNvbGUubG9nKGRhdGEpKSAvLyBQcmludHMgJzQyJy5cclxuICpcclxuICogLy8gUmVzZXQgdGhlIHN0YXRlIG9mIHRoZSBlbWl0dGVyLlxyXG4gKiBvblN0YXJ0LnJlc2V0KCk7XHJcbiAqIG9uU3RhcnQuYWRkKChkYXRhKSA9PiBjb25zb2xlLmxvZyhkYXRhKSkgLy8gRG9lc24ndCBwcmludCBhbnl0aGluZy5cclxuICogYGBgXHJcbiAqXHJcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGVtaXR0ZXJzLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIGJhc2Uge0BsaW5rIEVtaXR0ZXJ9IGNsYXNzLlxyXG4gKlxyXG4gKiBAY2F0ZWdvcnkgZXZlbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBSZXRhaW5FbWl0dGVyIGV4dGVuZHMgRW1pdHRlciB7XHJcbiAgICAvKiogUHJlLXJlc29sdmVkIGRhdGEuIEBoaWRkZW4gKi9cclxuICAgIF9ldmVudCA9IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XHJcbiAgICAvKipcclxuICAgICAqIEVtaXR0ZXIgdGFyZ2V0IHVzZWQgdG8gcmVzZXQgdGhlIHN0YXRlIG9mIHRoaXMgZW1pdHRlci5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9yZXNldDtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIGFkZChsaXN0ZW5lciwgb3B0cykge1xyXG4gICAgICAgIGNvbnN0IGltbWVkaWF0ZSA9IG9wdHM/LmltbWVkaWF0ZSA/PyB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLl9ldmVudCAhPT0gUmV0YWluRW1pdHRlclVuZGVmaW5lZCAmJiBpbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIoLi4udGhpcy5fZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5hZGQobGlzdGVuZXIsIG9wdHMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAb3ZlcnJpZGVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHJlZ2lzdGVyLlxyXG4gICAgICogQHBhcmFtIGltbWVkaWF0ZSBJZiBgdHJ1ZWAsIGRpcmVjdGx5IHJlc29sdmVzIGlmIHRoZSBlbWl0dGVyIHJldGFpbnMgYSB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIG9uY2UobGlzdGVuZXIsIGltbWVkaWF0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFkZChsaXN0ZW5lciwgeyBvbmNlOiB0cnVlLCBpbW1lZGlhdGUgfSk7XHJcbiAgICB9XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBub3RpZnkoLi4uZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50ID0gZGF0YTtcclxuICAgICAgICBzdXBlci5ub3RpZnkoLi4uZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBub3RpZnlVbnNhZmUoLi4uZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50ID0gZGF0YTtcclxuICAgICAgICBzdXBlci5ub3RpZnlVbnNhZmUoLi4uZGF0YSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgZW1pdHRlci5cclxuICAgICAqXHJcbiAgICAgKiBGdXJ0aGVyIGNhbGwgdG8ge0BsaW5rIEVtaXR0ZXIuYWRkfSB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IHJlc29sdmUsXHJcbiAgICAgKiB1bnRpbCBhIG5ldyBjYWxsIHRvIHtAbGluayBFbWl0dGVyLm5vdGlmeX0gaXMgcGVyZm9ybWVkLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKVxyXG4gICAgICovXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLl9ldmVudCA9IFJldGFpbkVtaXR0ZXJVbmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogUmV0dXJucyB0aGUgcmV0YWluZWQgZGF0YSwgb3IgYHVuZGVmaW5lZGAgaWYgbm8gZGF0YSB3YXMgcmV0YWluZWQuICovXHJcbiAgICBnZXQgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc0RhdGFSZXRhaW5lZCA/IHRoaXMuX2V2ZW50IDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgLyoqIGB0cnVlYCBpZiBkYXRhIGlzIHJldGFpbmVkIGZyb20gdGhlIGxhc3QgZXZlbnQsIGBmYWxzZWAgb3RoZXJ3aXNlLiAqL1xyXG4gICAgZ2V0IGlzRGF0YVJldGFpbmVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudCAhPT0gUmV0YWluRW1pdHRlclVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG4iLCAiLyoqXHJcbiAqIFR5cGVzXHJcbiAqL1xyXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBuYXRpdmVQcm9wZXJ0eSwgZW51bWVyYWJsZSB9IGZyb20gJy4vZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IGlzTnVtYmVyLCBpc1N0cmluZyB9IGZyb20gJy4vdXRpbHMvb2JqZWN0LmpzJztcclxuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4vdXRpbHMvZXZlbnQuanMnO1xyXG4vKipcclxuICogV29uZGVybGFuZCBFbmdpbmUgQVBJXHJcbiAqIEBuYW1lc3BhY2UgV0xcclxuICovXHJcbi8qKlxyXG4gKiBDb2xsaWRlciB0eXBlIGVudW0gZm9yIHtAbGluayBDb2xsaXNpb25Db21wb25lbnR9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBDb2xsaWRlcjtcclxuKGZ1bmN0aW9uIChDb2xsaWRlcikge1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlNwaGVyZSBDb2xsaWRlcioqOlxyXG4gICAgICpcclxuICAgICAqIFNpbXBsZXN0IGFuZCBtb3N0IHBlcmZvcm1hbnQgY29sbGlzaW9uIHNoYXBlLiBJZiB0aGlzIHR5cGUgaXMgc2V0IG9uIGFcclxuICAgICAqIHtAbGluayBDb2xsaXNpb25Db21wb25lbnR9LCBvbmx5IHRoZSBmaXJzdCBjb21wb25lbnQgb2ZcclxuICAgICAqIHtAbGluayBDb2xsaXNpb25Db21wb25lbnQjZXh0ZW50c30gd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgcmFkaXVzLlxyXG4gICAgICovXHJcbiAgICBDb2xsaWRlcltDb2xsaWRlcltcIlNwaGVyZVwiXSA9IDBdID0gXCJTcGhlcmVcIjtcclxuICAgIC8qKlxyXG4gICAgICogKipBeGlzIEFsaWduZWQgQm91bmRpbmcgQm94IENvbGxpZGVyKio6XHJcbiAgICAgKlxyXG4gICAgICogQm94IHRoYXQgaXMgYWx3YXlzIGFsaWduZWQgdG8gWFlaIGF4aXMuIEl0IGNhbm5vdCBiZSByb3RhdGVkIGJ1dCBpcyBtb3JlXHJcbiAgICAgKiBlZmZpY2llbnQgdGhhbiB7QGxpbmsgQ29sbGlkZXIuQm94fS5cclxuICAgICAqL1xyXG4gICAgQ29sbGlkZXJbQ29sbGlkZXJbXCJBeGlzQWxpZ25lZEJveFwiXSA9IDFdID0gXCJBeGlzQWxpZ25lZEJveFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKkFsaWduZWQgQm91bmRpbmcgQm94IENvbGxpZGVyKio6XHJcbiAgICAgKlxyXG4gICAgICogQm94IHRoYXQgbWF0Y2hlcyB0aGUgb2JqZWN0J3Mgcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uIGNvcnJlY3RseS4gVGhpc1xyXG4gICAgICogaXMgdGhlIGxlYXN0IGVmZmljaWVudCBjb2xsaWRlciBhbmQgc2hvdWxkIG9ubHkgYmUgY2hvc2VuIG92ZXJcclxuICAgICAqIHtAbGluayBDb2xsaWRlci5TcGhlcmV9IGFuZCB7QGxpbmsgQ29sbGlkZXIuQXhpc0FsaWduZWRCb3h9IGlmIHJlYWxseVxyXG4gICAgICogbmVjZXNzYXJ5LlxyXG4gICAgICovXHJcbiAgICBDb2xsaWRlcltDb2xsaWRlcltcIkJveFwiXSA9IDJdID0gXCJCb3hcIjtcclxufSkoQ29sbGlkZXIgfHwgKENvbGxpZGVyID0ge30pKTtcclxuLyoqXHJcbiAqIEFsaWdubWVudCB0eXBlIGVudW0gZm9yIHtAbGluayBUZXh0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgQWxpZ25tZW50O1xyXG4oZnVuY3Rpb24gKEFsaWdubWVudCkge1xyXG4gICAgLyoqIFRleHQgc3RhcnQgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgQWxpZ25tZW50W0FsaWdubWVudFtcIkxlZnRcIl0gPSAwXSA9IFwiTGVmdFwiO1xyXG4gICAgLyoqIFRleHQgY2VudGVyIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEFsaWdubWVudFtBbGlnbm1lbnRbXCJDZW50ZXJcIl0gPSAxXSA9IFwiQ2VudGVyXCI7XHJcbiAgICAvKiogVGV4dCBlbmQgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgQWxpZ25tZW50W0FsaWdubWVudFtcIlJpZ2h0XCJdID0gMl0gPSBcIlJpZ2h0XCI7XHJcbn0pKEFsaWdubWVudCB8fCAoQWxpZ25tZW50ID0ge30pKTtcclxuLyoqXHJcbiAqIEp1c3RpZmljYXRpb24gdHlwZSBlbnVtIGZvciB7QGxpbmsgVGV4dENvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIEp1c3RpZmljYXRpb247XHJcbihmdW5jdGlvbiAoSnVzdGlmaWNhdGlvbikge1xyXG4gICAgLyoqIFRleHQgbGluZSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBKdXN0aWZpY2F0aW9uW0p1c3RpZmljYXRpb25bXCJMaW5lXCJdID0gMF0gPSBcIkxpbmVcIjtcclxuICAgIC8qKiBUZXh0IG1pZGRsZSBpcyBhdCBvYmplY3Qgb3JpZ2luICovXHJcbiAgICBKdXN0aWZpY2F0aW9uW0p1c3RpZmljYXRpb25bXCJNaWRkbGVcIl0gPSAxXSA9IFwiTWlkZGxlXCI7XHJcbiAgICAvKiogVGV4dCB0b3AgaXMgYXQgb2JqZWN0IG9yaWdpbiAqL1xyXG4gICAgSnVzdGlmaWNhdGlvbltKdXN0aWZpY2F0aW9uW1wiVG9wXCJdID0gMl0gPSBcIlRvcFwiO1xyXG4gICAgLyoqIFRleHQgYm90dG9tIGlzIGF0IG9iamVjdCBvcmlnaW4gKi9cclxuICAgIEp1c3RpZmljYXRpb25bSnVzdGlmaWNhdGlvbltcIkJvdHRvbVwiXSA9IDNdID0gXCJCb3R0b21cIjtcclxufSkoSnVzdGlmaWNhdGlvbiB8fCAoSnVzdGlmaWNhdGlvbiA9IHt9KSk7XHJcbi8qKlxyXG4gKiBFZmZlY3QgdHlwZSBlbnVtIGZvciB7QGxpbmsgVGV4dENvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIFRleHRFZmZlY3Q7XHJcbihmdW5jdGlvbiAoVGV4dEVmZmVjdCkge1xyXG4gICAgLyoqIFRleHQgaXMgcmVuZGVyZWQgbm9ybWFsbHkgKi9cclxuICAgIFRleHRFZmZlY3RbVGV4dEVmZmVjdFtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqIFRleHQgaXMgcmVuZGVyZWQgd2l0aCBhbiBvdXRsaW5lICovXHJcbiAgICBUZXh0RWZmZWN0W1RleHRFZmZlY3RbXCJPdXRsaW5lXCJdID0gMV0gPSBcIk91dGxpbmVcIjtcclxufSkoVGV4dEVmZmVjdCB8fCAoVGV4dEVmZmVjdCA9IHt9KSk7XHJcbi8qKlxyXG4gKiBJbnB1dCB0eXBlIGVudW0gZm9yIHtAbGluayBJbnB1dENvbXBvbmVudH0uXHJcbiAqL1xyXG5leHBvcnQgdmFyIElucHV0VHlwZTtcclxuKGZ1bmN0aW9uIChJbnB1dFR5cGUpIHtcclxuICAgIC8qKiBIZWFkIGlucHV0ICovXHJcbiAgICBJbnB1dFR5cGVbSW5wdXRUeXBlW1wiSGVhZFwiXSA9IDBdID0gXCJIZWFkXCI7XHJcbiAgICAvKiogTGVmdCBleWUgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJFeWVMZWZ0XCJdID0gMV0gPSBcIkV5ZUxlZnRcIjtcclxuICAgIC8qKiBSaWdodCBleWUgaW5wdXQgKi9cclxuICAgIElucHV0VHlwZVtJbnB1dFR5cGVbXCJFeWVSaWdodFwiXSA9IDJdID0gXCJFeWVSaWdodFwiO1xyXG4gICAgLyoqIExlZnQgY29udHJvbGxlciBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIkNvbnRyb2xsZXJMZWZ0XCJdID0gM10gPSBcIkNvbnRyb2xsZXJMZWZ0XCI7XHJcbiAgICAvKiogUmlnaHQgY29udHJvbGxlciBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIkNvbnRyb2xsZXJSaWdodFwiXSA9IDRdID0gXCJDb250cm9sbGVyUmlnaHRcIjtcclxuICAgIC8qKiBMZWZ0IHJheSBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIlJheUxlZnRcIl0gPSA1XSA9IFwiUmF5TGVmdFwiO1xyXG4gICAgLyoqIFJpZ2h0IHJheSBpbnB1dCAqL1xyXG4gICAgSW5wdXRUeXBlW0lucHV0VHlwZVtcIlJheVJpZ2h0XCJdID0gNl0gPSBcIlJheVJpZ2h0XCI7XHJcbn0pKElucHV0VHlwZSB8fCAoSW5wdXRUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIExpZ2h0IHR5cGUgZW51bSBmb3Ige0BsaW5rIExpZ2h0Q29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgTGlnaHRUeXBlO1xyXG4oZnVuY3Rpb24gKExpZ2h0VHlwZSkge1xyXG4gICAgLyoqIFBvaW50IGxpZ2h0ICovXHJcbiAgICBMaWdodFR5cGVbTGlnaHRUeXBlW1wiUG9pbnRcIl0gPSAwXSA9IFwiUG9pbnRcIjtcclxuICAgIC8qKiBTcG90IGxpZ2h0ICovXHJcbiAgICBMaWdodFR5cGVbTGlnaHRUeXBlW1wiU3BvdFwiXSA9IDFdID0gXCJTcG90XCI7XHJcbiAgICAvKiogU3VuIGxpZ2h0IC8gRGlyZWN0aW9uYWwgbGlnaHQgKi9cclxuICAgIExpZ2h0VHlwZVtMaWdodFR5cGVbXCJTdW5cIl0gPSAyXSA9IFwiU3VuXCI7XHJcbn0pKExpZ2h0VHlwZSB8fCAoTGlnaHRUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIEFuaW1hdGlvbiBzdGF0ZSBvZiB7QGxpbmsgQW5pbWF0aW9uQ29tcG9uZW50fS5cclxuICovXHJcbmV4cG9ydCB2YXIgQW5pbWF0aW9uU3RhdGU7XHJcbihmdW5jdGlvbiAoQW5pbWF0aW9uU3RhdGUpIHtcclxuICAgIC8qKiBBbmltYXRpb24gaXMgY3VycmVudGx5IHBsYXlpbmcgKi9cclxuICAgIEFuaW1hdGlvblN0YXRlW0FuaW1hdGlvblN0YXRlW1wiUGxheWluZ1wiXSA9IDBdID0gXCJQbGF5aW5nXCI7XHJcbiAgICAvKiogQW5pbWF0aW9uIGlzIHBhdXNlZCBhbmQgd2lsbCBjb250aW51ZSBhdCBjdXJyZW50IHBsYXliYWNrXHJcbiAgICAgKiB0aW1lIG9uIHtAbGluayBBbmltYXRpb25Db21wb25lbnQjcGxheX0gKi9cclxuICAgIEFuaW1hdGlvblN0YXRlW0FuaW1hdGlvblN0YXRlW1wiUGF1c2VkXCJdID0gMV0gPSBcIlBhdXNlZFwiO1xyXG4gICAgLyoqIEFuaW1hdGlvbiBpcyBzdG9wcGVkICovXHJcbiAgICBBbmltYXRpb25TdGF0ZVtBbmltYXRpb25TdGF0ZVtcIlN0b3BwZWRcIl0gPSAyXSA9IFwiU3RvcHBlZFwiO1xyXG59KShBbmltYXRpb25TdGF0ZSB8fCAoQW5pbWF0aW9uU3RhdGUgPSB7fSkpO1xyXG4vKipcclxuICogUmlnaWQgYm9keSBmb3JjZSBtb2RlIGZvciB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkRm9yY2V9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQjYWRkVG9ycXVlfS5cclxuICpcclxuICogW1BoeXNYIEFQSSBSZWZlcmVuY2VdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4YXBpL2ZpbGVzL3N0cnVjdFB4Rm9yY2VNb2RlLmh0bWwpXHJcbiAqL1xyXG5leHBvcnQgdmFyIEZvcmNlTW9kZTtcclxuKGZ1bmN0aW9uIChGb3JjZU1vZGUpIHtcclxuICAgIC8qKiBBcHBseSBhcyBmb3JjZSAqL1xyXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkZvcmNlXCJdID0gMF0gPSBcIkZvcmNlXCI7XHJcbiAgICAvKiogQXBwbHkgYXMgaW1wdWxzZSAqL1xyXG4gICAgRm9yY2VNb2RlW0ZvcmNlTW9kZVtcIkltcHVsc2VcIl0gPSAxXSA9IFwiSW1wdWxzZVwiO1xyXG4gICAgLyoqIEFwcGx5IGFzIHZlbG9jaXR5IGNoYW5nZSwgbWFzcyBkZXBlbmRlbnQgKi9cclxuICAgIEZvcmNlTW9kZVtGb3JjZU1vZGVbXCJWZWxvY2l0eUNoYW5nZVwiXSA9IDJdID0gXCJWZWxvY2l0eUNoYW5nZVwiO1xyXG4gICAgLyoqIEFwcGx5IGFzIG1hc3MgZGVwZW5kZW50IGZvcmNlICovXHJcbiAgICBGb3JjZU1vZGVbRm9yY2VNb2RlW1wiQWNjZWxlcmF0aW9uXCJdID0gM10gPSBcIkFjY2VsZXJhdGlvblwiO1xyXG59KShGb3JjZU1vZGUgfHwgKEZvcmNlTW9kZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBDb2xsaXNpb24gY2FsbGJhY2sgZXZlbnQgdHlwZS5cclxuICovXHJcbmV4cG9ydCB2YXIgQ29sbGlzaW9uRXZlbnRUeXBlO1xyXG4oZnVuY3Rpb24gKENvbGxpc2lvbkV2ZW50VHlwZSkge1xyXG4gICAgLyoqIFRvdWNoL2NvbnRhY3QgZGV0ZWN0ZWQsIGNvbGxpc2lvbiAqL1xyXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRvdWNoXCJdID0gMF0gPSBcIlRvdWNoXCI7XHJcbiAgICAvKiogVG91Y2gvY29udGFjdCBsb3N0LCB1bmNvbGxpZGUgKi9cclxuICAgIENvbGxpc2lvbkV2ZW50VHlwZVtDb2xsaXNpb25FdmVudFR5cGVbXCJUb3VjaExvc3RcIl0gPSAxXSA9IFwiVG91Y2hMb3N0XCI7XHJcbiAgICAvKiogVG91Y2gvY29udGFjdCB3aXRoIHRyaWdnZXIgZGV0ZWN0ZWQgKi9cclxuICAgIENvbGxpc2lvbkV2ZW50VHlwZVtDb2xsaXNpb25FdmVudFR5cGVbXCJUcmlnZ2VyVG91Y2hcIl0gPSAyXSA9IFwiVHJpZ2dlclRvdWNoXCI7XHJcbiAgICAvKiogVG91Y2gvY29udGFjdCB3aXRoIHRyaWdnZXIgbG9zdCAqL1xyXG4gICAgQ29sbGlzaW9uRXZlbnRUeXBlW0NvbGxpc2lvbkV2ZW50VHlwZVtcIlRyaWdnZXJUb3VjaExvc3RcIl0gPSAzXSA9IFwiVHJpZ2dlclRvdWNoTG9zdFwiO1xyXG59KShDb2xsaXNpb25FdmVudFR5cGUgfHwgKENvbGxpc2lvbkV2ZW50VHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBSaWdpZCBib2R5IHtAbGluayBQaHlzWENvbXBvbmVudCNzaGFwZX0uXHJcbiAqXHJcbiAqIFtQaHlzWCBTREsgR3VpZGVdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL0dlb21ldHJ5Lmh0bWwjZ2VvbWV0cnktdHlwZXMpLlxyXG4gKi9cclxuZXhwb3J0IHZhciBTaGFwZTtcclxuKGZ1bmN0aW9uIChTaGFwZSkge1xyXG4gICAgLyoqIE5vIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcclxuICAgIC8qKiBTcGhlcmUgc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIlNwaGVyZVwiXSA9IDFdID0gXCJTcGhlcmVcIjtcclxuICAgIC8qKiBDYXBzdWxlIHNoYXBlLiAqL1xyXG4gICAgU2hhcGVbU2hhcGVbXCJDYXBzdWxlXCJdID0gMl0gPSBcIkNhcHN1bGVcIjtcclxuICAgIC8qKiBCb3ggc2hhcGUuICovXHJcbiAgICBTaGFwZVtTaGFwZVtcIkJveFwiXSA9IDNdID0gXCJCb3hcIjtcclxuICAgIC8qKiBQbGFuZSBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiUGxhbmVcIl0gPSA0XSA9IFwiUGxhbmVcIjtcclxuICAgIC8qKiBDb252ZXggbWVzaCBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiQ29udmV4TWVzaFwiXSA9IDVdID0gXCJDb252ZXhNZXNoXCI7XHJcbiAgICAvKiogVHJpYW5nbGUgbWVzaCBzaGFwZS4gKi9cclxuICAgIFNoYXBlW1NoYXBlW1wiVHJpYW5nbGVNZXNoXCJdID0gNl0gPSBcIlRyaWFuZ2xlTWVzaFwiO1xyXG59KShTaGFwZSB8fCAoU2hhcGUgPSB7fSkpO1xyXG4vKipcclxuICogTWVzaCBhdHRyaWJ1dGUgZW51bS5cclxuICogQHNpbmNlIDAuOS4wXHJcbiAqL1xyXG5leHBvcnQgdmFyIE1lc2hBdHRyaWJ1dGU7XHJcbihmdW5jdGlvbiAoTWVzaEF0dHJpYnV0ZSkge1xyXG4gICAgLyoqIFBvc2l0aW9uIGF0dHJpYnV0ZSwgMyBmbG9hdHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIlBvc2l0aW9uXCJdID0gMF0gPSBcIlBvc2l0aW9uXCI7XHJcbiAgICAvKiogVGFuZ2VudCBhdHRyaWJ1dGUsIDQgZmxvYXRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJUYW5nZW50XCJdID0gMV0gPSBcIlRhbmdlbnRcIjtcclxuICAgIC8qKiBOb3JtYWwgYXR0cmlidXRlLCAzIGZsb2F0cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiTm9ybWFsXCJdID0gMl0gPSBcIk5vcm1hbFwiO1xyXG4gICAgLyoqIFRleHR1cmUgY29vcmRpbmF0ZSBhdHRyaWJ1dGUsIDIgZmxvYXRzICovXHJcbiAgICBNZXNoQXR0cmlidXRlW01lc2hBdHRyaWJ1dGVbXCJUZXh0dXJlQ29vcmRpbmF0ZVwiXSA9IDNdID0gXCJUZXh0dXJlQ29vcmRpbmF0ZVwiO1xyXG4gICAgLyoqIENvbG9yIGF0dHJpYnV0ZSwgNCBmbG9hdHMsIFJHQkEsIHJhbmdlIGAwYCB0byBgMWAgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkNvbG9yXCJdID0gNF0gPSBcIkNvbG9yXCI7XHJcbiAgICAvKiogSm9pbnQgaWQgYXR0cmlidXRlLCA4IHVuc2lnbmVkIGludHMgKi9cclxuICAgIE1lc2hBdHRyaWJ1dGVbTWVzaEF0dHJpYnV0ZVtcIkpvaW50SWRcIl0gPSA1XSA9IFwiSm9pbnRJZFwiO1xyXG4gICAgLyoqIEpvaW50IHdlaWdodHMgYXR0cmlidXRlLCA4IGZsb2F0cyAqL1xyXG4gICAgTWVzaEF0dHJpYnV0ZVtNZXNoQXR0cmlidXRlW1wiSm9pbnRXZWlnaHRcIl0gPSA2XSA9IFwiSm9pbnRXZWlnaHRcIjtcclxufSkoTWVzaEF0dHJpYnV0ZSB8fCAoTWVzaEF0dHJpYnV0ZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBNYXRlcmlhbCBwYXJhbWV0ZXIgdHlwZS5cclxuICovXHJcbmV4cG9ydCB2YXIgTWF0ZXJpYWxQYXJhbVR5cGU7XHJcbihmdW5jdGlvbiAoTWF0ZXJpYWxQYXJhbVR5cGUpIHtcclxuICAgIC8qKiBVbnNpZ25lZCBpbnRlZ2VyIHBhcmFtZXRlciB0eXBlLiAqL1xyXG4gICAgTWF0ZXJpYWxQYXJhbVR5cGVbTWF0ZXJpYWxQYXJhbVR5cGVbXCJVbnNpZ25lZEludFwiXSA9IDBdID0gXCJVbnNpZ25lZEludFwiO1xyXG4gICAgLyoqIEludGVnZXIgcGFyYW1ldGVyIHR5cGUuICovXHJcbiAgICBNYXRlcmlhbFBhcmFtVHlwZVtNYXRlcmlhbFBhcmFtVHlwZVtcIkludFwiXSA9IDFdID0gXCJJbnRcIjtcclxuICAgIC8qKiBGbG9hdCBwYXJhbWV0ZXIgdHlwZS4gKi9cclxuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiRmxvYXRcIl0gPSAyXSA9IFwiRmxvYXRcIjtcclxuICAgIC8qKiBTYW1wbGVyIHJlc291cmNlIHBhcmFtZXRlciB0eXBlLCBpLmUuLCBhIHtAbGluayBUZXh0dXJlfS4gKi9cclxuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiU2FtcGxlclwiXSA9IDNdID0gXCJTYW1wbGVyXCI7XHJcbiAgICAvKipcclxuICAgICAqIEZvbnQgcmVzb3VyY2UgcGFyYW1ldGVyIHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IENoYW5naW5nIGZvbnQgaXNuJ3QgZXhwb3NlZCB5ZXQgYW5kIHdpbGwgcmFpc2UgYW4gZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIE1hdGVyaWFsUGFyYW1UeXBlW01hdGVyaWFsUGFyYW1UeXBlW1wiRm9udFwiXSA9IDRdID0gXCJGb250XCI7XHJcbn0pKE1hdGVyaWFsUGFyYW1UeXBlIHx8IChNYXRlcmlhbFBhcmFtVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBwcm94eSB0aHJvd2luZyBkZXN0cm95ZWQgZXJyb3JzIHVwb24gYWNjZXNzLlxyXG4gKlxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSB0byBkaXNwbGF5IHVwb24gZXJyb3JcclxuICogQHJldHVybnMgVGhlIHByb3h5IGluc3RhbmNlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVEZXN0cm95ZWRQcm94eSh0eXBlKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XHJcbiAgICAgICAgZ2V0KF8sIHBhcmFtKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXJhbSA9PT0gJ2lzRGVzdHJveWVkJylcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vJ3QgcmVhZCAnJHtwYXJhbX0nIG9mIGRlc3Ryb3llZCAke3R5cGV9YCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQoXywgcGFyYW0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ubyd0IHdyaXRlICcke3BhcmFtfScgb2YgZGVzdHJveWVkICR7dHlwZX1gKTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn1cclxuLyoqIFByb3h5IHVzZWQgdG8gb3ZlcnJpZGUgcHJvdG90eXBlcyBvZiBkZXN0cm95ZWQgb2JqZWN0cy4gKi9cclxuZXhwb3J0IGNvbnN0IERlc3Ryb3llZE9iamVjdEluc3RhbmNlID0gY3JlYXRlRGVzdHJveWVkUHJveHkoJ29iamVjdCcpO1xyXG4vKiogUHJveHkgdXNlZCB0byBvdmVycmlkZSBwcm90b3R5cGVzIG9mIGRlc3Ryb3llZCBjb21wb25lbnRzLiAqL1xyXG5leHBvcnQgY29uc3QgRGVzdHJveWVkQ29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVEZXN0cm95ZWRQcm94eSgnY29tcG9uZW50Jyk7XHJcbi8qKiBQcm94eSB1c2VkIHRvIG92ZXJyaWRlIHByb3RvdHlwZXMgb2YgZGVzdHJveWVkIHRleHR1cmVzLiAqL1xyXG5leHBvcnQgY29uc3QgRGVzdHJveWVkVGV4dHVyZUluc3RhbmNlID0gY3JlYXRlRGVzdHJveWVkUHJveHkoJ3RleHR1cmUnKTtcclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgYSBnaXZlbiBzaGFwZSBpcyBhIG1lc2ggb3Igbm90LlxyXG4gKlxyXG4gKiBAcGFyYW0gc2hhcGUgVGhlIHNoYXBlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNoYXBlIGlzIGEgbWVzaCwgYGZhbHNlYCBpZiBpdCdzIGEgcHJpbWl0aXZlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNNZXNoU2hhcGUoc2hhcGUpIHtcclxuICAgIHJldHVybiBzaGFwZSA9PT0gU2hhcGUuQ29udmV4TWVzaCB8fCBzaGFwZSA9PT0gU2hhcGUuVHJpYW5nbGVNZXNoO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayB3aGV0aGVyIGFuIG9iamVjdCBpcyB0aGUge0BsaW5rIENvbXBvbmVudH0gY2xhc3Mgb3Igbm90LFxyXG4gKlxyXG4gKiBAbm90ZSBUaGlzIG1ldGhvZCBpZiBmb29scHJvb2YgdG8gZGV2ZWxvcGVycyBpbmFkdmVydGVudGx5IHVzaW5nXHJcbiAqIG11bHRpcGxlIFdvbmRlcmxhbmQgRW5naW5lIEFQSSBpbiBhIGJ1bmRsZS5cclxuICpcclxuICogQHBhcmFtIHZhbHVlIFRoZSBvYmplY3QgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0IGlzIGEge0BsaW5rIENvbXBvbmVudH0gY2xhc3MsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNCYXNlQ29tcG9uZW50Q2xhc3ModmFsdWUpIHtcclxuICAgIHJldHVybiAoISF2YWx1ZSAmJlxyXG4gICAgICAgIHZhbHVlLmhhc093blByb3BlcnR5KCdfaXNCYXNlQ29tcG9uZW50JykgJiZcclxuICAgICAgICB2YWx1ZS5faXNCYXNlQ29tcG9uZW50KTtcclxufVxyXG4vKipcclxuICogQ29uc3RhbnRzLlxyXG4gKi9cclxuLyoqXHJcbiAqIERlZmF1bHQgd29ybGQgdXAgdmVjdG9yLlxyXG4gKi9cclxuY29uc3QgVVBfVkVDVE9SID0gWzAsIDEsIDBdO1xyXG5jb25zdCBTUVJUXzMgPSBNYXRoLnNxcnQoMyk7XHJcbi8qKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBjb21wb25lbnQgaW5zdGFuY2Ugb2YgYSBzcGVjaWZpZWQgY29tcG9uZW50IHR5cGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIFRoaXMgaXMgaG93IHlvdSBpbXBsZW1lbnQgZXh0ZW5kIHRoaXMgY2xhc3MgdG8gY3JlYXRlIHlvdXIgb3duIGN1c3RvbVxyXG4gKiBjb21wb25lbnQ6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbiAqXHJcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbXktY29tcG9uZW50JztcclxuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gKiAgICAgICAgIG15Qm9vbGVhbjogeyB0eXBlOiBUeXBlLkJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAqICAgICB9O1xyXG4gKiAgICAgc3RhcnQoKSB7fVxyXG4gKiAgICAgb25BY3RpdmF0ZSgpIHt9XHJcbiAqICAgICBvbkRlYWN0aXZhdGUoKSB7fVxyXG4gKiAgICAgdXBkYXRlKGR0KSB7fVxyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgICAvKipcclxuICAgICAqIGB0cnVlYCBmb3IgZXZlcnkgY2xhc3MgaW5oZXJpdGluZyBmcm9tIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yIGBpbnN0YW5jZW9mYCB0byBwcmV2ZW50IGlzc3Vlc1xyXG4gICAgICogdGhhdCBjb3VsZCBhcmlzZSB3aGVuIGFuIGFwcGxpY2F0aW9uIGVuZHMgdXAgdXNpbmcgbXVsdGlwbGUgQVBJIHZlcnNpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9pc0Jhc2VDb21wb25lbnQgPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBjb21wb25lbnQgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIHJlZ2lzdGVyLCBhZGQsIGFuZCByZXRyaWV2ZSBjb21wb25lbnRzIG9mIGEgZ2l2ZW4gdHlwZS5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIHRoaXMgY29tcG9uZW50IGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIFByb3BlcnRpZXMgYXJlIHB1YmxpYyBhdHRyaWJ1dGVzIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgdmlhIHRoZVxyXG4gICAgICogV29uZGVybGFuZCBFZGl0b3IuXHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaW1wb3J0IHsgQ29tcG9uZW50LCBUeXBlIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnbXktY29tcG9uZW50JztcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAqICAgICAgICAgbXlCb29sZWFuOiB7IHR5cGU6IFR5cGUuQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgICAqICAgICAgICAgbXlGbG9hdDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICogICAgICAgICBteVRleHR1cmU6IHsgdHlwZTogVHlwZS5UZXh0dXJlLCBkZWZhdWx0OiBudWxsIH0sXHJcbiAgICAgKiAgICAgfTtcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFByb3BlcnRpZXMgYXJlIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCBjb21wb25lbnQgaW5zdGFuY2UsIGFuZCBhcmVcclxuICAgICAqIGFjY2Vzc2libGUgbGlrZSBhbnkgSlMgYXR0cmlidXRlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBDcmVhdGVzIGEgbmV3IGNvbXBvbmVudCBhbmQgc2V0IGVhY2ggcHJvcGVydGllcyB2YWx1ZTpcclxuICAgICAqIGNvbnN0IG15Q29tcG9uZW50ID0gb2JqZWN0LmFkZENvbXBvbmVudChNeUNvbXBvbmVudCwge1xyXG4gICAgICogICAgIG15Qm9vbGVhbjogdHJ1ZSxcclxuICAgICAqICAgICBteUZsb2F0OiA0Mi4wLFxyXG4gICAgICogICAgIG15VGV4dHVyZTogbnVsbFxyXG4gICAgICogfSk7XHJcbiAgICAgKlxyXG4gICAgICogLy8gWW91IGNhbiBhbHNvIG92ZXJyaWRlIHRoZSBwcm9wZXJ0aWVzIG9uIHRoZSBpbnN0YW5jZTpcclxuICAgICAqIG15Q29tcG9uZW50Lm15Qm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICogbXlDb21wb25lbnQubXlGbG9hdCA9IC00Mi4wO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogIyMjIyBSZWZlcmVuY2VzXHJcbiAgICAgKlxyXG4gICAgICogUmVmZXJlbmNlIHR5cGVzIChpLmUuLCBtZXNoLCBvYmplY3QsIGV0Yy4uLikgY2FuIGFsc28gYmUgbGlzdGVkIGFzICoqcmVxdWlyZWQqKjpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gICAgICpcclxuICAgICAqIGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAqICAgICAgICAgbXlPYmplY3Q6IFByb3BlcnR5Lm9iamVjdCh7cmVxdWlyZWQ6IHRydWV9KSxcclxuICAgICAqICAgICAgICAgbXlBbmltYXRpb246IFByb3BlcnR5LmFuaW1hdGlvbih7cmVxdWlyZWQ6IHRydWV9KSxcclxuICAgICAqICAgICAgICAgbXlUZXh0dXJlOiBQcm9wZXJ0eS50ZXh0dXJlKHtyZXF1aXJlZDogdHJ1ZX0pLFxyXG4gICAgICogICAgICAgICBteU1lc2g6IFByb3BlcnR5Lm1lc2goe3JlcXVpcmVkOiB0cnVlfSksXHJcbiAgICAgKiAgICAgfVxyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogUGxlYXNlIG5vdGUgdGhhdCByZWZlcmVuY2VzIGFyZSB2YWxpZGF0ZWQgKipvbmNlKiogYmVmb3JlIHRoZSBjYWxsIHRvIHtAbGluayBDb21wb25lbnQuc3RhcnR9IG9ubHksXHJcbiAgICAgKiB2aWEgdGhlIHtAbGluayBDb21wb25lbnQudmFsaWRhdGVQcm9wZXJ0aWVzfSBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBjaGlsZCBjbGFzcyBpbmhlcml0cyBmcm9tIHRoZSBwYXJlbnRcclxuICAgICAqIHByb3BlcnRpZXMsIGFzIHNob3duIGluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaW1wb3J0IHtDb21wb25lbnQsIFByb3BlcnR5fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4gICAgICpcclxuICAgICAqIGNsYXNzIFBhcmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ3BhcmVudCc7XHJcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7cGFyZW50TmFtZTogUHJvcGVydHkuc3RyaW5nKCdwYXJlbnQnKX1cclxuICAgICAqIH1cclxuICAgICAqXHJcbiAgICAgKiBjbGFzcyBDaGlsZCBleHRlbmRzIFBhcmVudCB7XHJcbiAgICAgKiAgICAgc3RhdGljIFR5cGVOYW1lID0gJ2NoaWxkJztcclxuICAgICAqICAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtuYW1lOiBQcm9wZXJ0eS5zdHJpbmcoJ2NoaWxkJyl9XHJcbiAgICAgKiAgICAgc3RhdGljIEluaGVyaXRQcm9wZXJ0aWVzID0gdHJ1ZTtcclxuICAgICAqXHJcbiAgICAgKiAgICAgc3RhcnQoKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIFdvcmtzIGJlY2F1c2UgYEluaGVyaXRQcm9wZXJ0aWVzYCBpcyBgdHJ1ZWAuXHJcbiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMubmFtZX0gaW5oZXJpdHMgZnJvbSAke3RoaXMucGFyZW50TmFtZX1gKTtcclxuICAgICAqICAgICB9XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQcm9wZXJ0aWVzIGRlZmluZWQgaW4gZGVzY2VuZGFudCBjbGFzc2VzIHdpbGwgb3ZlcnJpZGUgcHJvcGVydGllc1xyXG4gICAgICogd2l0aCB0aGUgc2FtZSBuYW1lIGRlZmluZWQgaW4gYW5jZXN0b3IgY2xhc3Nlcy5cclxuICAgICAqXHJcbiAgICAgKiBEZWZhdWx0cyB0byBgdHJ1ZWAuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBJbmhlcml0UHJvcGVydGllcztcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIHdoZW4gdGhpcyBjb21wb25lbnQgY2xhc3MgaXMgcmVnaXN0ZXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICpcclxuICAgICAqIFRoaXMgY2FsbGJhY2sgY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgZGVwZW5kZW5jaWVzIG9mIGEgY29tcG9uZW50LFxyXG4gICAgICogZS5nLiwgY29tcG9uZW50IGNsYXNzZXMgdGhhdCBuZWVkIHRvIGJlIHJlZ2lzdGVyZWQgaW4gb3JkZXIgdG8gYWRkXHJcbiAgICAgKiB0aGVtIGF0IHJ1bnRpbWUgd2l0aCB7QGxpbmsgT2JqZWN0M0QuYWRkQ29tcG9uZW50fSwgaW5kZXBlbmRlbnQgb2Ygd2hldGhlclxyXG4gICAgICogdGhleSBhcmUgdXNlZCBpbiB0aGUgZWRpdG9yLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBjbGFzcyBTcGF3bmVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnc3Bhd25lcic7XHJcbiAgICAgKlxyXG4gICAgICogICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICogICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQoU3Bhd25lZENvbXBvbmVudCk7XHJcbiAgICAgKiAgICAgfVxyXG4gICAgICpcclxuICAgICAqICAgICAvLyBZb3UgY2FuIG5vdyB1c2UgYWRkQ29tcG9uZW50IHdpdGggU3Bhd25lZENvbXBvbmVudFxyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHJlZ2lzdGVyIGRpZmZlcmVudCBpbXBsZW1lbnRhdGlvbnMgb2YgYVxyXG4gICAgICogY29tcG9uZW50IGRlcGVuZGluZyBvbiBjbGllbnQgZmVhdHVyZXMgb3IgQVBJIHZlcnNpb25zLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBQcm9wZXJ0aWVzIG5lZWQgdG8gYmUgdGhlIHNhbWUgZm9yIGFsbCBpbXBsZW1lbnRhdGlvbnMhXHJcbiAgICAgKiBjb25zdCBTaGFyZWRQcm9wZXJ0aWVzID0ge307XHJcbiAgICAgKlxyXG4gICAgICogY2xhc3MgQW5jaG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgICAqICAgICBzdGF0aWMgVHlwZU5hbWUgPSAnc3Bhd25lcic7XHJcbiAgICAgKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSBTaGFyZWRQcm9wZXJ0aWVzO1xyXG4gICAgICpcclxuICAgICAqICAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAqICAgICAgICAgaWYobmF2aWdhdG9yLnhyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAqICAgICAgICAgICAgIC8qIFdlYlhSIHVuc3VwcG9ydGVkLCBrZWVwIHRoaXMgZHVtbXkgY29tcG9uZW50ICpcXC9cclxuICAgICAqICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAqICAgICAgICAgfVxyXG4gICAgICogICAgICAgICAvKiBXZWJYUiBzdXBwb3J0ZWQhIE92ZXJyaWRlIGFscmVhZHkgcmVnaXN0ZXJlZCBkdW1teSBpbXBsZW1lbnRhdGlvblxyXG4gICAgICogICAgICAgICAgKiB3aXRoIG9uZSBkZXBlbmRpbmcgb24gaGl0LXRlc3QgQVBJIHN1cHBvcnQgKlxcL1xyXG4gICAgICogICAgICAgICBlbmdpbmUucmVnaXN0ZXJDb21wb25lbnQod2luZG93LkhpdFRlc3RTb3VyY2UgPT09IHVuZGVmaW5lZCA/XHJcbiAgICAgKiAgICAgICAgICAgICBBbmNob3JXaXRob3V0SGl0VGVzdCA6IEFuY2hvcldpdGhIaXRUZXN0KTtcclxuICAgICAqICAgICB9XHJcbiAgICAgKlxyXG4gICAgICogICAgIC8vIFRoaXMgb25lIGltcGxlbWVudHMgbm8gZnVuY3Rpb25zXHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG9uUmVnaXN0ZXI7XHJcbiAgICAvKipcclxuICAgICAqIEFsbG93cyB0byBpbmhlcml0IHByb3BlcnRpZXMgZGlyZWN0bHkgaW5zaWRlIHRoZSBlZGl0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgRG8gbm90IHVzZSBkaXJlY3RseSwgcHJlZmVyIHVzaW5nIHtAbGluayBpbmhlcml0UHJvcGVydGllc30uXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgX2luaGVyaXRQcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIGluaGVyaXRQcm9wZXJ0aWVzKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLyoqIE1hbmFnZXIgaW5kZXguIEBoaWRkZW4gKi9cclxuICAgIF9tYW5hZ2VyO1xyXG4gICAgLyoqIEluc3RhbmNlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfaWQ7XHJcbiAgICAvKipcclxuICAgICAqIE9iamVjdCBjb250YWluaW5nIHRoaXMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiBUaGlzIGlzIGNhY2hlZCBmb3IgZmFzdGVyIHJldHJpZXZhbC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9vYmplY3Q7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlbmdpbmUgVGhlIGVuZ2luZSBpbnN0YW5jZS5cclxuICAgICAqIEBwYXJhbSBtYW5hZ2VyIEluZGV4IG9mIHRoZSBtYW5hZ2VyLlxyXG4gICAgICogQHBhcmFtIGlkIFdBU00gY29tcG9uZW50IGluc3RhbmNlIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBtYW5hZ2VyID0gLTEsIGlkID0gLTEpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlciA9IG1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5faWQgPSBpZDtcclxuICAgICAgICB0aGlzLl9vYmplY3QgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgZ2V0IGVuZ2luZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqIFRoZSBuYW1lIG9mIHRoaXMgY29tcG9uZW50J3MgdHlwZSAqL1xyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XHJcbiAgICAgICAgcmV0dXJuIGN0b3IuVHlwZU5hbWUgPz8gdGhpcy5fZW5naW5lLndhc20uX3R5cGVOYW1lRm9yKHRoaXMuX21hbmFnZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRoZSBvYmplY3QgdGhpcyBjb21wb25lbnQgaXMgYXR0YWNoZWQgdG8uICovXHJcbiAgICBnZXQgb2JqZWN0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fb2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdElkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbXBvbmVudF9nZXRfb2JqZWN0KHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fb2JqZWN0ID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3Qob2JqZWN0SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIGNvbXBvbmVudCBpcyBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQWN0aXZhdGluZy9kZWFjdGl2YXRpbmcgYSBjb21wb25lbnQgY29tZXMgYXQgYSBzbWFsbCBjb3N0IG9mIHJlb3JkZXJpbmdcclxuICAgICAqIGNvbXBvbmVudHMgaW4gdGhlIHJlc3BlY3RpdmUgY29tcG9uZW50IG1hbmFnZXIuIFRoaXMgZnVuY3Rpb24gdGhlcmVmb3JlXHJcbiAgICAgKiBpcyBub3QgYSB0cml2aWFsIGFzc2lnbm1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogRG9lcyBub3RoaW5nIGlmIHRoZSBjb21wb25lbnQgaXMgYWxyZWFkeSBhY3RpdmF0ZWQvZGVhY3RpdmF0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFjdGl2ZSBOZXcgYWN0aXZlIHN0YXRlLlxyXG4gICAgICovXHJcbiAgICBzZXQgYWN0aXZlKGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb21wb25lbnRfc2V0QWN0aXZlKHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkLCBhY3RpdmUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgY29tcG9uZW50IGlzIGFjdGl2ZVxyXG4gICAgICovXHJcbiAgICBnZXQgYWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X2lzQWN0aXZlKHRoaXMuX21hbmFnZXIsIHRoaXMuX2lkKSAhPSAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgdGhpcyBjb21wb25lbnQgZnJvbSBpdHMgb2JqZWN0cyBhbmQgZGVzdHJveSBpdC5cclxuICAgICAqXHJcbiAgICAgKiBJdCBpcyBiZXN0IHByYWN0aWNlIHRvIHNldCB0aGUgY29tcG9uZW50IHRvIGBudWxsYCBhZnRlcixcclxuICAgICAqIHRvIGVuc3VyZSBpdCBkb2VzIG5vdCBnZXQgdXNlZCBsYXRlci5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICAgYy5kZXN0cm95KCk7XHJcbiAgICAgKiAgICBjID0gbnVsbDtcclxuICAgICAqIGBgYFxyXG4gICAgICogQHNpbmNlIDAuOS4wXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgY29uc3QgbWFuYWdlciA9IHRoaXMuX21hbmFnZXI7XHJcbiAgICAgICAgaWYgKG1hbmFnZXIgPCAwIHx8IHRoaXMuX2lkIDwgMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8qIE11c3QgYmUgc3RvcmVkIGJlZm9yZSBkZXN0cnVjdGlvbi4gKi9cclxuICAgICAgICBjb25zdCBqc01hbmFnZXIgPSB0aGlzLmVuZ2luZS53YXNtLl9qc01hbmFnZXJJbmRleDtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29tcG9uZW50X3JlbW92ZShtYW5hZ2VyLCB0aGlzLl9pZCk7XHJcbiAgICAgICAgLyoqIEB0b2RvOiBSZW1vdmUgYXQgMS4yLjAgd2hlbiBhIGdlbmVyaWMgZGVzdHJveSBpcyBpbXBsZW1lbnRlZFxyXG4gICAgICAgICAqIGZvciBldmVyeSBtYW5hZ2VyLiAqL1xyXG4gICAgICAgIGlmIChtYW5hZ2VyICE9PSBqc01hbmFnZXIpXHJcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXJPbkRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBjb21wb25lbnQgaWRzXHJcbiAgICAgKiBhbmQgY29tcG9uZW50IG1hbmFnZXIgdHlwZXMgYXJlIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlckNvbXBvbmVudCBDb21wb25lbnQgdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBjb21wb25lbnQgZXF1YWxzIHRoZSBnaXZlbiBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlckNvbXBvbmVudCkge1xyXG4gICAgICAgIGlmICghb3RoZXJDb21wb25lbnQpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlciA9PSBvdGhlckNvbXBvbmVudC5fbWFuYWdlciAmJiB0aGlzLl9pZCA9PSBvdGhlckNvbXBvbmVudC5faWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBjb21wb25lbnQgcHJvcGVydGllcyB0byBkZWZhdWx0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgaXMgYXV0b21hdGljYWxseSBjYWxsZWQgZHVyaW5nIHRoZSBjb21wb25lbnQgaW5zdGFudGlhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0UHJvcGVydGllcygpIHtcclxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gY3Rvci5Qcm9wZXJ0aWVzO1xyXG4gICAgICAgIGlmICghcHJvcGVydGllcylcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHByb3BlcnRpZXNbbmFtZV0uZGVmYXVsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBDb21wb25lbnQucmVzZXRQcm9wZXJ0aWVzfSBpbnN0ZWFkLiAqL1xyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRQcm9wZXJ0aWVzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlIHRoZSBwcm9wZXJ0aWVzIG9uIHRoaXMgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHRocm93cyBJZiBhbnkgb2YgdGhlIHJlcXVpcmVkIHByb3BlcnRpZXMgaXNuJ3QgaW5pdGlhbGl6ZWRcclxuICAgICAqIG9uIHRoaXMgaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIHZhbGlkYXRlUHJvcGVydGllcygpIHtcclxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcclxuICAgICAgICBpZiAoIWN0b3IuUHJvcGVydGllcylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBjdG9yLlByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFjdG9yLlByb3BlcnRpZXNbbmFtZV0ucmVxdWlyZWQpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3BlcnR5ICcke25hbWV9JyBpcyByZXF1aXJlZCBidXQgd2FzIG5vdCBpbml0aWFsaXplZGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gICAgICpcclxuICAgICAqIElmIHtAbGluayBXb25kZXJsYW5kRW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95fSBpcyBgdHJ1ZWAsXHJcbiAgICAgKiByZWFkaW5nIGEgY3VzdG9tIHByb3BlcnR5IHdpbGwgbm90IHdvcms6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVuZ2luZS5lcmFzZVByb3RvdHlwZU9uRGVzdHJveSA9IHRydWU7XHJcbiAgICAgKlxyXG4gICAgICogY29uc3QgY29tcCA9IG9iai5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAqIGNvbXAuY3VzdG9tUGFyYW0gPSAnSGVsbG8gV29ybGQhJztcclxuICAgICAqXHJcbiAgICAgKiBjb25zb2xlLmxvZyhjb21wLmlzRGVzdHJveWVkKTsgLy8gUHJpbnRzIGBmYWxzZWBcclxuICAgICAqIGNvbXAuZGVzdHJveSgpO1xyXG4gICAgICogY29uc29sZS5sb2coY29tcC5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgdHJ1ZWBcclxuICAgICAqIGNvbnNvbGUubG9nKGNvbXAuY3VzdG9tUGFyYW0pOyAvLyBUaHJvd3MgYW4gZXJyb3JcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjEuMVxyXG4gICAgICovXHJcbiAgICBnZXQgaXNEZXN0cm95ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkIDwgMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQuaW5pdH0gbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFVzZSB0aGlzIG1ldGhvZCBpbnN0ZWFkIG9mIGRpcmVjdGx5IGNhbGxpbmcge0BsaW5rIENvbXBvbmVudC5pbml0fSxcclxuICAgICAqIGJlY2F1c2UgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBoYW5kbGVyIGZvciB0aGUge0BsaW5rIENvbXBvbmVudC5zdGFydH0uXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3RyaWdnZXJJbml0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluaXQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBpbml0KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogQXJtIG9uQWN0aXZhdGUoKSB3aXRoIHRoZSBpbml0aWFsIHN0YXJ0KCkgY2FsbCAqL1xyXG4gICAgICAgIGNvbnN0IG9sZEFjdGl2YXRlID0gdGhpcy5vbkFjdGl2YXRlO1xyXG4gICAgICAgIHRoaXMub25BY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlID0gb2xkQWN0aXZhdGU7XHJcbiAgICAgICAgICAgIGxldCBmYWlsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHZhbGlkYXRlUHJvcGVydGllcygpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydD8uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IHN0YXJ0KCkgb24gb2JqZWN0ICR7dGhpcy5vYmplY3QubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICBmYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9uQWN0aXZhdGUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke3RoaXMudHlwZX0gb25BY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQudXBkYXRlfSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3RyaWdnZXJVcGRhdGUoZHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMudXBkYXRlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSB1cGRhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5naW5lLndhc20uX2RlYWN0aXZhdGVfY29tcG9uZW50X29uX2Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5vbkFjdGl2YXRlfSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3RyaWdnZXJPbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5vbkFjdGl2YXRlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5vbkFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uQWN0aXZhdGUoKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlciB0aGUgY29tcG9uZW50IHtAbGluayBDb21wb25lbnQub25EZWFjdGl2YXRlfSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX3RyaWdnZXJPbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm9uRGVhY3RpdmF0ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMub25EZWFjdGl2YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEV4Y2VwdGlvbiBkdXJpbmcgJHt0aGlzLnR5cGV9IG9uRGVhY3RpdmF0ZSgpIG9uIG9iamVjdCAke3RoaXMub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VyIHRoZSBjb21wb25lbnQge0BsaW5rIENvbXBvbmVudC5vbkRlc3Ryb3l9IG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfdHJpZ2dlck9uRGVzdHJveSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vbkRlc3Ryb3kpXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFeGNlcHRpb24gZHVyaW5nICR7dGhpcy50eXBlfSBvbkRlc3Ryb3koKSBvbiBvYmplY3QgJHt0aGlzLm9iamVjdC5uYW1lfWApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lbmdpbmUuX2Rlc3Ryb3lDb21wb25lbnQodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENvbXBvbmVudHMgbXVzdCBiZSByZWdpc3RlcmVkIGJlZm9yZSBsb2FkaW5nIC8gYXBwZW5kaW5nIGEgc2NlbmUuXHJcbiAqXHJcbiAqIEl0J3MgcG9zc2libGUgdG8gZW5kIHVwIHdpdGggYSBicm9rZW4gY29tcG9uZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XHJcbiAqXHJcbiAqIC0gQ29tcG9uZW50IHdhc24ndCByZWdpc3RlcmVkIHdoZW4gdGhlIHNjZW5lIHdhcyBsb2FkZWRcclxuICogLSBDb21wb25lbnQgaW5zdGFudGlhdGlvbiBmYWlsZWRcclxuICpcclxuICogVGhpcyBkdW1teSBjb21wb25lbnQgaXMgdGh1cyB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgYnkgdGhlIGVuZ2luZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBCcm9rZW5Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ19fYnJva2VuLWNvbXBvbmVudF9fJztcclxufVxyXG4vKipcclxuICogTWVyZ2UgdGhlIGFzY2VuZGFudCBwcm9wZXJ0aWVzIG9mIGNsYXNzXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIHdhbGtzIHRoZSBwcm90b3R5cGUgY2hhaW4sIGFuZCBtZXJnZXNcclxuICogYWxsIHRoZSBwcm9wZXJ0aWVzIGZvdW5kIGluIHBhcmVudCBjb21wb25lbnRzLlxyXG4gKlxyXG4gKiBFeGFtcGxlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBpbXBvcnQge1Byb3BlcnR5LCBpbmhlcml0UHJvcGVydGllc30gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuICpcclxuICogY2xhc3MgUGFyZW50IHtcclxuICogICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0geyBwYXJlbnRQcm9wOiBQcm9wZXJ0eS5zdHJpbmcoJ3BhcmVudCcpIH07XHJcbiAqIH1cclxuICpcclxuICogY2xhc3MgQ2hpbGQgZXh0ZW5kcyBQYXJlbnQge1xyXG4gKiAgICAgc3RhdGljIFByb3BlcnRpZXMgPSB7IGNoaWxkUHJvcDogUHJvcGVydHkuc3RyaW5nKCdjaGlsZCcpIH07XHJcbiAqIH1cclxuICogaW5oZXJpdFByb3BlcnRpZXMoQ2hpbGQpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIHRhcmdldCBUaGUgY2xhc3MgaW4gd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgbWVyZ2VkXHJcbiAqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmhlcml0UHJvcGVydGllcyh0YXJnZXQpIHtcclxuICAgIGlmICghdGFyZ2V0LlR5cGVOYW1lKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGNvbnN0IGNoYWluID0gW107XHJcbiAgICBsZXQgY3VyciA9IHRhcmdldDtcclxuICAgIHdoaWxlIChjdXJyICYmICFpc0Jhc2VDb21wb25lbnRDbGFzcyhjdXJyKSkge1xyXG4gICAgICAgIGNvbnN0IGNvbXAgPSBjdXJyO1xyXG4gICAgICAgIC8qIFN0b3AgYXQgdGhlIGZpcnN0IGNsYXNzIHRoYXQgZG9lc24ndCByZXF1aXJlIHByb3BlcnRpZXMgbWVyZ2luZyAqL1xyXG4gICAgICAgIGNvbnN0IG5lZWRzTWVyZ2UgPSBjb21wLmhhc093blByb3BlcnR5KCdJbmhlcml0UHJvcGVydGllcycpXHJcbiAgICAgICAgICAgID8gY29tcC5Jbmhlcml0UHJvcGVydGllc1xyXG4gICAgICAgICAgICA6IHRydWU7XHJcbiAgICAgICAgaWYgKCFuZWVkc01lcmdlKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBpZiAoY29tcC5UeXBlTmFtZSAmJiBjb21wLmhhc093blByb3BlcnR5KCdQcm9wZXJ0aWVzJykpIHtcclxuICAgICAgICAgICAgY2hhaW4ucHVzaChjb21wLlByb3BlcnRpZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN1cnIpO1xyXG4gICAgfVxyXG4gICAgLyogTm8gcHJvdG90eXBlIG1lcmdlIGlzIG5lZWRlZC4gKi9cclxuICAgIGlmIChjaGFpbi5sZW5ndGggPD0gMSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBjb25zdCBtZXJnZWQgPSB7fTtcclxuICAgIGZvciAobGV0IGkgPSBjaGFpbi5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24obWVyZ2VkLCBjaGFpbltpXSk7XHJcbiAgICB9XHJcbiAgICB0YXJnZXQuUHJvcGVydGllcyA9IG1lcmdlZDtcclxufVxyXG4vKipcclxuICogTmF0aXZlIGNvbGxpc2lvbiBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBjb2xsaXNpb24gY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbGxpc2lvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnY29sbGlzaW9uJztcclxuICAgIC8qKiBDb2xsaXNpb24gY29tcG9uZW50IGNvbGxpZGVyICovXHJcbiAgICBnZXQgY29sbGlkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X2dldF9jb2xsaWRlcih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjb2xsaXNpb24gY29tcG9uZW50IGNvbGxpZGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb2xsaWRlciBDb2xsaWRlciBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGNvbGxpZGVyKGNvbGxpZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfc2V0X2NvbGxpZGVyKHRoaXMuX2lkLCBjb2xsaWRlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbGxpc2lvbiBjb21wb25lbnQgZXh0ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBJZiB7QGxpbmsgY29sbGlkZXJ9IHJldHVybnMge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sIG9ubHkgdGhlIGZpcnN0XHJcbiAgICAgKiBjb21wb25lbnQgb2YgdGhlIHJldHVybmVkIHZlY3RvciBpcyB1c2VkLlxyXG4gICAgICovXHJcbiAgICBnZXQgZXh0ZW50cygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZXh0ZW50cyh0aGlzLl9pZCksIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBleHRlbnRzLlxyXG4gICAgICpcclxuICAgICAqIElmIHtAbGluayBjb2xsaWRlcn0gcmV0dXJucyB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSwgb25seSB0aGUgZmlyc3RcclxuICAgICAqIGNvbXBvbmVudCBvZiB0aGUgcGFzc2VkIHZlY3RvciBpcyB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIFNwYW5zIDEgdW5pdCBvbiB0aGUgeC1heGlzLCAyIG9uIHRoZSB5LWF4aXMsIDMgb24gdGhlIHotYXhpcy5cclxuICAgICAqIGNvbGxpc2lvbi5leHRlbnQgPSBbMSwgMiwgM107XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZXh0ZW50cyBFeHRlbnRzIG9mIHRoZSBjb2xsaXNpb24gY29tcG9uZW50LCBleHBlY3RzIGFcclxuICAgICAqICAgICAgMyBjb21wb25lbnQgYXJyYXkuXHJcbiAgICAgKi9cclxuICAgIHNldCBleHRlbnRzKGV4dGVudHMpIHtcclxuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KGV4dGVudHMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgY29sbGlzaW9uIGNvbXBvbmVudCByYWRpdXMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgSWYge0BsaW5rIGNvbGxpZGVyfSBpcyBub3Qge0BsaW5rIENvbGxpZGVyLlNwaGVyZX0sIHRoZSByZXR1cm5lZCB2YWx1ZVxyXG4gICAgICogY29ycmVzcG9uZHMgdG8gdGhlIHJhZGl1cyBvZiBhIHNwaGVyZSBlbmNsb3NpbmcgdGhlIHNoYXBlLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogc3BoZXJlLnJhZGl1cyA9IDMuMDtcclxuICAgICAqIGNvbnNvbGUubG9nKHNwaGVyZS5yYWRpdXMpOyAvLyAzLjBcclxuICAgICAqXHJcbiAgICAgKiBib3guZXh0ZW50cyA9IFsyLjAsIDIuMCwgMi4wXTtcclxuICAgICAqIGNvbnNvbGUubG9nKGJveC5yYWRpdXMpOyAvLyAxLjczMi4uLlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBnZXQgcmFkaXVzKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBpZiAodGhpcy5jb2xsaWRlciA9PT0gQ29sbGlkZXIuU3BoZXJlKVxyXG4gICAgICAgICAgICByZXR1cm4gd2FzbS5IRUFQRjMyW3dhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpID4+IDJdO1xyXG4gICAgICAgIGNvbnN0IGV4dGVudHMgPSBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpLCAzKTtcclxuICAgICAgICBjb25zdCB4MiA9IGV4dGVudHNbMF0gKiBleHRlbnRzWzBdO1xyXG4gICAgICAgIGNvbnN0IHkyID0gZXh0ZW50c1sxXSAqIGV4dGVudHNbMV07XHJcbiAgICAgICAgY29uc3QgejIgPSBleHRlbnRzWzJdICogZXh0ZW50c1syXTtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KHgyICsgeTIgKyB6MikgLyAyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCByYWRpdXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJhZGl1cyBSYWRpdXMgb2YgdGhlIGNvbGxpc2lvbiBjb21wb25lbnRcclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBJZiB7QGxpbmsgY29sbGlkZXJ9IGlzIG5vdCB7QGxpbmsgQ29sbGlkZXIuU3BoZXJlfSxcclxuICAgICAqIHRoZSBleHRlbnRzIGFyZSBzZXQgdG8gZm9ybSBhIHNxdWFyZSB0aGF0IGZpdHMgYSBzcGhlcmUgd2l0aCB0aGUgcHJvdmlkZWQgcmFkaXVzLlxyXG4gICAgICpcclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogYWFiYkNvbGxpc2lvbi5yYWRpdXMgPSAyLjA7IC8vIEFBQkIgZml0cyBhIHNwaGVyZSBvZiByYWRpdXMgMi4wXHJcbiAgICAgKiBib3hDb2xsaXNpb24ucmFkaXVzID0gMy4wOyAvLyBCb3ggbm93IGZpdHMgYSBzcGhlcmUgb2YgcmFkaXVzIDMuMCwga2VlcGluZyBvcmllbnRhdGlvblxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBzZXQgcmFkaXVzKHJhZGl1cykge1xyXG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuY29sbGlkZXIgPT09IENvbGxpZGVyLlNwaGVyZSA/IHJhZGl1cyA6ICgyICogcmFkaXVzKSAvIFNRUlRfMztcclxuICAgICAgICB0aGlzLmV4dGVudHMuc2V0KFtsZW5ndGgsIGxlbmd0aCwgbGVuZ3RoXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbGxpc2lvbiBjb21wb25lbnQgZ3JvdXAuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGdyb3VwcyBpcyBhIGJpdG1hc2sgdGhhdCBpcyBjb21wYXJlZCB0byBvdGhlciBjb21wb25lbnRzIGluIHtAbGluayBDb2xsaXNpb25Db21wb25lbnQjcXVlcnlPdmVybGFwc31cclxuICAgICAqIG9yIHRoZSBncm91cCBpbiB7QGxpbmsgU2NlbmUjcmF5Q2FzdH0uXHJcbiAgICAgKlxyXG4gICAgICogQ29sbGlkZXJzIHRoYXQgaGF2ZSBubyBjb21tb24gZ3JvdXBzIHdpbGwgbm90IG92ZXJsYXAgd2l0aCBlYWNoIG90aGVyLiBJZiBhIGNvbGxpZGVyXHJcbiAgICAgKiBoYXMgbm9uZSBvZiB0aGUgZ3JvdXBzIHNldCBmb3Ige0BsaW5rIFNjZW5lI3JheUNhc3R9LCB0aGUgcmF5IHdpbGwgbm90IGhpdCBpdC5cclxuICAgICAqXHJcbiAgICAgKiBFYWNoIGJpdCByZXByZXNlbnRzIGJlbG9uZ2luZyB0byBhIGdyb3VwLCBzZWUgZXhhbXBsZS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICAgLy8gYyBiZWxvbmdzIHRvIGdyb3VwIDJcclxuICAgICAqICAgIGMuZ3JvdXAgPSAoMSA8PCAyKTtcclxuICAgICAqXHJcbiAgICAgKiAgICAvLyBjIGJlbG9uZ3MgdG8gZ3JvdXAgMFxyXG4gICAgICogICAgYy5ncm91cCA9ICgxIDw8IDApO1xyXG4gICAgICpcclxuICAgICAqICAgIC8vIGMgYmVsb25ncyB0byBncm91cCAwICphbmQqIDJcclxuICAgICAqICAgIGMuZ3JvdXAgPSAoMSA8PCAwKSB8ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqICAgIChjLmdyb3VwICYgKDEgPDwgMikpICE9IDA7IC8vIHRydWVcclxuICAgICAqICAgIChjLmdyb3VwICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZ2V0IGdyb3VwKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfY29sbGlzaW9uX2NvbXBvbmVudF9nZXRfZ3JvdXAodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY29sbGlzaW9uIGNvbXBvbmVudCBncm91cC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXAgR3JvdXAgbWFzayBvZiB0aGUgY29sbGlzaW9uIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGdyb3VwKGdyb3VwKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2NvbGxpc2lvbl9jb21wb25lbnRfc2V0X2dyb3VwKHRoaXMuX2lkLCBncm91cCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFF1ZXJ5IG92ZXJsYXBwaW5nIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogVXNhZ2U6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGNvbnN0IGNvbGxpc2lvbiA9IG9iamVjdC5nZXRDb21wb25lbnQoJ2NvbGxpc2lvbicpO1xyXG4gICAgICogY29uc3Qgb3ZlcmxhcHMgPSBjb2xsaXNpb24ucXVlcnlPdmVybGFwcygpO1xyXG4gICAgICogZm9yKGNvbnN0IG90aGVyQ29sbGlzaW9uIG9mIG92ZXJsYXBzKSB7XHJcbiAgICAgKiAgICAgY29uc3Qgb3RoZXJPYmplY3QgPSBvdGhlckNvbGxpc2lvbi5vYmplY3Q7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coYENvbGxpc2lvbiB3aXRoIG9iamVjdCAke290aGVyT2JqZWN0Lm9iamVjdElkfWApO1xyXG4gICAgICogfVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgQ29sbGlzaW9uIGNvbXBvbmVudHMgb3ZlcmxhcHBpbmcgdGhpcyBjb2xsaWRlci5cclxuICAgICAqL1xyXG4gICAgcXVlcnlPdmVybGFwcygpIHtcclxuICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9jb2xsaXNpb25fY29tcG9uZW50X3F1ZXJ5X292ZXJsYXBzKHRoaXMuX2lkLCB0aGlzLl9lbmdpbmUud2FzbS5fdGVtcE1lbSwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1TaXplID4+IDEpO1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXBzID0gbmV3IEFycmF5KGNvdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgb3ZlcmxhcHNbaV0gPSBuZXcgQ29sbGlzaW9uQ29tcG9uZW50KHRoaXMuX2VuZ2luZSwgdGhpcy5fbWFuYWdlciwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1VaW50MTZbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3ZlcmxhcHM7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIENvbGxpc2lvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwiY29sbGlkZXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBDb2xsaXNpb25Db21wb25lbnQucHJvdG90eXBlLCBcImV4dGVudHNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBDb2xsaXNpb25Db21wb25lbnQucHJvdG90eXBlLCBcImdyb3VwXCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIHRleHQgY29tcG9uZW50XHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSB0ZXh0IGNvbXBvbmVudCBpbnN0YW5jZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRleHRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RleHQnO1xyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGFsaWdubWVudC4gKi9cclxuICAgIGdldCBhbGlnbm1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfaG9yaXpvbnRhbF9hbGlnbm1lbnQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgYWxpZ25tZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbGlnbm1lbnQgQWxpZ25tZW50IGZvciB0aGUgdGV4dCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbGlnbm1lbnQoYWxpZ25tZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF9ob3Jpem9udGFsX2FsaWdubWVudCh0aGlzLl9pZCwgYWxpZ25tZW50KTtcclxuICAgIH1cclxuICAgIC8qKiBUZXh0IGNvbXBvbmVudCBqdXN0aWZpY2F0aW9uLiAqL1xyXG4gICAgZ2V0IGp1c3RpZmljYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfdmVydGljYWxfYWxpZ25tZW50KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRleHQgY29tcG9uZW50IGp1c3RpZmljYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGp1c3RpZmljYXRpb24gSnVzdGlmaWNhdGlvbiBmb3IgdGhlIHRleHQgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQganVzdGlmaWNhdGlvbihqdXN0aWZpY2F0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X3NldF92ZXJ0aWNhbF9hbGlnbm1lbnQodGhpcy5faWQsIGp1c3RpZmljYXRpb24pO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGNoYXJhY3RlciBzcGFjaW5nLiAqL1xyXG4gICAgZ2V0IGNoYXJhY3RlclNwYWNpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfY2hhcmFjdGVyX3NwYWNpbmcodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgY2hhcmFjdGVyIHNwYWNpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNwYWNpbmcgQ2hhcmFjdGVyIHNwYWNpbmcgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IGNoYXJhY3RlclNwYWNpbmcoc3BhY2luZykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfY2hhcmFjdGVyX3NwYWNpbmcodGhpcy5faWQsIHNwYWNpbmcpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IGxpbmUgc3BhY2luZy4gKi9cclxuICAgIGdldCBsaW5lU3BhY2luZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9saW5lX3NwYWNpbmcodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgbGluZSBzcGFjaW5nXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNwYWNpbmcgTGluZSBzcGFjaW5nIGZvciB0aGUgdGV4dCBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgc2V0IGxpbmVTcGFjaW5nKHNwYWNpbmcpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dF9jb21wb25lbnRfc2V0X2xpbmVfc3BhY2luZyh0aGlzLl9pZCwgc3BhY2luZyk7XHJcbiAgICB9XHJcbiAgICAvKiogVGV4dCBjb21wb25lbnQgZWZmZWN0LiAqL1xyXG4gICAgZ2V0IGVmZmVjdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHRfY29tcG9uZW50X2dldF9lZmZlY3QodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgZWZmZWN0XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVmZmVjdCBFZmZlY3QgZm9yIHRoZSB0ZXh0IGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBzZXQgZWZmZWN0KGVmZmVjdCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfZWZmZWN0KHRoaXMuX2lkLCBlZmZlY3QpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRleHQgY29tcG9uZW50IHRleHQuICovXHJcbiAgICBnZXQgdGV4dCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfdGV4dF9jb21wb25lbnRfZ2V0X3RleHQodGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhwdHIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4dCBjb21wb25lbnQgdGV4dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGV4dCBUZXh0IG9mIHRoZSB0ZXh0IGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgc2V0IHRleHQodGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfdGV4dCh0aGlzLl9pZCwgd2FzbS50ZW1wVVRGOCh0ZXh0LnRvU3RyaW5nKCkpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1hdGVyaWFsIHRvIHJlbmRlciB0aGUgdGV4dCB3aXRoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtYXRlcmlhbCBOZXcgbWF0ZXJpYWwuXHJcbiAgICAgKi9cclxuICAgIHNldCBtYXRlcmlhbChtYXRlcmlhbCkge1xyXG4gICAgICAgIGNvbnN0IG1hdEluZGV4ID0gbWF0ZXJpYWwgPyBtYXRlcmlhbC5faW5kZXggOiAwO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9zZXRfbWF0ZXJpYWwodGhpcy5faWQsIG1hdEluZGV4KTtcclxuICAgIH1cclxuICAgIC8qKiBNYXRlcmlhbCB1c2VkIHRvIHJlbmRlciB0aGUgdGV4dC4gKi9cclxuICAgIGdldCBtYXRlcmlhbCgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF90ZXh0X2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwodGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGlnbm1lbnRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBUZXh0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJqdXN0aWZpY2F0aW9uXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2hhcmFjdGVyU3BhY2luZ1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVTcGFjaW5nXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwiZWZmZWN0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgVGV4dENvbXBvbmVudC5wcm90b3R5cGUsIFwidGV4dFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFRleHRDb21wb25lbnQucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIHZpZXcgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgdmlldyBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVmlld0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndmlldyc7XHJcbiAgICAvKiogUHJvamVjdGlvbiBtYXRyaXguICovXHJcbiAgICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X3Byb2plY3Rpb25fbWF0cml4KHRoaXMuX2lkKSwgMTYpO1xyXG4gICAgfVxyXG4gICAgLyoqIFZpZXdDb21wb25lbnQgbmVhciBjbGlwcGluZyBwbGFuZSB2YWx1ZS4gKi9cclxuICAgIGdldCBuZWFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X25lYXIodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbmVhciBjbGlwcGluZyBwbGFuZSBkaXN0YW5jZSBmb3IgdGhlIHZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBjaGFuZ2Ugd2lsbCBhcHBseSBpbiB0aGVcclxuICAgICAqIGZvbGxvd2luZyBmcmFtZSwgb3RoZXJ3aXNlIHRoZSBjaGFuZ2UgaXMgaW1tZWRpYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZWFyIE5lYXIgZGVwdGggdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIHNldCBuZWFyKG5lYXIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X25lYXIodGhpcy5faWQsIG5lYXIpO1xyXG4gICAgfVxyXG4gICAgLyoqIEZhciBjbGlwcGluZyBwbGFuZSB2YWx1ZS4gKi9cclxuICAgIGdldCBmYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF92aWV3X2NvbXBvbmVudF9nZXRfZmFyKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGZhciBjbGlwcGluZyBwbGFuZSBkaXN0YW5jZSBmb3IgdGhlIHZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBjaGFuZ2Ugd2lsbCBhcHBseSBpbiB0aGVcclxuICAgICAqIGZvbGxvd2luZyBmcmFtZSwgb3RoZXJ3aXNlIHRoZSBjaGFuZ2UgaXMgaW1tZWRpYXRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmYXIgTmVhciBkZXB0aCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgc2V0IGZhcihmYXIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfc2V0X2Zhcih0aGlzLl9pZCwgZmFyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBob3Jpem9udGFsIGZpZWxkIG9mIHZpZXcgZm9yIHRoZSB2aWV3LCAqKmluIGRlZ3JlZXMqKi5cclxuICAgICAqXHJcbiAgICAgKiBJZiBhbiBYUiBzZXNzaW9uIGlzIGFjdGl2ZSwgdGhpcyByZXR1cm5zIHRoZSBmaWVsZCBvZiB2aWV3IHJlcG9ydGVkIGJ5XHJcbiAgICAgKiB0aGUgZGV2aWNlLCByZWdhcmRsZXNzIG9mIHRoZSBmb3YgdGhhdCB3YXMgc2V0LlxyXG4gICAgICovXHJcbiAgICBnZXQgZm92KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdmlld19jb21wb25lbnRfZ2V0X2Zvdih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3IGZvciB0aGUgdmlldywgKippbiBkZWdyZWVzKiouXHJcbiAgICAgKlxyXG4gICAgICogSWYgYW4gWFIgc2Vzc2lvbiBpcyBhY3RpdmUsIHRoZSBmaWVsZCBvZiB2aWV3IHJlcG9ydGVkIGJ5IHRoZSBkZXZpY2UgaXNcclxuICAgICAqIHVzZWQgYW5kIHRoaXMgdmFsdWUgaXMgaWdub3JlZC4gQWZ0ZXIgdGhlIFhSIHNlc3Npb24gZW5kcywgdGhlIG5ldyB2YWx1ZVxyXG4gICAgICogaXMgYXBwbGllZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZm92IEhvcml6b250YWwgZmllbGQgb2YgdmlldywgKippbiBkZWdyZWVzKiouXHJcbiAgICAgKi9cclxuICAgIHNldCBmb3YoZm92KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3ZpZXdfY29tcG9uZW50X3NldF9mb3YodGhpcy5faWQsIGZvdik7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBlbnVtZXJhYmxlKClcclxuXSwgVmlld0NvbXBvbmVudC5wcm90b3R5cGUsIFwicHJvamVjdGlvbk1hdHJpeFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFZpZXdDb21wb25lbnQucHJvdG90eXBlLCBcIm5lYXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJmYXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJmb3ZcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgaW5wdXQgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgaW5wdXQgY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIElucHV0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdpbnB1dCc7XHJcbiAgICAvKiogSW5wdXQgY29tcG9uZW50IHR5cGUgKi9cclxuICAgIGdldCBpbnB1dFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pbnB1dF9jb21wb25lbnRfZ2V0X3R5cGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgaW5wdXQgY29tcG9uZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBOZXcgaW5wdXQgY29tcG9uZW50IHR5cGUuXHJcbiAgICAgKi9cclxuICAgIHNldCBpbnB1dFR5cGUodHlwZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9pbnB1dF9jb21wb25lbnRfc2V0X3R5cGUodGhpcy5faWQsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXZWJYUiBEZXZpY2UgQVBJIGlucHV0IHNvdXJjZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnB1dCBjb21wb25lbnQsXHJcbiAgICAgKiBpZiB0eXBlIHtAbGluayBJbnB1dFR5cGUuQ29udHJvbGxlckxlZnR9IG9yIHtAbGluayBJbnB1dFR5cGUuQ29udHJvbGxlclJpZ2h0fS5cclxuICAgICAqL1xyXG4gICAgZ2V0IHhySW5wdXRTb3VyY2UoKSB7XHJcbiAgICAgICAgY29uc3QgeHJTZXNzaW9uID0gdGhpcy5fZW5naW5lLnhyU2Vzc2lvbjtcclxuICAgICAgICBpZiAoeHJTZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGlucHV0U291cmNlIG9mIHhyU2Vzc2lvbi5pbnB1dFNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dFNvdXJjZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogJ2xlZnQnLCAncmlnaHQnIG9yIGBudWxsYCBkZXBlbmRpbmcgb24gdGhlIHtAbGluayBJbnB1dENvbXBvbmVudCNpbnB1dFR5cGV9LlxyXG4gICAgICovXHJcbiAgICBnZXQgaGFuZGVkbmVzcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dFR5cGUgPSB0aGlzLmlucHV0VHlwZTtcclxuICAgICAgICBpZiAoaW5wdXRUeXBlID09IElucHV0VHlwZS5Db250cm9sbGVyUmlnaHQgfHxcclxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5SYXlSaWdodCB8fFxyXG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLkV5ZVJpZ2h0KVxyXG4gICAgICAgICAgICByZXR1cm4gJ3JpZ2h0JztcclxuICAgICAgICBpZiAoaW5wdXRUeXBlID09IElucHV0VHlwZS5Db250cm9sbGVyTGVmdCB8fFxyXG4gICAgICAgICAgICBpbnB1dFR5cGUgPT0gSW5wdXRUeXBlLlJheUxlZnQgfHxcclxuICAgICAgICAgICAgaW5wdXRUeXBlID09IElucHV0VHlwZS5FeWVMZWZ0KVxyXG4gICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5wdXRUeXBlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIGVudW1lcmFibGUoKVxyXG5dLCBJbnB1dENvbXBvbmVudC5wcm90b3R5cGUsIFwieHJJbnB1dFNvdXJjZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBlbnVtZXJhYmxlKClcclxuXSwgSW5wdXRDb21wb25lbnQucHJvdG90eXBlLCBcImhhbmRlZG5lc3NcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgbGlnaHQgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbGlnaHQgY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExpZ2h0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdsaWdodCc7XHJcbiAgICBnZXRDb2xvcihvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfY29sb3IodGhpcy5faWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5IRUFQRjMyW3B0cl07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5IRUFQRjMyW3B0ciArIDFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uSEVBUEYzMltwdHIgKyAyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGlnaHQgY29sb3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGMgTmV3IGNvbG9yIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldENvbG9yKGMpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9jb2xvcih0aGlzLl9pZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IGNbMF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gY1sxXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSBjWzJdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWaWV3IG9uIHRoZSBsaWdodCBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBQcmVmZXIgdG8gdXNlIHtAbGluayBnZXRDb2xvcn0gaW4gcGVyZm9ybWFuY2UtY3JpdGljYWwgY29kZS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGNvbG9yKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2NvbG9yKHRoaXMuX2lkKSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsaWdodCBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYyBDb2xvciBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFByZWZlciB0byB1c2Uge0BsaW5rIHNldENvbG9yfSBpbiBwZXJmb3JtYW5jZS1jcml0aWNhbCBjb2RlLlxyXG4gICAgICovXHJcbiAgICBzZXQgY29sb3IoYykge1xyXG4gICAgICAgIHRoaXMuY29sb3Iuc2V0KGMpO1xyXG4gICAgfVxyXG4gICAgLyoqIExpZ2h0IHR5cGUuICovXHJcbiAgICBnZXQgbGlnaHRUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF90eXBlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpZ2h0IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGxpZ2h0VHlwZSBUeXBlIG9mIHRoZSBsaWdodCBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIHNldCBsaWdodFR5cGUodCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3R5cGUodGhpcy5faWQsIHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMaWdodCBpbnRlbnNpdHkuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IGludGVuc2l0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfaW50ZW5zaXR5KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpZ2h0IGludGVuc2l0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW50ZW5zaXR5IEludGVuc2l0eSBvZiB0aGUgbGlnaHQgY29tcG9uZW50LlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBpbnRlbnNpdHkoaW50ZW5zaXR5KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfaW50ZW5zaXR5KHRoaXMuX2lkLCBpbnRlbnNpdHkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXRlciBhbmdsZSBmb3Igc3BvdCBsaWdodHMsIGluIGRlZ3JlZXMuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IG91dGVyQW5nbGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X291dGVyQW5nbGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgb3V0ZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhbmdsZSBPdXRlciBhbmdsZSwgaW4gZGVncmVlcy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgb3V0ZXJBbmdsZShhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X291dGVyQW5nbGUodGhpcy5faWQsIGFuZ2xlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW5uZXIgYW5nbGUgZm9yIHNwb3QgbGlnaHRzLCBpbiBkZWdyZWVzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBpbm5lckFuZ2xlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9pbm5lckFuZ2xlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGlubmVyIGFuZ2xlIGZvciBzcG90IGxpZ2h0cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYW5nbGUgSW5uZXIgYW5nbGUsIGluIGRlZ3JlZXMuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IGlubmVyQW5nbGUoYW5nbGUpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9pbm5lckFuZ2xlKHRoaXMuX2lkLCBhbmdsZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGxpZ2h0IGNhc3RzIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgZ2V0IHNoYWRvd3MoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9nZXRfc2hhZG93cyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoZSBsaWdodCBjYXN0cyBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIGxpZ2h0IGNhc3RzIHNoYWRvd3MuXHJcbiAgICAgKiBAc2luY2UgMS4wLjBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYWRvd3MoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd3ModGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSYW5nZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhZG93UmFuZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X3NoYWRvd1JhbmdlKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHJhbmdlIGZvciBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByYW5nZSBSYW5nZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhZG93UmFuZ2UocmFuZ2UpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dSYW5nZSh0aGlzLl9pZCwgcmFuZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBCaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFkb3dCaWFzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dCaWFzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGJpYXMgdmFsdWUgZm9yIHNoYWRvd3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGJpYXMgQmlhcyBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgc2hhZG93QmlhcyhiaWFzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfc2hhZG93Qmlhcyh0aGlzLl9pZCwgYmlhcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE5vcm1hbCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBzaGFkb3dOb3JtYWxCaWFzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dOb3JtYWxCaWFzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG5vcm1hbCBiaWFzIHZhbHVlIGZvciBzaGFkb3dzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiaWFzIE5vcm1hbCBiaWFzIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFkb3dOb3JtYWxCaWFzKGJpYXMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X3NldF9zaGFkb3dOb3JtYWxCaWFzKHRoaXMuX2lkLCBiaWFzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhZG93VGV4ZWxTaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbGlnaHRfY29tcG9uZW50X2dldF9zaGFkb3dUZXhlbFNpemUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGV4ZWwgc2l6ZSBmb3Igc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSBUZXhlbCBzaXplIGZvciBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFkb3dUZXhlbFNpemUoc2l6ZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfc2V0X3NoYWRvd1RleGVsU2l6ZSh0aGlzLl9pZCwgc2l6ZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhc2NhZGUgY291bnQgZm9yIHtAbGluayBMaWdodFR5cGUuU3VufSBzaGFkb3dzLlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGdldCBjYXNjYWRlQ291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9saWdodF9jb21wb25lbnRfZ2V0X2Nhc2NhZGVDb3VudCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBjYXNjYWRlIGNvdW50IGZvciB7QGxpbmsgTGlnaHRUeXBlLlN1bn0gc2hhZG93cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgQ2FzY2FkZSBjb3VudC5cclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBzZXQgY2FzY2FkZUNvdW50KGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2xpZ2h0X2NvbXBvbmVudF9zZXRfY2FzY2FkZUNvdW50KHRoaXMuX2lkLCBjb3VudCk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJjb2xvclwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJsaWdodFR5cGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW50ZW5zaXR5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcIm91dGVyQW5nbGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiaW5uZXJBbmdsZVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd1JhbmdlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgTGlnaHRDb21wb25lbnQucHJvdG90eXBlLCBcInNoYWRvd0JpYXNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhZG93Tm9ybWFsQmlhc1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIExpZ2h0Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzaGFkb3dUZXhlbFNpemVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBMaWdodENvbXBvbmVudC5wcm90b3R5cGUsIFwiY2FzY2FkZUNvdW50XCIsIG51bGwpO1xyXG4vKipcclxuICogTmF0aXZlIGFuaW1hdGlvbiBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBhbmltYXRpb24gY29tcG9uZW50IGluc3RhbmNlLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnYW5pbWF0aW9uJztcclxuICAgIC8qKlxyXG4gICAgICogU2V0IGFuaW1hdGlvbiB0byBwbGF5LlxyXG4gICAgICpcclxuICAgICAqIE1ha2Ugc3VyZSB0byB7QGxpbmsgQW5pbWF0aW9uI3JldGFyZ2V0fSB0aGUgYW5pbWF0aW9uIHRvIGFmZmVjdCB0aGVcclxuICAgICAqIHJpZ2h0IG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFuaW0gQW5pbWF0aW9uIHRvIHBsYXkuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbmltYXRpb24oYW5pbSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9hbmltYXRpb24odGhpcy5faWQsIGFuaW0gPyBhbmltLl9pbmRleCA6IDApO1xyXG4gICAgfVxyXG4gICAgLyoqIEFuaW1hdGlvbiBzZXQgZm9yIHRoaXMgY29tcG9uZW50ICovXHJcbiAgICBnZXQgYW5pbWF0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfZ2V0X2FuaW1hdGlvbih0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgcGxheSBjb3VudC4gU2V0IHRvIGAwYCB0byBsb29wIGluZGVmaW5pdGVseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGxheUNvdW50IE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIGFuaW1hdGlvbi5cclxuICAgICAqL1xyXG4gICAgc2V0IHBsYXlDb3VudChwbGF5Q291bnQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfYW5pbWF0aW9uX2NvbXBvbmVudF9zZXRfcGxheUNvdW50KHRoaXMuX2lkLCBwbGF5Q291bnQpO1xyXG4gICAgfVxyXG4gICAgLyoqIE51bWJlciBvZiB0aW1lcyB0aGUgYW5pbWF0aW9uIGlzIHBsYXllZC4gKi9cclxuICAgIGdldCBwbGF5Q291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9wbGF5Q291bnQodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgc3BlZWQuIFNldCB0byBuZWdhdGl2ZSB2YWx1ZXMgdG8gcnVuIHRoZSBhbmltYXRpb24gYmFja3dhcmRzLlxyXG4gICAgICpcclxuICAgICAqIFNldHRpbmcgc3BlZWQgaGFzIGFuIGltbWVkaWF0ZSBlZmZlY3QgZm9yIHRoZSBjdXJyZW50IGZyYW1lJ3MgdXBkYXRlXHJcbiAgICAgKiBhbmQgd2lsbCBjb250aW51ZSB3aXRoIHRoZSBzcGVlZCBmcm9tIHRoZSBjdXJyZW50IHBvaW50IGluIHRoZSBhbmltYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNwZWVkIE5ldyBzcGVlZCBhdCB3aGljaCB0byBwbGF5IHRoZSBhbmltYXRpb24uXHJcbiAgICAgKiBAc2luY2UgMC44LjEwXHJcbiAgICAgKi9cclxuICAgIHNldCBzcGVlZChzcGVlZCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3NldF9zcGVlZCh0aGlzLl9pZCwgc3BlZWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGVlZCBmYWN0b3IgYXQgd2hpY2ggdGhlIGFuaW1hdGlvbiBpcyBwbGF5ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC4xMFxyXG4gICAgICovXHJcbiAgICBnZXQgc3BlZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X2dldF9zcGVlZCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBwbGF5aW5nIHN0YXRlIG9mIHRoZSBhbmltYXRpb24gKi9cclxuICAgIGdldCBzdGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfc3RhdGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQbGF5IGFuaW1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgYW5pbWF0aW9uIGlzIGN1cnJlbnRseSBwYXVzZWQsIHJlc3VtZXMgZnJvbSB0aGF0IHBvc2l0aW9uLiBJZiB0aGVcclxuICAgICAqIGFuaW1hdGlvbiBpcyBhbHJlYWR5IHBsYXlpbmcsIGRvZXMgbm90aGluZy5cclxuICAgICAqXHJcbiAgICAgKiBUbyByZXN0YXJ0IHRoZSBhbmltYXRpb24sIHtAbGluayBBbmltYXRpb25Db21wb25lbnQjc3RvcH0gaXQgZmlyc3QuXHJcbiAgICAgKi9cclxuICAgIHBsYXkoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9jb21wb25lbnRfcGxheSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKiogU3RvcCBhbmltYXRpb24uICovXHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3N0b3AodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIFBhdXNlIGFuaW1hdGlvbi4gKi9cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9hbmltYXRpb25fY29tcG9uZW50X3BhdXNlKHRoaXMuX2lkKTtcclxuICAgIH1cclxufVxyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgQW5pbWF0aW9uQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmltYXRpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBBbmltYXRpb25Db21wb25lbnQucHJvdG90eXBlLCBcInBsYXlDb3VudFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwic3BlZWRcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgZW51bWVyYWJsZSgpXHJcbl0sIEFuaW1hdGlvbkNvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGVcIiwgbnVsbCk7XHJcbi8qKlxyXG4gKiBOYXRpdmUgbWVzaCBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byBhIG5hdGl2ZSBtZXNoIGNvbXBvbmVudCBpbnN0YW5jZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBNZXNoQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdtZXNoJztcclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1hdGVyaWFsIHRvIHJlbmRlciB0aGUgbWVzaCB3aXRoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtYXRlcmlhbCBNYXRlcmlhbCB0byByZW5kZXIgdGhlIG1lc2ggd2l0aC5cclxuICAgICAqL1xyXG4gICAgc2V0IG1hdGVyaWFsKG1hdGVyaWFsKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9tYXRlcmlhbCh0aGlzLl9pZCwgbWF0ZXJpYWwgPyBtYXRlcmlhbC5faW5kZXggOiAwKTtcclxuICAgIH1cclxuICAgIC8qKiBNYXRlcmlhbCB1c2VkIHRvIHJlbmRlciB0aGUgbWVzaC4gKi9cclxuICAgIGdldCBtYXRlcmlhbCgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWF0ZXJpYWwodGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCBpZCkgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIE1lc2ggcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuICovXHJcbiAgICBnZXQgbWVzaCgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2NvbXBvbmVudF9nZXRfbWVzaCh0aGlzLl9pZCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNZXNoKHRoaXMuX2VuZ2luZSwgaWQpIDogbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IG1lc2ggdG8gcmVuZGVyZWQgd2l0aCB0aGlzIGNvbXBvbmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbWVzaCBNZXNoIHJlbmRlcmVkIGJ5IHRoaXMgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBzZXQgbWVzaChtZXNoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfY29tcG9uZW50X3NldF9tZXNoKHRoaXMuX2lkLCBtZXNoID8gbWVzaC5faW5kZXggOiAwKTtcclxuICAgIH1cclxuICAgIC8qKiBTa2luIGZvciB0aGlzIG1lc2ggY29tcG9uZW50LiAqL1xyXG4gICAgZ2V0IHNraW4oKSB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfZ2V0X3NraW4odGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBpZCA+IDAgPyBuZXcgU2tpbih0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBza2luIHRvIHRyYW5zZm9ybSB0aGlzIG1lc2ggY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBza2luIFNraW4gdG8gdXNlIGZvciByZW5kZXJpbmcgc2tpbm5lZCBtZXNoZXMuXHJcbiAgICAgKi9cclxuICAgIHNldCBza2luKHNraW4pIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9jb21wb25lbnRfc2V0X3NraW4odGhpcy5faWQsIHNraW4gPyBza2luLl9pbmRleCA6IDApO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBNZXNoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIE1lc2hDb21wb25lbnQucHJvdG90eXBlLCBcIm1lc2hcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBNZXNoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJza2luXCIsIG51bGwpO1xyXG4vKipcclxuICogRW51bSBmb3IgUGh5c2ljcyBheGVzIGxvY2tpbmdcclxuICpcclxuICogU2VlIHtAbGluayBQaHlzWENvbXBvbmVudC5hbmd1bGFyTG9ja0F4aXN9IGFuZCB7QGxpbmsgUGh5c1hDb21wb25lbnQubGluZWFyTG9ja0F4aXN9LlxyXG4gKi9cclxuZXhwb3J0IHZhciBMb2NrQXhpcztcclxuKGZ1bmN0aW9uIChMb2NrQXhpcykge1xyXG4gICAgLyoqXHJcbiAgICAgKiBObyBheGlzIHNlbGVjdGVkLlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlggYXhpcyoqOlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIlhcIl0gPSAxXSA9IFwiWFwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlkgYXhpcyoqOlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIllcIl0gPSAyXSA9IFwiWVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiAqKlogYXhpcyoqOlxyXG4gICAgICovXHJcbiAgICBMb2NrQXhpc1tMb2NrQXhpc1tcIlpcIl0gPSA0XSA9IFwiWlwiO1xyXG59KShMb2NrQXhpcyB8fCAoTG9ja0F4aXMgPSB7fSkpO1xyXG4vKipcclxuICogTmF0aXZlIHBoeXN4IHJpZ2lkIGJvZHkgY29tcG9uZW50LlxyXG4gKlxyXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gYSBuYXRpdmUgbWVzaCBjb21wb25lbnQgaW5zdGFuY2UuXHJcbiAqIE9ubHkgYXZhaWxhYmxlIHdoZW4gdXNpbmcgcGh5c3ggZW5hYmxlZCBydW50aW1lLCBzZWUgXCJQcm9qZWN0IFNldHRpbmdzID4gUnVudGltZVwiLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBoeXNYQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwaHlzeCc7XHJcbiAgICBnZXRUcmFuc2xhdGlvbk9mZnNldChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfb2Zmc2V0VHJhbnNsYXRpb24odGhpcy5faWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICBnZXRSb3RhdGlvbk9mZnNldChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfb2Zmc2V0VHJhbnNmb3JtKHRoaXMuX2lkKSA+PiAyOyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMgc3RhdGljLlxyXG4gICAgICpcclxuICAgICAqIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSBvbmx5IHRha2VzIGVmZmVjdCBvbmNlIHRoZSBjb21wb25lbnRcclxuICAgICAqIHN3aXRjaGVzIGZyb20gaW5hY3RpdmUgdG8gYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhlIHJpZ2lkIGJvZHkgc2hvdWxkIGJlIHN0YXRpYy5cclxuICAgICAqL1xyXG4gICAgc2V0IHN0YXRpYyhiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc3RhdGljKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgaXMgc3RhdGljLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgcHJvcGVydHkgcmV0dXJucyB3aGV0aGVyIHRoZSByaWdpZCBib2R5IGlzICplZmZlY3RpdmVseSpcclxuICAgICAqIHN0YXRpYy4gSWYgc3RhdGljIHByb3BlcnR5IHdhcyBzZXQgd2hpbGUgdGhlIHJpZ2lkIGJvZHkgd2FzXHJcbiAgICAgKiBhY3RpdmUsIGl0IHdpbGwgbm90IHRha2UgZWZmZWN0IHVudGlsIHRoZSByaWdpZCBib2R5IGlzIHNldFxyXG4gICAgICogaW5hY3RpdmUgYW5kIGFjdGl2ZSBhZ2Fpbi4gVW50aWwgdGhlIGNvbXBvbmVudCBpcyBzZXQgaW5hY3RpdmUsXHJcbiAgICAgKiB0aGlzIGdldHRlciB3aWxsIHJldHVybiB3aGV0aGVyIHRoZSByaWdpZCBib2R5IGlzIGFjdHVhbGx5XHJcbiAgICAgKiBzdGF0aWMuXHJcbiAgICAgKi9cclxuICAgIGdldCBzdGF0aWMoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc3RhdGljKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0VHJhbnNsYXRpb25PZmZzZXR9LlxyXG4gICAgICpcclxuICAgICAqIEdpdmVzIGEgcXVpY2sgdmlldyBvZiB0aGUgb2Zmc2V0IGluIGEgZGVidWdnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUHJlZmVyIHRvIHVzZSB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0VHJhbnNsYXRpb25PZmZzZXR9IGZvciBwZXJmb3JtYW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgZ2V0IHRyYW5zbGF0aW9uT2Zmc2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFRyYW5zbGF0aW9uT2Zmc2V0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgb2Zmc2V0IHRyYW5zbGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBhcnJheSBtdXN0IGJlIGEgdmVjdG9yIG9mIGF0IGxlYXN0ICoqMyoqIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSBjb21wb25lbnQgbXVzdCBiZSByZS1hY3RpdmF0ZWQgdG8gYXBwbHkgdGhlIGNoYW5nZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgc2V0IHRyYW5zbGF0aW9uT2Zmc2V0KG9mZnNldCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X29mZnNldFRyYW5zbGF0aW9uKHRoaXMuX2lkLCBvZmZzZXRbMF0sIG9mZnNldFsxXSwgb2Zmc2V0WzJdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXF1aXZhbGVudCB0byB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0Um90YXRpb25PZmZzZXR9LlxyXG4gICAgICpcclxuICAgICAqIEdpdmVzIGEgcXVpY2sgdmlldyBvZiB0aGUgb2Zmc2V0IGluIGEgZGVidWdnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUHJlZmVyIHRvIHVzZSB7QGxpbmsgUGh5c1hDb21wb25lbnQuZ2V0Um90YXRpb25PZmZzZXR9IGZvciBwZXJmb3JtYW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjFcclxuICAgICAqL1xyXG4gICAgZ2V0IHJvdGF0aW9uT2Zmc2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJvdGF0aW9uT2Zmc2V0KCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgb2Zmc2V0IHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBhcnJheSBtdXN0IGJlIGEgcXVhdGVybmlvbiBvZiBhdCBsZWFzdCAqKjQqKiBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgY29tcG9uZW50IG11c3QgYmUgcmUtYWN0aXZhdGVkIHRvIGFwcGx5IHRoZSBjaGFuZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIHNldCByb3RhdGlvbk9mZnNldChvZmZzZXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9vZmZzZXRSb3RhdGlvbih0aGlzLl9pZCwgb2Zmc2V0WzBdLCBvZmZzZXRbMV0sIG9mZnNldFsyXSwgb2Zmc2V0WzNdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5IHNob3VsZCBiZSBraW5lbWF0aWMuXHJcbiAgICAgKi9cclxuICAgIHNldCBraW5lbWF0aWMoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2tpbmVtYXRpYyh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IGlzIGtpbmVtYXRpYy5cclxuICAgICAqL1xyXG4gICAgZ2V0IGtpbmVtYXRpYygpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9raW5lbWF0aWModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBncmF2aXR5IGlzIGVuYWJsZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0aGUgcmlnaWQgYm9keSdzIGdyYXZpdHkgc2hvdWxkIGJlIGVuYWJsZWQuXHJcbiAgICAgKi9cclxuICAgIHNldCBncmF2aXR5KGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ncmF2aXR5KHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIHJpZ2lkIGJvZHkncyBncmF2aXR5IGZsYWcgaXMgZW5hYmxlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGdyYXZpdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfZ3Jhdml0eSh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3aGV0aGVyIHRoaXMgcmlnaWQgYm9keSdzIHNpbXVsYXRlIGZsYWcgaXMgZW5hYmxlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoZSByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBzaG91bGQgYmUgZW5hYmxlZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHNpbXVsYXRlKGIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaW11bGF0ZSh0aGlzLl9pZCwgYik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5J3Mgc2ltdWxhdGUgZmxhZyBpcyBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBnZXQgc2ltdWxhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2ltdWxhdGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cclxuICAgICAqXHJcbiAgICAgKiB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufSBhbmQge0BsaW5rIHRyaWdnZXJ9IGNhbiBub3QgYmUgZW5hYmxlZCBhdCB0aGVcclxuICAgICAqIHNhbWUgdGltZS4gRW5hYmxpbmcge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gd2hpbGUge0BsaW5rIHRyaWdnZXJ9IGlzIGVuYWJsZWRcclxuICAgICAqIHdpbGwgZGlzYWJsZSB7QGxpbmsgdHJpZ2dlcn0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGIgV2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cclxuICAgICAqL1xyXG4gICAgc2V0IGFsbG93U2ltdWxhdGlvbihiKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYWxsb3dTaW11bGF0aW9uKHRoaXMuX2lkLCBiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0byBhbGxvdyBzaW11bGF0aW9uIG9mIHRoaXMgcmlnaWQgYm9keS5cclxuICAgICAqL1xyXG4gICAgZ2V0IGFsbG93U2ltdWxhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbGxvd1NpbXVsYXRpb24odGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHJpZ2lkIGJvZHkgbWF5IGJlIHF1ZXJpZWQgaW4gcmF5IGNhc3RzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIFdoZXRoZXIgdGhpcyByaWdpZCBib2R5IG1heSBiZSBxdWVyaWVkIGluIHJheSBjYXN0cy5cclxuICAgICAqL1xyXG4gICAgc2V0IGFsbG93UXVlcnkoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FsbG93UXVlcnkodGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcmlnaWQgYm9keSBtYXkgYmUgcXVlcmllZCBpbiByYXkgY2FzdHMuXHJcbiAgICAgKi9cclxuICAgIGdldCBhbGxvd1F1ZXJ5KCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FsbG93UXVlcnkodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd2hldGhlciB0aGlzIHBoeXNpY3MgYm9keSBpcyBhIHRyaWdnZXIuXHJcbiAgICAgKlxyXG4gICAgICoge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gYW5kIHtAbGluayB0cmlnZ2VyfSBjYW4gbm90IGJlIGVuYWJsZWQgYXQgdGhlXHJcbiAgICAgKiBzYW1lIHRpbWUuIEVuYWJsaW5nIHRyaWdnZXIgd2hpbGUge0BsaW5rIGFsbG93U2ltdWxhdGlvbn0gaXMgZW5hYmxlZCxcclxuICAgICAqIHdpbGwgZGlzYWJsZSB7QGxpbmsgYWxsb3dTaW11bGF0aW9ufS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYiBXaGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cclxuICAgICAqL1xyXG4gICAgc2V0IHRyaWdnZXIoYikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X3RyaWdnZXIodGhpcy5faWQsIGIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgcGh5c2ljcyBib2R5IGlzIGEgdHJpZ2dlci5cclxuICAgICAqL1xyXG4gICAgZ2V0IHRyaWdnZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfdHJpZ2dlcih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgc2hhcGUgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHMgTmV3IHNoYXBlLlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKi9cclxuICAgIHNldCBzaGFwZShzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfc2hhcGUodGhpcy5faWQsIHMpO1xyXG4gICAgfVxyXG4gICAgLyoqIFRoZSBzaGFwZSBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi4gKi9cclxuICAgIGdldCBzaGFwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfc2hhcGUodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYWRkaXRpb25hbCBkYXRhIGZvciB0aGUgc2hhcGUuXHJcbiAgICAgKlxyXG4gICAgICogUmV0cmlldmVkIG9ubHkgZnJvbSB7QGxpbmsgUGh5c1hDb21wb25lbnQjc2hhcGVEYXRhfS5cclxuICAgICAqIEBzaW5jZSAwLjguMTBcclxuICAgICAqL1xyXG4gICAgc2V0IHNoYXBlRGF0YShkKSB7XHJcbiAgICAgICAgaWYgKGQgPT0gbnVsbCB8fCAhaXNNZXNoU2hhcGUodGhpcy5zaGFwZSkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zaGFwZV9kYXRhKHRoaXMuX2lkLCBkLmluZGV4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkaXRpb25hbCBkYXRhIGZvciB0aGUgc2hhcGUuXHJcbiAgICAgKlxyXG4gICAgICogYG51bGxgIGZvciB7QGxpbmsgU2hhcGV9IHZhbHVlczogYE5vbmVgLCBgU3BoZXJlYCwgYENhcHN1bGVgLCBgQm94YCwgYFBsYW5lYC5cclxuICAgICAqIGB7aW5kZXg6IG59YCBmb3IgYFRyaWFuZ2xlTWVzaGAgYW5kIGBDb252ZXhIdWxsYC5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGRhdGEgaXMgY3VycmVudGx5IG9ubHkgZm9yIHBhc3Npbmcgb250byBvciBjcmVhdGluZyBvdGhlciB7QGxpbmsgUGh5c1hDb21wb25lbnR9LlxyXG4gICAgICogQHNpbmNlIDAuOC4xMFxyXG4gICAgICovXHJcbiAgICBnZXQgc2hhcGVEYXRhKCkge1xyXG4gICAgICAgIGlmICghaXNNZXNoU2hhcGUodGhpcy5zaGFwZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGluZGV4OiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zaGFwZV9kYXRhKHRoaXMuX2lkKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHNoYXBlIGV4dGVudHMgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGUgTmV3IGV4dGVudHMgZm9yIHRoZSBzaGFwZS5cclxuICAgICAqIEBzaW5jZSAwLjguNVxyXG4gICAgICovXHJcbiAgICBzZXQgZXh0ZW50cyhlKSB7XHJcbiAgICAgICAgdGhpcy5leHRlbnRzLnNldChlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHNoYXBlIGV4dGVudHMgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGdldCBleHRlbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2V4dGVudHModGhpcy5faWQpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHB0ciwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBzdGF0aWNGcmljdGlvbi5cclxuICAgICAqL1xyXG4gICAgZ2V0IHN0YXRpY0ZyaWN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9zdGF0aWNGcmljdGlvbih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBzdGF0aWNGcmljdGlvbi5cclxuICAgICAqIEBwYXJhbSB2IE5ldyBzdGF0aWNGcmljdGlvbi5cclxuICAgICAqL1xyXG4gICAgc2V0IHN0YXRpY0ZyaWN0aW9uKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9zdGF0aWNGcmljdGlvbih0aGlzLl9pZCwgdik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBkeW5hbWljRnJpY3Rpb24uXHJcbiAgICAgKi9cclxuICAgIGdldCBkeW5hbWljRnJpY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2R5bmFtaWNGcmljdGlvbih0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBkeW5hbWljRnJpY3Rpb25cclxuICAgICAqIEBwYXJhbSB2IE5ldyBkeW5hbWljRGFtcGluZy5cclxuICAgICAqL1xyXG4gICAgc2V0IGR5bmFtaWNGcmljdGlvbih2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZHluYW1pY0ZyaWN0aW9uKHRoaXMuX2lkLCB2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGJvdW5jaW5lc3MuXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZ2V0IGJvdW5jaW5lc3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2JvdW5jaW5lc3ModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYm91bmNpbmVzcy5cclxuICAgICAqIEBwYXJhbSB2IE5ldyBib3VuY2luZXNzLlxyXG4gICAgICogQHNpbmNlIDAuOS4wXHJcbiAgICAgKi9cclxuICAgIHNldCBib3VuY2luZXNzKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9ib3VuY2luZXNzKHRoaXMuX2lkLCB2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGxpbmVhckRhbXBpbmcvXHJcbiAgICAgKi9cclxuICAgIGdldCBsaW5lYXJEYW1waW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9saW5lYXJEYW1waW5nKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxpbmVhckRhbXBpbmcuXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgbGluZWFyRGFtcGluZy5cclxuICAgICAqL1xyXG4gICAgc2V0IGxpbmVhckRhbXBpbmcodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2xpbmVhckRhbXBpbmcodGhpcy5faWQsIHYpO1xyXG4gICAgfVxyXG4gICAgLyoqIEdldCBhbmd1bGFyRGFtcGluZy4gKi9cclxuICAgIGdldCBhbmd1bGFyRGFtcGluZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfYW5ndWxhckRhbXBpbmcodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYW5ndWxhckRhbXBpbmcuXHJcbiAgICAgKiBAcGFyYW0gdiBOZXcgYW5ndWxhckRhbXBpbmcuXHJcbiAgICAgKi9cclxuICAgIHNldCBhbmd1bGFyRGFtcGluZyh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfYW5ndWxhckRhbXBpbmcodGhpcy5faWQsIHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbGluZWFyIHZlbG9jaXR5LlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIlZlbG9jaXR5XCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjdmVsb2NpdHkpXHJcbiAgICAgKlxyXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBsaW5lYXIgdmVsb2NpdHkuXHJcbiAgICAgKi9cclxuICAgIHNldCBsaW5lYXJWZWxvY2l0eSh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyVmVsb2NpdHkodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgfVxyXG4gICAgLyoqIExpbmVhciB2ZWxvY2l0eSBvciBgWzAsIDAsIDBdYCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuICovXHJcbiAgICBnZXQgbGluZWFyVmVsb2NpdHkoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbGluZWFyVmVsb2NpdHkodGhpcy5faWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3RlbXBNZW0sIDMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYW5ndWxhciB2ZWxvY2l0eVxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIlZlbG9jaXR5XCJdKGh0dHBzOi8vZ2FtZXdvcmtzZG9jcy5udmlkaWEuY29tL1BoeXNYLzQuMS9kb2N1bWVudGF0aW9uL3BoeXN4Z3VpZGUvTWFudWFsL1JpZ2lkQm9keUR5bmFtaWNzLmh0bWwjdmVsb2NpdHkpXHJcbiAgICAgKlxyXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBhbmd1bGFyIHZlbG9jaXR5XHJcbiAgICAgKi9cclxuICAgIHNldCBhbmd1bGFyVmVsb2NpdHkodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2FuZ3VsYXJWZWxvY2l0eSh0aGlzLl9pZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICB9XHJcbiAgICAvKiogQW5ndWxhciB2ZWxvY2l0eSBvciBgWzAsIDAsIDBdYCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuICovXHJcbiAgICBnZXQgYW5ndWxhclZlbG9jaXR5KCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2FuZ3VsYXJWZWxvY2l0eSh0aGlzLl9pZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgMyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgY29tcG9uZW50cyBncm91cHMgbWFzay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZmxhZ3MgTmV3IGZsYWdzIHRoYXQgbmVlZCB0byBiZSBzZXQuXHJcbiAgICAgKi9cclxuICAgIHNldCBncm91cHNNYXNrKGZsYWdzKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfZ3JvdXBzTWFzayh0aGlzLl9pZCwgZmxhZ3MpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGNvbXBvbmVudHMgZ3JvdXBzIG1hc2sgZmxhZ3MuXHJcbiAgICAgKlxyXG4gICAgICogRWFjaCBiaXQgcmVwcmVzZW50cyBtZW1iZXJzaGlwIHRvIGdyb3VwLCBzZWUgZXhhbXBsZS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gQXNzaWduIGMgdG8gZ3JvdXAgMlxyXG4gICAgICogYy5ncm91cHNNYXNrID0gKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQXNzaWduIGMgdG8gZ3JvdXAgMFxyXG4gICAgICogYy5ncm91cHNNYXNrICA9ICgxIDw8IDApO1xyXG4gICAgICpcclxuICAgICAqIC8vIEFzc2lnbiBjIHRvIGdyb3VwIDAgYW5kIDJcclxuICAgICAqIGMuZ3JvdXBzTWFzayA9ICgxIDw8IDApIHwgKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogKGMuZ3JvdXBzTWFzayAmICgxIDw8IDIpKSAhPSAwOyAvLyB0cnVlXHJcbiAgICAgKiAoYy5ncm91cHNNYXNrICYgKDEgPDwgNykpICE9IDA7IC8vIGZhbHNlXHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgZ2V0IGdyb3Vwc01hc2soKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2dyb3Vwc01hc2sodGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGNvbXBvbmVudHMgYmxvY2tzIG1hc2suXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGZsYWdzIE5ldyBmbGFncyB0aGF0IG5lZWQgdG8gYmUgc2V0LlxyXG4gICAgICovXHJcbiAgICBzZXQgYmxvY2tzTWFzayhmbGFncykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X2Jsb2Nrc01hc2sodGhpcy5faWQsIGZsYWdzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBjb21wb25lbnRzIGJsb2NrcyBtYXNrIGZsYWdzLlxyXG4gICAgICpcclxuICAgICAqIEVhY2ggYml0IHJlcHJlc2VudHMgbWVtYmVyc2hpcCB0byB0aGUgYmxvY2ssIHNlZSBleGFtcGxlLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBCbG9jayBvdmVybGFwIHdpdGggYW55IG9iamVjdHMgaW4gZ3JvdXAgMlxyXG4gICAgICogYy5ibG9ja3NNYXNrID0gKDEgPDwgMik7XHJcbiAgICAgKlxyXG4gICAgICogLy8gQmxvY2sgb3ZlcmxhcCB3aXRoIGFueSBvYmplY3RzIGluIGdyb3VwIDBcclxuICAgICAqIGMuYmxvY2tzTWFzayAgPSAoMSA8PCAwKVxyXG4gICAgICpcclxuICAgICAqIC8vIEJsb2NrIG92ZXJsYXAgd2l0aCBhbnkgb2JqZWN0cyBpbiBncm91cCAwIGFuZCAyXHJcbiAgICAgKiBjLmJsb2Nrc01hc2sgPSAoMSA8PCAwKSB8ICgxIDw8IDIpO1xyXG4gICAgICpcclxuICAgICAqIChjLmJsb2Nrc01hc2sgJiAoMSA8PCAyKSkgIT0gMDsgLy8gdHJ1ZVxyXG4gICAgICogKGMuYmxvY2tzTWFzayAmICgxIDw8IDcpKSAhPSAwOyAvLyBmYWxzZVxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIGdldCBibG9ja3NNYXNrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9ibG9ja3NNYXNrKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGF4ZXMgdG8gbG9jayBmb3IgbGluZWFyIHZlbG9jaXR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBsb2NrIFRoZSBBeGlzIHRoYXQgbmVlZHMgdG8gYmUgc2V0LlxyXG4gICAgICpcclxuICAgICAqIENvbWJpbmUgZmxhZ3Mgd2l0aCBCaXR3aXNlIE9SLlxyXG4gICAgICogYGBganNcclxuICAgICAqIGJvZHkubGluZWFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YIHwgTG9ja0F4aXMuWTsgLy8geCBhbmQgeSBzZXRcclxuICAgICAqIGJvZHkubGluZWFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YOyAvLyB5IHVuc2V0XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGhhcyBubyBlZmZlY3QgaWYgdGhlIGNvbXBvbmVudCBpcyBzdGF0aWMuXHJcbiAgICAgKi9cclxuICAgIHNldCBsaW5lYXJMb2NrQXhpcyhsb2NrKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9zZXRfbGluZWFyTG9ja0F4aXModGhpcy5faWQsIGxvY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGxpbmVhciBsb2NrIGF4ZXMgZmxhZ3MuXHJcbiAgICAgKlxyXG4gICAgICogVG8gZ2V0IHRoZSBzdGF0ZSBvZiBhIHNwZWNpZmljIGZsYWcsIEJpdHdpc2UgQU5EIHdpdGggdGhlIExvY2tBeGlzIG5lZWRlZC5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogaWYoYm9keS5saW5lYXJMb2NrQXhpcyAmIExvY2tBeGlzLlkpIHtcclxuICAgICAqICAgICBjb25zb2xlLmxvZyhcIlRoZSBZIGZsYWcgd2FzIHNldCFcIik7XHJcbiAgICAgKiB9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIGF4ZXMgdGhhdCBhcmUgY3VycmVudGx5IGxvY2tlZCBmb3IgbGluZWFyIG1vdmVtZW50LlxyXG4gICAgICovXHJcbiAgICBnZXQgbGluZWFyTG9ja0F4aXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfZ2V0X2xpbmVhckxvY2tBeGlzKHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGF4ZXMgdG8gbG9jayBmb3IgYW5ndWxhciB2ZWxvY2l0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbG9jayBUaGUgQXhpcyB0aGF0IG5lZWRzIHRvIGJlIHNldC5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogYm9keS5hbmd1bGFyTG9ja0F4aXMgPSBMb2NrQXhpcy5YIHwgTG9ja0F4aXMuWTsgLy8geCBhbmQgeSBzZXRcclxuICAgICAqIGJvZHkuYW5ndWxhckxvY2tBeGlzID0gTG9ja0F4aXMuWDsgLy8geSB1bnNldFxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBoYXMgbm8gZWZmZWN0IGlmIHRoZSBjb21wb25lbnQgaXMgc3RhdGljLlxyXG4gICAgICovXHJcbiAgICBzZXQgYW5ndWxhckxvY2tBeGlzKGxvY2spIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9hbmd1bGFyTG9ja0F4aXModGhpcy5faWQsIGxvY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGFuZ3VsYXIgbG9jayBheGVzIGZsYWdzLlxyXG4gICAgICpcclxuICAgICAqIFRvIGdldCB0aGUgc3RhdGUgb2YgYSBzcGVjaWZpYyBmbGFnLCBCaXR3aXNlIEFORCB3aXRoIHRoZSBMb2NrQXhpcyBuZWVkZWQuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGlmKGJvZHkuYW5ndWxhckxvY2tBeGlzICYgTG9ja0F4aXMuWSkge1xyXG4gICAgICogICAgIGNvbnNvbGUubG9nKFwiVGhlIFkgZmxhZyB3YXMgc2V0IVwiKTtcclxuICAgICAqIH1cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gYXhlcyB0aGF0IGFyZSBjdXJyZW50bHkgbG9ja2VkIGZvciBhbmd1bGFyIG1vdmVtZW50LlxyXG4gICAgICovXHJcbiAgICBnZXQgYW5ndWxhckxvY2tBeGlzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X2dldF9hbmd1bGFyTG9ja0F4aXModGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbWFzcy5cclxuICAgICAqXHJcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJNYXNzIFByb3BlcnRpZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNtYXNzLXByb3BlcnRpZXMpXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG0gTmV3IG1hc3MuXHJcbiAgICAgKi9cclxuICAgIHNldCBtYXNzKG0pIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfY29tcG9uZW50X3NldF9tYXNzKHRoaXMuX2lkLCBtKTtcclxuICAgIH1cclxuICAgIC8qKiBNYXNzICovXHJcbiAgICBnZXQgbWFzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9nZXRfbWFzcyh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBtYXNzIHNwYWNlIGludGVyaWEgdGVuc29yLlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIk1hc3MgUHJvcGVydGllc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI21hc3MtcHJvcGVydGllcylcclxuICAgICAqXHJcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IG1hc3Mgc3BhY2UgaW50ZXJhdGlhIHRlbnNvci5cclxuICAgICAqL1xyXG4gICAgc2V0IG1hc3NTcGFjZUludGVyaWFUZW5zb3Iodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfc2V0X21hc3NTcGFjZUluZXJ0aWFUZW5zb3IodGhpcy5faWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBhIGZvcmNlLlxyXG4gICAgICpcclxuICAgICAqIFtQaHlzWCBNYW51YWwgLSBcIkFwcGx5aW5nIEZvcmNlcyBhbmQgVG9ycXVlc1wiXShodHRwczovL2dhbWV3b3Jrc2RvY3MubnZpZGlhLmNvbS9QaHlzWC80LjEvZG9jdW1lbnRhdGlvbi9waHlzeGd1aWRlL01hbnVhbC9SaWdpZEJvZHlEeW5hbWljcy5odG1sI2FwcGx5aW5nLWZvcmNlcy1hbmQtdG9ycXVlcylcclxuICAgICAqXHJcbiAgICAgKiBIYXMgbm8gZWZmZWN0LCBpZiB0aGUgY29tcG9uZW50IGlzIG5vdCBhY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGYgRm9yY2UgdmVjdG9yLlxyXG4gICAgICogQHBhcmFtIG0gRm9yY2UgbW9kZSwgc2VlIHtAbGluayBGb3JjZU1vZGV9LCBkZWZhdWx0IGBGb3JjZWAuXHJcbiAgICAgKiBAcGFyYW0gbG9jYWxGb3JjZSBXaGV0aGVyIHRoZSBmb3JjZSB2ZWN0b3IgaXMgaW4gbG9jYWwgc3BhY2UsIGRlZmF1bHQgYGZhbHNlYC5cclxuICAgICAqIEBwYXJhbSBwIFBvc2l0aW9uIHRvIGFwcGx5IGZvcmNlIGF0LCBkZWZhdWx0IGlzIGNlbnRlciBvZiBtYXNzLlxyXG4gICAgICogQHBhcmFtIGxvY2FsIFdoZXRoZXIgcG9zaXRpb24gaXMgaW4gbG9jYWwgc3BhY2UsIGRlZmF1bHQgYGZhbHNlYC5cclxuICAgICAqL1xyXG4gICAgYWRkRm9yY2UoZiwgbSA9IEZvcmNlTW9kZS5Gb3JjZSwgbG9jYWxGb3JjZSA9IGZhbHNlLCBwLCBsb2NhbCA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGlmICghcCkge1xyXG4gICAgICAgICAgICB3YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkRm9yY2UodGhpcy5faWQsIGZbMF0sIGZbMV0sIGZbMl0sIG0sIGxvY2FsRm9yY2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9hZGRGb3JjZUF0KHRoaXMuX2lkLCBmWzBdLCBmWzFdLCBmWzJdLCBtLCBsb2NhbEZvcmNlLCBwWzBdLCBwWzFdLCBwWzJdLCBsb2NhbCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IHRvcnF1ZS5cclxuICAgICAqXHJcbiAgICAgKiBbUGh5c1ggTWFudWFsIC0gXCJBcHBseWluZyBGb3JjZXMgYW5kIFRvcnF1ZXNcIl0oaHR0cHM6Ly9nYW1ld29ya3Nkb2NzLm52aWRpYS5jb20vUGh5c1gvNC4xL2RvY3VtZW50YXRpb24vcGh5c3hndWlkZS9NYW51YWwvUmlnaWRCb2R5RHluYW1pY3MuaHRtbCNhcHBseWluZy1mb3JjZXMtYW5kLXRvcnF1ZXMpXHJcbiAgICAgKlxyXG4gICAgICogSGFzIG5vIGVmZmVjdCwgaWYgdGhlIGNvbXBvbmVudCBpcyBub3QgYWN0aXZlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBmIEZvcmNlIHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSBtIEZvcmNlIG1vZGUsIHNlZSB7QGxpbmsgRm9yY2VNb2RlfSwgZGVmYXVsdCBgRm9yY2VgLlxyXG4gICAgICovXHJcbiAgICBhZGRUb3JxdWUoZiwgbSA9IEZvcmNlTW9kZS5Gb3JjZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkVG9ycXVlKHRoaXMuX2lkLCBmWzBdLCBmWzFdLCBmWzJdLCBtKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkIG9uIGNvbGxpc2lvbiBjYWxsYmFjay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgcmlnaWQgYm9keSAodW4pY29sbGlkZXMgd2l0aCBhbnkgb3RoZXIuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICBsZXQgcmlnaWRCb2R5ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdwaHlzeCcpO1xyXG4gICAgICogIHJpZ2lkQm9keS5vbkNvbGxpc2lvbihmdW5jdGlvbih0eXBlLCBvdGhlcikge1xyXG4gICAgICogICAgICAvLyBJZ25vcmUgdW5jb2xsaWRlc1xyXG4gICAgICogICAgICBpZih0eXBlID09IENvbGxpc2lvbkV2ZW50VHlwZS5Ub3VjaExvc3QpIHJldHVybjtcclxuICAgICAqXHJcbiAgICAgKiAgICAgIC8vIFRha2UgZGFtYWdlIG9uIGNvbGxpc2lvbiB3aXRoIGVuZW1pZXNcclxuICAgICAqICAgICAgaWYob3RoZXIub2JqZWN0Lm5hbWUuc3RhcnRzV2l0aChcImVuZW15LVwiKSkge1xyXG4gICAgICogICAgICAgICAgdGhpcy5hcHBseURhbWFnZSgxMCk7XHJcbiAgICAgKiAgICAgIH1cclxuICAgICAqICB9LmJpbmQodGhpcykpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgSWQgb2YgdGhlIG5ldyBjYWxsYmFjayBmb3IgdXNlIHdpdGgge0BsaW5rIFBoeXNYQ29tcG9uZW50I3JlbW92ZUNvbGxpc2lvbkNhbGxiYWNrfS5cclxuICAgICAqL1xyXG4gICAgb25Db2xsaXNpb24oY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vbkNvbGxpc2lvbldpdGgodGhpcywgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgZmlsdGVyZWQgb24gY29sbGlzaW9uIGNhbGxiYWNrLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlckNvbXAgQ29tcG9uZW50IGZvciB3aGljaCBjYWxsYmFja3Mgd2lsbFxyXG4gICAgICogICAgICAgIGJlIHRyaWdnZXJlZC4gSWYgeW91IHBhc3MgdGhpcyBjb21wb25lbnQsIHRoZSBtZXRob2QgaXMgZXF1aXZhbGVudCB0by5cclxuICAgICAqICAgICAgICB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb259LlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHJpZ2lkIGJvZHlcclxuICAgICAqICAgICAgICAodW4pY29sbGlkZXMgd2l0aCBgb3RoZXJDb21wYC5cclxuICAgICAqIEByZXR1cm5zIElkIG9mIHRoZSBuZXcgY2FsbGJhY2sgZm9yIHVzZSB3aXRoIHtAbGluayBQaHlzWENvbXBvbmVudCNyZW1vdmVDb2xsaXNpb25DYWxsYmFja30uXHJcbiAgICAgKi9cclxuICAgIG9uQ29sbGlzaW9uV2l0aChvdGhlckNvbXAsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgcGh5c2ljcyA9IHRoaXMuX2VuZ2luZS5waHlzaWNzO1xyXG4gICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0gPSBwaHlzaWNzLl9jYWxsYmFja3NbdGhpcy5faWRdIHx8IFtdO1xyXG4gICAgICAgIHBoeXNpY3MuX2NhbGxiYWNrc1t0aGlzLl9pZF0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZS53YXNtLl93bF9waHlzeF9jb21wb25lbnRfYWRkQ2FsbGJhY2sodGhpcy5faWQsIG90aGVyQ29tcC5faWQgfHwgdGhpcy5faWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYSBjb2xsaXNpb24gY2FsbGJhY2sgYWRkZWQgd2l0aCB7QGxpbmsgUGh5c1hDb21wb25lbnQjb25Db2xsaXNpb259IG9yIHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbldpdGh9LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja0lkIENhbGxiYWNrIGlkIGFzIHJldHVybmVkIGJ5IHtAbGluayBQaHlzWENvbXBvbmVudCNvbkNvbGxpc2lvbn0gb3Ige0BsaW5rIFBoeXNYQ29tcG9uZW50I29uQ29sbGlzaW9uV2l0aH0uXHJcbiAgICAgKiBAdGhyb3dzIFdoZW4gdGhlIGNhbGxiYWNrIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgY29tcG9uZW50LlxyXG4gICAgICogQHRocm93cyBXaGVuIHRoZSBjYWxsYmFjayBkb2VzIG5vdCBleGlzdC5cclxuICAgICAqL1xyXG4gICAgcmVtb3ZlQ29sbGlzaW9uQ2FsbGJhY2soY2FsbGJhY2tJZCkge1xyXG4gICAgICAgIGNvbnN0IHBoeXNpY3MgPSB0aGlzLl9lbmdpbmUucGh5c2ljcztcclxuICAgICAgICBjb25zdCByID0gdGhpcy5fZW5naW5lLndhc20uX3dsX3BoeXN4X2NvbXBvbmVudF9yZW1vdmVDYWxsYmFjayh0aGlzLl9pZCwgY2FsbGJhY2tJZCk7XHJcbiAgICAgICAgLyogciBpcyB0aGUgYW1vdW50IG9mIG9iamVjdCB0byByZW1vdmUgZnJvbSB0aGUgZW5kIG9mIHRoZVxyXG4gICAgICAgICAqIGNhbGxiYWNrcyBhcnJheSBmb3IgdGhpcyBvYmplY3QgKi9cclxuICAgICAgICBpZiAocilcclxuICAgICAgICAgICAgcGh5c2ljcy5fY2FsbGJhY2tzW3RoaXMuX2lkXS5zcGxpY2UoLXIpO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInRyYW5zbGF0aW9uT2Zmc2V0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInJvdGF0aW9uT2Zmc2V0XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImtpbmVtYXRpY1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJncmF2aXR5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInNpbXVsYXRlXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFsbG93U2ltdWxhdGlvblwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbGxvd1F1ZXJ5XCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcInRyaWdnZXJcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic2hhcGVEYXRhXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImV4dGVudHNcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwic3RhdGljRnJpY3Rpb25cIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZHluYW1pY0ZyaWN0aW9uXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImJvdW5jaW5lc3NcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwibGluZWFyRGFtcGluZ1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyRGFtcGluZ1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsaW5lYXJWZWxvY2l0eVwiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJhbmd1bGFyVmVsb2NpdHlcIiwgbnVsbCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgbmF0aXZlUHJvcGVydHkoKVxyXG5dLCBQaHlzWENvbXBvbmVudC5wcm90b3R5cGUsIFwiZ3JvdXBzTWFza1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJibG9ja3NNYXNrXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImxpbmVhckxvY2tBeGlzXCIsIG51bGwpO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIG5hdGl2ZVByb3BlcnR5KClcclxuXSwgUGh5c1hDb21wb25lbnQucHJvdG90eXBlLCBcImFuZ3VsYXJMb2NrQXhpc1wiLCBudWxsKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBuYXRpdmVQcm9wZXJ0eSgpXHJcbl0sIFBoeXNYQ29tcG9uZW50LnByb3RvdHlwZSwgXCJtYXNzXCIsIG51bGwpO1xyXG4vKipcclxuICogQWNjZXNzIHRvIHRoZSBwaHlzaWNzIHNjZW5lXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUGh5c2ljcyB7XHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogVGhpcyBpcyBwdWJsaWMgdG8gZW11bGF0ZSBhIGBmcmllbmRgIGFjY2Vzc29yLlxyXG4gICAgICovXHJcbiAgICBfY2FsbGJhY2tzO1xyXG4gICAgLyoqIFdvbmRlcmxhbmQgRW5naW5lIGluc3RhbmNlICovXHJcbiAgICBfZW5naW5lO1xyXG4gICAgLyoqIFJheSBIaXQgKi9cclxuICAgIF9yYXlIaXQ7XHJcbiAgICAvKiogSGl0LiAqL1xyXG4gICAgX2hpdDtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICB0aGlzLl9yYXlIaXQgPSBlbmdpbmUud2FzbS5fbWFsbG9jKDQgKiAoMyAqIDQgKyAzICogNCArIDQgKyAyKSArIDQpO1xyXG4gICAgICAgIHRoaXMuX2hpdCA9IG5ldyBSYXlIaXQodGhpcy5fZW5naW5lLCB0aGlzLl9yYXlIaXQpO1xyXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYXN0IGEgcmF5IHRocm91Z2ggdGhlIHBoeXNpY3Mgc2NlbmUgYW5kIGZpbmQgaW50ZXJzZWN0aW5nIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHJlc3VsdGluZyByYXkgaGl0IHdpbGwgY29udGFpbiAqKnVwIHRvIDQqKiBjbG9zZXN0IHJheSBoaXRzLFxyXG4gICAgICogc29ydGVkIGJ5IGluY3JlYXNpbmcgZGlzdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG8gUmF5IG9yaWdpbi5cclxuICAgICAqIEBwYXJhbSBkIFJheSBkaXJlY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gZ3JvdXAgQ29sbGlzaW9uIGdyb3VwIHRvIGZpbHRlciBieTogb25seSBvYmplY3RzIHRoYXQgYXJlXHJcbiAgICAgKiAgICAgICAgcGFydCBvZiBnaXZlbiBncm91cCBhcmUgY29uc2lkZXJlZCBmb3IgcmF5Y2FzdC5cclxuICAgICAqIEBwYXJhbSBtYXhEaXN0YW5jZSBNYXhpbXVtIHJheSBkaXN0YW5jZSwgZGVmYXVsdCBgMTAwLjBgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFRoZSBSYXlIaXQgaW5zdGFuY2UsIGJlbG9uZ2luZyB0byB0aGlzIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoZSByZXR1cm5lZCB7QGxpbmsgUmF5SGl0fSBvYmplY3QgaXMgb3duZWQgYnkgdGhlIFBoeXNpY3MgaW5zdGFuY2UgYW5kXHJcbiAgICAgKiAgICAgICB3aWxsIGJlIHJldXNlZCB3aXRoIHRoZSBuZXh0IHtAbGluayBQaHlzaWNzI3JheUNhc3R9IGNhbGwuXHJcbiAgICAgKi9cclxuICAgIHJheUNhc3QobywgZCwgZ3JvdXAsIG1heERpc3RhbmNlID0gMTAwLjApIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcGh5c3hfcmF5X2Nhc3Qob1swXSwgb1sxXSwgb1syXSwgZFswXSwgZFsxXSwgZFsyXSwgZ3JvdXAsIG1heERpc3RhbmNlLCB0aGlzLl9yYXlIaXQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oaXQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIE1lc2ggaW5kZXggdHlwZS5cclxuICovXHJcbmV4cG9ydCB2YXIgTWVzaEluZGV4VHlwZTtcclxuKGZ1bmN0aW9uIChNZXNoSW5kZXhUeXBlKSB7XHJcbiAgICAvKiogU2luZ2xlIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC0yNTUgKi9cclxuICAgIE1lc2hJbmRleFR5cGVbTWVzaEluZGV4VHlwZVtcIlVuc2lnbmVkQnl0ZVwiXSA9IDFdID0gXCJVbnNpZ25lZEJ5dGVcIjtcclxuICAgIC8qKiBUd28gYnl0ZSBtZXNoIGluZGV4LCByYW5nZSAwLTY1NTM1ICovXHJcbiAgICBNZXNoSW5kZXhUeXBlW01lc2hJbmRleFR5cGVbXCJVbnNpZ25lZFNob3J0XCJdID0gMl0gPSBcIlVuc2lnbmVkU2hvcnRcIjtcclxuICAgIC8qKiBGb3VyIGJ5dGUgbWVzaCBpbmRleCwgcmFuZ2UgMC00Mjk0OTY3Mjk1ICovXHJcbiAgICBNZXNoSW5kZXhUeXBlW01lc2hJbmRleFR5cGVbXCJVbnNpZ25lZEludFwiXSA9IDRdID0gXCJVbnNpZ25lZEludFwiO1xyXG59KShNZXNoSW5kZXhUeXBlIHx8IChNZXNoSW5kZXhUeXBlID0ge30pKTtcclxuLyoqXHJcbiAqIE1lc2ggc2tpbm5pbmcgdHlwZS5cclxuICovXHJcbmV4cG9ydCB2YXIgTWVzaFNraW5uaW5nVHlwZTtcclxuKGZ1bmN0aW9uIChNZXNoU2tpbm5pbmdUeXBlKSB7XHJcbiAgICAvKiogTm90IHNraW5uZWQgKi9cclxuICAgIE1lc2hTa2lubmluZ1R5cGVbTWVzaFNraW5uaW5nVHlwZVtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xyXG4gICAgLyoqIFNraW5uZWQsIDQgam9pbnRzL3dlaWdodCBwZXIgdmVydGV4ICovXHJcbiAgICBNZXNoU2tpbm5pbmdUeXBlW01lc2hTa2lubmluZ1R5cGVbXCJGb3VySm9pbnRzXCJdID0gMV0gPSBcIkZvdXJKb2ludHNcIjtcclxuICAgIC8qKiBTa2lubmVkLCA4IGpvaW50cy93ZWlnaHQgcGVyIHZlcnRleCAqL1xyXG4gICAgTWVzaFNraW5uaW5nVHlwZVtNZXNoU2tpbm5pbmdUeXBlW1wiRWlnaHRKb2ludHNcIl0gPSAyXSA9IFwiRWlnaHRKb2ludHNcIjtcclxufSkoTWVzaFNraW5uaW5nVHlwZSB8fCAoTWVzaFNraW5uaW5nVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBtZXNoIGRhdGEuXHJcbiAqXHJcbiAqIFRvIG1vZGlmeSBhIG1lc2gsIHlvdSBnZXQgYWNjZXNzIHRvIGEge0BsaW5rIE1lc2hBdHRyaWJ1dGVBY2Nlc3Nvcn0gdGhhdCBhbGxvd3MgeW91IHRvIG1vZGlmeVxyXG4gKiB0aGUgY29udGVudCBvZiB0aGUgYnVmZmVyczpcclxuICpcclxuICogVXNhZ2U6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChlbmdpbmUsIHt2ZXJ0ZXhDb3VudDogMywgaW5kZXhEYXRhOiBbMCwgMSwgMl0gfSk7XHJcbiAqIGNvbnN0IHBvc2l0aW9ucyA9IG1lc2guYXR0cmlidXRlKE1lc2hBdHRyaWJ1dGUuUG9zaXRpb24pO1xyXG4gKiAuLi5cclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWVzaCB7XHJcbiAgICAvKipcclxuICAgICAqIEluZGV4IG9mIHRoZSBtZXNoIGluIHRoZSBtYW5hZ2VyLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX2luZGV4ID0gLTE7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEVpdGhlciBhIG1lc2ggaW5kZXggdG8gd3JhcCBvciBzZXQgb2YgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBuZXcgbWVzaC5cclxuICAgICAqICAgIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgaGF2ZSBhIGxvb2sgYXQgdGhlIHtAbGluayBNZXNoUGFyYW1ldGVyc30gaW50ZXJmYWNlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZSA/PyBXTDtcclxuICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xyXG4gICAgICAgIGlmIChpc051bWJlcihwYXJhbXMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcGFyYW1zLnZlcnRleENvdW50KVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHBhcmFtZXRlciAndmVydGV4Q291bnQnXCIpO1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBsZXQgaW5kZXhEYXRhID0gMDtcclxuICAgICAgICBsZXQgaW5kZXhUeXBlID0gMDtcclxuICAgICAgICBsZXQgaW5kZXhEYXRhU2l6ZSA9IDA7XHJcbiAgICAgICAgaWYgKHBhcmFtcy5pbmRleERhdGEpIHtcclxuICAgICAgICAgICAgaW5kZXhUeXBlID0gcGFyYW1zLmluZGV4VHlwZSB8fCBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkU2hvcnQ7XHJcbiAgICAgICAgICAgIGluZGV4RGF0YVNpemUgPSBwYXJhbXMuaW5kZXhEYXRhLmxlbmd0aCAqIGluZGV4VHlwZTtcclxuICAgICAgICAgICAgaW5kZXhEYXRhID0gd2FzbS5fbWFsbG9jKGluZGV4RGF0YVNpemUpO1xyXG4gICAgICAgICAgICAvKiBDb3B5IHRoZSBpbmRleCBkYXRhIGludG8gd2FzbSBtZW1vcnkgKi9cclxuICAgICAgICAgICAgc3dpdGNoIChpbmRleFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEJ5dGU6XHJcbiAgICAgICAgICAgICAgICAgICAgd2FzbS5IRUFQVTguc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRTaG9ydDpcclxuICAgICAgICAgICAgICAgICAgICB3YXNtLkhFQVBVMTYuc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSA+PiAxKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZEludDpcclxuICAgICAgICAgICAgICAgICAgICB3YXNtLkhFQVBVMzIuc2V0KHBhcmFtcy5pbmRleERhdGEsIGluZGV4RGF0YSA+PiAyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHNraW5uaW5nVHlwZSA9IE1lc2hTa2lubmluZ1R5cGUuTm9uZSB9ID0gcGFyYW1zO1xyXG4gICAgICAgIHRoaXMuX2luZGV4ID0gd2FzbS5fd2xfbWVzaF9jcmVhdGUoaW5kZXhEYXRhLCBpbmRleERhdGFTaXplLCBpbmRleFR5cGUsIHBhcmFtcy52ZXJ0ZXhDb3VudCwgc2tpbm5pbmdUeXBlKTtcclxuICAgIH1cclxuICAgIC8qKiBOdW1iZXIgb2YgdmVydGljZXMgaW4gdGhpcyBtZXNoLiAqL1xyXG4gICAgZ2V0IHZlcnRleENvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfdmVydGV4Q291bnQodGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEluZGV4IGRhdGEgKHJlYWQtb25seSkgb3IgYG51bGxgIGlmIHRoZSBtZXNoIGlzIG5vdCBpbmRleGVkLiAqL1xyXG4gICAgZ2V0IGluZGV4RGF0YSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgdGVtcE1lbSA9IHdhc20uX3RlbXBNZW07XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfbWVzaF9nZXRfaW5kZXhEYXRhKHRoaXMuX2luZGV4LCB0ZW1wTWVtLCB0ZW1wTWVtICsgNCk7XHJcbiAgICAgICAgaWYgKHB0ciA9PT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgaW5kZXhDb3VudCA9IHdhc20uSEVBUFUzMlt0ZW1wTWVtIC8gNF07XHJcbiAgICAgICAgY29uc3QgaW5kZXhTaXplID0gd2FzbS5IRUFQVTMyW3RlbXBNZW0gLyA0ICsgMV07XHJcbiAgICAgICAgc3dpdGNoIChpbmRleFNpemUpIHtcclxuICAgICAgICAgICAgY2FzZSBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkQnl0ZTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh3YXNtLkhFQVBVOC5idWZmZXIsIHB0ciwgaW5kZXhDb3VudCk7XHJcbiAgICAgICAgICAgIGNhc2UgTWVzaEluZGV4VHlwZS5VbnNpZ25lZFNob3J0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheSh3YXNtLkhFQVBVMTYuYnVmZmVyLCBwdHIsIGluZGV4Q291bnQpO1xyXG4gICAgICAgICAgICBjYXNlIE1lc2hJbmRleFR5cGUuVW5zaWduZWRJbnQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KHdhc20uSEVBUFUzMi5idWZmZXIsIHB0ciwgaW5kZXhDb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIEhvc3RpbmcgZW5naW5lIGluc3RhbmNlLiAqL1xyXG4gICAgZ2V0IGVuZ2luZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBjaGFuZ2VzIHRvIHtAbGluayBhdHRyaWJ1dGUgfCB2ZXJ0ZXggYXR0cmlidXRlc30uXHJcbiAgICAgKlxyXG4gICAgICogVXBsb2FkcyB0aGUgdXBkYXRlZCB2ZXJ0ZXggYXR0cmlidXRlcyB0byB0aGUgR1BVIGFuZCB1cGRhdGVzIHRoZSBib3VuZGluZ1xyXG4gICAgICogc3BoZXJlIHRvIG1hdGNoIHRoZSBuZXcgdmVydGV4IHBvc2l0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBTaW5jZSB0aGlzIGlzIGFuIGV4cGVuc2l2ZSBvcGVyYXRpb24sIGNhbGwgaXQgb25seSBvbmNlIHlvdSBoYXZlIHBlcmZvcm1lZFxyXG4gICAgICogYWxsIG1vZGlmaWNhdGlvbnMgb24gYSBtZXNoIGFuZCBhdm9pZCBjYWxsaW5nIGlmIHlvdSBkaWQgbm90IHBlcmZvcm0gYW55XHJcbiAgICAgKiBtb2RpZmljYXRpb25zIGF0IGFsbC5cclxuICAgICAqL1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX3VwZGF0ZSh0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICBnZXRCb3VuZGluZ1NwaGVyZShvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDQpKSB7XHJcbiAgICAgICAgY29uc3QgdGVtcE1lbUZsb2F0ID0gdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1GbG9hdDtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9nZXRfYm91bmRpbmdTcGhlcmUodGhpcy5faW5kZXgsIHRoaXMuX2VuZ2luZS53YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB0ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHRlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICBvdXRbM10gPSB0ZW1wTWVtRmxvYXRbM107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIGF0dHJpYnV0ZShhdHRyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyICE9ICdudW1iZXInKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBudW1iZXIsIGJ1dCBnb3QgJyArIHR5cGVvZiBhdHRyKTtcclxuICAgICAgICBjb25zdCB0ZW1wTWVtVWludDMyID0gdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW1VaW50MzI7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX21lc2hfZ2V0X2F0dHJpYnV0ZSh0aGlzLl9pbmRleCwgYXR0ciwgdGhpcy5fZW5naW5lLndhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIGlmICh0ZW1wTWVtVWludDMyWzBdID09IDI1NSlcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgYXJyYXlTaXplID0gdGVtcE1lbVVpbnQzMls1XTtcclxuICAgICAgICByZXR1cm4gbmV3IE1lc2hBdHRyaWJ1dGVBY2Nlc3Nvcih0aGlzLl9lbmdpbmUsIHtcclxuICAgICAgICAgICAgYXR0cmlidXRlOiB0ZW1wTWVtVWludDMyWzBdLFxyXG4gICAgICAgICAgICBvZmZzZXQ6IHRlbXBNZW1VaW50MzJbMV0sXHJcbiAgICAgICAgICAgIHN0cmlkZTogdGVtcE1lbVVpbnQzMlsyXSxcclxuICAgICAgICAgICAgZm9ybWF0U2l6ZTogdGVtcE1lbVVpbnQzMlszXSxcclxuICAgICAgICAgICAgY29tcG9uZW50Q291bnQ6IHRlbXBNZW1VaW50MzJbNF0sXHJcbiAgICAgICAgICAgIC8qIFRoZSBXQVNNIEFQSSByZXR1cm5zIGAwYCBmb3IgYSBzY2FsYXIgdmFsdWUuIFdlIGNsYW1wIGl0IHRvIDEgYXMgd2Ugc3RyaWN0bHkgdXNlIGl0IGFzIGEgbXVsdGlwbGllciBmb3IgZ2V0L3NldCBvcGVyYXRpb25zICovXHJcbiAgICAgICAgICAgIGFycmF5U2l6ZTogYXJyYXlTaXplID8gYXJyYXlTaXplIDogMSxcclxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLnZlcnRleENvdW50LFxyXG4gICAgICAgICAgICBidWZmZXJUeXBlOiAoYXR0ciAhPT0gTWVzaEF0dHJpYnV0ZS5Kb2ludElkXHJcbiAgICAgICAgICAgICAgICA/IEZsb2F0MzJBcnJheVxyXG4gICAgICAgICAgICAgICAgOiBVaW50MTZBcnJheSksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgYW5kIGZyZWUgdGhlIG1lc2hlcyBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogSXQgaXMgYmVzdCBwcmFjdGljZSB0byBzZXQgdGhlIG1lc2ggdmFyaWFibGUgdG8gYG51bGxgIGFmdGVyIGNhbGxpbmdcclxuICAgICAqIGRlc3Ryb3kgdG8gcHJldmVudCBhY2NpZGVudGFsIHVzZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICBtZXNoLmRlc3Ryb3koKTtcclxuICAgICAqICAgbWVzaCA9IG51bGw7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBBY2Nlc3NpbmcgdGhlIG1lc2ggYWZ0ZXIgZGVzdHJ1Y3Rpb24gYmVoYXZlcyBsaWtlIGFjY2Vzc2luZyBhbiBlbXB0eVxyXG4gICAgICogbWVzaC5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfbWVzaF9kZXN0cm95KHRoaXMuX2luZGV4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSBtZXNoIGlkcyBhcmVcclxuICAgICAqIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlck1lc2ggTWVzaCB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIG1lc2ggZXF1YWxzIHRoZSBnaXZlbiBtZXNoLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJNZXNoKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlck1lc2gpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXggPT09IG90aGVyTWVzaC5faW5kZXg7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFuIGl0ZXJhdG9yIG92ZXIgYSBtZXNoIHZlcnRleCBhdHRyaWJ1dGUuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCBtZXNoID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdtZXNoJykubWVzaDtcclxuICogY29uc3QgcG9zaXRpb25zID0gbWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XHJcbiAqXHJcbiAqIC8vIEVxdWl2YWxlbnQgdG8gYG5ldyBGbG9hdDMyQXJyYXkoMylgLlxyXG4gKiBjb25zdCB0ZW1wID0gcG9zaXRpb25zLmNyZWF0ZUFycmF5KCk7XHJcbiAqXHJcbiAqIGZvcihsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyArK2kpIHtcclxuICogICAgIC8vIGBwb3NgIHdpbGwgcmVmZXJlbmNlIGB0ZW1wYCBhbmQgdGhlcmVieSBub3QgYWxsb2NhdGUgYWRkaXRpb25hbFxyXG4gKiAgICAgLy8gbWVtb3J5LCB3aGljaCB3b3VsZCBjYXVzZSBhIHBlcmYgc3Bpa2Ugd2hlbiBjb2xsZWN0ZWQuXHJcbiAqICAgICBjb25zdCBwb3MgPSBwb3NpdGlvbnMuZ2V0KGksIHRlbXApO1xyXG4gKiAgICAgLy8gU2NhbGUgcG9zaXRpb24gYnkgMiBvbiB4LWF4aXMgb25seS5cclxuICogICAgIHBvc1swXSAqPSAyLjA7XHJcbiAqICAgICBwb3NpdGlvbnMuc2V0KGksIHBvcyk7XHJcbiAqIH1cclxuICogLy8gV2UncmUgZG9uZSBtb2RpZnlpbmcsIHRlbGwgdGhlIGVuZ2luZSB0byBtb3ZlIHZlcnRleCBkYXRhIHRvIHRoZSBHUFUuXHJcbiAqIG1lc2gudXBkYXRlKCk7XHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lc2hBdHRyaWJ1dGVBY2Nlc3NvciB7XHJcbiAgICAvKiogTWF4IG51bWJlciBvZiBlbGVtZW50cy4gKi9cclxuICAgIGxlbmd0aCA9IDA7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKiogQXR0cmlidXRlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfYXR0cmlidXRlID0gLTE7XHJcbiAgICAvKiogQXR0cmlidXRlIG9mZnNldC4gQGhpZGRlbiAqL1xyXG4gICAgX29mZnNldCA9IDA7XHJcbiAgICAvKiogQXR0cmlidXRlIHN0cmlkZS4gQGhpZGRlbiAqL1xyXG4gICAgX3N0cmlkZSA9IDA7XHJcbiAgICAvKiogRm9ybWF0IHNpemUgbmF0aXZlIGVudW0uIEBoaWRkZW4gKi9cclxuICAgIF9mb3JtYXRTaXplID0gMDtcclxuICAgIC8qKiBOdW1iZXIgb2YgY29tcG9uZW50cyBwZXIgdmVydGV4LiBAaGlkZGVuICovXHJcbiAgICBfY29tcG9uZW50Q291bnQgPSAwO1xyXG4gICAgLyoqIE51bWJlciBvZiB2YWx1ZXMgcGVyIHZlcnRleC4gQGhpZGRlbiAqL1xyXG4gICAgX2FycmF5U2l6ZSA9IDE7XHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIHRvIGluc3RhbnRpYXRlIGFuIEFycmF5QnVmZmVyIHRvIGdldC9zZXQgdmFsdWVzLlxyXG4gICAgICovXHJcbiAgICBfYnVmZmVyVHlwZTtcclxuICAgIC8qKlxyXG4gICAgICogRnVuY3Rpb24gdG8gYWxsb2NhdGUgdGVtcG9yYXJ5IFdBU00gbWVtb3J5LiBJdCBpcyBjYWNoZWQgaW4gdGhlIGFjY2Vzc29yIHRvIGF2b2lkXHJcbiAgICAgKiBjb25kaXRpb25hbHMgZHVyaW5nIGdldC9zZXQuXHJcbiAgICAgKi9cclxuICAgIF90ZW1wQnVmZmVyR2V0dGVyO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgUGxlYXNlIHVzZSB7QGxpbmsgTWVzaC5hdHRyaWJ1dGV9IHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBDb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gcmVhZCB0aGUgZGF0YS5cclxuICAgICAqIEBub3RlIERvIG5vdCB1c2UgdGhpcyBjb25zdHJ1Y3Rvci4gSW5zdGVhZCwgcGxlYXNlIHVzZSB0aGUge0BsaW5rIE1lc2guYXR0cmlidXRlfSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZSA9IG9wdGlvbnMuYXR0cmlidXRlO1xyXG4gICAgICAgIHRoaXMuX29mZnNldCA9IG9wdGlvbnMub2Zmc2V0O1xyXG4gICAgICAgIHRoaXMuX3N0cmlkZSA9IG9wdGlvbnMuc3RyaWRlO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1hdFNpemUgPSBvcHRpb25zLmZvcm1hdFNpemU7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50Q291bnQgPSBvcHRpb25zLmNvbXBvbmVudENvdW50O1xyXG4gICAgICAgIHRoaXMuX2FycmF5U2l6ZSA9IG9wdGlvbnMuYXJyYXlTaXplO1xyXG4gICAgICAgIHRoaXMuX2J1ZmZlclR5cGUgPSBvcHRpb25zLmJ1ZmZlclR5cGU7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSBvcHRpb25zLmxlbmd0aDtcclxuICAgICAgICB0aGlzLl90ZW1wQnVmZmVyR2V0dGVyID0gKHRoaXMuX2J1ZmZlclR5cGUgPT09IEZsb2F0MzJBcnJheVxyXG4gICAgICAgICAgICA/IHdhc20uZ2V0VGVtcEJ1ZmZlckYzMi5iaW5kKHdhc20pXHJcbiAgICAgICAgICAgIDogd2FzbS5nZXRUZW1wQnVmZmVyVTE2LmJpbmQod2FzbSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgVHlwZWRBcnJheSB0byBob2xkIHRoaXMgYXR0cmlidXRlJ3MgdmFsdWVzLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCB0byBjcmVhdGUgYSB2aWV3IHRvIGhvbGQgdGhlIGRhdGEgdG9cclxuICAgICAqIHBhc3MgdG8ge0BsaW5rIGdldH0gYW5kIHtAbGluayBzZXR9XHJcbiAgICAgKlxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogY29uc3QgdmVydGV4Q291bnQgPSA0O1xyXG4gICAgICogY29uc3QgcG9zaXRpb25BdHRyaWJ1dGUgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcclxuICAgICAqXHJcbiAgICAgKiAvLyBBIHBvc2l0aW9uIGhhcyAzIGZsb2F0cyBwZXIgdmVydGV4LiBUaHVzLCBwb3NpdGlvbnMgaGFzIGxlbmd0aCAzICogNC5cclxuICAgICAqIGNvbnN0IHBvc2l0aW9ucyA9IHBvc2l0aW9uQXR0cmlidXRlLmNyZWF0ZUFycmF5KHZlcnRleENvdW50KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqdmVydGljZXMqKiBleHBlY3RlZC5cclxuICAgICAqIEByZXR1cm5zIEEgVHlwZWRBcnJheSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBmb3JtYXQgdG8gYWNjZXNzIHRoZSBkYXRhXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUFycmF5KGNvdW50ID0gMSkge1xyXG4gICAgICAgIGNvdW50ID0gY291bnQgPiB0aGlzLmxlbmd0aCA/IHRoaXMubGVuZ3RoIDogY291bnQ7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLl9idWZmZXJUeXBlKGNvdW50ICogdGhpcy5fY29tcG9uZW50Q291bnQgKiB0aGlzLl9hcnJheVNpemUpO1xyXG4gICAgfVxyXG4gICAgZ2V0KGluZGV4LCBvdXQgPSB0aGlzLmNyZWF0ZUFycmF5KCkpIHtcclxuICAgICAgICBpZiAob3V0Lmxlbmd0aCAlIHRoaXMuX2NvbXBvbmVudENvdW50ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0Lmxlbmd0aCwgJHtvdXQubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkZXN0ID0gdGhpcy5fdGVtcEJ1ZmZlckdldHRlcihvdXQubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuX2J1ZmZlclR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XHJcbiAgICAgICAgY29uc3QgZGVzdFNpemUgPSBlbGVtZW50U2l6ZSAqIG91dC5sZW5ndGg7XHJcbiAgICAgICAgY29uc3Qgc3JjRm9ybWF0U2l6ZSA9IHRoaXMuX2Zvcm1hdFNpemUgKiB0aGlzLl9hcnJheVNpemU7XHJcbiAgICAgICAgY29uc3QgZGVzdEZvcm1hdFNpemUgPSB0aGlzLl9jb21wb25lbnRDb3VudCAqIGVsZW1lbnRTaXplICogdGhpcy5fYXJyYXlTaXplO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9tZXNoX2dldF9hdHRyaWJ1dGVfdmFsdWVzKHRoaXMuX2F0dHJpYnV0ZSwgc3JjRm9ybWF0U2l6ZSwgdGhpcy5fb2Zmc2V0ICsgaW5kZXggKiB0aGlzLl9zdHJpZGUsIHRoaXMuX3N0cmlkZSwgZGVzdEZvcm1hdFNpemUsIGRlc3QuYnl0ZU9mZnNldCwgZGVzdFNpemUpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0Lmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICBvdXRbaV0gPSBkZXN0W2ldO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBhdHRyaWJ1dGUgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaSBJbmRleFxyXG4gICAgICogQHBhcmFtIHYgVmFsdWUgdG8gc2V0IHRoZSBlbGVtZW50IHRvXHJcbiAgICAgKlxyXG4gICAgICogYHYubGVuZ3RoYCBuZWVkcyB0byBiZSBhIG11bHRpcGxlIG9mIHRoZSBhdHRyaWJ1dGVzIGNvbXBvbmVudCBjb3VudCwgc2VlXHJcbiAgICAgKiB7QGxpbmsgTWVzaEF0dHJpYnV0ZX0uIElmIGB2Lmxlbmd0aGAgaXMgbW9yZSB0aGFuIG9uZSBtdWx0aXBsZSwgaXQgd2lsbCBiZVxyXG4gICAgICogZmlsbGVkIHdpdGggdGhlIG5leHQgbiBhdHRyaWJ1dGUgZWxlbWVudHMsIHdoaWNoIGNhbiByZWR1Y2Ugb3ZlcmhlYWRcclxuICAgICAqIG9mIHRoaXMgY2FsbC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZylcclxuICAgICAqL1xyXG4gICAgc2V0KGksIHYpIHtcclxuICAgICAgICBpZiAodi5sZW5ndGggJSB0aGlzLl9jb21wb25lbnRDb3VudCAhPT0gMClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXQubGVuZ3RoLCAke3YubGVuZ3RofSBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgYXR0cmlidXRlIHZlY3RvciBjb21wb25lbnRzLCAke3RoaXMuX2NvbXBvbmVudENvdW50fWApO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5fYnVmZmVyVHlwZS5CWVRFU19QRVJfRUxFTUVOVDtcclxuICAgICAgICBjb25zdCBzcmNTaXplID0gZWxlbWVudFNpemUgKiB2Lmxlbmd0aDtcclxuICAgICAgICBjb25zdCBzcmNGb3JtYXRTaXplID0gdGhpcy5fY29tcG9uZW50Q291bnQgKiBlbGVtZW50U2l6ZSAqIHRoaXMuX2FycmF5U2l6ZTtcclxuICAgICAgICBjb25zdCBkZXN0Rm9ybWF0U2l6ZSA9IHRoaXMuX2Zvcm1hdFNpemUgKiB0aGlzLl9hcnJheVNpemU7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIC8qIFVubGVzcyB3ZSBhcmUgYWxyZWFkeSB3b3JraW5nIHdpdGggZGF0YSBmcm9tIFdBU00gaGVhcCwgd2VcclxuICAgICAgICAgKiBuZWVkIHRvIGNvcHkgaW50byB0ZW1wb3JhcnkgbWVtb3J5LiAqL1xyXG4gICAgICAgIGlmICh2LmJ1ZmZlciAhPSB3YXNtLkhFQVBVOC5idWZmZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgZGVzdCA9IHRoaXMuX3RlbXBCdWZmZXJHZXR0ZXIodi5sZW5ndGgpO1xyXG4gICAgICAgICAgICBkZXN0LnNldCh2KTtcclxuICAgICAgICAgICAgdiA9IGRlc3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdhc20uX3dsX21lc2hfc2V0X2F0dHJpYnV0ZV92YWx1ZXModGhpcy5fYXR0cmlidXRlLCBzcmNGb3JtYXRTaXplLCB2LmJ5dGVPZmZzZXQsIHNyY1NpemUsIGRlc3RGb3JtYXRTaXplLCB0aGlzLl9vZmZzZXQgKyBpICogdGhpcy5fc3RyaWRlLCB0aGlzLl9zdHJpZGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBXcmFwcGVyIGFyb3VuZCBhIG5hdGl2ZSBtYXRlcmlhbC5cclxuICpcclxuICogRWFjaCBtYXRlcmlhbCBpbnN0YW5jZSB3aWxsIGhhdmUgcHJvcGVydGllcyBhc3NvY2lhdGVkIHRvIHRoZSBwaXBlbGluZSBpdCB1c2VzLlxyXG4gKiBUaGUgbWF0ZXJpYWwgcHJvcGVydGllcyBhcmUgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIG1hdGVyaWFsIGluc3RhbmNlLCBleGFtcGxlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBjb25zdCBtYXRlcmlhbCA9IG1lc2gubWF0ZXJpYWw7IC8vIE1hdGVyaWFsIHdpdGggYSBgUGhvbmcgT3BhcXVlIFRleHR1cmVkYCBwaXBlbGluZVxyXG4gKiAvLyBZb3UgY2FuIGFjY2VzcyBhbGwgdGhlIG1hdGVyaWFsIHByb3BlcnRpZXMgZnJvbSB0aGUgZWRpdG9yIHVzaW5nOlxyXG4gKiBtYXRlcmlhbC5kaWZmdXNlVGV4dHVyZSA9IG51bGw7XHJcbiAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciA9IFsxLjAsIDAuMCwgMC4wLCAxLjBdO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNYXRlcmlhbCB7XHJcbiAgICAvKipcclxuICAgICAqIEluZGV4IG9mIHRoaXMgbWF0ZXJpYWwgaW4gdGhlIG1hbmFnZXIuXHJcbiAgICAgKlxyXG4gICAgICogQGhpZGRlblxyXG4gICAgICovXHJcbiAgICBfaW5kZXg7XHJcbiAgICAvKipcclxuICAgICAqIE1hdGVyaWFsIGRlZmluaXRpb24gaW5kZXggaW4gdGhlIHNjZW5lLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX2RlZmluaXRpb247XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBNYXRlcmlhbC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBDcmVhdGluZyBtYXRlcmlhbCBpcyBleHBlbnNpdmUuIFBsZWFzZSB1c2Uge0BsaW5rIE1hdGVyaWFsI2Nsb25lfSB0byBjbG9uZSBhIG1hdGVyaWFsLlxyXG4gICAgICogQG5vdGUgRG8gbm90IHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5IHdpdGggYW4gaW5kZXgsIHRoaXMgaXMgcmVzZXJ2ZWQgZm9yIGludGVybmFsIHB1cnBvc2VzLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyAhPT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgaWYgKCFwYXJhbXM/LnBpcGVsaW5lKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBwYXJhbWV0ZXIgJ3BpcGVsaW5lJ1wiKTtcclxuICAgICAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgICAgICBjb25zdCBwaXBlbGluZSA9IHBhcmFtcy5waXBlbGluZTtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXggPSB3YXNtLl93bF9tYXRlcmlhbF9jcmVhdGUod2FzbS50ZW1wVVRGOChwaXBlbGluZSkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPCAwKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdWNoIHBpcGVsaW5lICcke3BpcGVsaW5lfSdgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gcGFyYW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9kZWZpbml0aW9uID0gdGhpcy5fZW5naW5lLndhc20uX3dsX21hdGVyaWFsX2dldF9kZWZpbml0aW9uKHRoaXMuX2luZGV4KTtcclxuICAgICAgICBpZiAoIXRoaXMuX2VuZ2luZS53YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RoaXMuX2RlZmluaXRpb25dKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hdGVyaWFsIERlZmluaXRpb24gJHt0aGlzLl9kZWZpbml0aW9ufSBub3QgZm91bmQgZm9yIG1hdGVyaWFsIHdpdGggaW5kZXggJHt0aGlzLl9pbmRleH1gKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHRoaXMsIHtcclxuICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IHdhc20uX21hdGVyaWFsRGVmaW5pdGlvbnNbdGFyZ2V0Ll9kZWZpbml0aW9uXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gZGVmaW5pdGlvbi5nZXQocHJvcCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcHJvcF07XHJcbiAgICAgICAgICAgICAgICBpZiAod2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X3BhcmFtX3ZhbHVlKHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXJhbS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuVW5zaWduZWRJbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZS5jb21wb25lbnRDb3VudCA9PSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB3YXNtLl90ZW1wTWVtVWludDMyWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgVWludDMyQXJyYXkod2FzbS5IRUFQVTMyLmJ1ZmZlciwgd2FzbS5fdGVtcE1lbSwgdHlwZS5jb21wb25lbnRDb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuSW50OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGUuY29tcG9uZW50Q291bnQgPT0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gd2FzbS5fdGVtcE1lbUludFswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEludDMyQXJyYXkod2FzbS5IRUFQMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCB0eXBlLmNvbXBvbmVudENvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5GbG9hdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlLmNvbXBvbmVudENvdW50ID09IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdhc20uX3RlbXBNZW1GbG9hdFswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl90ZW1wTWVtLCB0eXBlLmNvbXBvbmVudENvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5TYW1wbGVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuZ2luZS50ZXh0dXJlcy53cmFwKHdhc20uX3RlbXBNZW1JbnRbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHR5cGUgJHt0eXBlLnR5cGV9IG9uIHBhcmFtZXRlciAke3BhcmFtLmluZGV4fSBmb3IgbWF0ZXJpYWwgJHt0YXJnZXQuX2luZGV4fWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdhc20gPSBlbmdpbmUud2FzbTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSB3YXNtLl9tYXRlcmlhbERlZmluaXRpb25zW3RhcmdldC5fZGVmaW5pdGlvbl07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IGRlZmluaXRpb24uZ2V0KHByb3ApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJhbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHBhcmFtLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuVW5zaWduZWRJbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5JbnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5TYW1wbGVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ID0gdmFsdWUuaWQgPz8gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3dsX21hdGVyaWFsX3NldF9wYXJhbV92YWx1ZV91aW50KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNYXRlcmlhbFBhcmFtVHlwZS5GbG9hdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgPSB2YWx1ZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0W2ldID0gdmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2FzbS5fd2xfbWF0ZXJpYWxfc2V0X3BhcmFtX3ZhbHVlX2Zsb2F0KHRhcmdldC5faW5kZXgsIHBhcmFtLmluZGV4LCB3YXNtLl90ZW1wTWVtLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTWF0ZXJpYWxQYXJhbVR5cGUuRm9udDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZXR0aW5nIGZvbnQgcHJvcGVydGllcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rICNwaXBlbGluZX0gaW5zdGVhZC4gKi9cclxuICAgIGdldCBzaGFkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGlwZWxpbmU7XHJcbiAgICB9XHJcbiAgICAvKiogTmFtZSBvZiB0aGUgcGlwZWxpbmUgdXNlZCBieSB0aGlzIG1hdGVyaWFsLiAqL1xyXG4gICAgZ2V0IHBpcGVsaW5lKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcod2FzbS5fd2xfbWF0ZXJpYWxfZ2V0X3BpcGVsaW5lKHRoaXMuX2luZGV4KSk7XHJcbiAgICB9XHJcbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBnZXQgZW5naW5lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIGNvcHkgb2YgdGhlIHVuZGVybHlpbmcgbmF0aXZlIG1hdGVyaWFsLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIE1hdGVyaWFsIGNsb25lLlxyXG4gICAgICovXHJcbiAgICBjbG9uZSgpIHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9tYXRlcmlhbF9jbG9uZSh0aGlzLl9pbmRleCk7XHJcbiAgICAgICAgcmV0dXJuIGlkID4gMCA/IG5ldyBNYXRlcmlhbCh0aGlzLl9lbmdpbmUsIGlkKSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjb21wYXJpbmcgd2hldGhlciB0aGUgd3JhcHBlZCBuYXRpdmUgbWF0ZXJpYWwgaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyTWF0ZXJpYWwgTWF0ZXJpYWwgdG8gY2hlY2sgZXF1YWxpdHkgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIFdoZXRoZXIgdGhpcyBtYXRlcmlhbCBlcXVhbHMgdGhlIGdpdmVuIG1hdGVyaWFsLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJNYXRlcmlhbCkge1xyXG4gICAgICAgIGlmICghb3RoZXJNYXRlcmlhbClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJNYXRlcmlhbC5faW5kZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFdyYXAgYSBuYXRpdmUgbWF0ZXJpYWwgaW5kZXguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgaW5zdGFuY2UuXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4LlxyXG4gICAgICogQHJldHVybnMgTWF0ZXJpYWwgaW5zdGFuY2Ugb3IgYG51bGxgIGlmIGluZGV4IDw9IDAuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgbmV3IE1hdGVyaWFsKClgIGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB3cmFwKGVuZ2luZSwgaW5kZXgpIHtcclxuICAgICAgICAvKiogQHRvZG86IHRoaXMgcHJvcGFnYXRlIG51bGxhYmxlIGluIHRoZSBlbnRpcmUgY29kZWJhc2UuIFJlbW92ZS4gKi9cclxuICAgICAgICByZXR1cm4gaW5kZXggPiAwID8gbmV3IE1hdGVyaWFsKGVuZ2luZSwgaW5kZXgpIDogbnVsbDtcclxuICAgIH1cclxufVxyXG4vKiogVGVtcG9yYXJ5IGNhbnZhcyAqL1xyXG5sZXQgdGVtcDJkID0gbnVsbDtcclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIHRleHR1cmUgZGF0YS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXh0dXJlIHtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKiBJbmRleCBpbiB0aGUgbWFuYWdlci4gQGhpZGRlbiAqL1xyXG4gICAgX2lkID0gMDtcclxuICAgIC8qKiBIVE1MIGltYWdlIGluZGV4LiBAaGlkZGVuICovXHJcbiAgICBfaW1hZ2VJbmRleCA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBlbmdpbmUgVGhlIGVuZ2luZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIHBhcmFtIEhUTUwgbWVkaWEgZWxlbWVudCB0byBjcmVhdGUgdGV4dHVyZSBmcm9tIG9yIHRleHR1cmUgaWQgdG8gd3JhcC5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBwYXJhbSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZSA/PyBXTDtcclxuICAgICAgICBjb25zdCB3YXNtID0gZW5naW5lLndhc207XHJcbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCB8fFxyXG4gICAgICAgICAgICBwYXJhbSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQgfHxcclxuICAgICAgICAgICAgcGFyYW0gaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHdhc20uX2ltYWdlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdhc20uX2ltYWdlcy5wdXNoKHBhcmFtKTtcclxuICAgICAgICAgICAgdGhpcy5faW1hZ2VJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLl9pZCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9yZW5kZXJlcl9hZGRJbWFnZShpbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9pZCA9IHBhcmFtO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9lbmdpbmUudGV4dHVyZXMuX3NldCh0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKiBXaGV0aGVyIHRoaXMgdGV4dHVyZSBpcyB2YWxpZC4gKi9cclxuICAgIGdldCB2YWxpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPj0gMDtcclxuICAgIH1cclxuICAgIC8qKiBJbmRleCBpbiB0aGlzIG1hbmFnZXIuICovXHJcbiAgICBnZXQgaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG4gICAgLyoqIFVwZGF0ZSB0aGUgdGV4dHVyZSB0byBtYXRjaCB0aGUgSFRNTCBlbGVtZW50IChlLmcuIHJlZmxlY3QgdGhlIGN1cnJlbnQgZnJhbWUgb2YgYSB2aWRlbykuICovXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkIHx8IHRoaXMuX2ltYWdlSW5kZXggPT09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfcmVuZGVyZXJfdXBkYXRlSW1hZ2UodGhpcy5faWQsIHRoaXMuX2ltYWdlSW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFdpZHRoIG9mIHRoZSB0ZXh0dXJlLiAqL1xyXG4gICAgZ2V0IHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfdGV4dHVyZV93aWR0aCh0aGlzLl9pZCk7XHJcbiAgICB9XHJcbiAgICAvKiogSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlLiAqL1xyXG4gICAgZ2V0IGhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX3RleHR1cmVfaGVpZ2h0KHRoaXMuX2lkKTtcclxuICAgIH1cclxuICAgIC8qKiBIb3N0aW5nIGVuZ2luZSBpbnN0YW5jZS4gKi9cclxuICAgIGdldCBlbmdpbmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIGEgc3VicmFuZ2Ugb24gdGhlIHRleHR1cmUgdG8gbWF0Y2ggdGhlIEhUTUwgZWxlbWVudCAoZS5nLiByZWZsZWN0IHRoZSBjdXJyZW50IGZyYW1lIG9mIGEgdmlkZW8pLlxyXG4gICAgICpcclxuICAgICAqIFVzYWdlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBDb3BpZXMgcmVjdGFuZ2xlIG9mIHBpeGVsIHN0YXJ0aW5nIGZyb20gKDEwLCAyMClcclxuICAgICAqIHRleHR1cmUudXBkYXRlU3ViSW1hZ2UoMTAsIDIwLCA2MDAsIDQwMCk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geCB4IG9mZnNldFxyXG4gICAgICogQHBhcmFtIHkgeSBvZmZzZXRcclxuICAgICAqIEBwYXJhbSB3IHdpZHRoXHJcbiAgICAgKiBAcGFyYW0gaCBoZWlnaHRcclxuICAgICAqL1xyXG4gICAgdXBkYXRlU3ViSW1hZ2UoeCwgeSwgdywgaCkge1xyXG4gICAgICAgIGlmICghdGhpcy52YWxpZCB8fCB0aGlzLl9pbWFnZUluZGV4ID09PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogTGF6eSBpbml0aWFsaXplIHRlbXAgY2FudmFzICovXHJcbiAgICAgICAgaWYgKCF0ZW1wMmQpIHtcclxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICBpZiAoIWN0eCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0dXJlLnVwZGF0ZVN1YkltYWdlKCk6IEZhaWxlZCB0byBvYnRhaW4gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlbXAyZCA9IHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcyxcclxuICAgICAgICAgICAgICAgIGN0eCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGltZyA9IHdhc20uX2ltYWdlc1t0aGlzLl9pbWFnZUluZGV4XTtcclxuICAgICAgICBpZiAoIWltZylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRlbXAyZC5jYW52YXMud2lkdGggPSB3O1xyXG4gICAgICAgIHRlbXAyZC5jYW52YXMuaGVpZ2h0ID0gaDtcclxuICAgICAgICB0ZW1wMmQuY3R4LmRyYXdJbWFnZShpbWcsIHgsIHksIHcsIGgsIDAsIDAsIHcsIGgpO1xyXG4gICAgICAgIGNvbnN0IHlPZmZzZXQgPSAoaW1nLnZpZGVvSGVpZ2h0ID8/IGltZy5oZWlnaHQpIC0geSAtIGg7XHJcbiAgICAgICAgd2FzbS5faW1hZ2VzW3RoaXMuX2ltYWdlSW5kZXhdID0gdGVtcDJkLmNhbnZhcztcclxuICAgICAgICB3YXNtLl93bF9yZW5kZXJlcl91cGRhdGVJbWFnZSh0aGlzLl9pZCwgdGhpcy5faW1hZ2VJbmRleCwgeCwgeU9mZnNldCk7XHJcbiAgICAgICAgd2FzbS5faW1hZ2VzW3RoaXMuX2ltYWdlSW5kZXhdID0gaW1nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGFuZCBmcmVlIHRoZSB0ZXh0dXJlJ3MgdGV4dHVyZSBhbHRhcyBzcGFjZSBhbmQgbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqIEl0IGlzIGJlc3QgcHJhY3RpY2UgdG8gc2V0IHRoZSB0ZXh0dXJlIHZhcmlhYmxlIHRvIGBudWxsYCBhZnRlciBjYWxsaW5nXHJcbiAgICAgKiBkZXN0cm95IHRvIHByZXZlbnQgYWNjaWRlbnRhbCB1c2Ugb2YgdGhlIGludmFsaWQgdGV4dHVyZTpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICB0ZXh0dXJlLmRlc3Ryb3koKTtcclxuICAgICAqICAgdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC45LjBcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5fZGVzdHJveVRleHR1cmUodGhpcyk7XHJcbiAgICAgICAgdGhpcy5faWQgPSAtMTtcclxuICAgICAgICB0aGlzLl9pbWFnZUluZGV4ID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGVxdWFsaXR5IGJ5IGNvbXBhcmluZyB3aGV0aGVyIHRoZSB3cmFwcGVkIG5hdGl2ZSB0ZXh0dXJlIGlkcyBhcmVcclxuICAgICAqIGVxdWFsLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlclRleHR1cmUgVGV4dHVyZSB0byBjaGVjayBlcXVhbGl0eSB3aXRoLlxyXG4gICAgICogQHJldHVybnMgV2hldGhlciB0aGlzIHRleHR1cmUgZXF1YWxzIHRoZSBnaXZlbiB0ZXh0dXJlLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJUZXh0dXJlKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlclRleHR1cmUpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWQgPT09IG90aGVyVGV4dHVyZS5faWQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGFuaW1hdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb24ge1xyXG4gICAgLyoqIEluZGV4IG9mIHRoZSBtZXNoIGluIHRoZSBtYW5hZ2VyLiBAaGlkZGVuICovXHJcbiAgICBfaW5kZXg7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBpbiB0aGUgbWFuYWdlclxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUgPSBXTCwgaW5kZXgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuICAgIC8qKiBEdXJhdGlvbiBvZiB0aGlzIGFuaW1hdGlvbi4gKi9cclxuICAgIGdldCBkdXJhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9nZXRfZHVyYXRpb24odGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIE51bWJlciBvZiB0cmFja3MgaW4gdGhpcyBhbmltYXRpb24uICovXHJcbiAgICBnZXQgdHJhY2tDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lLndhc20uX3dsX2FuaW1hdGlvbl9nZXRfdHJhY2tDb3VudCh0aGlzLl9pbmRleCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsb25lIHRoaXMgYW5pbWF0aW9uIHJldGFyZ2V0ZWQgdG8gYSBuZXcgc2V0IG9mIG9iamVjdHMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGNsb25lIHNoYXJlcyBtb3N0IG9mIHRoZSBkYXRhIHdpdGggdGhlIG9yaWdpbmFsIGFuZCBpcyB0aGVyZWZvcmVcclxuICAgICAqIGxpZ2h0LXdlaWdodC5cclxuICAgICAqXHJcbiAgICAgKiAqKkV4cGVyaW1lbnRhbDoqKiBUaGlzIEFQSSBtaWdodCBjaGFuZ2UgaW4gdXBjb21pbmcgdmVyc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogSWYgcmV0YXJnZXRpbmcgdG8ge0BsaW5rIFNraW59LCB0aGUgam9pbiBuYW1lcyB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGEgbWFwcGluZ1xyXG4gICAgICogZnJvbSB0aGUgcHJldmlvdXMgc2tpbiB0byB0aGUgbmV3IHNraW4uIFRoZSBzb3VyY2Ugc2tpbiB3aWxsIGJlIHJldHJpZXZlZCBmcm9tXHJcbiAgICAgKiB0aGUgZmlyc3QgdHJhY2sgaW4gdGhlIGFuaW1hdGlvbiB0aGF0IHRhcmdldHMgYSBqb2ludC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmV3VGFyZ2V0cyBOZXcgdGFyZ2V0cyBwZXIgdHJhY2suIEV4cGVjdGVkIHRvIGhhdmVcclxuICAgICAqICAgICAge0BsaW5rIEFuaW1hdGlvbiN0cmFja0NvdW50fSBlbGVtZW50cyBvciB0byBiZSBhIHtAbGluayBTa2lufS5cclxuICAgICAqIEByZXR1cm5zIFRoZSByZXRhcmdldGVkIGNsb25lIG9mIHRoaXMgYW5pbWF0aW9uLlxyXG4gICAgICovXHJcbiAgICByZXRhcmdldChuZXdUYXJnZXRzKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGlmIChuZXdUYXJnZXRzIGluc3RhbmNlb2YgU2tpbikge1xyXG4gICAgICAgICAgICBjb25zdCBhbmltSWQgPSB3YXNtLl93bF9hbmltYXRpb25fcmV0YXJnZXRUb1NraW4odGhpcy5faW5kZXgsIG5ld1RhcmdldHMuX2luZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBhbmltSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3VGFyZ2V0cy5sZW5ndGggIT0gdGhpcy50cmFja0NvdW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdFeHBlY3RlZCAnICtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tDb3VudC50b1N0cmluZygpICtcclxuICAgICAgICAgICAgICAgICcgdGFyZ2V0cywgYnV0IGdvdCAnICtcclxuICAgICAgICAgICAgICAgIG5ld1RhcmdldHMubGVuZ3RoLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl9tYWxsb2MoMiAqIG5ld1RhcmdldHMubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RhcmdldHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgd2FzbS5IRUFQVTE2W3B0ciA+PiAoMSArIGkpXSA9IG5ld1RhcmdldHNbaV0ub2JqZWN0SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFuaW1JZCA9IHdhc20uX3dsX2FuaW1hdGlvbl9yZXRhcmdldCh0aGlzLl9pbmRleCwgcHRyKTtcclxuICAgICAgICB3YXNtLl9mcmVlKHB0cik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRpb24odGhpcy5fZW5naW5lLCBhbmltSWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIGFuaW1hdGlvbiBpZHNcclxuICAgICAqIGFyZSBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJBbmltYXRpb24gQW5pbWF0aW9uIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgYW5pbWF0aW9uIGVxdWFscyB0aGUgZ2l2ZW4gYW5pbWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAxLjAuMFxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJBbmltYXRpb24pIHtcclxuICAgICAgICBpZiAoIW90aGVyQW5pbWF0aW9uKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4ID09PSBvdGhlckFuaW1hdGlvbi5faW5kZXg7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNjZW5lIGdyYXBoIG9iamVjdC5cclxuICpcclxuICogTm9kZSBpbiB0aGUgc2NlbmUgZ3JhcGggb3IgXCJlbnRpdHlcIi4gQ29uc2lzdHMgb2YgdHJhbnNmb3JtYXRpb24gYW5kIGEgcmVmZXJlbmNlXHJcbiAqIHRvIGl0cyBwYXJlbnQgb2JqZWN0LiBVc3VhbGx5IGhvbGRzIGNvbXBvbmVudHMgYW5kIGlzIGFjY2Vzc2libGUgYnkgY29tcG9uZW50c1xyXG4gKiB0aHJvdWdoIHtAbGluayBDb21wb25lbnQjb2JqZWN0fS5cclxuICpcclxuICogT2JqZWN0cyBhcmUgc3RvcmVkIGluIGEgZGF0YSBvcmllbnRlZCBtYW5uZXIgaW5zaWRlIFdlYkFzc2VtYmx5IG1lbW9yeS4gVGhpcyBjbGFzc1xyXG4gKiBpcyBhIEphdmFTY3JpcHQgQVBJIHdyYXBwZXIgYXJvdW5kIHRoaXMgbWVtb3J5IGZvciBtb3JlIGNvbnZlbmllbnQgdXNlIGluXHJcbiAqIGNvbXBvbmVudHMuXHJcbiAqXHJcbiAqIE9iamVjdHMgY2FuIGJlIGNyZWF0ZWQgYW5kIGFkZGVkIHRvIGEgc2NlbmUgdGhyb3VnaFxyXG4gKiB7QGxpbmsgU2NlbmUjYWRkT2JqZWN0fSBvbiB0aGUge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUuc2NlbmV9LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE9iamVjdDNEIHtcclxuICAgIC8qKlxyXG4gICAgICogT2JqZWN0IGluZGV4IGluIHRoZSBtYW5hZ2VyLlxyXG4gICAgICpcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgX29iamVjdElkID0gLTE7XHJcbiAgICAvKiogV29uZGVybGFuZCBFbmdpbmUgaW5zdGFuY2UuIEBoaWRkZW4gKi9cclxuICAgIF9lbmdpbmU7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBvIE9iamVjdCBpZCB0byB3cmFwXHJcbiAgICAgKlxyXG4gICAgICogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHBsZWFzZSB1c2Uge0BsaW5rIFdvbmRlcmxhbmRFbmdpbmUud3JhcE9iamVjdH1cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZW5naW5lLCBvKSB7XHJcbiAgICAgICAgdGhpcy5fb2JqZWN0SWQgPSBvO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTmFtZSBvZiB0aGUgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIFVzZWZ1bCBmb3IgaWRlbnRpZnlpbmcgb2JqZWN0cyBkdXJpbmcgZGVidWdnaW5nLlxyXG4gICAgICovXHJcbiAgICBnZXQgbmFtZSgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIHdhc20uVVRGOFRvU3RyaW5nKHdhc20uX3dsX29iamVjdF9uYW1lKHRoaXMub2JqZWN0SWQpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBvYmplY3QncyBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuZXdOYW1lIFRoZSBuZXcgbmFtZSB0byBzZXQuXHJcbiAgICAgKi9cclxuICAgIHNldCBuYW1lKG5ld05hbWUpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3NldF9uYW1lKHRoaXMub2JqZWN0SWQsIHdhc20udGVtcFVURjgobmV3TmFtZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJlbnQgb2YgdGhpcyBvYmplY3Qgb3IgYG51bGxgIGlmIHBhcmVudGVkIHRvIHJvb3QuXHJcbiAgICAgKi9cclxuICAgIGdldCBwYXJlbnQoKSB7XHJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcGFyZW50KHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiBwID09PSAwID8gbnVsbCA6IHRoaXMuX2VuZ2luZS53cmFwT2JqZWN0KHApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGlsZHJlbiBvZiB0aGlzIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBDaGlsZCBvcmRlciBpcyAqKnVuZGVmaW5lZCoqLiBObyBhc3N1bXB0aW9ucyBzaG91bGQgYmUgbWFkZVxyXG4gICAgICogYWJvdXQgdGhlIGluZGV4IG9mIGEgc3BlY2lmaWMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSBuZWVkIHRvIGFjY2VzcyBhIHNwZWNpZmljIGNoaWxkIG9mIHRoaXMgb2JqZWN0LCB5b3UgY2FuXHJcbiAgICAgKiB1c2Uge0BsaW5rIE9iamVjdDNELmZpbmRCeU5hbWV9LlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gdGhlIG9iamVjdCBleGlzdHMgaW4gdGhlIHNjZW5lIGF0IGVkaXRvciB0aW1lLCBwcmVmZXIgcGFzc2luZyBpdCBhc1xyXG4gICAgICogYSBjb21wb25lbnQgcHJvcGVydHkuXHJcbiAgICAgKi9cclxuICAgIGdldCBjaGlsZHJlbigpIHtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9nZXRfY2hpbGRyZW5fY291bnQodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuQ291bnQgPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5yZXF1aXJlVGVtcE1lbShjaGlsZHJlbkNvdW50ICogMik7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9nZXRfY2hpbGRyZW4odGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSwgd2FzbS5fdGVtcE1lbVNpemUgPj4gMSk7XHJcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBuZXcgQXJyYXkoY2hpbGRyZW5Db3VudCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkNvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgY2hpbGRyZW5baV0gPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdCh3YXNtLl90ZW1wTWVtVWludDE2W2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBhcmVudCBvYmplY3QgdG8gZ2l2ZW4gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFJlcGFyZW50aW5nIGlzIG5vdCB0cml2aWFsIGFuZCBtaWdodCBoYXZlIGEgbm90aWNlYWJsZSBwZXJmb3JtYW5jZSBpbXBhY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5ld1BhcmVudCBOZXcgcGFyZW50IG9yIGBudWxsYCB0byBwYXJlbnQgdG8gcm9vdFxyXG4gICAgICovXHJcbiAgICBzZXQgcGFyZW50KG5ld1BhcmVudCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3BhcmVudCh0aGlzLm9iamVjdElkLCBuZXdQYXJlbnQgPT0gbnVsbCA/IDAgOiBuZXdQYXJlbnQub2JqZWN0SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqIE9iamVjdCBpbmRleCBpbiB0aGUgbWFuYWdlci4gKi9cclxuICAgIGdldCBvYmplY3RJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0SWQ7XHJcbiAgICB9XHJcbiAgICAvKiogSG9zdGluZyBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBnZXQgZW5naW5lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHRyYW5zZm9ybWF0aW9uICh0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxpbmcpIHRvIGlkZW50aXR5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRUcmFuc2Zvcm0oKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF90cmFuc2xhdGlvbl9yb3RhdGlvbih0aGlzLm9iamVjdElkKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3NjYWxpbmcodGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHBvc2l0aW9uIGFuZCByb3RhdGlvbiB0byBpZGVudGl0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0UG9zaXRpb25Sb3RhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uX3JvdGF0aW9uKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJlc2V0UG9zaXRpb25Sb3RhdGlvbn0gaW5zdGVhZC4gKi9cclxuICAgIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgbG9jYWwgcm90YXRpb24sIGtlZXAgdHJhbnNsYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVG8gcmVzZXQgYm90aCByb3RhdGlvbiBhbmQgdHJhbnNsYXRpb24sIHByZWZlclxyXG4gICAgICogICAgICAge0BsaW5rIHJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbn0uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFJvdGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfcmVzZXRfcm90YXRpb24odGhpcy5vYmplY3RJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IGxvY2FsIHRyYW5zbGF0aW9uLCBrZWVwIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRvIHJlc2V0IGJvdGggcm90YXRpb24gYW5kIHRyYW5zbGF0aW9uLCBwcmVmZXJcclxuICAgICAqICAgICAgIHtAbGluayByZXNldFRyYW5zbGF0aW9uUm90YXRpb259LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcmVzZXRQb3NpdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3Jlc2V0X3RyYW5zbGF0aW9uKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJlc2V0UG9zaXRpb259IGluc3RlYWQuICovXHJcbiAgICByZXNldFRyYW5zbGF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc2V0UG9zaXRpb24oKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgbG9jYWwgc2NhbGluZyB0byBpZGVudGl0eSAoYGBbMS4wLCAxLjAsIDEuMF1gYCkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICByZXNldFNjYWxpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yZXNldF9zY2FsaW5nKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnRyYW5zbGF0ZUxvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgdHJhbnNsYXRlKHYpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVMb2NhbCh2KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiB0aGUgcGFyZW50J3Mgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zbGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZUxvY2FsKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zbGF0ZSh0aGlzLm9iamVjdElkLCB2WzBdLCB2WzFdLCB2WzJdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNsYXRlIG9iamVjdCBieSBhIHZlY3RvciBpbiBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zbGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHRyYW5zbGF0ZU9iamVjdCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGVfb2JqKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2xhdGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIHdvcmxkIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2xhdGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICB0cmFuc2xhdGVXb3JsZCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF90cmFuc2xhdGVfd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlQXhpc0FuZ2xlRGVnTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVEZWcoYSwgZCkge1xyXG4gICAgICAgIHRoaXMucm90YXRlQXhpc0FuZ2xlRGVnTG9jYWwoYSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAoZGVncmVlcykgaW4gbG9jYWwgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cclxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgSWYgdGhlIG9iamVjdCBpcyB0cmFuc2xhdGVkIHRoZSByb3RhdGlvbiB3aWxsIGJlIGFyb3VuZFxyXG4gICAgICogICAgIHRoZSBwYXJlbnQuIFRvIHJvdGF0ZSBhcm91bmQgdGhlIG9iamVjdCBvcmlnaW4sIHVzZVxyXG4gICAgICogICAgIHtAbGluayByb3RhdGVBeGlzQW5nbGVEZWdPYmplY3R9XHJcbiAgICAgKlxyXG4gICAgICogQHNlZSB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlUmFkfVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlQXhpc0FuZ2xlRGVnTG9jYWwoYSwgZCkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfcm90YXRlX2F4aXNfYW5nbGUodGhpcy5vYmplY3RJZCwgYVswXSwgYVsxXSwgYVsyXSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Qucm90YXRlQXhpc0FuZ2xlUmFkTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICByb3RhdGVBeGlzQW5nbGVSYWQoYSwgZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsKGEsIGQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYXJvdW5kIGdpdmVuIGF4aXMgYnkgZ2l2ZW4gYW5nbGUgKHJhZGlhbnMpIGluIGxvY2FsIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhIFZlY3RvciByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uIGF4aXMuXHJcbiAgICAgKiBAcGFyYW0gZCBBbmdsZSBpbiByYWRpYW5zLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIElmIHRoZSBvYmplY3QgaXMgdHJhbnNsYXRlZCB0aGUgcm90YXRpb24gd2lsbCBiZSBhcm91bmRcclxuICAgICAqICAgICB0aGUgcGFyZW50LiBUbyByb3RhdGUgYXJvdW5kIHRoZSBvYmplY3Qgb3JpZ2luLCB1c2VcclxuICAgICAqICAgICB7QGxpbmsgcm90YXRlQXhpc0FuZ2xlRGVnT2JqZWN0fVxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ31cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZVJhZExvY2FsKGEsIGQpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9heGlzX2FuZ2xlX3JhZCh0aGlzLm9iamVjdElkLCBhWzBdLCBhWzFdLCBhWzJdLCBkKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUm90YXRlIGFyb3VuZCBnaXZlbiBheGlzIGJ5IGdpdmVuIGFuZ2xlIChkZWdyZWVzKSBpbiBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpcy5cclxuICAgICAqIEBwYXJhbSBkIEFuZ2xlIGluIGRlZ3JlZXMuXHJcbiAgICAgKlxyXG4gICAgICogRXF1aXZhbGVudCB0byBwcmVwZW5kaW5nIGEgcm90YXRpb24gcXVhdGVybmlvbiB0byB0aGUgb2JqZWN0J3NcclxuICAgICAqIGxvY2FsIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdH1cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdChhLCBkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9vYmoodGhpcy5vYmplY3RJZCwgYVswXSwgYVsxXSwgYVsyXSwgZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJvdGF0ZSBhcm91bmQgZ2l2ZW4gYXhpcyBieSBnaXZlbiBhbmdsZSAocmFkaWFucykgaW4gb2JqZWN0IHNwYWNlXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGEgVmVjdG9yIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb24gYXhpc1xyXG4gICAgICogQHBhcmFtIGQgQW5nbGUgaW4gZGVncmVlc1xyXG4gICAgICpcclxuICAgICAqIEBzZWUge0BsaW5rIHJvdGF0ZUF4aXNBbmdsZURlZ09iamVjdH1cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChhLCBkKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9yb3RhdGVfYXhpc19hbmdsZV9yYWRfb2JqKHRoaXMub2JqZWN0SWQsIGFbMF0sIGFbMV0sIGFbMl0sIGQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnJvdGF0ZUxvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgcm90YXRlKHEpIHtcclxuICAgICAgICB0aGlzLnJvdGF0ZUxvY2FsKHEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYnkgYSBxdWF0ZXJuaW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBxIHRoZSBRdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHJvdGF0ZUxvY2FsKHEpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9xdWF0KHRoaXMub2JqZWN0SWQsIHFbMF0sIHFbMV0sIHFbMl0sIHFbM10pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSb3RhdGUgYnkgYSBxdWF0ZXJuaW9uIGluIG9iamVjdCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBFcXVpdmFsZW50IHRvIHByZXBlbmRpbmcgYSByb3RhdGlvbiBxdWF0ZXJuaW9uIHRvIHRoZSBvYmplY3Qnc1xyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHEgdGhlIFF1YXRlcm5pb24gdG8gcm90YXRlIGJ5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgcm90YXRlT2JqZWN0KHEpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3JvdGF0ZV9xdWF0X29iaih0aGlzLm9iamVjdElkLCBxWzBdLCBxWzFdLCBxWzJdLCBxWzNdKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zY2FsZUxvY2FsfSBpbnN0ZWFkLiAqL1xyXG4gICAgc2NhbGUodikge1xyXG4gICAgICAgIHRoaXMuc2NhbGVMb2NhbCh2KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2NhbGUgb2JqZWN0IGJ5IGEgdmVjdG9yIGluIG9iamVjdCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdiBWZWN0b3IgdG8gc2NhbGUgYnkuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzY2FsZUxvY2FsKHYpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NjYWxlKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0UG9zaXRpb25Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIC8qIFRyYW5zbGF0aW9uIGlzIGRpZmZlcmVudCB0aGFuIHJvdGF0aW9uICYgc2NhbGluZy5cclxuICAgICAgICAgKiBXZSBjYW4ndCBzaW1wbHkgcmVhZCB0aGUgbWVtb3J5LiAqL1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF9nZXRfdHJhbnNsYXRpb25fbG9jYWwodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIGdldFRyYW5zbGF0aW9uTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvc2l0aW9uTG9jYWwob3V0KTtcclxuICAgIH1cclxuICAgIGdldFBvc2l0aW9uV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICAvKiBUcmFuc2xhdGlvbiBpcyBkaWZmZXJlbnQgdGhhbiByb3RhdGlvbiAmIHNjYWxpbmcuXHJcbiAgICAgICAgICogV2UgY2FuJ3Qgc2ltcGx5IHJlYWQgdGhlIG1lbW9yeS4gKi9cclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X3RyYW5zbGF0aW9uX3dvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2xhdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoMykpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQb3NpdGlvbldvcmxkKG91dCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCAvIG9iamVjdCBzcGFjZSBwb3NpdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBDb25jYXRlbmF0ZXMgYSBuZXcgdHJhbnNsYXRpb24gZHVhbCBxdWF0ZXJuaW9uIG9udG8gdGhlIGV4aXN0aW5nIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2IE5ldyBsb2NhbCBwb3NpdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIHNldFBvc2l0aW9uTG9jYWwodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3RyYW5zbGF0aW9uX2xvY2FsKHRoaXMub2JqZWN0SWQsIHZbMF0sIHZbMV0sIHZbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELnNldFBvc2l0aW9uTG9jYWx9IGluc3RlYWQuICovXHJcbiAgICBzZXRUcmFuc2xhdGlvbkxvY2FsKHYpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRQb3NpdGlvbkxvY2FsKHYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd29ybGQgc3BhY2UgcG9zaXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQXBwbGllcyB0aGUgaW52ZXJzZSBwYXJlbnQgdHJhbnNmb3JtIHdpdGggYSBuZXcgdHJhbnNsYXRpb24gZHVhbCBxdWF0ZXJuaW9uXHJcbiAgICAgKiB3aGljaCBpcyBjb25jYXRlbmF0ZWQgb250byB0aGUgZXhpc3Rpbmcgcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHBvc2l0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0UG9zaXRpb25Xb3JsZCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfdHJhbnNsYXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0UG9zaXRpb25Xb3JsZH0gaW5zdGVhZC4gKi9cclxuICAgIHNldFRyYW5zbGF0aW9uV29ybGQodikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNldFBvc2l0aW9uV29ybGQodik7XHJcbiAgICB9XHJcbiAgICBnZXRTY2FsaW5nTG9jYWwob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIC8gb2JqZWN0IHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHNjYWxpbmcgYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRTY2FsaW5nTG9jYWwodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3NjYWxpbmdfbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRTY2FsaW5nV29ybGQob3V0ID0gbmV3IEZsb2F0MzJBcnJheSgzKSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3Rfc2NhbGluZ193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IFdvcmxkIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHNjYWxpbmcgYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHNlbGYgKGZvciBtZXRob2QgY2hhaW5pbmcpLlxyXG4gICAgICovXHJcbiAgICBzZXRTY2FsaW5nV29ybGQodikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2V0X3NjYWxpbmdfd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRSb3RhdGlvbkxvY2FsKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgLyogVGhlIGZpcnN0IDQgZmxvYXRzIHJlcHJlc2VudCB0aGUgcm90YXRpb24gcXVhdGVybmlvbi4gKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHJvdGF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA0IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0Um90YXRpb25Mb2NhbCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fbG9jYWwodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRSb3RhdGlvbldvcmxkKG91dCA9IG5ldyBGbG9hdDMyQXJyYXkoNCkpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgcHRyID0gd2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkKHRoaXMub2JqZWN0SWQpIC8gNDsgLyogQWxpZ24gRjMyICovXHJcbiAgICAgICAgLyogVGhlIGZpcnN0IDQgZmxvYXRzIHJlcHJlc2VudCB0aGUgcm90YXRpb24gcXVhdGVybmlvbi4gKi9cclxuICAgICAgICBvdXRbMF0gPSB3YXNtLkhFQVBGMzJbcHRyXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5IRUFQRjMyW3B0ciArIDJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uSEVBUEYzMltwdHIgKyAzXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHJvdGF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA0IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0Um90YXRpb25Xb3JsZCh2KSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfcm90YXRpb25fd29ybGQodGhpcy5vYmplY3RJZCwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2Zvcm1Mb2NhbChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDgpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc19sb2NhbCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xyXG4gICAgICAgIG91dFs0XSA9IHdhc20uSEVBUEYzMltwdHIgKyA0XTtcclxuICAgICAgICBvdXRbNV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNV07XHJcbiAgICAgICAgb3V0WzZdID0gd2FzbS5IRUFQRjMyW3B0ciArIDZdO1xyXG4gICAgICAgIG91dFs3XSA9IHdhc20uSEVBUEYzMltwdHIgKyA3XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IGxvY2FsIHRyYW5zZm9ybSBhcnJheSwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA4IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNmb3JtTG9jYWwodikge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfbG9jYWwodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAzXSA9IHZbM107XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDRdID0gdls0XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNV0gPSB2WzVdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA2XSA9IHZbNl07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDddID0gdls3XTtcclxuICAgICAgICB0aGlzLnNldERpcnR5KCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBnZXRUcmFuc2Zvcm1Xb3JsZChvdXQgPSBuZXcgRmxvYXQzMkFycmF5KDgpKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSAvIDQ7IC8qIEFsaWduIEYzMiAqL1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uSEVBUEYzMltwdHJdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uSEVBUEYzMltwdHIgKyAxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLkhFQVBGMzJbcHRyICsgMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5IRUFQRjMyW3B0ciArIDNdO1xyXG4gICAgICAgIG91dFs0XSA9IHdhc20uSEVBUEYzMltwdHIgKyA0XTtcclxuICAgICAgICBvdXRbNV0gPSB3YXNtLkhFQVBGMzJbcHRyICsgNV07XHJcbiAgICAgICAgb3V0WzZdID0gd2FzbS5IRUFQRjMyW3B0ciArIDZdO1xyXG4gICAgICAgIG91dFs3XSA9IHdhc20uSEVBUEYzMltwdHIgKyA3XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgd29ybGQgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHYgTmV3IHdvcmxkIHRyYW5zZm9ybSBhcnJheSwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCA4IGVsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBzZWxmIChmb3IgbWV0aG9kIGNoYWluaW5nKS5cclxuICAgICAqL1xyXG4gICAgc2V0VHJhbnNmb3JtV29ybGQodikge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBwdHIgPSB3YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGQodGhpcy5vYmplY3RJZCkgLyA0OyAvKiBBbGlnbiBGMzIgKi9cclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyAzXSA9IHZbM107XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDRdID0gdls0XTtcclxuICAgICAgICB3YXNtLkhFQVBGMzJbcHRyICsgNV0gPSB2WzVdO1xyXG4gICAgICAgIHdhc20uSEVBUEYzMltwdHIgKyA2XSA9IHZbNl07XHJcbiAgICAgICAgd2FzbS5IRUFQRjMyW3B0ciArIDddID0gdls3XTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3RyYW5zX3dvcmxkX3RvX2xvY2FsKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Mb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCB0cmFuc2Zvcm1Mb2NhbCgpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkod2FzbS5IRUFQRjMyLmJ1ZmZlciwgd2FzbS5fd2xfb2JqZWN0X3RyYW5zX2xvY2FsKHRoaXMub2JqZWN0SWQpLCA4KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdCBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjVcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRUcmFuc2Zvcm1Mb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZ2V0VHJhbnNmb3JtTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCB0cmFuc2Zvcm1Mb2NhbCh0KSB7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1Mb2NhbC5zZXQodCk7XHJcbiAgICAgICAgdGhpcy5zZXREaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHbG9iYWwgLyB3b3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxyXG4gICAgICogaWYgdGhleSB3ZXJlIGNoYW5nZWQgYnkgSmF2YVNjcmlwdCBjb21wb25lbnRzIHRoaXMgZnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybVdvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBnZXQgdHJhbnNmb3JtV29ybGQoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF90cmFuc193b3JsZCh0aGlzLm9iamVjdElkKSwgOCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCB3b3JsZCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHQgR2xvYmFsIC8gd29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0VHJhbnNmb3JtV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFRyYW5zZm9ybVdvcmxkfSBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzZXQgdHJhbnNmb3JtV29ybGQodCkge1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtV29ybGQuc2V0KHQpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfdHJhbnNfd29ybGRfdG9fbG9jYWwodGhpcy5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvY2FsIC8gb2JqZWN0IHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ0xvY2FsfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBzY2FsaW5nTG9jYWwoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF9zY2FsaW5nX2xvY2FsKHRoaXMub2JqZWN0SWQpLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGxvY2FsIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHMgTG9jYWwgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdMb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHNjYWxpbmdMb2NhbChzKSB7XHJcbiAgICAgICAgdGhpcy5zY2FsaW5nTG9jYWwuc2V0KHMpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlydHkoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2xvYmFsIC8gd29ybGQgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBNYXkgcmVjb21wdXRlIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgaGllcmFyY2h5IG9mIHRoaXMgb2JqZWN0LFxyXG4gICAgICogaWYgdGhleSB3ZXJlIGNoYW5nZWQgYnkgSmF2YVNjcmlwdCBjb21wb25lbnRzIHRoaXMgZnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0Quc2V0U2NhbGluZ1dvcmxkfSBhbmRcclxuICAgICAqIHtAbGluayBPYmplY3QzRC5nZXRTY2FsaW5nV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIGdldCBzY2FsaW5nV29ybGQoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX29iamVjdF9zY2FsaW5nX3dvcmxkKHRoaXMub2JqZWN0SWQpLCAzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHNjYWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHQgV29ybGQgc3BhY2Ugc2NhbGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5zZXRTY2FsaW5nV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELmdldFNjYWxpbmdXb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgc2V0IHNjYWxpbmdXb3JsZChzKSB7XHJcbiAgICAgICAgdGhpcy5zY2FsaW5nV29ybGQuc2V0KHMpO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3Rfc2NhbGluZ193b3JsZF90b19sb2NhbCh0aGlzLm9iamVjdElkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9jYWwgc3BhY2Ugcm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Mb2NhbH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Mb2NhbH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHJvdGF0aW9uTG9jYWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtTG9jYWwuc3ViYXJyYXkoMCwgNCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHJvdGF0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0Um90YXRpb25Xb3JsZH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0Quc2V0Um90YXRpb25Xb3JsZH0gaW5zdGVhZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHJvdGF0aW9uV29ybGQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtV29ybGQuc3ViYXJyYXkoMCwgNCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldCBsb2NhbCBzcGFjZSByb3RhdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gciBMb2NhbCBzcGFjZSByb3RhdGlvblxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uTG9jYWx9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uTG9jYWx9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCByb3RhdGlvbkxvY2FsKHIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl9sb2NhbCh0aGlzLm9iamVjdElkLCByWzBdLCByWzFdLCByWzJdLCByWzNdKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByIEdsb2JhbCAvIHdvcmxkIHNwYWNlIHJvdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJvdGF0aW9uV29ybGR9IGFuZFxyXG4gICAgICoge0BsaW5rIE9iamVjdDNELnNldFJvdGF0aW9uV29ybGR9IGluc3RlYWQuXHJcbiAgICAgKi9cclxuICAgIHNldCByb3RhdGlvbldvcmxkKHIpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUud2FzbS5fd2xfb2JqZWN0X3NldF9yb3RhdGlvbl93b3JsZCh0aGlzLm9iamVjdElkLCByWzBdLCByWzFdLCByWzJdLCByWzNdKTtcclxuICAgIH1cclxuICAgIC8qKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBPYmplY3QzRC5nZXRGb3J3YXJkV29ybGR9IGluc3RlYWQuICovXHJcbiAgICBnZXRGb3J3YXJkKG91dCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEZvcndhcmRXb3JsZChvdXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wdXRlIHRoZSBvYmplY3QncyBmb3J3YXJkIGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGZvcndhcmQgdmVjdG9yIGluIG9iamVjdCBzcGFjZSBpcyBhbG9uZyB0aGUgbmVnYXRpdmUgei1heGlzLCBpLmUuLFxyXG4gICAgICogYFswLCAwLCAtMV1gLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgRGVzdGluYXRpb24gYXJyYXkvdmVjdG9yLCBleHBlY3RlZCB0byBoYXZlIGF0IGxlYXN0IDMgZWxlbWVudHMuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKi9cclxuICAgIGdldEZvcndhcmRXb3JsZChvdXQpIHtcclxuICAgICAgICBvdXRbMF0gPSAwO1xyXG4gICAgICAgIG91dFsxXSA9IDA7XHJcbiAgICAgICAgb3V0WzJdID0gLTE7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQpO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKiogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSB7QGxpbmsgT2JqZWN0M0QuZ2V0VXBXb3JsZH0gaW5zdGVhZC4gKi9cclxuICAgIGdldFVwKG91dCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFVwV29ybGQob3V0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29tcHV0ZSB0aGUgb2JqZWN0J3MgdXAgZmFjaW5nIHdvcmxkIHNwYWNlIHZlY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IERlc3RpbmF0aW9uIGFycmF5L3ZlY3RvciwgZXhwZWN0ZWQgdG8gaGF2ZSBhdCBsZWFzdCAzIGVsZW1lbnRzLlxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICovXHJcbiAgICBnZXRVcFdvcmxkKG91dCkge1xyXG4gICAgICAgIG91dFswXSA9IDA7XHJcbiAgICAgICAgb3V0WzFdID0gMTtcclxuICAgICAgICBvdXRbMl0gPSAwO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtVmVjdG9yV29ybGQob3V0KTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIE9iamVjdDNELmdldFJpZ2h0V29ybGR9IGluc3RlYWQuICovXHJcbiAgICBnZXRSaWdodChvdXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSaWdodFdvcmxkKG91dCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbXB1dGUgdGhlIG9iamVjdCdzIHJpZ2h0IGZhY2luZyB3b3JsZCBzcGFjZSB2ZWN0b3IuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBEZXN0aW5hdGlvbiBhcnJheS92ZWN0b3IsIGV4cGVjdGVkIHRvIGhhdmUgYXQgbGVhc3QgMyBlbGVtZW50cy5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqL1xyXG4gICAgZ2V0UmlnaHRXb3JsZChvdXQpIHtcclxuICAgICAgICBvdXRbMF0gPSAxO1xyXG4gICAgICAgIG91dFsxXSA9IDA7XHJcbiAgICAgICAgb3V0WzJdID0gMDtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybVZlY3RvcldvcmxkKG91dCk7XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgdmVjdG9yIGJ5IHRoaXMgb2JqZWN0J3Mgd29ybGQgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3RvclxyXG4gICAgICogQHBhcmFtIHYgVmVjdG9yIHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YFxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0cmFuc2Zvcm1WZWN0b3JXb3JsZChvdXQsIHYgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdlswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvcldvcmxkKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3JcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtVmVjdG9yTG9jYWwob3V0LCB2ID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHZbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gdlsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSB2WzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1WZWN0b3JMb2NhbCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSBwb2ludCBieSB0aGlzIG9iamVjdCdzIHdvcmxkIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cclxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtUG9pbnRXb3JsZChvdXQsIHAgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gcFswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSBwWzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHBbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50V29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBsb2NhbCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXHJcbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVBvaW50TG9jYWwob3V0LCBwID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFswXSA9IHBbMF07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzFdID0gcFsxXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMl0gPSBwWzJdO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90cmFuc2Zvcm1Qb2ludExvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHZlY3RvciBieSB0aGlzIG9iamVjdCdzIGludmVyc2Ugd29ybGQgdHJhbnNmb3JtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgT3V0IHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVZlY3RvckludmVyc2VXb3JsZChvdXQsIHYgPSBvdXQpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzBdID0gdlswXTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMV0gPSB2WzFdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsyXSA9IHZbMl07XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVZlY3RvckludmVyc2VXb3JsZCh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtKTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMF07XHJcbiAgICAgICAgb3V0WzFdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzFdO1xyXG4gICAgICAgIG91dFsyXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsyXTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB2ZWN0b3IgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB2ZWN0b3JcclxuICAgICAqIEBwYXJhbSB2IFZlY3RvciB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKG91dCwgdiA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSB2WzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHZbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gdlsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtVmVjdG9ySW52ZXJzZUxvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IHRoaXMgb2JqZWN0J3MgaW52ZXJzZSB3b3JsZCB0cmFuc2Zvcm0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgcG9pbnQuXHJcbiAgICAgKiBAcGFyYW0gcCBQb2ludCB0byB0cmFuc2Zvcm0sIGRlZmF1bHQgYG91dGAuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBgb3V0YCBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC43XHJcbiAgICAgKi9cclxuICAgIHRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKG91dCwgcCA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXRbMF0gPSBwWzBdO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdFsxXSA9IHBbMV07XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0WzJdID0gcFsyXTtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfdHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJhbnNmb3JtIGEgcG9pbnQgYnkgdGhpcyBvYmplY3QncyBpbnZlcnNlIGxvY2FsIHRyYW5zZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCBwb2ludC5cclxuICAgICAqIEBwYXJhbSBwIFBvaW50IHRvIHRyYW5zZm9ybSwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdHJhbnNmb3JtUG9pbnRJbnZlcnNlTG9jYWwob3V0LCBwID0gb3V0KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zZXQocCk7XHJcbiAgICAgICAgd2FzbS5fd2xfb2JqZWN0X3RyYW5zZm9ybVBvaW50SW52ZXJzZUxvY2FsKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSBhbiBvYmplY3Qgc3BhY2UgZHVhbCBxdWF0ZXJuaW9uIGludG8gd29ybGQgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gcSBMb2NhbCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YC5cclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdG9Xb3JsZFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHEpO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90b1dvcmxkU3BhY2VUcmFuc2Zvcm0odGhpcy5vYmplY3RJZCwgd2FzbS5fdGVtcE1lbSk7XHJcbiAgICAgICAgb3V0WzBdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzBdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxXTtcclxuICAgICAgICBvdXRbMl0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMl07XHJcbiAgICAgICAgb3V0WzNdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzNdO1xyXG4gICAgICAgIG91dFs0XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs0XTtcclxuICAgICAgICBvdXRbNV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNV07XHJcbiAgICAgICAgb3V0WzZdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzZdO1xyXG4gICAgICAgIG91dFs3XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs3XTtcclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB3b3JsZCBzcGFjZSBkdWFsIHF1YXRlcm5pb24gaW50byBsb2NhbCBzcGFjZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3V0IE91dCB0cmFuc2Zvcm1hdGlvblxyXG4gICAgICogQHBhcmFtIHEgV29ybGQgc3BhY2UgdHJhbnNmb3JtYXRpb24sIGRlZmF1bHQgYG91dGBcclxuICAgICAqIEByZXR1cm4gVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjdcclxuICAgICAqL1xyXG4gICAgdG9Mb2NhbFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnBhcmVudDtcclxuICAgICAgICBpZiAocCkge1xyXG4gICAgICAgICAgICBwLnRvT2JqZWN0U3BhY2VUcmFuc2Zvcm0ob3V0LCBxKTtcclxuICAgICAgICAgICAgcmV0dXJuIG91dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG91dCAhPT0gcSkge1xyXG4gICAgICAgICAgICBvdXRbMF0gPSBxWzBdO1xyXG4gICAgICAgICAgICBvdXRbMV0gPSBxWzFdO1xyXG4gICAgICAgICAgICBvdXRbMl0gPSBxWzJdO1xyXG4gICAgICAgICAgICBvdXRbM10gPSBxWzNdO1xyXG4gICAgICAgICAgICBvdXRbNF0gPSBxWzRdO1xyXG4gICAgICAgICAgICBvdXRbNV0gPSBxWzVdO1xyXG4gICAgICAgICAgICBvdXRbNl0gPSBxWzZdO1xyXG4gICAgICAgICAgICBvdXRbN10gPSBxWzddO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gYSB3b3JsZCBzcGFjZSBkdWFsIHF1YXRlcm5pb24gaW50byBvYmplY3Qgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG91dCBPdXQgdHJhbnNmb3JtYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gcSBXb3JsZCBzcGFjZSB0cmFuc2Zvcm1hdGlvbiwgZGVmYXVsdCBgb3V0YFxyXG4gICAgICogQHJldHVybiBUaGUgYG91dGAgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIEBzaW5jZSAwLjguN1xyXG4gICAgICovXHJcbiAgICB0b09iamVjdFNwYWNlVHJhbnNmb3JtKG91dCwgcSA9IG91dCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc2V0KHEpO1xyXG4gICAgICAgIHdhc20uX3dsX29iamVjdF90b09iamVjdFNwYWNlVHJhbnNmb3JtKHRoaXMub2JqZWN0SWQsIHdhc20uX3RlbXBNZW0pO1xyXG4gICAgICAgIG91dFswXSA9IHdhc20uX3RlbXBNZW1GbG9hdFswXTtcclxuICAgICAgICBvdXRbMV0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMV07XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzJdO1xyXG4gICAgICAgIG91dFszXSA9IHdhc20uX3RlbXBNZW1GbG9hdFszXTtcclxuICAgICAgICBvdXRbNF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbNF07XHJcbiAgICAgICAgb3V0WzVdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzVdO1xyXG4gICAgICAgIG91dFs2XSA9IHdhc20uX3RlbXBNZW1GbG9hdFs2XTtcclxuICAgICAgICBvdXRbN10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbN107XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHVybiB0b3dhcmRzIC8gbG9vayBhdCB0YXJnZXQuXHJcbiAgICAgKlxyXG4gICAgICogUm90YXRlcyB0aGUgb2JqZWN0IHNvIHRoYXQgaXRzIGZvcndhcmQgdmVjdG9yIGZhY2VzIHRvd2FyZHMgdGhlIHRhcmdldFxyXG4gICAgICogcG9zaXRpb24uIFRoZSBgdXBgIHZlY3RvciBhY3RzIGFzIGEgaGludCB0byB1bmlxdWVseSBvcmllbnQgdGhlIG9iamVjdCdzXHJcbiAgICAgKiB1cCBkaXJlY3Rpb24uIFdoZW4gb3JpZW50aW5nIGEgdmlldyBjb21wb25lbnQsIHRoZSBwcm9qZWN0ZWQgYHVwYCB2ZWN0b3JcclxuICAgICAqIGZhY2VzIHVwd2FyZHMgb24gdGhlIHZpZXdpbmcgcGxhbmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHAgVGFyZ2V0IHBvc2l0aW9uIHRvIHR1cm4gdG93YXJkcywgaW4gd29ybGQgc3BhY2UuXHJcbiAgICAgKiBAcGFyYW0gdXAgVXAgdmVjdG9yIHRvIGFsaWduIG9iamVjdCB3aXRoLCBpbiB3b3JsZCBzcGFjZS4gRGVmYXVsdCBpcyBgWzAsIDEsIDBdYC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gc2VsZiAoZm9yIG1ldGhvZCBjaGFpbmluZykuXHJcbiAgICAgKi9cclxuICAgIGxvb2tBdChwLCB1cCA9IFVQX1ZFQ1RPUikge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS53YXNtLl93bF9vYmplY3RfbG9va0F0KHRoaXMub2JqZWN0SWQsIHBbMF0sIHBbMV0sIHBbMl0sIHVwWzBdLCB1cFsxXSwgdXBbMl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqIERlc3Ryb3kgdGhlIG9iamVjdCB3aXRoIGFsbCBvZiBpdHMgY29tcG9uZW50cyBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIHNjZW5lICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9vYmplY3RJZCA8IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmVuZ2luZS53YXNtLl93bF9zY2VuZV9yZW1vdmVfb2JqZWN0KHRoaXMuX29iamVjdElkKTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5fZGVzdHJveU9iamVjdCh0aGlzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTWFyayB0cmFuc2Zvcm1hdGlvbiBkaXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBDYXVzZXMgYW4gZXZlbnR1YWwgcmVjYWxjdWxhdGlvbiBvZiB7QGxpbmsgdHJhbnNmb3JtV29ybGR9LCBlaXRoZXJcclxuICAgICAqIG9uIG5leHQge0BsaW5rIGdldFRyYW5zbGF0aW9uV29ybGR9LCB7QGxpbmsgdHJhbnNmb3JtV29ybGR9IG9yXHJcbiAgICAgKiB7QGxpbmsgc2NhbGluZ1dvcmxkfSBvciB0aGUgYmVnaW5uaW5nIG9mIG5leHQgZnJhbWUsIHdoaWNoZXZlclxyXG4gICAgICogaGFwcGVucyBmaXJzdC5cclxuICAgICAqL1xyXG4gICAgc2V0RGlydHkoKSB7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9zZXRfZGlydHkodGhpcy5vYmplY3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERpc2FibGUvZW5hYmxlIGFsbCBjb21wb25lbnRzIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiIE5ldyBzdGF0ZSBmb3IgdGhlIGNvbXBvbmVudHMuXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDAuOC41XHJcbiAgICAgKi9cclxuICAgIHNldCBhY3RpdmUoYikge1xyXG4gICAgICAgIGNvbnN0IGNvbXBzID0gdGhpcy5nZXRDb21wb25lbnRzKCk7XHJcbiAgICAgICAgZm9yIChsZXQgYyBvZiBjb21wcykge1xyXG4gICAgICAgICAgICBjLmFjdGl2ZSA9IGI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0Q29tcG9uZW50KHR5cGVPckNsYXNzLCBpbmRleCA9IDApIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gaXNTdHJpbmcodHlwZU9yQ2xhc3MpID8gdHlwZU9yQ2xhc3MgOiB0eXBlT3JDbGFzcy5UeXBlTmFtZTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHdhc20uX3dsX2dldF9jb21wb25lbnRfbWFuYWdlcl9pbmRleCh3YXNtLnRlbXBVVEY4KHR5cGUpKTtcclxuICAgICAgICBpZiAoY29tcG9uZW50VHlwZSA8IDApIHtcclxuICAgICAgICAgICAgLyogTm90IGEgbmF0aXZlIGNvbXBvbmVudCwgdHJ5IGpzOiAqL1xyXG4gICAgICAgICAgICBjb25zdCB0eXBlSW5kZXggPSB3YXNtLl9jb21wb25lbnRUeXBlSW5kaWNlc1t0eXBlXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVJbmRleCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIGNvbnN0IGpzSW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4KHRoaXMub2JqZWN0SWQsIHR5cGVJbmRleCwgaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoanNJbmRleCA8IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5fZW5naW5lLndhc20uX2NvbXBvbmVudHNbanNJbmRleF07XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQuY29uc3RydWN0b3IgIT09IEJyb2tlbkNvbXBvbmVudCA/IGNvbXBvbmVudCA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdGhpcy5fZW5naW5lLndhc20uX3dsX2dldF9jb21wb25lbnRfaWQodGhpcy5vYmplY3RJZCwgY29tcG9uZW50VHlwZSwgaW5kZXgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUuX3dyYXBDb21wb25lbnQodHlwZSwgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0Q29tcG9uZW50cyh0eXBlT3JDbGFzcykge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBsZXQgY29tcG9uZW50VHlwZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IHR5cGUgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlT3JDbGFzcykge1xyXG4gICAgICAgICAgICB0eXBlID0gaXNTdHJpbmcodHlwZU9yQ2xhc3MpID8gdHlwZU9yQ2xhc3MgOiB0eXBlT3JDbGFzcy5UeXBlTmFtZTtcclxuICAgICAgICAgICAgY29tcG9uZW50VHlwZSA9IHdhc20uX3R5cGVJbmRleEZvcih0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IG1heENvbXBzID0gTWF0aC5mbG9vcigod2FzbS5fdGVtcE1lbVNpemUgLyAzKSAqIDIpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHNDb3VudCA9IHdhc20uX3dsX29iamVjdF9nZXRfY29tcG9uZW50cyh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtLCBtYXhDb21wcyk7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gMiAqIGNvbXBvbmVudHNDb3VudDtcclxuICAgICAgICB3YXNtLl93bF9vYmplY3RfZ2V0X2NvbXBvbmVudF90eXBlcyh0aGlzLm9iamVjdElkLCB3YXNtLl90ZW1wTWVtICsgb2Zmc2V0LCBtYXhDb21wcyk7XHJcbiAgICAgICAgY29uc3QganNNYW5hZ2VySW5kZXggPSB3YXNtLl9qc01hbmFnZXJJbmRleDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudHNDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB3YXNtLl90ZW1wTWVtVWludDhbaSArIG9mZnNldF07XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gd2FzbS5fdGVtcE1lbVVpbnQxNltpXTtcclxuICAgICAgICAgICAgLyogSGFuZGxlIEpTIHR5cGVzIHNlcGFyYXRlbHkgKi9cclxuICAgICAgICAgICAgaWYgKHQgPT0ganNNYW5hZ2VySW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVJbmRleCA9IHdhc20uX3dsX2dldF9qc19jb21wb25lbnRfaW5kZXhfZm9yX2lkKGNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB3YXNtLl9jb21wb25lbnRzW3R5cGVJbmRleF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gY29tcG9uZW50VHlwZSA9PT0gbnVsbCB8fCBjb21wLnR5cGUgPT0gdHlwZTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wLmNvbnN0cnVjdG9yICE9PSBCcm9rZW5Db21wb25lbnQgJiYgbWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHMucHVzaChjb21wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRUeXBlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VyTmFtZSA9IHdhc20uX3R5cGVOYW1lRm9yKHQpO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudChtYW5hZ2VyTmFtZSwgdCwgY29tcG9uZW50SWQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0ID09IGNvbXBvbmVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIC8qIE9wdGltaXplZCBtYW5hZ2VyIG5hbWUgcmV0cmlldmFsLCBhbHJlYWR5IGhhdmUgdHlwZSAqL1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMuX2VuZ2luZS5fd3JhcENvbXBvbmVudCh0eXBlLCBjb21wb25lbnRUeXBlLCBjb21wb25lbnRJZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wb25lbnRzO1xyXG4gICAgfVxyXG4gICAgYWRkQ29tcG9uZW50KHR5cGVPckNsYXNzLCBwYXJhbXMpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzU3RyaW5nKHR5cGVPckNsYXNzKSA/IHR5cGVPckNsYXNzIDogdHlwZU9yQ2xhc3MuVHlwZU5hbWU7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50VHlwZSA9IHdhc20uX3R5cGVJbmRleEZvcih0eXBlKTtcclxuICAgICAgICBsZXQgY29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICBsZXQgY29tcG9uZW50SW5kZXggPSBudWxsO1xyXG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlIDwgMCkge1xyXG4gICAgICAgICAgICAvKiBKYXZhU2NyaXB0IGNvbXBvbmVudCAqL1xyXG4gICAgICAgICAgICBpZiAoISh0eXBlIGluIHdhc20uX2NvbXBvbmVudFR5cGVJbmRpY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gY29tcG9uZW50IHR5cGUgJ1wiICsgdHlwZSArIFwiJ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHdhc20uX3dsX29iamVjdF9hZGRfanNfY29tcG9uZW50KHRoaXMub2JqZWN0SWQsIHdhc20uX2NvbXBvbmVudFR5cGVJbmRpY2VzW3R5cGVdKTtcclxuICAgICAgICAgICAgY29tcG9uZW50SW5kZXggPSB3YXNtLl93bF9nZXRfanNfY29tcG9uZW50X2luZGV4X2Zvcl9pZChjb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IHdhc20uX2NvbXBvbmVudHNbY29tcG9uZW50SW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLyogbmF0aXZlIGNvbXBvbmVudCAqL1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHdhc20uX3dsX29iamVjdF9hZGRfY29tcG9uZW50KHRoaXMub2JqZWN0SWQsIGNvbXBvbmVudFR5cGUpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQgPSB0aGlzLl9lbmdpbmUuX3dyYXBDb21wb25lbnQodHlwZSwgY29tcG9uZW50VHlwZSwgY29tcG9uZW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgY3RvciA9IGNvbXBvbmVudC5jb25zdHJ1Y3RvcjtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gY3Rvci5Qcm9wZXJ0aWVzKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFtrZXldID0gcGFyYW1zW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogRXhwbGljaXRseSBpbml0aWFsaXplIG5hdGl2ZSBjb21wb25lbnRzICovXHJcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPCAwKSB7XHJcbiAgICAgICAgICAgIC8qIEB0b2RvOiBgY29tcG9uZW50SW5kZXhgIGNhbiBiZSBudWxsIGhlcmUsIHRoYXQncyBhbiBlcnJvciAqL1xyXG4gICAgICAgICAgICB3YXNtLl93bGpzX2NvbXBvbmVudF9pbml0KGNvbXBvbmVudEluZGV4KTtcclxuICAgICAgICAgICAgLyogc3RhcnQoKSBpcyBjYWxsZWQgdGhyb3VnaCBvbkFjdGl2YXRlKCkgKi9cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogSWYgaXQgd2FzIG5vdCBleHBsaWNpdGx5IHJlcXVlc3RlZCBieSB0aGUgdXNlciB0byBsZWF2ZSB0aGUgY29tcG9uZW50IGluYWN0aXZlLFxyXG4gICAgICAgICAqIHdlIGFjdGl2YXRlIGl0IGFzIGEgZmluYWwgc3RlcC4gVGhpcyBpbnZhbGlkYXRlcyBjb21wb25lbnRJbmRleCEgKi9cclxuICAgICAgICBpZiAoIXBhcmFtcyB8fCAhKCdhY3RpdmUnIGluIHBhcmFtcyAmJiAhcGFyYW1zLmFjdGl2ZSkpIHtcclxuICAgICAgICAgICAgY29tcG9uZW50LmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNlYXJjaCBmb3IgZGVzY2VuZGFudHMgbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgYSB3cmFwcGVyIGFyb3VuZCB7QGxpbmsgT2JqZWN0M0QuZmluZEJ5TmFtZURpcmVjdH0gYW5kXHJcbiAgICAgKiB7QGxpbmsgT2JqZWN0M0QuZmluZEJ5TmFtZVJlY3Vyc2l2ZX0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdG8gc2VhcmNoIGZvci5cclxuICAgICAqIEBwYXJhbSByZWN1cnNpdmUgSWYgYHRydWVgLCB0aGUgbWV0aG9kIHdpbGwgbG9vayBhdCBhbGwgdGhlIGRlc2NlbmRhbnRzIG9mIHRoaXMgb2JqZWN0LlxyXG4gICAgICogICAgIElmIGBmYWxzZWAsIHRoaXMgbWV0aG9kIHdpbGwgb25seSBwZXJmb3JtIHRoZSBzZWFyY2ggaW4gZGlyZWN0IGNoaWxkcmVuLlxyXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjBcclxuICAgICAqL1xyXG4gICAgZmluZEJ5TmFtZShuYW1lLCByZWN1cnNpdmUgPSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybiByZWN1cnNpdmUgPyB0aGlzLmZpbmRCeU5hbWVSZWN1cnNpdmUobmFtZSkgOiB0aGlzLmZpbmRCeU5hbWVEaXJlY3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNlYXJjaCBmb3IgYWxsICoqZGlyZWN0KiogY2hpbGRyZW4gbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgRXZlbiB0aG91Z2ggdGhpcyBtZXRob2QgaXMgaGVhdmlseSBvcHRpbWl6ZWQsIGl0IGRvZXMgcGVyZm9ybVxyXG4gICAgICogYSBsaW5lYXIgc2VhcmNoIHRvIGZpbmQgdGhlIG9iamVjdHMuIERvIG5vdCB1c2UgaW4gYSBob3QgcGF0aC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0byBzZWFyY2ggZm9yLlxyXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2Yge0BsaW5rIE9iamVjdDNEfSBtYXRjaGluZyB0aGUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMS4xLjBcclxuICAgICAqL1xyXG4gICAgZmluZEJ5TmFtZURpcmVjdChuYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fb2JqZWN0SWQ7XHJcbiAgICAgICAgLyogRGl2aWRlIGJ5IDQgdG8gZ2V0IGhhbGYgYXMgbWFueSB1c2hvcnQgYXMgcG9zc2libGUgKi9cclxuICAgICAgICBjb25zdCB0ZW1wU2l6ZVUxNiA9IHdhc20uX3RlbXBNZW1TaXplID4+IDI7XHJcbiAgICAgICAgY29uc3QgbWF4Q291bnQgPSB0ZW1wU2l6ZVUxNiAtIDI7IC8qIFJlc2VydmUgdHdvIHVzaG9ydCAqL1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHdhc20uX3RlbXBNZW1VaW50MTY7XHJcbiAgICAgICAgYnVmZmVyW21heENvdW50XSA9IDA7IC8qIEluZGV4IG9mZnNldCAqL1xyXG4gICAgICAgIGJ1ZmZlclttYXhDb3VudCArIDFdID0gMDsgLyogY2hpbGQgY291bnQgKi9cclxuICAgICAgICBjb25zdCBidWZmZXJQdHIgPSB3YXNtLl90ZW1wTWVtO1xyXG4gICAgICAgIGNvbnN0IGluZGV4UHRyID0gYnVmZmVyUHRyICsgbWF4Q291bnQgKiAyO1xyXG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnRQdHIgPSBidWZmZXJQdHIgKyBtYXhDb3VudCAqIDIgKyAyO1xyXG4gICAgICAgIGNvbnN0IG5hbWVQdHIgPSB3YXNtLnRlbXBVVEY4KG5hbWUsIChtYXhDb3VudCArIDIpICogMik7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xyXG4gICAgICAgIHdoaWxlICgocmVhZCA9IHdhc20uX3dsX29iamVjdF9maW5kQnlOYW1lKGlkLCBuYW1lUHRyLCBpbmRleFB0ciwgY2hpbGRDb3VudFB0ciwgYnVmZmVyUHRyLCBtYXhDb3VudCkpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVhZDsgKytpKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5lbmdpbmUud3JhcE9iamVjdChidWZmZXJbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2VhcmNoIGZvciAqKmFsbCBkZXNjZW5kYW50cyoqIG1hdGNoaW5nIHRoZSBuYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIEV2ZW4gdGhvdWdoIHRoaXMgbWV0aG9kIGlzIGhlYXZpbHkgb3B0aW1pemVkLCBpdCBkb2VzIHBlcmZvcm1cclxuICAgICAqIGEgbGluZWFyIHNlYXJjaCB0byBmaW5kIHRoZSBvYmplY3RzLiBEbyBub3QgdXNlIGluIGEgaG90IHBhdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdG8gc2VhcmNoIGZvci5cclxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHtAbGluayBPYmplY3QzRH0gbWF0Y2hpbmcgdGhlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIGZpbmRCeU5hbWVSZWN1cnNpdmUobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuX29iamVjdElkO1xyXG4gICAgICAgIC8qIERpdmlkZSBieSA0IHRvIGdldCBoYWxmIGFzIG1hbnkgdXNob3J0IGFzIHBvc3NpYmxlICovXHJcbiAgICAgICAgY29uc3QgdGVtcFNpemVVMTYgPSB3YXNtLl90ZW1wTWVtU2l6ZSA+PiAyO1xyXG4gICAgICAgIGNvbnN0IG1heENvdW50ID0gdGVtcFNpemVVMTYgLSAxOyAvKiBSZXNlcnZlIG9uZSB1c2hvcnQgKi9cclxuICAgICAgICBjb25zdCBidWZmZXIgPSB3YXNtLl90ZW1wTWVtVWludDE2O1xyXG4gICAgICAgIGJ1ZmZlclttYXhDb3VudF0gPSAwOyAvKiBJbmRleCBvZmZzZXQgKi9cclxuICAgICAgICBjb25zdCBidWZmZXJQdHIgPSB3YXNtLl90ZW1wTWVtO1xyXG4gICAgICAgIGNvbnN0IGluZGV4UHRyID0gYnVmZmVyUHRyICsgbWF4Q291bnQgKiAyO1xyXG4gICAgICAgIGNvbnN0IG5hbWVQdHIgPSB3YXNtLnRlbXBVVEY4KG5hbWUsIChtYXhDb3VudCArIDEpICogMik7XHJcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHdoaWxlICgocmVhZCA9IHdhc20uX3dsX29iamVjdF9maW5kQnlOYW1lUmVjdXJzaXZlKGlkLCBuYW1lUHRyLCBpbmRleFB0ciwgYnVmZmVyUHRyLCBtYXhDb3VudCkpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVhZDsgKytpKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5lbmdpbmUud3JhcE9iamVjdChidWZmZXJbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciBnaXZlbiBvYmplY3QncyB0cmFuc2Zvcm1hdGlvbiBoYXMgY2hhbmdlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IGNoYW5nZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZW5naW5lLndhc20uX3dsX29iamVjdF9pc19jaGFuZ2VkKHRoaXMub2JqZWN0SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIG9iamVjdCBpcyBkZXN0cm95ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gICAgICpcclxuICAgICAqIElmIHtAbGluayBXb25kZXJsYW5kRW5naW5lLmVyYXNlUHJvdG90eXBlT25EZXN0cm95fSBpcyBgdHJ1ZWAsXHJcbiAgICAgKiByZWFkaW5nIGEgY3VzdG9tIHByb3BlcnR5IHdpbGwgbm90IHdvcms6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIGVuZ2luZS5lcmFzZVByb3RvdHlwZU9uRGVzdHJveSA9IHRydWU7XHJcbiAgICAgKlxyXG4gICAgICogY29uc3Qgb2JqID0gc2NlbmUuYWRkT2JqZWN0KCk7XHJcbiAgICAgKiBvYmouY3VzdG9tUGFyYW0gPSAnSGVsbG8gV29ybGQhJztcclxuICAgICAqXHJcbiAgICAgKiBjb25zb2xlLmxvZyhvYmouaXNEZXN0cm95ZWQpOyAvLyBQcmludHMgYGZhbHNlYFxyXG4gICAgICogb2JqLmRlc3Ryb3koKTtcclxuICAgICAqIGNvbnNvbGUubG9nKG9iai5pc0Rlc3Ryb3llZCk7IC8vIFByaW50cyBgdHJ1ZWBcclxuICAgICAqIGNvbnNvbGUubG9nKG9iai5jdXN0b21QYXJhbSk7IC8vIFRocm93cyBhbiBlcnJvclxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMS4xXHJcbiAgICAgKi9cclxuICAgIGdldCBpc0Rlc3Ryb3llZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0SWQgPCAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIG9iamVjdCBpZHMgYXJlXHJcbiAgICAgKiBlcXVhbC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXJPYmplY3QgT2JqZWN0IHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgb2JqZWN0IGVxdWFscyB0aGUgZ2l2ZW4gb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBlcXVhbHMob3RoZXJPYmplY3QpIHtcclxuICAgICAgICBpZiAoIW90aGVyT2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0SWQgPT0gb3RoZXJPYmplY3Qub2JqZWN0SWQ7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIHNraW4gZGF0YS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTa2luIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5kZXggb2YgdGhlIHNraW4gaW4gdGhlIG1hbmFnZXIuXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9pbmRleDtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSwgaW5kZXgpIHtcclxuICAgICAgICB0aGlzLl9lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuICAgIC8qKiBBbW91bnQgb2Ygam9pbnRzIGluIHRoaXMgc2tpbi4gKi9cclxuICAgIGdldCBqb2ludENvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfc2tpbl9nZXRfam9pbnRfY291bnQodGhpcy5faW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqIEpvaW50cyBvYmplY3QgaWRzIGZvciB0aGlzIHNraW4gKi9cclxuICAgIGdldCBqb2ludElkcygpIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheSh3YXNtLkhFQVBVMTYuYnVmZmVyLCB3YXNtLl93bF9za2luX2pvaW50X2lkcyh0aGlzLl9pbmRleCksIHRoaXMuam9pbnRDb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIER1YWwgcXVhdGVybmlvbnMgaW4gYSBmbGF0IGFycmF5IG9mIHNpemUgOCB0aW1lcyB7QGxpbmsgam9pbnRDb3VudH0uXHJcbiAgICAgKlxyXG4gICAgICogSW52ZXJzZSBiaW5kIHRyYW5zZm9ybXMgb2YgdGhlIHNraW4uXHJcbiAgICAgKi9cclxuICAgIGdldCBpbnZlcnNlQmluZFRyYW5zZm9ybXMoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KHdhc20uSEVBUEYzMi5idWZmZXIsIHdhc20uX3dsX3NraW5faW52ZXJzZV9iaW5kX3RyYW5zZm9ybXModGhpcy5faW5kZXgpLCA4ICogdGhpcy5qb2ludENvdW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmVjdG9ycyBpbiBhIGZsYXQgYXJyYXkgb2Ygc2l6ZSAzIHRpbWVzIHtAbGluayBqb2ludENvdW50fS5cclxuICAgICAqXHJcbiAgICAgKiBJbnZlcnNlIGJpbmQgc2NhbGluZ3Mgb2YgdGhlIHNraW4uXHJcbiAgICAgKi9cclxuICAgIGdldCBpbnZlcnNlQmluZFNjYWxpbmdzKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh3YXNtLkhFQVBGMzIuYnVmZmVyLCB3YXNtLl93bF9za2luX2ludmVyc2VfYmluZF9zY2FsaW5ncyh0aGlzLl9pbmRleCksIDMgKiB0aGlzLmpvaW50Q291bnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgZXF1YWxpdHkgYnkgY29tcGFyaW5nIHdoZXRoZXIgdGhlIHdyYXBwZWQgbmF0aXZlIHNraW4gaWRzIGFyZVxyXG4gICAgICogZXF1YWwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyU2tpbiBTa2luIHRvIGNoZWNrIGVxdWFsaXR5IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoaXMgc2tpbiBlcXVhbHMgdGhlIGdpdmVuIHNraW4uXHJcbiAgICAgKlxyXG4gICAgICogQHNpbmNlIDEuMC4wXHJcbiAgICAgKi9cclxuICAgIGVxdWFscyhvdGhlclNraW4pIHtcclxuICAgICAgICBpZiAoIW90aGVyU2tpbilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleCA9PT0gb3RoZXJTa2luLl9pbmRleDtcclxuICAgIH1cclxufVxyXG4vKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIDwgMS4wLjAuICovXHJcbmV4cG9ydCB7IE9iamVjdDNEIGFzIE9iamVjdCB9O1xyXG4vKipcclxuICogUmF5IGhpdC5cclxuICpcclxuICogUmVzdWx0IG9mIGEge0BsaW5rIFNjZW5lLnJheUNhc3R9LlxyXG4gKlxyXG4gKiBAbm90ZSB0aGlzIGNsYXNzIHdyYXBzIGludGVybmFsIGVuZ2luZSBkYXRhIGFuZCBzaG91bGQgb25seSBiZSBjcmVhdGVkIGludGVybmFsbHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgUmF5SGl0IHtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKiBQb2ludGVyIHRvIHRoZSBtZW1vcnkgaGVhcC4gKi9cclxuICAgIF9wdHI7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBwdHIgUG9pbnRlciB0byB0aGUgcmF5IGhpdHMgbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihlbmdpbmUsIHB0cikge1xyXG4gICAgICAgIGlmICgocHRyICYgMykgIT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNhbGlnbmVkIHBvaW50ZXI6IHBsZWFzZSByZXBvcnQgYSBidWcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgIHRoaXMuX3B0ciA9IHB0cjtcclxuICAgIH1cclxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IGxvY2F0aW9ucy4gKi9cclxuICAgIGdldCBsb2NhdGlvbnMoKSB7XHJcbiAgICAgICAgbGV0IHAgPSB0aGlzLl9wdHI7XHJcbiAgICAgICAgbGV0IGwgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGl0Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBsLnB1c2gobmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCArIDEyICogaSwgMykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbDtcclxuICAgIH1cclxuICAgIC8qKiBBcnJheSBvZiByYXkgaGl0IG5vcm1hbHMgKG9ubHkgd2hlbiB1c2luZyB7QGxpbmsgUGh5c2ljcyNyYXlDYXN0fS4gKi9cclxuICAgIGdldCBub3JtYWxzKCkge1xyXG4gICAgICAgIGxldCBwID0gdGhpcy5fcHRyICsgNDg7XHJcbiAgICAgICAgbGV0IGwgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGl0Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBsLnB1c2gobmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCArIDEyICogaSwgMykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHJlZmVyIHRoZXNlIHRvIHJlY2FsY3VsYXRpbmcgdGhlIGRpc3RhbmNlIGZyb20gbG9jYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIERpc3RhbmNlcyBvZiBhcnJheSBoaXRzIHRvIHJheSBvcmlnaW4uXHJcbiAgICAgKi9cclxuICAgIGdldCBkaXN0YW5jZXMoKSB7XHJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMuX3B0ciArIDQ4ICogMjtcclxuICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSh0aGlzLl9lbmdpbmUud2FzbS5IRUFQRjMyLmJ1ZmZlciwgcCwgdGhpcy5oaXRDb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKiogSGl0IG9iamVjdHMgKi9cclxuICAgIGdldCBvYmplY3RzKCkge1xyXG4gICAgICAgIGNvbnN0IEhFQVBVMTYgPSB0aGlzLl9lbmdpbmUud2FzbS5IRUFQVTE2O1xyXG4gICAgICAgIGNvbnN0IG9iamVjdHMgPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07XHJcbiAgICAgICAgbGV0IHAgPSAodGhpcy5fcHRyICsgKDQ4ICogMiArIDE2KSkgPj4gMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGl0Q291bnQ7ICsraSkge1xyXG4gICAgICAgICAgICBvYmplY3RzW2ldID0gdGhpcy5fZW5naW5lLndyYXBPYmplY3QoSEVBUFUxNltwICsgaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqZWN0cztcclxuICAgIH1cclxuICAgIC8qKiBOdW1iZXIgb2YgaGl0cyAobWF4IDQpICovXHJcbiAgICBnZXQgaGl0Q291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuX2VuZ2luZS53YXNtLkhFQVBVMzJbdGhpcy5fcHRyIC8gNCArIDMwXSwgNCk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgbWF0aCB7XHJcbiAgICAvKiogKEV4cGVyaW1lbnRhbCEpIEN1YmljIEhlcm1pdGUgc3BsaW5lIGludGVycG9sYXRpb24gZm9yIHZlY3RvcjMgYW5kIHF1YXRlcm5pb25zLlxyXG4gICAgICpcclxuICAgICAqIFdpdGggYGYgPT0gMGAsIGBvdXRgIHdpbGwgYmUgYGJgLCBpZiBgZiA9PSAxYCwgYG91dGAgd2lsbCBiZSBjLlxyXG4gICAgICpcclxuICAgICAqIFdoZXRoZXIgYSBxdWF0ZXJuaW9uIG9yIHZlY3RvcjMgaW50ZXJwb2xhdGlvbiBpcyBpbnRlbmRlZCBpcyBkZXRlcm1pbmVkIGJ5XHJcbiAgICAgKiBsZW5ndGggb2YgYGFgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdXQgQXJyYXkgdG8gd3JpdGUgcmVzdWx0IHRvLlxyXG4gICAgICogQHBhcmFtIGEgRmlyc3QgdGFuZ2VudC9oYW5kbGUuXHJcbiAgICAgKiBAcGFyYW0gYiBGaXJzdCBwb2ludCBvciBxdWF0ZXJuaW9uLlxyXG4gICAgICogQHBhcmFtIGMgU2Vjb25kIHBvaW50IG9yIHF1YXRlcm5pb24uXHJcbiAgICAgKiBAcGFyYW0gZCBTZWNvbmQgaGFuZGxlLlxyXG4gICAgICogQHBhcmFtIGYgSW50ZXJwb2xhdGlvbiBmYWN0b3IgaW4gWzA7IDFdLlxyXG4gICAgICogQHJldHVybnMgVGhlIGBvdXRgIHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBAc2luY2UgMC44LjZcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGN1YmljSGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIGYsIGVuZ2luZSA9IFdMKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IGVuZ2luZS53YXNtO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSgwKS5zZXQoYSk7XHJcbiAgICAgICAgd2FzbS5fdGVtcE1lbUZsb2F0LnN1YmFycmF5KDQpLnNldChiKTtcclxuICAgICAgICB3YXNtLl90ZW1wTWVtRmxvYXQuc3ViYXJyYXkoOCkuc2V0KGMpO1xyXG4gICAgICAgIHdhc20uX3RlbXBNZW1GbG9hdC5zdWJhcnJheSgxMikuc2V0KGQpO1xyXG4gICAgICAgIGNvbnN0IGlzUXVhdCA9IGEubGVuZ3RoID09IDQ7XHJcbiAgICAgICAgd2FzbS5fd2xfbWF0aF9jdWJpY0hlcm1pdGUod2FzbS5fdGVtcE1lbSArIDQgKiAxNiwgd2FzbS5fdGVtcE1lbSArIDQgKiAwLCB3YXNtLl90ZW1wTWVtICsgNCAqIDQsIHdhc20uX3RlbXBNZW0gKyA0ICogOCwgd2FzbS5fdGVtcE1lbSArIDQgKiAxMiwgZiwgaXNRdWF0KTtcclxuICAgICAgICBvdXRbMF0gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTZdO1xyXG4gICAgICAgIG91dFsxXSA9IHdhc20uX3RlbXBNZW1GbG9hdFsxN107XHJcbiAgICAgICAgb3V0WzJdID0gd2FzbS5fdGVtcE1lbUZsb2F0WzE4XTtcclxuICAgICAgICBpZiAoaXNRdWF0KVxyXG4gICAgICAgICAgICBvdXRbM10gPSB3YXNtLl90ZW1wTWVtRmxvYXRbMTldO1xyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgbWF0aCB9O1xyXG4vKipcclxuICogQ2xhc3MgZm9yIGFjY2Vzc2luZyBpbnRlcm5hdGlvbmFsaXphdGlvbiAoaTE4bikgZmVhdHVyZXMuXHJcbiAqXHJcbiAqIEFsbG93cyB7QGxpbmsgSTE4Ti5vbkxhbmd1YWdlQ2hhbmdlZCBcImRldGVjdGluZyBsYW5ndWFnZSBjaGFuZ2VcIn0sXHJcbiAqIHtAbGluayBJMThOLmxhbmd1YWdlIFwic2V0dGluZyB0aGUgY3VycmVudCBsYW5ndWFnZVwifSBvciB0cmFuc2xhdGluZ1xyXG4gKiB7QGxpbmsgSTE4Ti50cmFuc2xhdGUgXCJpbmRpdmlkdWFsIHRlcm1zXCJ9LlxyXG4gKlxyXG4gKiBJbnRlcm5hdGlvbmFsaXphdGlvbiB3b3JrcyB3aXRoIHRlcm1zLFxyXG4gKiBhIHN0cmluZyB0eXBlIGtleXdvcmQgdGhhdCBpcyBsaW5rZWQgdG8gYSBkaWZmZXJlbnQgdGV4dCBmb3IgZWFjaCBsYW5ndWFnZS5cclxuICpcclxuICogSW50ZXJuYWxseSwgc3RyaW5nIHBhcmFtZXRlcnMgZm9yIHRleHQgYW5kIGpzIGNvbXBvbmVudHMgYXJlXHJcbiAqIGF1dG9tYXRpY2FsbHkgc3dhcHBlZCBkdXJpbmcgbGFuZ3VhZ2UgY2hhbmdlLCBnaXZlbiB0aGV5IGFyZSBsaW5rZWQgdG8gYSB0ZXJtLlxyXG4gKiBJZiBtYW51YWwgdGV4dCBzd2FwcGluZyBpcyBkZXNpcmVkLCB7QGxpbmsgSTE4Ti50cmFuc2xhdGV9XHJcbiAqIGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBjdXJyZW50IHRyYW5zbGF0aW9uIGZvciBhbnkgdGVybS5cclxuICpcclxuICogWW91IGNhbiBhbHNvIHVzZSB0aGUge0BsaW5rIEkxOE4ub25MYW5ndWFnZUNoYW5nZWR9IHRvIG1hbnVhbGx5IHVwZGF0ZSB0ZXh0XHJcbiAqIHdoZW4gYSBsYW5ndWFnZSBpcyBjaGFuZ2VkIHRvIGZvciBleGFtcGxlIHVwZGF0ZSBhIG51bWJlciBpbiBhIHN0cmluZy5cclxuICpcclxuICogQHNpbmNlIDEuMC4wXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgSTE4TiB7XHJcbiAgICAvKipcclxuICAgICAqIHtAbGluayBFbWl0dGVyfSBmb3IgbGFuZ3VhZ2UgY2hhbmdlIGV2ZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBGaXJzdCBwYXJhbWV0ZXIgdG8gYSBsaXN0ZW5lciBpcyB0aGUgb2xkIGxhbmd1YWdlIGluZGV4LFxyXG4gICAgICogc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgbmV3IGxhbmd1YWdlIGluZGV4LlxyXG4gICAgICpcclxuICAgICAqIFVzYWdlIGZyb20gYSB3aXRoaW4gYSBjb21wb25lbnQ6XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogdGhpcy5lbmdpbmUuaTE4bi5vbkxhbmd1YWdlQ2hhbmdlZC5hZGQoKG9sZExhbmd1YWdlSW5kZXgsIG5ld0xhbmd1YWdlSW5kZXgpID0+IHtcclxuICAgICAqICAgICBjb25zdCBvbGRMYW5ndWFnZSA9IHRoaXMuZW5naW5lLmkxOG4ubGFuZ3VhZ2VOYW1lKG9sZExhbmd1YWdlSW5kZXgpO1xyXG4gICAgICogICAgIGNvbnN0IG5ld0xhbmd1YWdlID0gdGhpcy5lbmdpbmUuaTE4bi5sYW5ndWFnZU5hbWUobmV3TGFuZ3VhZ2VJbmRleCk7XHJcbiAgICAgKiAgICAgY29uc29sZS5sb2coXCJTd2l0Y2hlZCBmcm9tXCIsIG9sZExhbmd1YWdlLCBcInRvXCIsIG5ld0xhbmd1YWdlKTtcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIG9uTGFuZ3VhZ2VDaGFuZ2VkID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBXb25kZXJsYW5kIEVuZ2luZSBpbnN0YW5jZS4gQGhpZGRlbiAqL1xyXG4gICAgX2VuZ2luZTtcclxuICAgIC8qKiBQcmV2aW91c2x5IHNldCBsYW5ndWFnZSBpbmRleC4gQGhpZGRlbiAqL1xyXG4gICAgX3ByZXZMYW5ndWFnZUluZGV4ID0gLTE7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGVuZ2luZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGN1cnJlbnQgbGFuZ3VhZ2UgYW5kIGFwcGx5IHRyYW5zbGF0aW9ucyB0byBsaW5rZWQgdGV4dCBwYXJhbWV0ZXJzLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgaXMgZXF1aXZhbGVudCB0byB7QGxpbmsgSTE4Ti5zZXRMYW5ndWFnZX0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvZGUgTGFuZ3VhZ2UgY29kZSB0byBzd2l0Y2ggdG9cclxuICAgICAqL1xyXG4gICAgc2V0IGxhbmd1YWdlKGNvZGUpIHtcclxuICAgICAgICB0aGlzLnNldExhbmd1YWdlKGNvZGUpO1xyXG4gICAgfVxyXG4gICAgLyoqIEdldCBjdXJyZW50IGxhbmd1YWdlIGNvZGUuICovXHJcbiAgICBnZXQgbGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGNvZGUgPSB3YXNtLl93bF9pMThuX2N1cnJlbnRMYW5ndWFnZSgpO1xyXG4gICAgICAgIGlmIChjb2RlID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcoY29kZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY3VycmVudCBsYW5ndWFnZSBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBtb3JlIGVmZmljaWVudCB0aGFuIGl0cyBlcXVpdmFsZW50OlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBjb25zdCBpbmRleCA9IGkxOG4ubGFuZ3VhZ2VJbmRleChpMThuLmxhbmd1YWdlKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBnZXQgY3VycmVudEluZGV4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUud2FzbS5fd2xfaTE4bl9jdXJyZW50TGFuZ3VhZ2VJbmRleCgpO1xyXG4gICAgfVxyXG4gICAgLyoqIFByZXZpb3VzIGxhbmd1YWdlIGluZGV4LiAqL1xyXG4gICAgZ2V0IHByZXZpb3VzSW5kZXgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZMYW5ndWFnZUluZGV4O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgY3VycmVudCBsYW5ndWFnZSBhbmQgYXBwbHkgdHJhbnNsYXRpb25zIHRvIGxpbmtlZCB0ZXh0IHBhcmFtZXRlcnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvZGUgVGhlIGxhbmd1YWdlIGNvZGUuXHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjdXJyZW50IGluZGV4IGNvZGUgd2hlbiB0aGVcclxuICAgICAqICAgICBsYW5ndWFnZSBpcyBsb2FkZWQuXHJcbiAgICAgKi9cclxuICAgIHNldExhbmd1YWdlKGNvZGUpIHtcclxuICAgICAgICBpZiAoY29kZSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY3VycmVudEluZGV4KTtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgdGhpcy5fcHJldkxhbmd1YWdlSW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleDtcclxuICAgICAgICB3YXNtLl93bF9pMThuX3NldExhbmd1YWdlKHdhc20udGVtcFVURjgoY29kZSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUuc2NlbmVcclxuICAgICAgICAgICAgLl9mbHVzaEFwcGVuZCh0aGlzLl9lbmdpbmUuc2NlbmUuYmFzZVVSTClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5jdXJyZW50SW5kZXgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdHJhbnNsYXRlZCBzdHJpbmcgZm9yIGEgdGVybSBmb3IgdGhlIGN1cnJlbnRseSBsb2FkZWQgbGFuZ3VhZ2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRlcm0gVGVybSB0byB0cmFuc2xhdGVcclxuICAgICAqL1xyXG4gICAgdHJhbnNsYXRlKHRlcm0pIHtcclxuICAgICAgICBjb25zdCB3YXNtID0gdGhpcy5fZW5naW5lLndhc207XHJcbiAgICAgICAgY29uc3QgdHJhbnNsYXRpb24gPSB3YXNtLl93bF9pMThuX3RyYW5zbGF0ZSh3YXNtLnRlbXBVVEY4KHRlcm0pKTtcclxuICAgICAgICBpZiAodHJhbnNsYXRpb24gPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyh0cmFuc2xhdGlvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbnVtYmVyIG9mIGxhbmd1YWdlcyBpbiB0aGUgcHJvamVjdC5cclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGxhbmd1YWdlQ291bnQoKSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIHJldHVybiB3YXNtLl93bF9pMThuX2xhbmd1YWdlQ291bnQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgbGFuZ3VhZ2UgY29kZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGxhbmd1YWdlIHRvIGdldCB0aGUgY29kZSBmcm9tXHJcbiAgICAgKi9cclxuICAgIGxhbmd1YWdlSW5kZXgoY29kZSkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICByZXR1cm4gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZUluZGV4KHdhc20udGVtcFVURjgoY29kZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgYSBsYW5ndWFnZSBjb2RlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgbGFuZ3VhZ2UgdG8gZ2V0IHRoZSBjb2RlIGZyb21cclxuICAgICAqL1xyXG4gICAgbGFuZ3VhZ2VDb2RlKGluZGV4KSB7XHJcbiAgICAgICAgY29uc3Qgd2FzbSA9IHRoaXMuX2VuZ2luZS53YXNtO1xyXG4gICAgICAgIGNvbnN0IGNvZGUgPSB3YXNtLl93bF9pMThuX2xhbmd1YWdlQ29kZShpbmRleCk7XHJcbiAgICAgICAgaWYgKGNvZGUgPT09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiB3YXNtLlVURjhUb1N0cmluZyhjb2RlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgbGFuZ3VhZ2UgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGxhbmd1YWdlIHRvIGdldCB0aGUgbmFtZSBmcm9tXHJcbiAgICAgKi9cclxuICAgIGxhbmd1YWdlTmFtZShpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHdhc20gPSB0aGlzLl9lbmdpbmUud2FzbTtcclxuICAgICAgICBjb25zdCBuYW1lID0gd2FzbS5fd2xfaTE4bl9sYW5ndWFnZU5hbWUoaW5kZXgpO1xyXG4gICAgICAgIGlmIChuYW1lID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gd2FzbS5VVEY4VG9TdHJpbmcobmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqIFByb3BlcnRpZXMgb2YgYSBXZWJYUiBzZXNzaW9uICovXHJcbmV4cG9ydCBjbGFzcyBYUiB7XHJcbiAgICAvKiogV29uZGVybGFuZCBXQVNNIGJyaWRnZS4gQGhpZGRlbiAqL1xyXG4gICAgI3dhc207XHJcbiAgICAjbW9kZTtcclxuICAgIGNvbnN0cnVjdG9yKHdhc20sIG1vZGUpIHtcclxuICAgICAgICB0aGlzLiN3YXNtID0gd2FzbTtcclxuICAgICAgICB0aGlzLiNtb2RlID0gbW9kZTtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IFdlYlhSIHNlc3Npb24gbW9kZSAqL1xyXG4gICAgZ2V0IHNlc3Npb25Nb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiNtb2RlO1xyXG4gICAgfVxyXG4gICAgLyoqIEN1cnJlbnQgV2ViWFIgc2Vzc2lvbiAqL1xyXG4gICAgZ2V0IHNlc3Npb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfc2Vzc2lvbjtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IFdlYlhSIGZyYW1lICovXHJcbiAgICBnZXQgZnJhbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfZnJhbWU7XHJcbiAgICB9XHJcbiAgICByZWZlcmVuY2VTcGFjZUZvclR5cGUodHlwZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlc1t0eXBlXSA/PyBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIFNldCBjdXJyZW50IHJlZmVyZW5jZSBzcGFjZSB0eXBlIHVzZWQgZm9yIHJldHJpZXZpbmcgZXllLCBoZWFkLCBoYW5kIGFuZCBqb2ludCBwb3NlcyAqL1xyXG4gICAgc2V0IGN1cnJlbnRSZWZlcmVuY2VTcGFjZShyZWZTcGFjZSkge1xyXG4gICAgICAgIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2UgPSByZWZTcGFjZTtcclxuICAgICAgICB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlVHlwZSA9IG51bGw7XHJcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIE9iamVjdC5rZXlzKHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2VzKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy4jd2FzbS53ZWJ4cl9yZWZTcGFjZXNbdHlwZV0gPT09IHJlZlNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBLZWVwIHRyYWNrIG9mIHJlZmVyZW5jZSBzcGFjZSB0eXBlICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCByZWZlcmVuY2Ugc3BhY2UgdHlwZSB1c2VkIGZvciByZXRyaWV2aW5nIGV5ZSwgaGVhZCwgaGFuZCBhbmQgam9pbnQgcG9zZXMgKi9cclxuICAgIGdldCBjdXJyZW50UmVmZXJlbmNlU3BhY2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuI3dhc20ud2VieHJfcmVmU3BhY2U7XHJcbiAgICB9XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiByZWZlcmVuY2Ugc3BhY2UgdHlwZSBvciBgbnVsbGAgaWYgbm90IGEgZGVmYXVsdCByZWZlcmVuY2Ugc3BhY2UgKi9cclxuICAgIGdldCBjdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX3JlZlNwYWNlVHlwZTtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IFdlYlhSIGJhc2UgbGF5ZXIgICovXHJcbiAgICBnZXQgYmFzZUxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiN3YXNtLndlYnhyX2Jhc2VMYXllcjtcclxuICAgIH1cclxuICAgIC8qKiBDdXJyZW50IFdlYlhSIGZyYW1lYnVmZmVyICovXHJcbiAgICBnZXQgZnJhbWVidWZmZXJzKCkge1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLiN3YXNtLndlYnhyX2ZibykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLiN3YXNtLkdMLmZyYW1lYnVmZmVyc1t0aGlzLiN3YXNtLndlYnhyX2Zib11dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy4jd2FzbS53ZWJ4cl9mYm8ubWFwKChpZCkgPT4gdGhpcy4jd2FzbS5HTC5mcmFtZWJ1ZmZlcnNbaWRdKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgVHlwZSB9IGZyb20gJy4vcHJvcGVydHkuanMnO1xyXG5pbXBvcnQgeyBSZXRhaW5FbWl0dGVyIH0gZnJvbSAnLi91dGlscy9ldmVudC5qcyc7XHJcbmltcG9ydCB7IGluaGVyaXRQcm9wZXJ0aWVzLCBBbmltYXRpb24sIENvbXBvbmVudCwgTWF0ZXJpYWwsIE1lc2gsIEJyb2tlbkNvbXBvbmVudCwgU2tpbiwgWFIsIH0gZnJvbSAnLi93b25kZXJsYW5kLmpzJztcclxuLyoqXHJcbiAqIERlZmF1bHQgY29tcG9uZW50IHBhcmFtZXRlciB2YWx1ZSBwZXIgdHlwZS5cclxuICovXHJcbmNvbnN0IF9jb21wb25lbnREZWZhdWx0cyA9IG5ldyBNYXAoW1xyXG4gICAgW1R5cGUuQm9vbCwgZmFsc2VdLFxyXG4gICAgW1R5cGUuSW50LCAwXSxcclxuICAgIFtUeXBlLkZsb2F0LCAwLjBdLFxyXG4gICAgW1R5cGUuU3RyaW5nLCAnJ10sXHJcbiAgICBbVHlwZS5FbnVtLCB1bmRlZmluZWRdLFxyXG4gICAgW1R5cGUuT2JqZWN0LCBudWxsXSxcclxuICAgIFtUeXBlLk1lc2gsIG51bGxdLFxyXG4gICAgW1R5cGUuVGV4dHVyZSwgbnVsbF0sXHJcbiAgICBbVHlwZS5NYXRlcmlhbCwgbnVsbF0sXHJcbiAgICBbVHlwZS5BbmltYXRpb24sIG51bGxdLFxyXG4gICAgW1R5cGUuU2tpbiwgbnVsbF0sXHJcbiAgICBbVHlwZS5Db2xvciwgWzAuMCwgMC4wLCAwLjAsIDEuMF1dLFxyXG5dKTtcclxuLyoqXHJcbiAqIFNldHVwIHRoZSBkZWZhdWx0cyB2YWx1ZSBvZiB0aGUgcHJvcGVydGllcyBvbiBhIGdpdmVuXHJcbiAqIGNvbXBvbmVudCBjbGFzcy5cclxuICpcclxuICogQHBhcmFtIGN0b3IgVGhlIGNvbXBvbmVudCBjbGFzc1xyXG4gKi9cclxuZnVuY3Rpb24gX3NldHVwRGVmYXVsdHMoY3Rvcikge1xyXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGN0b3IuUHJvcGVydGllcykge1xyXG4gICAgICAgIGNvbnN0IHAgPSBjdG9yLlByb3BlcnRpZXNbbmFtZV07XHJcbiAgICAgICAgaWYgKHAudHlwZSA9PT0gVHlwZS5FbnVtKSB7XHJcbiAgICAgICAgICAgIC8qIEVudW0gZGVmYXVsdCBjYW4gYmUgYSBzdHJpbmcgb3IgYW4gaW5kZXguIENvbnZlcnQgdG8gYW5kL29yXHJcbiAgICAgICAgICAgICAqIHNhbml0eS1jaGVjayB0aGUgaW5kZXguICovXHJcbiAgICAgICAgICAgIGlmIChwLnZhbHVlcz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBEb24ndCB0cnkgdG8gbG9vayB1cCB0aGUgZGVmYXVsdCBpZiB0aGUgdXNlciBzcGVjaWZpZWQgYVxyXG4gICAgICAgICAgICAgICAgICogbnVtYmVyIG9yIHdlIGFscmVhZHkgY29udmVydGVkIHRvIG9uZS4gKi9cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcC5kZWZhdWx0ICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIElmIHVuZGVmaW5lZCwgbWlzc2luZyBlbGVtZW50IG9yIHdyb25nIHR5cGUgdGhpcyByZXR1cm5zXHJcbiAgICAgICAgICAgICAgICAgICAgICogLTEgd2hpY2ggYmVjb21lcyAwIGJlbG93LiBUaGlzIG1hdGNoZXMgZWRpdG9yIGJlaGF2aW9yLiAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHAuZGVmYXVsdCA9IHAudmFsdWVzLmluZGV4T2YocC5kZWZhdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChwLmRlZmF1bHQgPCAwIHx8IHAuZGVmYXVsdCA+PSBwLnZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwLmRlZmF1bHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyogVGhlcmUncyBubyBpbmRleCB2YWx1ZSB0aGF0IG1ha2VzIHNlbnNlICovXHJcbiAgICAgICAgICAgICAgICBwLmRlZmF1bHQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHAuZGVmYXVsdCA9IHAuZGVmYXVsdCA/PyBfY29tcG9uZW50RGVmYXVsdHMuZ2V0KHAudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0b3IucHJvdG90eXBlW25hbWVdID0gcC5kZWZhdWx0O1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBMb3ctbGV2ZWwgd3JhcHBlciB0byBpbnRlcmFjdCB3aXRoIHRoZSBXZWJBc3NlbWJseSBjb2RlLlxyXG4gKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgV0FTTSB7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gd29ya2VyIGZpZWxkLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd29ya2VyID0gJyc7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gd2FzbSBmaWVsZC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdhc20gPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIGNhbnZhcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIGNhbnZhcyA9IG51bGw7XHJcbiAgICAvKiogQ3VycmVudCBXZWJYUiAgKi9cclxuICAgIC8qKlxyXG4gICAgICogRW1zY3JpcHRlbiBXZWJYUiBzZXNzaW9uLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfc2Vzc2lvbiA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgcmVxdWVzdCBzZXNzaW9uIGNhbGxiYWNrLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfcmVxdWVzdFNlc3Npb24gPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGZyYW1lLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfZnJhbWUgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIGN1cnJlbnQgV2ViWFIgcmVmZXJlbmNlIHNwYWNlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqL1xyXG4gICAgd2VieHJfcmVmU3BhY2UgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIHJlZmVyZW5jZSBzcGFjZXMuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9yZWZTcGFjZXMgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGN1cnJlbnQgcmVmZXJlbmNlIHNwYWNlIHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9yZWZTcGFjZVR5cGUgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIEdMIHByb2plY3Rpb24gbGF5ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICB3ZWJ4cl9iYXNlTGF5ZXIgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbXNjcmlwdGVuIFdlYlhSIGZyYW1lYnVmZmVyIHNjYWxlIGZhY3Rvci5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHdlYnhyX2ZyYW1lYnVmZmVyU2NhbGVGYWN0b3IgPSAxLjA7XHJcbiAgICAvKipcclxuICAgICAqIEVtc2NyaXB0ZW4gV2ViWFIgZnJhbWVidWZmZXIocykuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBhcGkgaXMgbWVhbnQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5LlxyXG4gICAgICovXHJcbiAgICAvKiB3ZWJ4cl9mYm8gd2lsbCBub3QgZ2V0IG92ZXJ3cml0dGVuIGlmIHdlIGFyZSByZW5kZXJpbmcgdG8gdGhlXHJcbiAgICAgKiBkZWZhdWx0IGZyYW1lYnVmZmVyLCBlLmcuLCB3aGVuIHVzaW5nIFdlYlhSIGVtdWxhdG9yLiAqL1xyXG4gICAgd2VieHJfZmJvID0gMDtcclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydCBhIFdBU00gbWVtb3J5IHZpZXcgdG8gYSBKYXZhU2NyaXB0IHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcHRyIFBvaW50ZXIgc3RhcnRcclxuICAgICAqIEBwYXJhbSBwdHJFbmQgUG9pbnRlciBlbmRcclxuICAgICAqIEByZXR1cm5zIEphdmFTY3JpcHQgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIFVURjhWaWV3VG9TdHJpbmc7XHJcbiAgICAvKiogSWYgYHRydWVgLCBsb2dzIHdpbGwgbm90IHNwYW0gdGhlIGNvbnNvbGUgb24gZXJyb3IuICovXHJcbiAgICBfZGVhY3RpdmF0ZV9jb21wb25lbnRfb25fZXJyb3IgPSBmYWxzZTtcclxuICAgIC8qKiBUZW1wb3JhcnkgbWVtb3J5IHBvaW50ZXIuICovXHJcbiAgICBfdGVtcE1lbSA9IG51bGw7XHJcbiAgICAvKiogVGVtcG9yYXJ5IG1lbW9yeSBzaXplLiAqL1xyXG4gICAgX3RlbXBNZW1TaXplID0gMDtcclxuICAgIC8qKiBUZW1wb3JhcnkgZmxvYXQgbWVtb3J5IHZpZXcuICovXHJcbiAgICBfdGVtcE1lbUZsb2F0ID0gbnVsbDtcclxuICAgIC8qKiBUZW1wb3JhcnkgaW50IG1lbW9yeSB2aWV3LiAqL1xyXG4gICAgX3RlbXBNZW1JbnQgPSBudWxsO1xyXG4gICAgLyoqIFRlbXBvcmFyeSB1aW50OCBtZW1vcnkgdmlldy4gKi9cclxuICAgIF90ZW1wTWVtVWludDggPSBudWxsO1xyXG4gICAgLyoqIFRlbXBvcmFyeSB1aW50MzIgbWVtb3J5IHZpZXcuICovXHJcbiAgICBfdGVtcE1lbVVpbnQzMiA9IG51bGw7XHJcbiAgICAvKiogVGVtcG9yYXJ5IHVpbnQxNiBtZW1vcnkgdmlldy4gKi9cclxuICAgIF90ZW1wTWVtVWludDE2ID0gbnVsbDtcclxuICAgIC8qKiBMb2FkaW5nIHNjcmVlbiAuYmluIGZpbGUgZGF0YSAqL1xyXG4gICAgX2xvYWRpbmdTY3JlZW4gPSBudWxsO1xyXG4gICAgLyoqIExpc3Qgb2YgY2FsbGJhY2tzIHRyaWdnZXJlZCB3aGVuIHRoZSBzY2VuZSBpcyBsb2FkZWQuICovXHJcbiAgICBfc2NlbmVMb2FkZWRDYWxsYmFjayA9IFtdO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRlcmlhbCBkZWZpbml0aW9uIGNhY2hlLiBFYWNoIHBpcGVsaW5lIGhhcyBpdHMgb3duXHJcbiAgICAgKiBhc3NvY2lhdGVkIG1hdGVyaWFsIGRlZmluaXRpb24uXHJcbiAgICAgKi9cclxuICAgIF9tYXRlcmlhbERlZmluaXRpb25zID0gW107XHJcbiAgICAvKiogSW1hZ2UgY2FjaGUuICovXHJcbiAgICBfaW1hZ2VzID0gW107XHJcbiAgICAvKiogQ29tcG9uZW50IGluc3RhbmNlcy4gKi9cclxuICAgIF9jb21wb25lbnRzID0gW107XHJcbiAgICAvKiogQ29tcG9uZW50IFR5cGUgaW5mby4gKi9cclxuICAgIF9jb21wb25lbnRUeXBlcyA9IFtdO1xyXG4gICAgLyoqIEluZGV4IHBlciBjb21wb25lbnQgdHlwZSBuYW1lLiAqL1xyXG4gICAgX2NvbXBvbmVudFR5cGVJbmRpY2VzID0ge307XHJcbiAgICAvKiogV29uZGVybGFuZCBlbmdpbmUgaW5zdGFuY2UuICovXHJcbiAgICBfZW5naW5lID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogYHRydWVgIGlmIHRoaXMgcnVudGltZSBpcyB1c2luZyBwaHlzeC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIF93aXRoUGh5c1ggPSBmYWxzZTtcclxuICAgIC8qKiBEZWNvZGVyIGZvciBVVEY4IGBBcnJheUJ1ZmZlcmAgdG8gSmF2YVNjcmlwdCBzdHJpbmcuICovXHJcbiAgICBfdXRmOERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKTtcclxuICAgIC8qKiBKYXZhU2NyaXB0IG1hbmFnZXIgaW5kZXguICovXHJcbiAgICBfanNNYW5hZ2VySW5kZXhDYWNoZWQgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RyYXRpb24gaW5kZXggb2Yge0BsaW5rIEJyb2tlbkNvbXBvbmVudH0uXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIHJldHVybiBkdW1teSBpbnN0YW5jZXMgd2hlbiBhIGNvbXBvbmVudFxyXG4gICAgICogaXNuJ3QgcmVnaXN0ZXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBAaGlkZGVuXHJcbiAgICAgKi9cclxuICAgIF9icm9rZW5Db21wb25lbnRJbmRleCA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgV2ViQXNzZW1ibHkgPD4gQVBJIGJyaWRnZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGhyZWFkcyBgdHJ1ZWAgaWYgdGhlIHJ1bnRpbWUgdXNlZCBoYXMgdGhyZWFkcyBzdXBwb3J0XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHRocmVhZHMpIHtcclxuICAgICAgICBpZiAodGhyZWFkcykge1xyXG4gICAgICAgICAgICB0aGlzLlVURjhWaWV3VG9TdHJpbmcgPSAocywgZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91dGY4RGVjb2Rlci5kZWNvZGUodGhpcy5IRUFQVTguc2xpY2UocywgZSkpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuVVRGOFZpZXdUb1N0cmluZyA9IChzLCBlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcylcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3V0ZjhEZWNvZGVyLmRlY29kZSh0aGlzLkhFQVBVOC5zdWJhcnJheShzLCBlKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleCA9IHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KEJyb2tlbkNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0IHRoZSBjYWNoZSBvZiB0aGUgbGlicmFyeS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBTaG91bGQgb25seSBiZSBjYWxsZWQgd2hlbiB0ZWFyaW5nIGRvd24gdGhlIHJ1bnRpbWUuXHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuYWxsb2NhdGVUZW1wTWVtb3J5KDEwMjQpO1xyXG4gICAgICAgIHRoaXMuX21hdGVyaWFsRGVmaW5pdGlvbnMgPSBbXTtcclxuICAgICAgICB0aGlzLl9pbWFnZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2pzTWFuYWdlckluZGV4Q2FjaGVkID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleCA9IHRoaXMuX3JlZ2lzdGVyQ29tcG9uZW50KEJyb2tlbkNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBjb21wb25lbnQgaXMgcmVnaXN0ZXJlZCBvciBub3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGN0b3IgIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29tcG9uZW50IHR5cGVuYW1lIChlLmcuLCBgJ2N1cnNvci1jb21wb25lbnQnYCkuXHJcbiAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkLCBgZmFsc2VgIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgaXNSZWdpc3RlcmVkKHR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdHlwZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBsZWdhY3kgY29tcG9uZW50IGluIHRoaXMgRW1zY3JpcHRlbiBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHR5cGVOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBwYXJhbWV0ZXJzIChwcm9wZXJ0aWVzKS5cclxuICAgICAqIEBwYXJhbSBvYmplY3QgVGhlIG9iamVjdCdzIHByb3RvdHlwZS5cclxuICAgICAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gaW5kZXhcclxuICAgICAqL1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50TGVnYWN5KHR5cGVOYW1lLCBwYXJhbXMsIG9iamVjdCkge1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSBjbGFzcyBDdXN0b21Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY3Rvci5UeXBlTmFtZSA9IHR5cGVOYW1lO1xyXG4gICAgICAgIGN0b3IuUHJvcGVydGllcyA9IHBhcmFtcztcclxuICAgICAgICBPYmplY3QuYXNzaWduKGN0b3IucHJvdG90eXBlLCBvYmplY3QpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWdpc3RlckNvbXBvbmVudChjdG9yKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXIgYSBjbGFzcyBjb21wb25lbnQgaW4gdGhpcyBFbXNjcmlwdGVuIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgYXBpIGlzIG1lYW50IHRvIGJlIHVzZWQgaW50ZXJuYWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY3RvciBUaGUgY2xhc3MgdG8gcmVnaXN0ZXIuXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVnaXN0cmF0aW9uIGluZGV4LlxyXG4gICAgICovXHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQoY3Rvcikge1xyXG4gICAgICAgIGlmICghY3Rvci5UeXBlTmFtZSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBuYW1lIHByb3ZpZGVkIGZvciBjb21wb25lbnQuJyk7XHJcbiAgICAgICAgaWYgKCFjdG9yLnByb3RvdHlwZS5fdHJpZ2dlckluaXQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWdpc3RlckNvbXBvbmVudCgpOiBDb21wb25lbnQgJHtjdG9yLlR5cGVOYW1lfSBtdXN0IGV4dGVuZCBDb21wb25lbnRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5oZXJpdFByb3BlcnRpZXMoY3Rvcik7XHJcbiAgICAgICAgX3NldHVwRGVmYXVsdHMoY3Rvcik7XHJcbiAgICAgICAgY29uc3QgdHlwZUluZGV4ID0gY3Rvci5UeXBlTmFtZSBpbiB0aGlzLl9jb21wb25lbnRUeXBlSW5kaWNlc1xyXG4gICAgICAgICAgICA/IHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzW2N0b3IuVHlwZU5hbWVdXHJcbiAgICAgICAgICAgIDogdGhpcy5fY29tcG9uZW50VHlwZXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVzW3R5cGVJbmRleF0gPSBjdG9yO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudFR5cGVJbmRpY2VzW2N0b3IuVHlwZU5hbWVdID0gdHlwZUluZGV4O1xyXG4gICAgICAgIGlmIChjdG9yID09PSBCcm9rZW5Db21wb25lbnQpXHJcbiAgICAgICAgICAgIHJldHVybiB0eXBlSW5kZXg7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyZWQgY29tcG9uZW50JywgY3Rvci5UeXBlTmFtZSwgYChjbGFzcyAke2N0b3IubmFtZX0pYCwgJ3dpdGggaW5kZXgnLCB0eXBlSW5kZXgpO1xyXG4gICAgICAgIGlmIChjdG9yLm9uUmVnaXN0ZXIpXHJcbiAgICAgICAgICAgIGN0b3Iub25SZWdpc3Rlcih0aGlzLl9lbmdpbmUpO1xyXG4gICAgICAgIHJldHVybiB0eXBlSW5kZXg7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFsbG9jYXRlIHRoZSByZXF1ZXN0ZWQgYW1vdW50IG9mIHRlbXBvcmFyeSBtZW1vcnlcclxuICAgICAqIGluIHRoaXMgV0FTTSBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2l6ZSBUaGUgbnVtYmVyIG9mIGJ5dGVzIHRvIGFsbG9jYXRlXHJcbiAgICAgKi9cclxuICAgIGFsbG9jYXRlVGVtcE1lbW9yeShzaXplKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FsbG9jYXRpbmcgdGVtcCBtZW06Jywgc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbVNpemUgPSBzaXplO1xyXG4gICAgICAgIGlmICh0aGlzLl90ZW1wTWVtKVxyXG4gICAgICAgICAgICB0aGlzLl9mcmVlKHRoaXMuX3RlbXBNZW0pO1xyXG4gICAgICAgIHRoaXMuX3RlbXBNZW0gPSB0aGlzLl9tYWxsb2ModGhpcy5fdGVtcE1lbVNpemUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGVtcE1lbW9yeSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAdG9kbzogRGVsZXRlIHRoaXMgYW5kIG9ubHkga2VlcCBgYWxsb2NhdGVUZW1wTWVtb3J5YFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzaXplIE51bWJlciBvZiBieXRlcyB0byBhbGxvY2F0ZVxyXG4gICAgICovXHJcbiAgICByZXF1aXJlVGVtcE1lbShzaXplKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RlbXBNZW1TaXplID49IHNpemUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBHcm93IGluIDFrYiBpbmNyZW1lbnRzICovXHJcbiAgICAgICAgdGhpcy5hbGxvY2F0ZVRlbXBNZW1vcnkoTWF0aC5jZWlsKHNpemUgLyAxMDI0KSAqIDEwMjQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIHRlbXBvcmFyeSBtZW1vcnkgdmlld3MuIFRoaXMgbXVzdCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlXHJcbiAgICAgKiB0ZW1wb3JhcnkgbWVtb3J5IGFkZHJlc3MgY2hhbmdlcy5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVRlbXBNZW1vcnkoKSB7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbUZsb2F0ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUgPj4gMik7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1lbUludCA9IG5ldyBJbnQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAyKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDE2ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuSEVBUDguYnVmZmVyLCB0aGlzLl90ZW1wTWVtLCB0aGlzLl90ZW1wTWVtU2l6ZSA+PiAxKTtcclxuICAgICAgICB0aGlzLl90ZW1wTWVtVWludDggPSBuZXcgVWludDhBcnJheSh0aGlzLkhFQVA4LmJ1ZmZlciwgdGhpcy5fdGVtcE1lbSwgdGhpcy5fdGVtcE1lbVNpemUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdWludDggYnVmZmVyIHZpZXcgb24gdGVtcG9yYXJ5IFdBU00gbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqICoqTm90ZSoqOiB0aGlzIG1ldGhvZCBtaWdodCBhbGxvY2F0ZSBpZiB0aGUgcmVxdWVzdGVkIG1lbW9yeSBpcyBiaWdnZXJcclxuICAgICAqIHRoYW4gdGhlIGN1cnJlbnQgdGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgKiplbGVtZW50cyoqIHJlcXVpcmVkXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeVxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVyVTgoY291bnQpIHtcclxuICAgICAgICB0aGlzLnJlcXVpcmVUZW1wTWVtKGNvdW50KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQ4O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdWludDE2IGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZFxyXG4gICAgICogQHJldHVybnMgQSB7QGxpbmsgVHlwZWRBcnJheX0gb3ZlciB0aGUgV0FTTSBtZW1vcnlcclxuICAgICAqL1xyXG4gICAgZ2V0VGVtcEJ1ZmZlclUxNihjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiAyKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQxNjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHVpbnQzMiBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgZ2V0VGVtcEJ1ZmZlclUzMihjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiA0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbVVpbnQzMjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIGludDMyIGJ1ZmZlciB2aWV3IG9uIHRlbXBvcmFyeSBXQVNNIG1lbW9yeS5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGUqKjogdGhpcyBtZXRob2QgbWlnaHQgYWxsb2NhdGUgaWYgdGhlIHJlcXVlc3RlZCBtZW1vcnkgaXMgYmlnZ2VyXHJcbiAgICAgKiB0aGFuIHRoZSBjdXJyZW50IHRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mICoqZWxlbWVudHMqKiByZXF1aXJlZC5cclxuICAgICAqIEByZXR1cm5zIEEge0BsaW5rIFR5cGVkQXJyYXl9IG92ZXIgdGhlIFdBU00gbWVtb3J5LlxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wQnVmZmVySTMyKGNvdW50KSB7XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlVGVtcE1lbShjb3VudCAqIDQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90ZW1wTWVtSW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgZmxvYXQzMiBidWZmZXIgdmlldyBvbiB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkuXHJcbiAgICAgKlxyXG4gICAgICogKipOb3RlKio6IHRoaXMgbWV0aG9kIG1pZ2h0IGFsbG9jYXRlIGlmIHRoZSByZXF1ZXN0ZWQgbWVtb3J5IGlzIGJpZ2dlclxyXG4gICAgICogdGhhbiB0aGUgY3VycmVudCB0ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiAqKmVsZW1lbnRzKiogcmVxdWlyZWQuXHJcbiAgICAgKiBAcmV0dXJucyBBIHtAbGluayBUeXBlZEFycmF5fSBvdmVyIHRoZSBXQVNNIG1lbW9yeS5cclxuICAgICAqL1xyXG4gICAgZ2V0VGVtcEJ1ZmZlckYzMihjb3VudCkge1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oY291bnQgKiA0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGVtcE1lbUZsb2F0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb3B5IHRoZSBzdHJpbmcgaW50byB0ZW1wb3JhcnkgV0FTTSBtZW1vcnkgYW5kIHJldHJpZXZlIHRoZSBwb2ludGVyLlxyXG4gICAgICpcclxuICAgICAqIEBub3RlIFRoaXMgbWV0aG9kIHdpbGwgY29tcHV0ZSB0aGUgc3RybGVuIGFuZCBhcHBlbmQgYSBgXFwwYC5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGUgcmVzdWx0IHNob3VsZCBiZSB1c2VkICoqZGlyZWN0bHkqKiBvdGhlcndpc2UgaXQgbWlnaHQgZ2V0XHJcbiAgICAgKiBvdmVycmlkZGVuIGJ5IGFueSBuZXh0IGNhbGwgbW9kaWZ5aW5nIHRoZSB0ZW1wb3JhcnkgbWVtb3J5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyB0byB3cml0ZSB0byB0ZW1wb3JhcnkgbWVtb3J5XHJcbiAgICAgKiBAcGFyYW0gYnl0ZU9mZnNldCBUaGUgc3RhcnRpbmcgYnl0ZSBvZmZzZXQgaW4gdGhlIHRlbXBvcmFyeSBtZW1vcnkgYXQgd2hpY2hcclxuICAgICAqICAgICB0aGUgc3RyaW5nIHNob3VsZCBiZSB3cml0dGVuLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHVzaW5nIG11bHRpcGxlIHRlbXBvcmFyaWVzLlxyXG4gICAgICogQHJldHVybiBUaGUgdGVtcG9yYXJ5IHBvaW50ZXIgb250byB0aGUgV0FTTSBtZW1vcnlcclxuICAgICAqL1xyXG4gICAgdGVtcFVURjgoc3RyLCBieXRlT2Zmc2V0ID0gMCkge1xyXG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IHRoaXMubGVuZ3RoQnl0ZXNVVEY4KHN0cikgKyAxO1xyXG4gICAgICAgIHRoaXMucmVxdWlyZVRlbXBNZW0oc3RyTGVuICsgYnl0ZU9mZnNldCk7XHJcbiAgICAgICAgY29uc3QgcHRyID0gdGhpcy5fdGVtcE1lbSArIGJ5dGVPZmZzZXQ7XHJcbiAgICAgICAgdGhpcy5zdHJpbmdUb1VURjgoc3RyLCBwdHIsIHN0ckxlbik7XHJcbiAgICAgICAgcmV0dXJuIHB0cjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBpbmRleCBvZiB0aGUgY29tcG9uZW50IHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQG5vdGUgVGhpcyBtZXRob2QgdXNlcyBtYWxsb2MgYW5kIGNvcGllcyB0aGUgc3RyaW5nXHJcbiAgICAgKiB0byBhdm9pZCBvdmVyd3JpdGluZyBjYWxsZXIncyB0ZW1wb3JhcnkgZGF0YS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgdHlwZVxyXG4gICAgICogQHJldHVybiBUaGUgY29tcG9uZW50IHR5cGUgaW5kZXhcclxuICAgICAqL1xyXG4gICAgX3R5cGVJbmRleEZvcih0eXBlKSB7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoQnl0ZXMgPSB0aGlzLmxlbmd0aEJ5dGVzVVRGOCh0eXBlKSArIDE7XHJcbiAgICAgICAgY29uc3QgbWVtID0gdGhpcy5fbWFsbG9jKGxlbmd0aEJ5dGVzKTtcclxuICAgICAgICB0aGlzLnN0cmluZ1RvVVRGOCh0eXBlLCBtZW0sIGxlbmd0aEJ5dGVzKTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRUeXBlID0gdGhpcy5fd2xfZ2V0X2NvbXBvbmVudF9tYW5hZ2VyX2luZGV4KG1lbSk7XHJcbiAgICAgICAgdGhpcy5fZnJlZShtZW0pO1xyXG4gICAgICAgIHJldHVybiBjb21wb25lbnRUeXBlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gdGhlIG5hbWUgb2YgY29tcG9uZW50IHR5cGUgc3RvcmVkIGF0IHRoZSBnaXZlbiBpbmRleC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdHlwZUluZGV4IFRoZSB0eXBlIGluZGV4XHJcbiAgICAgKiBAcmV0dXJuIFRoZSBuYW1lIGFzIGEgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIF90eXBlTmFtZUZvcih0eXBlSW5kZXgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5VVEY4VG9TdHJpbmcodGhpcy5fd2xfY29tcG9uZW50X21hbmFnZXJfbmFtZSh0eXBlSW5kZXgpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHJ1bnRpbWUgc3VwcG9ydHMgcGh5c3ggb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBnZXQgd2l0aFBoeXNYKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93aXRoUGh5c1g7XHJcbiAgICB9XHJcbiAgICAvKiogSmF2YVNjcmlwdCBtYW5hZ2VyIGluZGV4LiAqL1xyXG4gICAgZ2V0IF9qc01hbmFnZXJJbmRleCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fanNNYW5hZ2VySW5kZXhDYWNoZWQgPSB0aGlzLl90eXBlSW5kZXhGb3IoJ2pzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9qc01hbmFnZXJJbmRleENhY2hlZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBlbmdpbmUgaW5zdGFuY2UgaG9sZGluZyB0aGlzIGJyaWRnZS5cclxuICAgICAqXHJcbiAgICAgKiBAbm90ZSBUaGlzIGFwaSBpcyBtZWFudCB0byBiZSB1c2VkIGludGVybmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGVuZ2luZSBUaGUgZW5naW5lIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICBfc2V0RW5naW5lKGVuZ2luZSkge1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZSA9IGVuZ2luZTtcclxuICAgIH1cclxuICAgIC8qIFdlYkFzc2VtYmx5IHRvIEpTIGNhbGwgYnJpZGdlLiAqL1xyXG4gICAgX3dsanNfeHJfc2Vzc2lvbl9zdGFydChtb2RlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2VuZ2luZS54ciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbmdpbmUueHIgPSBuZXcgWFIodGhpcywgbW9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvblN0YXJ0Lm5vdGlmeSh0aGlzLndlYnhyX3Nlc3Npb24sIG1vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF93bGpzX3hyX3Nlc3Npb25fZW5kKCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0RW1pdHRlciA9IHRoaXMuX2VuZ2luZS5vblhSU2Vzc2lvblN0YXJ0O1xyXG4gICAgICAgIGlmIChzdGFydEVtaXR0ZXIgaW5zdGFuY2VvZiBSZXRhaW5FbWl0dGVyKVxyXG4gICAgICAgICAgICBzdGFydEVtaXR0ZXIucmVzZXQoKTtcclxuICAgICAgICB0aGlzLl9lbmdpbmUub25YUlNlc3Npb25FbmQubm90aWZ5KCk7XHJcbiAgICAgICAgdGhpcy5fZW5naW5lLnhyID0gbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3hyX2Rpc2FibGUoKSB7XHJcbiAgICAgICAgLyogQHRvZG8gVGhpcyBjb3VsZCBkaXJlY3RseSBiZSBmdWxseSBoYW5kbGVkIGluIEpTLiAqL1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS5hclN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2VuZ2luZS52clN1cHBvcnRlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgX3dsanNfYWxsb2NhdGUobnVtQ29tcG9uZW50cykge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBuZXcgQXJyYXkobnVtQ29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19pbml0KHdpdGhQaHlzWCkge1xyXG4gICAgICAgIHRoaXMuX3dpdGhQaHlzWCA9IHdpdGhQaHlzWDtcclxuICAgICAgICAvKiBUYXJnZXQgbWVtb3J5IGZvciBKUyBBUEkgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIGFycmF5cyAqL1xyXG4gICAgICAgIHRoaXMuYWxsb2NhdGVUZW1wTWVtb3J5KDEwMjQpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfcmVhbGxvY2F0ZShudW1Db21wb25lbnRzKSB7XHJcbiAgICAgICAgaWYgKG51bUNvbXBvbmVudHMgPiB0aGlzLl9jb21wb25lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnRzLmxlbmd0aCA9IG51bUNvbXBvbmVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3dsanNfc2NlbmVfYWRkX21hdGVyaWFsX2RlZmluaXRpb24oZGVmaW5pdGlvbklkKSB7XHJcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbiA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvKiBDYWNoZSBtYXRlcmlhbCBkZWZpbml0aW9uIGZvciBmYXN0ZXIgcmVhZC93cml0ZSAqL1xyXG4gICAgICAgIGNvbnN0IG5iUGFyYW1zID0gdGhpcy5fd2xfbWF0ZXJpYWxfZGVmaW5pdGlvbl9nZXRfY291bnQoZGVmaW5pdGlvbklkKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5iUGFyYW1zOyArK2kpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuVVRGOFRvU3RyaW5nKHRoaXMuX3dsX21hdGVyaWFsX2RlZmluaXRpb25fZ2V0X3BhcmFtX25hbWUoZGVmaW5pdGlvbklkLCBpKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl93bF9tYXRlcmlhbF9kZWZpbml0aW9uX2dldF9wYXJhbV90eXBlKGRlZmluaXRpb25JZCwgaSk7XHJcbiAgICAgICAgICAgIGRlZmluaXRpb24uc2V0KG5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxyXG4gICAgICAgICAgICAgICAgdHlwZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHQgJiAweGZmLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudENvdW50OiAodCA+PiA4KSAmIDB4ZmYsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YVR5cGU6ICh0ID4+IDE2KSAmIDB4ZmYsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbWF0ZXJpYWxEZWZpbml0aW9uc1tkZWZpbml0aW9uSWRdID0gZGVmaW5pdGlvbjtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fYm9vbChjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHYgIT09IDA7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2ludChjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9IHY7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2Zsb2F0KGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID0gdjtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fc3RyaW5nKGMsIHAsIHBlLCB2LCB2ZSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyh2LCB2ZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fY29sb3IoYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPSBuZXcgRmxvYXQzMkFycmF5KFswLCA4LCAxNiwgMjRdLm1hcCgocykgPT4gKCh2ID4+PiBzKSAmIDB4ZmYpIC8gMjU1LjApKTtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fb2JqZWN0KGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyB0aGlzLl9lbmdpbmUud3JhcE9iamVjdCh2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX21lc2goYywgcCwgcGUsIHYpIHtcclxuICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuVVRGOFZpZXdUb1N0cmluZyhwLCBwZSk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tjXVtwYXJhbV0gPVxyXG4gICAgICAgICAgICB2ID4gMCA/IG5ldyBNZXNoKHRoaXMuX2VuZ2luZSwgdikgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc2V0X2NvbXBvbmVudF9wYXJhbV90ZXh0dXJlKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyB0aGlzLl9lbmdpbmUudGV4dHVyZXMud3JhcCh2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX21hdGVyaWFsKGMsIHAsIHBlLCB2KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW0gPSB0aGlzLlVURjhWaWV3VG9TdHJpbmcocCwgcGUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbY11bcGFyYW1dID1cclxuICAgICAgICAgICAgdiA+IDAgPyBuZXcgTWF0ZXJpYWwodGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19zZXRfY29tcG9uZW50X3BhcmFtX2FuaW1hdGlvbihjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XHJcbiAgICAgICAgICAgIHYgPiAwID8gbmV3IEFuaW1hdGlvbih0aGlzLl9lbmdpbmUsIHYpIDogbnVsbDtcclxuICAgIH1cclxuICAgIF93bGpzX3NldF9jb21wb25lbnRfcGFyYW1fc2tpbihjLCBwLCBwZSwgdikge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKHAsIHBlKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzW2NdW3BhcmFtXSA9XHJcbiAgICAgICAgICAgIHYgPiAwID8gbmV3IFNraW4odGhpcy5fZW5naW5lLCB2KSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICBfd2xqc19nZXRfY29tcG9uZW50X3R5cGVfaW5kZXgobmFtZVB0ciwgbmFtZUVuZFB0cikge1xyXG4gICAgICAgIGNvbnN0IHR5cGVuYW1lID0gdGhpcy5VVEY4Vmlld1RvU3RyaW5nKG5hbWVQdHIsIG5hbWVFbmRQdHIpO1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fY29tcG9uZW50VHlwZUluZGljZXNbdHlwZW5hbWVdO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9icm9rZW5Db21wb25lbnRJbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X2NyZWF0ZShqc01hbmFnZXJJbmRleCwgaW5kZXgsIGlkLCB0eXBlLCBvYmplY3QpIHtcclxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5fY29tcG9uZW50VHlwZXNbdHlwZV07XHJcbiAgICAgICAgaWYgKCFjdG9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZSBpbmRleCAke3R5cGV9IGlzbid0IHJlZ2lzdGVyZWRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29tcG9uZW50ID0gbmV3IGN0b3IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyBpbnN0YW50aWF0aW9uIG9mIGNvbXBvbmVudCAke2N0b3IuVHlwZU5hbWV9YCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IG5ldyBCcm9rZW5Db21wb25lbnQodGhpcy5fZW5naW5lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogU2V0cyB0aGUgbWFuYWdlciBhbmQgaWRlbnRpZmllciBmcm9tIHRoZSBvdXRzaWRlLCB0byBzaW1wbGlmeSB0aGUgdXNlcidzIGNvbnN0cnVjdG9yLiAqL1xyXG4gICAgICAgIC8qIEB0cy1pZ25vcmUgKi9cclxuICAgICAgICBjb21wb25lbnQuX2VuZ2luZSA9IHRoaXMuX2VuZ2luZTtcclxuICAgICAgICBjb21wb25lbnQuX21hbmFnZXIgPSBqc01hbmFnZXJJbmRleDtcclxuICAgICAgICBjb21wb25lbnQuX2lkID0gaWQ7XHJcbiAgICAgICAgY29tcG9uZW50Ll9vYmplY3QgPSB0aGlzLl9lbmdpbmUud3JhcE9iamVjdChvYmplY3QpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5yZXNldFByb3BlcnRpZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXhjZXB0aW9uIGR1cmluZyAke2NvbXBvbmVudC50eXBlfSByZXNldFByb3BlcnRpZXMoKSBvbiBvYmplY3QgJHtjb21wb25lbnQub2JqZWN0Lm5hbWV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNbaW5kZXhdID0gY29tcG9uZW50O1xyXG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfaW5pdChjb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4gICAgICAgIGMuX3RyaWdnZXJJbml0KCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfdXBkYXRlKGNvbXBvbmVudCwgZHQpIHtcclxuICAgICAgICBjb25zdCBjID0gdGhpcy5fY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4gICAgICAgIGMuX3RyaWdnZXJVcGRhdGUoZHQpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfY29tcG9uZW50X29uQWN0aXZhdGUoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcclxuICAgICAgICBpZiAoYylcclxuICAgICAgICAgICAgYy5fdHJpZ2dlck9uQWN0aXZhdGUoKTtcclxuICAgIH1cclxuICAgIF93bGpzX2NvbXBvbmVudF9vbkRlYWN0aXZhdGUoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuX2NvbXBvbmVudHNbY29tcG9uZW50XTtcclxuICAgICAgICBjLl90cmlnZ2VyT25EZWFjdGl2YXRlKCk7XHJcbiAgICB9XHJcbiAgICBfd2xqc19jb21wb25lbnRfb25EZXN0cm95KGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLl9jb21wb25lbnRzW2NvbXBvbmVudF07XHJcbiAgICAgICAgYy5fdHJpZ2dlck9uRGVzdHJveSgpO1xyXG4gICAgfVxyXG4gICAgX3dsanNfc3dhcChhLCBiKSB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50QSA9IHRoaXMuX2NvbXBvbmVudHNbYV07XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1thXSA9IHRoaXMuX2NvbXBvbmVudHNbYl07XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50c1tiXSA9IGNvbXBvbmVudEE7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiA4dGh3YWxsIGNhbWVyYSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFNldHMgdXAgdGhlIDh0aHdhbGwgcGlwZWxpbmUgYW5kIHJldHJpZXZlcyB0cmFja2luZyBldmVudHMgdG8gcGxhY2UgYW5cclxuICogb2JqZWN0IGF0IHRoZSBsb2NhdGlvbiBvZiB0aGUgdHJhY2tlZCBBUiBjYW1lcmEgLyBtb2JpbGUgZGV2aWNlLlxyXG4gKlxyXG4gKiBVc2UgdGhpcyBmb3IgU0xBTSB0cmFja2luZyBiYXNlZCBvbiA4dGh3YWxsLlxyXG4gKlxyXG4gKiBNYWtlIHN1cmUgdG8gZW5hYmxlIDh0aHdhbGwgaW4gXCJQcm9qZWN0IFNldHRpbmdzXCIgPiBcIkFSXCIuIFNlZSBhbHNvIHRoZVxyXG4gKiBbQVIgR2V0dGluZyBTdGFydGVkIEd1aWRlXSgvZ2V0dGluZy1zdGFydGVkL3F1aWNrLXN0YXJ0LWFyKVxyXG4gKlxyXG4gKlxyXG4gKiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyB3b3JsZC10cmFja2luZyAoU0xBTSkgdXNpbmcgQkFDSyBjYW1lcmEuXHJcbiAqXHJcbiAqIC0gcmVtb3ZlIGFueSBvY2N1cnJlbmNlcyBvZiB0aGUgb2xkIDh0aHdhbGwtY2FtZXJhIGNvbXBvbmVudCBpbiB0aGUgZWRpdG9yXHJcbiAqIC0gQWRkIHRoaXMgY29tcG9uZW50IHRvIE5vblZyQ2FtZXJhXHJcbiAqXHJcbiAqIElNUE9SVEFOVCFcclxuICogLSB1bnRpbCBpdCBnZXQncyBmaXhlZCwgc2VsZWN0ICdjdXN0b21JbmRleEh0bWwnIGluIHRoZSBwcm9qZWN0IHNldHRpbmdzXHJcbiAqIC0gb3BlbiBhIGdlbmVyYXRlZCBpbmRleC5odG1sIGFuZCBjcm9zc29yaWdpbj1cImFub255bW91c1wiIGF0dHJpYnV0ZSB0byB0aGUgPHNjcmlwdD4gdGFnIHdoZXJlIC8vYXBwcy44dGh3YWxsLmNvbS94cndlYiBpcyBsb2FkZWRcclxuICpcclxuICpcclxuICogIyMjIyMjIyMjIFVzaW5nIFVJIG92ZXJsYXlzICMjIyMjIyMjIyMjIyNcclxuICogQnkgZGVmYXVsdCwgdGhpcyBjb21wb25lbnQgcmVuZGVycyBvd24gVUkgdG8gZ2l2ZSB0aGUgdXNlciBmZWVkYmFjayBhYm91dCByZWplY3RlZCBwZXJtaXNzaW9ucyBvciB0cmFja2luZyBlcnJvcnMuXHJcbiAqIEl0IGNhbiBiZSBjaGFuZ2VkIGJ5IGVuYWJsaW5nIHVzZUN1c3RvbVVJT3ZlcmxheXMgZmxhZy5cclxuICpcclxuICogSWYgdXNlQ3VzdG9tVUlPdmVybGF5cyBpcyBlbmFibGVkLCB5b3UgYXJlIGV4cGVjdGVkIGhhbmRsZSB0aGUgZm9sbG93aW5nIGV2ZW50cyBkaXNwYXRjaGVkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0OlxyXG4gKiAtIFwiOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb25cIiAtIHVzZWQgb25seSBvbiBpT1Mgc2FmYXJpLiBSZXF1ZXN0IGEgdXNlciB0byBwZXJmb3JtIGFuZCBpbnRlcmFjdGlvbiB3aXRoIHRoZSBwYWdlIHNvIHRoYXQgamF2YXNjcmlwdCBpcyBhbGxvd2VkIHRvIGFsbG93ZWQgdG8gcmVxdWVzdCBhIG1vdGlvbi9jYW1lcmEvbWljIHBlcm1pc3Npb25zLlxyXG4gKiAgTWFrZSBzdXJlIHRoZSB3aW5kb3cgb2JqZWN0IGlzIGRpc3BhdGNoaW5nIGFuICc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycgZXZlbnQgYWZ0ZXIgaW50ZXJhY3Rpb24gaGFzIGhhcHBlbmVkLlxyXG4gKiBgYGBcclxuICogPGJ1dHRvbiBvbmNsaWNrPVwid2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycpKVwiPkFsbG93IFNlbnNvcnM8L2J1dHRvbj5cclxuICogYGBgXHJcbiAqXHJcbiAqIC0gXCI4dGh3YWxsLXBlcm1pc3Npb24tZmFpbFwiIC0gdXNlciByZWplY3RlZCBhbnkgb2YgdGhlIHBlcm1pc3Npb25zXHJcbiAqXHJcbiAqIC0gXCI4dGh3YWxsLWVycm9yXCIgLSBydW50aW1lIDh0aHdhbGwgZXJyb3Igb2NjdXJyZWRcclxuICovXHJcbmNsYXNzIEFSQ2FtZXJhOHRod2FsbCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnOHRod2FsbC1jYW1lcmEnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIE92ZXJyaWRlIHRoZSBXTCBodG1sIG92ZXJsYXlzIGZvciBoYW5kbGluZyBjYW1lcmEvbW90aW9uIHBlcm1pc3Npb25zIGFuZCBlcnJvciBoYW5kbGluZyAqL1xyXG4gICAgICAgIHVzZUN1c3RvbVVJT3ZlcmxheXM6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgfTtcclxuICAgIC8qIDh0aHdhbGwgY2FtZXJhIHBpcGVsaW5lIG1vZHVsZSBuYW1lICovXHJcbiAgICBuYW1lID0gJ3dvbmRlcmxhbmQtZW5naW5lLTh0aHdhbGwtY2FtZXJhJztcclxuICAgIHN0YXJ0ZWQgPSBmYWxzZTtcclxuICAgIHZpZXcgPSBudWxsOyAvLyBjYWNoZSBjYW1lcmFcclxuICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdOyAvLyBjYWNoZSA4dGh3YWxsIGNhbSBwb3NpdGlvblxyXG4gICAgcm90YXRpb24gPSBbMCwgMCwgMCwgLTFdOyAvLyBjYWNoZSA4dGh3YWxsIGNhbSByb3RhdGlvblxyXG4gICAgZ2xUZXh0dXJlUmVuZGVyZXIgPSBudWxsOyAvLyBjYWNoZSBYUjguR2xUZXh0dXJlUmVuZGVyZXIucGlwZWxpbmVNb2R1bGVcclxuICAgIHByb21wdEZvckRldmljZU1vdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBUZWxsIGFueW9uZSB3aG8ncyBpbnRlcmVzdGVkIHRoYXQgd2Ugd2FudCB0byBnZXQgc29tZSB1c2VyIGludGVyYWN0aW9uXHJcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1yZXF1ZXN0LXVzZXItaW50ZXJhY3Rpb24nKSk7XHJcbiAgICAgICAgICAgIC8vIFdhaXQgdW50aWwgc29tZW9uZSByZXNwb25zZSB0aGF0IHVzZXIgaW50ZXJhY3Rpb24gaGFwcGVuZWRcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtc2FmZS10by1yZXF1ZXN0LXBlcm1pc3Npb25zJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3Rpb25FdmVudCA9IGF3YWl0IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtb3Rpb25FdmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgZ2V0UGVybWlzc2lvbnMoKSB7XHJcbiAgICAgICAgLy8gaU9TIFwiZmVhdHVyZVwiLiBJZiB3ZSB3YW50IHRvIHJlcXVlc3QgdGhlIERldmljZU1vdGlvbiBwZXJtaXNzaW9uLCB1c2VyIGhhcyB0byBpbnRlcmFjdCB3aXRoIHRoZSBwYWdlIGF0IGZpcnN0ICh0b3VjaCBpdCkuXHJcbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGludGVyYWN0aW9uIGRvbmUgc28gZmFyLCB3ZSB3aWxsIHJlbmRlciBhIEhUTUwgb3ZlcmxheSB3aXRoIHdvdWxkIGdldCB0aGUgdXNlciB0byBpbnRlcmFjdCB3aXRoIHRoZSBzY3JlZW5cclxuICAgICAgICBpZiAoRGV2aWNlTW90aW9uRXZlbnQgJiYgRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdXNlciBtdXN0IGhhdmUgcmVqZWN0ZWQgdGhlIG1vdGlvbiBldmVudCBvbiBwcmV2aW91cyBwYWdlIGxvYWQuIChzYWZhcmkgcmVtZW1iZXJzIHRoaXMgY2hvaWNlKS5cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW90aW9uRXZlbnQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVc2VyIGhhZCBubyBpbnRlcmFjdGlvbiB3aXRoIHRoZSBwYWdlIHNvIGZhclxyXG4gICAgICAgICAgICAgICAgaWYgKGV4Y2VwdGlvbi5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdGlvbkV2ZW50ID0gYXdhaXQgdGhpcy5wcm9tcHRGb3JEZXZpY2VNb3Rpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW90aW9uRXZlbnQgIT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vdGlvbkV2ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb3Rpb25FdmVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBnZXQgdGhlIGNhbWVyYSBzdHJlYW1cclxuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xyXG4gICAgICAgICAgICAgICAgdmlkZW86IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIElmIHdlIHN1Y2Nlc3NmdWxseSBhY3F1aXJlZCB0aGUgY2FtZXJhIHN0cmVhbSAtIHdlIGNhbiBzdG9wIGl0IGFuZCB3YWl0IHVudGlsIDh0aHdhbGwgcmVxdWVzdHMgaXQgYWdhaW5cclxuICAgICAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FtZXJhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3ZpZXcnKTtcclxuICAgICAgICB0aGlzLm9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25BdHRhY2ggPSB0aGlzLm9uQXR0YWNoLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vbkV4Y2VwdGlvbiA9IHRoaXMub25FeGNlcHRpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uQ2FtZXJhU3RhdHVzQ2hhbmdlID0gdGhpcy5vbkNhbWVyYVN0YXR1c0NoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd2aWV3Jyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZUN1c3RvbVVJT3ZlcmxheXMpIHtcclxuICAgICAgICAgICAgT3ZlcmxheXNIYW5kbGVyLmluaXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRQZXJtaXNzaW9ucygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gVXNlciBkaWQgbm90IGdyYW50IHRoZSBjYW1lcmEgb3IgbW90aW9uRXZlbnQgcGVybWlzc2lvbnNcclxuICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLXBlcm1pc3Npb24tZmFpbCcsIHsgZGV0YWlsOiBlcnJvciB9KSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yWFI4KCk7XHJcbiAgICAgICAgWFI4LlhyQ29udHJvbGxlci5jb25maWd1cmUoe1xyXG4gICAgICAgICAgICBkaXNhYmxlV29ybGRUcmFja2luZzogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nbFRleHR1cmVSZW5kZXJlciA9IFhSOC5HbFRleHR1cmVSZW5kZXJlci5waXBlbGluZU1vZHVsZSgpO1xyXG4gICAgICAgIFhSOC5hZGRDYW1lcmFQaXBlbGluZU1vZHVsZXMoW1xyXG4gICAgICAgICAgICB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLFxyXG4gICAgICAgICAgICBYUjguWHJDb250cm9sbGVyLnBpcGVsaW5lTW9kdWxlKCksXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBjYW1lcmFDb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogWFI4LlhyQ29uZmlnLmNhbWVyYSgpLkJBQ0ssXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbnZhczogTW9kdWxlLmNhbnZhcyxcclxuICAgICAgICAgICAgYWxsb3dlZERldmljZXM6IFhSOC5YckNvbmZpZy5kZXZpY2UoKS5BTlksXHJcbiAgICAgICAgICAgIG93blJ1bkxvb3A6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgWFI4LnJ1bihjb25maWcpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvbkF0dGFjaChwYXJhbXMpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLnNjZW5lLmNvbG9yQ2xlYXJFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgZ2wgPSBNb2R1bGUuY3R4O1xyXG4gICAgICAgIGNvbnN0IHJvdCA9IHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQ7XHJcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZChbXSk7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IEFycmF5LmZyb20ocG9zKTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gQXJyYXkuZnJvbShyb3QpO1xyXG4gICAgICAgIFhSOC5YckNvbnRyb2xsZXIudXBkYXRlQ2FtZXJhUHJvamVjdGlvbk1hdHJpeCh7XHJcbiAgICAgICAgICAgIG9yaWdpbjogeyB4OiBwb3NbMF0sIHk6IHBvc1sxXSwgejogcG9zWzJdIH0sXHJcbiAgICAgICAgICAgIGZhY2luZzogeyB4OiByb3RbMF0sIHk6IHJvdFsxXSwgejogcm90WzJdLCB3OiByb3RbM10gfSxcclxuICAgICAgICAgICAgY2FtOiB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbFJlY3RXaWR0aDogTW9kdWxlLmNhbnZhcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIHBpeGVsUmVjdEhlaWdodDogTW9kdWxlLmNhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBuZWFyQ2xpcFBsYW5lOiB0aGlzLnZpZXcubmVhcixcclxuICAgICAgICAgICAgICAgIGZhckNsaXBQbGFuZTogdGhpcy52aWV3LmZhcixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZS5vblByZVJlbmRlci5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkRSQVdfRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBYUjgucnVuUHJlUmVuZGVyKERhdGUubm93KCkpO1xyXG4gICAgICAgICAgICBYUjgucnVuUmVuZGVyKCk7IC8vIDwtLS0gdGVsbCA4dGh3YWxsIHRvIGRvIGl0J3MgdGhpbmcgKGFsdGVybmF0aXZlbHkgY2FsbCB0aGlzLmdsVGV4dHVyZVJlbmRlcmVyLm9uUmVuZGVyKCkgaWYgeW91IG9ubHkgY2FyZSBhYm91dCBjYW1lcmEgZmVlZCApXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUuc2NlbmUub25Qb3N0UmVuZGVyLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICBYUjgucnVuUG9zdFJlbmRlcihEYXRlLm5vdygpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgb25DYW1lcmFTdGF0dXNDaGFuZ2UoZSkge1xyXG4gICAgICAgIGlmIChlICYmIGUuc3RhdHVzID09PSAnZmFpbGVkJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRXhjZXB0aW9uKG5ldyBFcnJvcihgQ2FtZXJhIGZhaWxlZCB3aXRoIHN0YXR1czogJHtlLnN0YXR1c31gKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogOHRod2FsbCBwaXBlbGluZSBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBvblVwZGF0ZShlKSB7XHJcbiAgICAgICAgaWYgKCFlLnByb2Nlc3NDcHVSZXN1bHQucmVhbGl0eSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IHsgcm90YXRpb24sIHBvc2l0aW9uLCBpbnRyaW5zaWNzIH0gPSBlLnByb2Nlc3NDcHVSZXN1bHQucmVhbGl0eTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzBdID0gcm90YXRpb24ueDtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzFdID0gcm90YXRpb24ueTtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzJdID0gcm90YXRpb24uejtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWzNdID0gcm90YXRpb24udztcclxuICAgICAgICB0aGlzLnBvc2l0aW9uWzBdID0gcG9zaXRpb24ueDtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uWzFdID0gcG9zaXRpb24ueTtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uWzJdID0gcG9zaXRpb24uejtcclxuICAgICAgICBpZiAoaW50cmluc2ljcykge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9qZWN0aW9uTWF0cml4ID0gdGhpcy52aWV3LnByb2plY3Rpb25NYXRyaXg7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLyogU29tZSBwcm9jZXNzQ3B1UmVzdWx0LnJlYWxpdHkuaW50cmluc2ljcyBhcmUgc2V0IHRvIEluZmluaXR5LFxyXG4gICAgICAgICAgICAgICAgICogd2hpY2ggYnJha2VzIG91ciBwcm9qZWN0aW9uTWF0cml4LiBTbyB3ZSBqdXN0IGZpbHRlciB0aG9zZSBlbGVtZW50cyBvdXQuICovXHJcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGludHJpbnNpY3NbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbk1hdHJpeFtpXSA9IGludHJpbnNpY3NbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uICYmIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQgPSB0aGlzLnJvdGF0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5zZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIDh0aHdhbGwgcGlwZWxpbmUgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgb25FeGNlcHRpb24oZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCc4dGh3YWxsIGV4Y2VwdGlvbjonLCBlcnJvcik7XHJcbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCc4dGh3YWxsLWVycm9yJywgeyBkZXRhaWw6IGVycm9yIH0pKTtcclxuICAgIH1cclxuICAgIHdhaXRGb3JYUjgoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuWFI4KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigneHJsb2FkZWQnLCAoKSA9PiByZXNvbHZlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgQVJDYW1lcmE4dGh3YWxsIH07XHJcbmNvbnN0IE92ZXJsYXlzSGFuZGxlciA9IHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb24gPSB0aGlzLmhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsID0gdGhpcy5oYW5kbGVQZXJtaXNzaW9uRmFpbC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3IgPSB0aGlzLmhhbmRsZUVycm9yLmJpbmQodGhpcyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJzh0aHdhbGwtcmVxdWVzdC11c2VyLWludGVyYWN0aW9uJywgdGhpcy5oYW5kbGVSZXF1ZXN0VXNlckludGVyYWN0aW9uKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1wZXJtaXNzaW9uLWZhaWwnLCB0aGlzLmhhbmRsZVBlcm1pc3Npb25GYWlsKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignOHRod2FsbC1lcnJvcicsIHRoaXMuaGFuZGxlRXJyb3IpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVJlcXVlc3RVc2VySW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5zaG93T3ZlcmxheShyZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCc4dGh3YWxsLXNhZmUtdG8tcmVxdWVzdC1wZXJtaXNzaW9ucycsICgpID0+IHtcclxuICAgICAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVQZXJtaXNzaW9uRmFpbDogZnVuY3Rpb24gKF9yZWFzb24pIHtcclxuICAgICAgICB0aGlzLnNob3dPdmVybGF5KGZhaWxlZFBlcm1pc3Npb25PdmVybGF5KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24gKF9lcnJvcikge1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJsYXkocnVudGltZUVycm9yT3ZlcmxheSk7XHJcbiAgICB9LFxyXG4gICAgc2hvd092ZXJsYXk6IGZ1bmN0aW9uIChodG1sQ29udGVudCkge1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBvdmVybGF5LmlubmVySFRNTCA9IGh0bWxDb250ZW50O1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XHJcbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XHJcbiAgICB9LFxyXG59O1xyXG5jb25zdCByZXF1ZXN0UGVybWlzc2lvbk92ZXJsYXkgPSBgXHJcbjxzdHlsZT5cclxuICAjcmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXkge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgei1pbmRleDogOTk5O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxuICB9XHJcblxyXG4gIC5yZXF1ZXN0LXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZSB7XHJcbiAgICBtYXJnaW46IDMwcHg7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgfVxyXG5cclxuICAucmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlODAwODY7XHJcbiAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBpZD1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5XCI+XHJcbiAgPGRpdiBjbGFzcz1cInJlcXVlc3QtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlXCI+VGhpcyBhcHAgcmVxdWlyZXMgdG8gdXNlIHlvdXIgY2FtZXJhIGFuZCBtb3Rpb24gc2Vuc29yczwvZGl2PlxyXG5cclxuICA8YnV0dG9uIGNsYXNzPVwicmVxdWVzdC1wZXJtaXNzaW9uLW92ZXJsYXlfYnV0dG9uXCIgb25jbGljaz1cIndpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnOHRod2FsbC1zYWZlLXRvLXJlcXVlc3QtcGVybWlzc2lvbnMnKSlcIj5PSzwvYnV0dG9uPlxyXG48L2Rpdj5gO1xyXG5jb25zdCBmYWlsZWRQZXJtaXNzaW9uT3ZlcmxheSA9IGBcclxuPHN0eWxlPlxyXG4gICNmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHotaW5kZXg6IDk5OTtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XHJcbiAgfVxyXG5cclxuICAuZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV90aXRsZSB7XHJcbiAgICBtYXJnaW46IDMwcHg7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgfVxyXG5cclxuICAuZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2U4MDA4NjtcclxuICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICB9XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGlkPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJmYWlsZWQtcGVybWlzc2lvbi1vdmVybGF5X3RpdGxlXCI+RmFpbGVkIHRvIGdyYW50IHBlcm1pc3Npb25zLiBSZXNldCB0aGUgdGhlIHBlcm1pc3Npb25zIGFuZCByZWZyZXNoIHRoZSBwYWdlLjwvZGl2PlxyXG5cclxuICA8YnV0dG9uIGNsYXNzPVwiZmFpbGVkLXBlcm1pc3Npb24tb3ZlcmxheV9idXR0b25cIiBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXCI+UmVmcmVzaCB0aGUgcGFnZTwvYnV0dG9uPlxyXG48L2Rpdj5gO1xyXG5jb25zdCBydW50aW1lRXJyb3JPdmVybGF5ID0gYFxyXG48c3R5bGU+XHJcbiAgI3dhbGwtZXJyb3Itb3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB6LWluZGV4OiA5OTk7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG4gIH1cclxuXHJcbiAgLndhbGwtZXJyb3Itb3ZlcmxheV90aXRsZSB7XHJcbiAgICBtYXJnaW46IDMwcHg7XHJcbiAgICBmb250LXNpemU6IDMycHg7XHJcbiAgfVxyXG5cclxuICAud2FsbC1lcnJvci1vdmVybGF5X2J1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTgwMDg2O1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4O1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgaWQ9XCJ3YWxsLWVycm9yLW92ZXJsYXlcIj5cclxuICA8ZGl2IGNsYXNzPVwid2FsbC1lcnJvci1vdmVybGF5X3RpdGxlXCI+RXJyb3IgaGFzIG9jY3VycmVkLiBQbGVhc2UgcmVsb2FkIHRoZSBwYWdlPC9kaXY+XHJcblxyXG4gIDxidXR0b24gY2xhc3M9XCJ3YWxsLWVycm9yLW92ZXJsYXlfYnV0dG9uXCIgb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVwiPlJlbG9hZDwvYnV0dG9uPlxyXG48L2Rpdj5gO1xyXG4iLCAiY29uc3QgdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcclxuZXhwb3J0IGZ1bmN0aW9uIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChvLCB0cmFuc2Zvcm0pIHtcclxuICAgIGNvbnN0IHIgPSB0cmFuc2Zvcm0ub3JpZW50YXRpb247XHJcbiAgICB0ZW1wUXVhdFswXSA9IHIueDtcclxuICAgIHRlbXBRdWF0WzFdID0gci55O1xyXG4gICAgdGVtcFF1YXRbMl0gPSByLno7XHJcbiAgICB0ZW1wUXVhdFszXSA9IHIudztcclxuICAgIGNvbnN0IHQgPSB0cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICB0ZW1wVmVjWzBdID0gdC54O1xyXG4gICAgdGVtcFZlY1sxXSA9IHQueTtcclxuICAgIHRlbXBWZWNbMl0gPSB0Lno7XHJcbiAgICBvLnJlc2V0VHJhbnNsYXRpb25Sb3RhdGlvbigpO1xyXG4gICAgby50cmFuc2Zvcm1Mb2NhbC5zZXQodGVtcFF1YXQpO1xyXG4gICAgby50cmFuc2xhdGUodGVtcFZlYyk7XHJcbn1cclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCwgRW1pdHRlciB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwgfSBmcm9tICcuL3V0aWxzL3dlYnhyLmpzJztcclxudmFyIHRlbXBWZWMzID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxudmFyIHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcclxuLyoqXHJcbiAqIFNldHMgdGhlIGxvY2F0aW9uIG9mIHRoZSBvYmplY3QgdG8gdGhlIGxvY2F0aW9uIG9mIGFuIFhSQW5jaG9yXHJcbiAqXHJcbiAqIENyZWF0ZSBhbmNob3JzIHVzaW5nIHRoZSBgQW5jaG9yLmNyZWF0ZSgpYCBzdGF0aWMgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEV4YW1wbGUgZm9yIHVzZSB3aXRoIGN1cnNvcjpcclxuICogYGBganNcclxuICogY3Vyc29yVGFyZ2V0Lm9uQ2xpY2suYWRkKChvYmplY3QsIGN1cnNvciwgb3JpZ2luYWxFdmVudCkgPT4ge1xyXG4gKiAgICAgLyogT25seSBldmVudHMgaW4gWFIgd2lsbCBoYXZlIGEgZnJhbWUgYXR0YWNoZWQgKlxcL1xyXG4gKiAgICAgaWYoIW9yaWdpbmFsRXZlbnQuZnJhbWUpIHJldHVybjtcclxuICogICAgIEFuY2hvci5jcmVhdGUoYW5jaG9yT2JqZWN0LCB7dXVpZDogaWQsIHBlcnNpc3Q6IHRydWV9LCBvcmlnaW5hbEV2ZW50LmZyYW1lKTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKi9cclxuY2xhc3MgQW5jaG9yIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdhbmNob3InO1xyXG4gICAgLyogU3RhdGljIG1hbmFnZW1lbnQgb2YgYWxsIGFuY2hvcnMgKi9cclxuICAgIHN0YXRpYyAjYW5jaG9ycyA9IFtdO1xyXG4gICAgcGVyc2lzdCA9IGZhbHNlO1xyXG4gICAgLyoqIFVuaXF1ZSBpZGVudGlmaWVyIHRvIGxvYWQgYSBwZXJzaXN0ZW50IGFuY2hvciBmcm9tLCBvciBlbXB0eS9udWxsIGlmIHVua25vd24gKi9cclxuICAgIHV1aWQgPSBudWxsO1xyXG4gICAgLyoqIFRoZSB4ckFuY2hvciwgaWYgY3JlYXRlZCAqL1xyXG4gICAgeHJBbmNob3IgPSBudWxsO1xyXG4gICAgLyoqIEVtaXRzIGV2ZW50cyB3aGVuIHRoZSBhbmNob3IgaXMgY3JlYXRlZCBlaXRoZXIgYnkgYmVpbmcgcmVzdG9yZWQgb3IgbmV3bHkgY3JlYXRlZCAqL1xyXG4gICAgb25DcmVhdGUgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIFdoZXRoZXIgdGhlIGFuY2hvciBpcyBjdXJyZW50bHkgYmVpbmcgdHJhY2tlZCAqL1xyXG4gICAgdmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhpcyBhbmNob3Igc3RhcnRzIHRyYWNraW5nICovXHJcbiAgICBvblRyYWNraW5nRm91bmQgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXRzIGFuIGV2ZW50IHdoZW4gdGhpcyBhbmNob3Igc3RvcHMgdHJhY2tpbmcgKi9cclxuICAgIG9uVHJhY2tpbmdMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBYUkZyYW1lIHRvIHVzZSBmb3IgY3JlYXRpbmcgdGhlIGFuY2hvciAqL1xyXG4gICAgeHJGcmFtZSA9IG51bGw7XHJcbiAgICAvKiogWFJIaXRUZXN0UmVzdWx0IHRvIHVzZSBmb3IgY3JlYXRpbmcgdGhlIGFuY2hvciAqL1xyXG4gICAgeHJIaXRSZXN1bHQgPSBudWxsO1xyXG4gICAgLyoqIFJldHJpZXZlIGFsbCBhbmNob3JzIG9mIHRoZSBjdXJyZW50IHNjZW5lICovXHJcbiAgICBzdGF0aWMgZ2V0QWxsQW5jaG9ycygpIHtcclxuICAgICAgICByZXR1cm4gQW5jaG9yLiNhbmNob3JzO1xyXG4gICAgfVxyXG4gICAgc3RhdGljICNhZGRBbmNob3IoYW5jaG9yKSB7XHJcbiAgICAgICAgQW5jaG9yLiNhbmNob3JzLnB1c2goYW5jaG9yKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyAjcmVtb3ZlQW5jaG9yKGFuY2hvcikge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gQW5jaG9yLiNhbmNob3JzLmluZGV4T2YoYW5jaG9yKTtcclxuICAgICAgICBpZiAoaW5kZXggPCAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgQW5jaG9yLiNhbmNob3JzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBhbmNob3JcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbyBPYmplY3QgdG8gYXR0YWNoIHRoZSBjb21wb25lbnQgdG9cclxuICAgICAqIEBwYXJhbSBwYXJhbXMgUGFyYW1ldGVycyBmb3IgdGhlIGFuY2hvciBjb21wb25lbnRcclxuICAgICAqIEBwYXJhbSBmcmFtZSBYUkZyYW1lIHRvIHVzZSBmb3IgYW5jaG9yIGNyYXRpb24sIGlmIG51bGwsIHdpbGwgdXNlIHRoZSBjdXJyZW50IGZyYW1lIGlmIGF2YWlsYWJsZVxyXG4gICAgICogQHBhcmFtIGhpdFJlc3VsdCBPcHRpb25hbCBoaXQtdGVzdCByZXN1bHQgdG8gY3JlYXRlIHRoZSBhbmNob3Igd2l0aFxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZSBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgYW5jaG9yIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlKG8sIHBhcmFtcywgZnJhbWUsIGhpdFJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IGEgPSBvLmFkZENvbXBvbmVudChBbmNob3IsIHsgLi4ucGFyYW1zLCBhY3RpdmU6IGZhbHNlIH0pO1xyXG4gICAgICAgIGlmIChhID09PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICBhLnhySGl0UmVzdWx0ID0gaGl0UmVzdWx0ID8/IG51bGw7XHJcbiAgICAgICAgYS54ckZyYW1lID0gZnJhbWUgPz8gbnVsbDtcclxuICAgICAgICBhLm9uQ3JlYXRlLm9uY2UoKCkgPT4gKChhLnhyRnJhbWUgPSBudWxsKSwgKGEueHJIaXRSZXN1bHQgPSBudWxsKSkpO1xyXG4gICAgICAgIGEuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gYS5vbkNyZWF0ZS5wcm9taXNlKCk7XHJcbiAgICB9XHJcbiAgICAjZ2V0RnJhbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueHJGcmFtZSB8fCB0aGlzLmVuZ2luZS54ci5mcmFtZTtcclxuICAgIH1cclxuICAgIGFzeW5jICNjcmVhdGVBbmNob3IoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLiNnZXRGcmFtZSgpLmNyZWF0ZUFuY2hvcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGFuY2hvciAtIGFuY2hvcnMgbm90IHN1cHBvcnRlZCwgZGlkIHlvdSBlbmFibGUgdGhlICdhbmNob3JzJyBXZWJYUiBmZWF0dXJlP1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMueHJIaXRSZXN1bHQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdGVkIGFuY2hvciBvbiBYUkhpdFRlc3RSZXN1bHQsIGJ1dCBXZWJYUiBoaXQtdGVzdCBmZWF0dXJlIGlzIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueHJIaXRSZXN1bHQuY3JlYXRlQW5jaG9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRlbXBWZWMzKTtcclxuICAgICAgICAgICAgdGVtcFF1YXQuc2V0KHRoaXMub2JqZWN0LnJvdGF0aW9uV29ybGQpO1xyXG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRlbXBRdWF0O1xyXG4gICAgICAgICAgICBjb25zdCBhbmNob3JQb3NlID0gbmV3IFhSUmlnaWRUcmFuc2Zvcm0oeyB4OiB0ZW1wVmVjM1swXSwgeTogdGVtcFZlYzNbMV0sIHo6IHRlbXBWZWMzWzJdIH0sIHsgeDogcm90YXRpb25bMF0sIHk6IHJvdGF0aW9uWzFdLCB6OiByb3RhdGlvblsyXSwgdzogcm90YXRpb25bM10gfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiNnZXRGcmFtZSgpPy5jcmVhdGVBbmNob3IoYW5jaG9yUG9zZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAjb25BZGRBbmNob3IoYW5jaG9yKSB7XHJcbiAgICAgICAgaWYgKCFhbmNob3IpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5wZXJzaXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChhbmNob3IucmVxdWVzdFBlcnNpc3RlbnRIYW5kbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgYW5jaG9yLnJlcXVlc3RQZXJzaXN0ZW50SGFuZGxlKCkudGhlbigodXVpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXVpZCA9IHV1aWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jb25DcmVhdGUoYW5jaG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBBbmNob3IuI2FkZEFuY2hvcih0aGlzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdhbmNob3I6IFBlcnNpc3RlbnQgYW5jaG9ycyBhcmUgbm90IHN1cHBvcnRlZCBieSB5b3VyIGNsaWVudC4gSWdub3JpbmcgcGVyc2lzdCBwcm9wZXJ0eS4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xyXG4gICAgfVxyXG4gICAgI29uUmVzdG9yZUFuY2hvcihhbmNob3IpIHtcclxuICAgICAgICB0aGlzLiNvbkNyZWF0ZShhbmNob3IpO1xyXG4gICAgfVxyXG4gICAgI29uQ3JlYXRlKGFuY2hvcikge1xyXG4gICAgICAgIHRoaXMueHJBbmNob3IgPSBhbmNob3I7XHJcbiAgICAgICAgdGhpcy5vbkNyZWF0ZS5ub3RpZnkodGhpcyk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAodGhpcy51dWlkICYmIHRoaXMuZW5naW5lLnhyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGVyc2lzdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5zZXNzaW9uLnJlc3RvcmVQZXJzaXN0ZW50QW5jaG9yID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignYW5jaG9yOiBQZXJzaXN0ZW50IGFuY2hvcnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBjbGllbnQuIElnbm9yaW5nIHBlcnNpc3QgcHJvcGVydHkuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5yZXN0b3JlUGVyc2lzdGVudEFuY2hvcih0aGlzLnV1aWQpLnRoZW4odGhpcy4jb25SZXN0b3JlQW5jaG9yLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLiNnZXRGcmFtZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuI2NyZWF0ZUFuY2hvcigpLnRoZW4odGhpcy4jb25BZGRBbmNob3IuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuY2hvcnMgY2FuIG9ubHkgYmUgY3JlYXRlZCBkdXJpbmcgdGhlIFhSIGZyYW1lIGluIGFuIGFjdGl2ZSBYUiBzZXNzaW9uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy54ckFuY2hvciB8fCAhdGhpcy5lbmdpbmUueHIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvKiBXZSBuZWVkIHRvIHVzZSB0aGUgYWN0dWFsIGZyYW1lIGZyb20gdGhlIGRyYXcgY2FsbGJhY2sgaGVyZSAqL1xyXG4gICAgICAgIGNvbnN0IHBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRQb3NlKHRoaXMueHJBbmNob3IuYW5jaG9yU3BhY2UsIHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XHJcbiAgICAgICAgY29uc3QgdmlzaWJsZSA9ICEhcG9zZTtcclxuICAgICAgICBpZiAodmlzaWJsZSAhPSB0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICAgICAgKHZpc2libGUgPyB0aGlzLm9uVHJhY2tpbmdGb3VuZCA6IHRoaXMub25UcmFja2luZ0xvc3QpLm5vdGlmeSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBvc2UpIHtcclxuICAgICAgICAgICAgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsKHRoaXMub2JqZWN0LCBwb3NlLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIEFuY2hvci4jcmVtb3ZlQW5jaG9yKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuYm9vbChmYWxzZSlcclxuXSwgQW5jaG9yLnByb3RvdHlwZSwgXCJwZXJzaXN0XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuc3RyaW5nKClcclxuXSwgQW5jaG9yLnByb3RvdHlwZSwgXCJ1dWlkXCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IEFuY2hvciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBFbWl0dGVyIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIENsaWNrL2hvdmVyL21vdmUvYnV0dG9uIHRhcmdldCBmb3IgW2N1cnNvcl0oI2N1cnNvcikuXHJcbiAqXHJcbiAqIFRvIHRyaWdnZXIgY29kZSB3aGVuIGNsaWNraW5nLCBob3ZlcmluZywgdW5ob3ZlcmluZywgbW92aW5nIGN1cnNvciwgcHJlc3NpbmdcclxuICogY3Vyc29yIGJ1dHRvbiBvciByZWxlYXNpbmcgY3Vyc29yIGJ1dHRvbiwgdXNlIGAuYWRkQ2xpY2tGdW5jdGlvbihmKWAsXHJcbiAqIGAuYWRkSG92ZXJGdW5jdGlvbihmKWAsIGAuYWRkVW5Ib3ZlckZ1bmN0aW9uKGYpYCxcclxuICogYC5hZGRNb3ZlRnVuY3Rpb24oZilgLCBgLmFkZERvd25GdW5jdGlvbihmKWAgYW5kXHJcbiAqIGAuYWRkVXBGdW5jdGlvbihmKWAgcmVzcGVjdGl2ZWx5IHdpdGggYW55IGBmdW5jdGlvbiBmKCkge31gLlxyXG4gKlxyXG4gKiBUbyBjYWxsIG1lbWJlcnMgb24gYSBkaWZmZXJlbnQgY29tcG9uZW50LCB5b3UgY2FuIHNldCB1cCBhIGN1cnNvciB0YXJnZXQgbGlrZVxyXG4gKiBzbzpcclxuICpcclxuICogYGBganNcclxuICogc3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gKiAgIGxldCB0YXJnZXQgPSB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoJ2N1cnNvci10YXJnZXQnKTtcclxuICogICB0YXJnZXQub25DbGljay5hZGQodGhpcy5vbkNsaWNrLmJpbmQodGhpcykpO1xyXG4gKiB9LFxyXG4gKiBvbkNsaWNrOiBmdW5jdGlvbigpIHtcclxuICogICBjb25zb2xlLmxvZyh0aGlzLm9iamVjdC5uYW1lLCBcIndhcyBjbGlja2VkIVwiKTtcclxuICogfVxyXG4gKiBgYGBcclxuICogKipGdW5jdGlvbnM6KipcclxuICpcclxuICogYGBganNcclxuICogY29uc3QgdGFyZ2V0ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcbiAqIGNvbnN0IGNhbGxiYWNrID0gZnVuY3Rpb24ob2JqZWN0LCBjdXJzb3JDb21wb25lbnQpIHt9O1xyXG4gKlxyXG4gKiB0YXJnZXQub25Ib3Zlci5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25Ib3Zlci5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKlxyXG4gKiB0YXJnZXQub25VbkhvdmVyLmFkZChjYWxsYmFjayk7XHJcbiAqIHRhcmdldC5vblVuSG92ZXIucmVtb3ZlKGNhbGxiYWNrKTtcclxuICpcclxuICogdGFyZ2V0Lm9uQ2xpY2suYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uQ2xpY2sucmVtb3ZlKGNhbGxiYWNrKTtcclxuICpcclxuICogdGFyZ2V0Lm9uTW92ZS5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25Nb3ZlLnJlbW92ZShjYWxsYmFjayk7XHJcbiAqXHJcbiAqIHRhcmdldC5vbkRvd24uYWRkKGNhbGxiYWNrKTtcclxuICogdGFyZ2V0Lm9uRG93bi5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKlxyXG4gKiB0YXJnZXQub25VcC5hZGQoY2FsbGJhY2spO1xyXG4gKiB0YXJnZXQub25VcC5yZW1vdmUoY2FsbGJhY2spO1xyXG4gKiBgYGBcclxuICpcclxuICogKipSZXF1aXJlbWVudHM6KipcclxuICogLSBhIGBjb2xsaXNpb25gIGNvbXBvbmVudCB0byBiZSBhdHRhY2hlZCB0byB0aGUgc2FtZSBvYmplY3QuXHJcbiAqXHJcbiAqIFNlZSBbQW5pbWF0aW9uIEV4YW1wbGVdKC9zaG93Y2FzZS9hbmltYXRpb24pLlxyXG4gKi9cclxuY2xhc3MgQ3Vyc29yVGFyZ2V0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdjdXJzb3ItdGFyZ2V0JztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBob3ZlcmVkICovXHJcbiAgICBvbkhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIHVuaG92ZXJlZCAqL1xyXG4gICAgb25VbmhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGNsaWNrZWQgKi9cclxuICAgIG9uQ2xpY2sgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSBjdXJzb3IgbW92ZXMgb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25Nb3ZlID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciBwcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uRG93biA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgdW5wcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uVXAgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgdGhpcy5vbkhvdmVyLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkSG92ZXJGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vbkhvdmVyLmFkZChmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIHRoaXMub25Ib3Zlci5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUhvdmVyRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25Ib3Zlci5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICB0aGlzLm9uVW5ob3Zlci5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZFVuSG92ZXJGdW5jdGlvbihmKSB7XHJcbiAgICAgICAgdGhpcy5vblVuaG92ZXIuYWRkKGYpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGVtaXR0ZXIgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogICAgdGhpcy5vblVuaG92ZXIucmVtb3ZlKGYpO1xyXG4gICAgICovXHJcbiAgICByZW1vdmVVbkhvdmVyRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25VbmhvdmVyLnJlbW92ZShmKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBlbWl0dGVyIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqICAgIHRoaXMub25DbGljay5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZENsaWNrRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25DbGljay5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25DbGljay5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUNsaWNrRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25DbGljay5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Nb3ZlLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkTW92ZUZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uTW92ZS5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Nb3ZlLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlTW92ZUZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uTW92ZS5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Eb3duLmFkZChmKTtcclxuICAgICAqL1xyXG4gICAgYWRkRG93bkZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uRG93bi5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25Eb3duLnJlbW92ZShmKTtcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlRG93bkZ1bmN0aW9uKGYpIHtcclxuICAgICAgICB0aGlzLm9uRG93bi5yZW1vdmUoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25VcC5hZGQoZik7XHJcbiAgICAgKi9cclxuICAgIGFkZFVwRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25VcC5hZGQoZik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgZW1pdHRlciBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiAgICBjb21wb25lbnQub25VcC5yZW1vdmUoZik7XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVVwRnVuY3Rpb24oZikge1xyXG4gICAgICAgIHRoaXMub25VcC5yZW1vdmUoZik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgQ3Vyc29yVGFyZ2V0IH07XHJcbiIsICIvKipcclxuICogQ29tbW9uIHV0aWxpdGllc1xyXG4gKiBAbW9kdWxlIGdsTWF0cml4XHJcbiAqL1xyXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xyXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcclxuZXhwb3J0IHZhciBBUlJBWV9UWVBFID0gdHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBGbG9hdDMyQXJyYXkgOiBBcnJheTtcclxuZXhwb3J0IHZhciBSQU5ET00gPSBNYXRoLnJhbmRvbTtcclxuLyoqXHJcbiAqIFNldHMgdGhlIHR5cGUgb2YgYXJyYXkgdXNlZCB3aGVuIGNyZWF0aW5nIG5ldyB2ZWN0b3JzIGFuZCBtYXRyaWNlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xyXG4gIEFSUkFZX1RZUEUgPSB0eXBlO1xyXG59XHJcbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xyXG4vKipcclxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBhIEFuZ2xlIGluIERlZ3JlZXNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9SYWRpYW4oYSkge1xyXG4gIHJldHVybiBhICogZGVncmVlO1xyXG59XHJcbi8qKlxyXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXHJcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcclxuICogdGhhbiBvciBlcXVhbCB0byAxLjAsIGFuZCBhIHJlbGF0aXZlIHRvbGVyYW5jZSBpcyB1c2VkIGZvciBsYXJnZXIgdmFsdWVzKVxyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIFRoZSBzZWNvbmQgbnVtYmVyIHRvIHRlc3QuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xyXG59XHJcbmlmICghTWF0aC5oeXBvdCkgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgeSA9IDAsXHJcbiAgICAgIGkgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG5cclxuICB3aGlsZSAoaS0tKSB7XHJcbiAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBNYXRoLnNxcnQoeSk7XHJcbn07IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG4vKipcclxuICogM3gzIE1hdHJpeFxyXG4gKiBAbW9kdWxlIG1hdDNcclxuICovXHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQzXHJcbiAqXHJcbiAqIEByZXR1cm5zIHttYXQzfSBhIG5ldyAzeDMgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOSk7XHJcblxyXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgICBvdXRbM10gPSAwO1xyXG4gICAgb3V0WzVdID0gMDtcclxuICAgIG91dFs2XSA9IDA7XHJcbiAgICBvdXRbN10gPSAwO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbNF0gPSAxO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29waWVzIHRoZSB1cHBlci1sZWZ0IDN4MyB2YWx1ZXMgaW50byB0aGUgZ2l2ZW4gbWF0My5cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyAzeDMgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhICAgdGhlIHNvdXJjZSA0eDQgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDQob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVs0XTtcclxuICBvdXRbNF0gPSBhWzVdO1xyXG4gIG91dFs1XSA9IGFbNl07XHJcbiAgb3V0WzZdID0gYVs4XTtcclxuICBvdXRbN10gPSBhWzldO1xyXG4gIG91dFs4XSA9IGFbMTBdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0MyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDN9IGEgbmV3IDN4MyBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg5KTtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0MyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgbWF0MyB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAzKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA2KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDcpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggOClcclxuICogQHJldHVybnMge21hdDN9IEEgbmV3IG1hdDNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMTAsIG0xMSwgbTEyLCBtMjAsIG0yMSwgbTIyKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDkpO1xyXG4gIG91dFswXSA9IG0wMDtcclxuICBvdXRbMV0gPSBtMDE7XHJcbiAgb3V0WzJdID0gbTAyO1xyXG4gIG91dFszXSA9IG0xMDtcclxuICBvdXRbNF0gPSBtMTE7XHJcbiAgb3V0WzVdID0gbTEyO1xyXG4gIG91dFs2XSA9IG0yMDtcclxuICBvdXRbN10gPSBtMjE7XHJcbiAgb3V0WzhdID0gbTIyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDMgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA1KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDYpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA4KVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0xMCwgbTExLCBtMTIsIG0yMCwgbTIxLCBtMjIpIHtcclxuICBvdXRbMF0gPSBtMDA7XHJcbiAgb3V0WzFdID0gbTAxO1xyXG4gIG91dFsyXSA9IG0wMjtcclxuICBvdXRbM10gPSBtMTA7XHJcbiAgb3V0WzRdID0gbTExO1xyXG4gIG91dFs1XSA9IG0xMjtcclxuICBvdXRbNl0gPSBtMjA7XHJcbiAgb3V0WzddID0gbTIxO1xyXG4gIG91dFs4XSA9IG0yMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgYSBtYXQzIHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDE7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XHJcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xyXG4gIGlmIChvdXQgPT09IGEpIHtcclxuICAgIHZhciBhMDEgPSBhWzFdLFxyXG4gICAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgICAgYTEyID0gYVs1XTtcclxuICAgIG91dFsxXSA9IGFbM107XHJcbiAgICBvdXRbMl0gPSBhWzZdO1xyXG4gICAgb3V0WzNdID0gYTAxO1xyXG4gICAgb3V0WzVdID0gYVs3XTtcclxuICAgIG91dFs2XSA9IGEwMjtcclxuICAgIG91dFs3XSA9IGExMjtcclxuICB9IGVsc2Uge1xyXG4gICAgb3V0WzBdID0gYVswXTtcclxuICAgIG91dFsxXSA9IGFbM107XHJcbiAgICBvdXRbMl0gPSBhWzZdO1xyXG4gICAgb3V0WzNdID0gYVsxXTtcclxuICAgIG91dFs0XSA9IGFbNF07XHJcbiAgICBvdXRbNV0gPSBhWzddO1xyXG4gICAgb3V0WzZdID0gYVsyXTtcclxuICAgIG91dFs3XSA9IGFbNV07XHJcbiAgICBvdXRbOF0gPSBhWzhdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogSW52ZXJ0cyBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl07XHJcbiAgdmFyIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV07XHJcbiAgdmFyIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF07XHJcbiAgdmFyIGIwMSA9IGEyMiAqIGExMSAtIGExMiAqIGEyMTtcclxuICB2YXIgYjExID0gLWEyMiAqIGExMCArIGExMiAqIGEyMDtcclxuICB2YXIgYjIxID0gYTIxICogYTEwIC0gYTExICogYTIwOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XHJcblxyXG4gIHZhciBkZXQgPSBhMDAgKiBiMDEgKyBhMDEgKiBiMTEgKyBhMDIgKiBiMjE7XHJcblxyXG4gIGlmICghZGV0KSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGRldCA9IDEuMCAvIGRldDtcclxuICBvdXRbMF0gPSBiMDEgKiBkZXQ7XHJcbiAgb3V0WzFdID0gKC1hMjIgKiBhMDEgKyBhMDIgKiBhMjEpICogZGV0O1xyXG4gIG91dFsyXSA9IChhMTIgKiBhMDEgLSBhMDIgKiBhMTEpICogZGV0O1xyXG4gIG91dFszXSA9IGIxMSAqIGRldDtcclxuICBvdXRbNF0gPSAoYTIyICogYTAwIC0gYTAyICogYTIwKSAqIGRldDtcclxuICBvdXRbNV0gPSAoLWExMiAqIGEwMCArIGEwMiAqIGExMCkgKiBkZXQ7XHJcbiAgb3V0WzZdID0gYjIxICogZGV0O1xyXG4gIG91dFs3XSA9ICgtYTIxICogYTAwICsgYTAxICogYTIwKSAqIGRldDtcclxuICBvdXRbOF0gPSAoYTExICogYTAwIC0gYTAxICogYTEwKSAqIGRldDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdO1xyXG4gIHZhciBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdO1xyXG4gIG91dFswXSA9IGExMSAqIGEyMiAtIGExMiAqIGEyMTtcclxuICBvdXRbMV0gPSBhMDIgKiBhMjEgLSBhMDEgKiBhMjI7XHJcbiAgb3V0WzJdID0gYTAxICogYTEyIC0gYTAyICogYTExO1xyXG4gIG91dFszXSA9IGExMiAqIGEyMCAtIGExMCAqIGEyMjtcclxuICBvdXRbNF0gPSBhMDAgKiBhMjIgLSBhMDIgKiBhMjA7XHJcbiAgb3V0WzVdID0gYTAyICogYTEwIC0gYTAwICogYTEyO1xyXG4gIG91dFs2XSA9IGExMCAqIGEyMSAtIGExMSAqIGEyMDtcclxuICBvdXRbN10gPSBhMDEgKiBhMjAgLSBhMDAgKiBhMjE7XHJcbiAgb3V0WzhdID0gYTAwICogYTExIC0gYTAxICogYTEwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXTtcclxuICB2YXIgYTEwID0gYVszXSxcclxuICAgICAgYTExID0gYVs0XSxcclxuICAgICAgYTEyID0gYVs1XTtcclxuICB2YXIgYTIwID0gYVs2XSxcclxuICAgICAgYTIxID0gYVs3XSxcclxuICAgICAgYTIyID0gYVs4XTtcclxuICByZXR1cm4gYTAwICogKGEyMiAqIGExMSAtIGExMiAqIGEyMSkgKyBhMDEgKiAoLWEyMiAqIGExMCArIGExMiAqIGEyMCkgKyBhMDIgKiAoYTIxICogYTEwIC0gYTExICogYTIwKTtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gbWF0MydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdO1xyXG4gIHZhciBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdO1xyXG4gIHZhciBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdO1xyXG4gIHZhciBiMDAgPSBiWzBdLFxyXG4gICAgICBiMDEgPSBiWzFdLFxyXG4gICAgICBiMDIgPSBiWzJdO1xyXG4gIHZhciBiMTAgPSBiWzNdLFxyXG4gICAgICBiMTEgPSBiWzRdLFxyXG4gICAgICBiMTIgPSBiWzVdO1xyXG4gIHZhciBiMjAgPSBiWzZdLFxyXG4gICAgICBiMjEgPSBiWzddLFxyXG4gICAgICBiMjIgPSBiWzhdO1xyXG4gIG91dFswXSA9IGIwMCAqIGEwMCArIGIwMSAqIGExMCArIGIwMiAqIGEyMDtcclxuICBvdXRbMV0gPSBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjE7XHJcbiAgb3V0WzJdID0gYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyO1xyXG4gIG91dFszXSA9IGIxMCAqIGEwMCArIGIxMSAqIGExMCArIGIxMiAqIGEyMDtcclxuICBvdXRbNF0gPSBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjE7XHJcbiAgb3V0WzVdID0gYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyO1xyXG4gIG91dFs2XSA9IGIyMCAqIGEwMCArIGIyMSAqIGExMCArIGIyMiAqIGEyMDtcclxuICBvdXRbN10gPSBiMjAgKiBhMDEgKyBiMjEgKiBhMTEgKyBiMjIgKiBhMjE7XHJcbiAgb3V0WzhdID0gYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zbGF0ZSBhIG1hdDMgYnkgdGhlIGdpdmVuIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMTAgPSBhWzNdLFxyXG4gICAgICBhMTEgPSBhWzRdLFxyXG4gICAgICBhMTIgPSBhWzVdLFxyXG4gICAgICBhMjAgPSBhWzZdLFxyXG4gICAgICBhMjEgPSBhWzddLFxyXG4gICAgICBhMjIgPSBhWzhdLFxyXG4gICAgICB4ID0gdlswXSxcclxuICAgICAgeSA9IHZbMV07XHJcbiAgb3V0WzBdID0gYTAwO1xyXG4gIG91dFsxXSA9IGEwMTtcclxuICBvdXRbMl0gPSBhMDI7XHJcbiAgb3V0WzNdID0gYTEwO1xyXG4gIG91dFs0XSA9IGExMTtcclxuICBvdXRbNV0gPSBhMTI7XHJcbiAgb3V0WzZdID0geCAqIGEwMCArIHkgKiBhMTAgKyBhMjA7XHJcbiAgb3V0WzddID0geCAqIGEwMSArIHkgKiBhMTEgKyBhMjE7XHJcbiAgb3V0WzhdID0geCAqIGEwMiArIHkgKiBhMTIgKyBhMjI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIG1hdDMgYnkgdGhlIGdpdmVuIGFuZ2xlXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGExMCA9IGFbM10sXHJcbiAgICAgIGExMSA9IGFbNF0sXHJcbiAgICAgIGExMiA9IGFbNV0sXHJcbiAgICAgIGEyMCA9IGFbNl0sXHJcbiAgICAgIGEyMSA9IGFbN10sXHJcbiAgICAgIGEyMiA9IGFbOF0sXHJcbiAgICAgIHMgPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBjICogYTAwICsgcyAqIGExMDtcclxuICBvdXRbMV0gPSBjICogYTAxICsgcyAqIGExMTtcclxuICBvdXRbMl0gPSBjICogYTAyICsgcyAqIGExMjtcclxuICBvdXRbM10gPSBjICogYTEwIC0gcyAqIGEwMDtcclxuICBvdXRbNF0gPSBjICogYTExIC0gcyAqIGEwMTtcclxuICBvdXRbNV0gPSBjICogYTEyIC0gcyAqIGEwMjtcclxuICBvdXRbNl0gPSBhMjA7XHJcbiAgb3V0WzddID0gYTIxO1xyXG4gIG91dFs4XSA9IGEyMjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTY2FsZXMgdGhlIG1hdDMgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzJcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IHYgdGhlIHZlYzIgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcclxuICB2YXIgeCA9IHZbMF0sXHJcbiAgICAgIHkgPSB2WzFdO1xyXG4gIG91dFswXSA9IHggKiBhWzBdO1xyXG4gIG91dFsxXSA9IHggKiBhWzFdO1xyXG4gIG91dFsyXSA9IHggKiBhWzJdO1xyXG4gIG91dFszXSA9IHkgKiBhWzNdO1xyXG4gIG91dFs0XSA9IHkgKiBhWzRdO1xyXG4gIG91dFs1XSA9IHkgKiBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICBvdXRbOF0gPSBhWzhdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQzLnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcclxuICBvdXRbMF0gPSAxO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDE7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSB2WzBdO1xyXG4gIG91dFs3XSA9IHZbMV07XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZVxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDMuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQzLnJvdGF0ZShkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBjID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBjO1xyXG4gIG91dFsxXSA9IHM7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAtcztcclxuICBvdXRbNF0gPSBjO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQzLmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0My5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCBtYXQzIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XHJcbiAgb3V0WzBdID0gdlswXTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB2WzFdO1xyXG4gIG91dFs1XSA9IDA7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29waWVzIHRoZSB2YWx1ZXMgZnJvbSBhIG1hdDJkIGludG8gYSBtYXQzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQyZH0gYSB0aGUgbWF0cml4IHRvIGNvcHlcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKiovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbU1hdDJkKG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IGFbMl07XHJcbiAgb3V0WzRdID0gYVszXTtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IGFbNF07XHJcbiAgb3V0WzddID0gYVs1XTtcclxuICBvdXRbOF0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYSAzeDMgbWF0cml4IGZyb20gdGhlIGdpdmVuIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHl4ID0geSAqIHgyO1xyXG4gIHZhciB5eSA9IHkgKiB5MjtcclxuICB2YXIgenggPSB6ICogeDI7XHJcbiAgdmFyIHp5ID0geiAqIHkyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcclxuICBvdXRbM10gPSB5eCAtIHd6O1xyXG4gIG91dFs2XSA9IHp4ICsgd3k7XHJcbiAgb3V0WzFdID0geXggKyB3ejtcclxuICBvdXRbNF0gPSAxIC0geHggLSB6ejtcclxuICBvdXRbN10gPSB6eSAtIHd4O1xyXG4gIG91dFsyXSA9IHp4IC0gd3k7XHJcbiAgb3V0WzVdID0genkgKyB3eDtcclxuICBvdXRbOF0gPSAxIC0geHggLSB5eTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGEgM3gzIG5vcm1hbCBtYXRyaXggKHRyYW5zcG9zZSBpbnZlcnNlKSBmcm9tIHRoZSA0eDQgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IG1hdDMgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgTWF0NCB0byBkZXJpdmUgdGhlIG5vcm1hbCBtYXRyaXggZnJvbVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbEZyb21NYXQ0KG91dCwgYSkge1xyXG4gIHZhciBhMDAgPSBhWzBdLFxyXG4gICAgICBhMDEgPSBhWzFdLFxyXG4gICAgICBhMDIgPSBhWzJdLFxyXG4gICAgICBhMDMgPSBhWzNdO1xyXG4gIHZhciBhMTAgPSBhWzRdLFxyXG4gICAgICBhMTEgPSBhWzVdLFxyXG4gICAgICBhMTIgPSBhWzZdLFxyXG4gICAgICBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdLFxyXG4gICAgICBhMjEgPSBhWzldLFxyXG4gICAgICBhMjIgPSBhWzEwXSxcclxuICAgICAgYTIzID0gYVsxMV07XHJcbiAgdmFyIGEzMCA9IGFbMTJdLFxyXG4gICAgICBhMzEgPSBhWzEzXSxcclxuICAgICAgYTMyID0gYVsxNF0sXHJcbiAgICAgIGEzMyA9IGFbMTVdO1xyXG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XHJcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcclxuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xyXG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XHJcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcclxuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xyXG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XHJcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcclxuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xyXG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XHJcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcclxuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XHJcblxyXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XHJcblxyXG4gIGlmICghZGV0KSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGRldCA9IDEuMCAvIGRldDtcclxuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcclxuICBvdXRbMV0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcclxuICBvdXRbMl0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcclxuICBvdXRbM10gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcclxuICBvdXRbNF0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcclxuICBvdXRbNV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcclxuICBvdXRbNl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcclxuICBvdXRbN10gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcclxuICBvdXRbOF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSAyRCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgbWF0MyBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggV2lkdGggb2YgeW91ciBnbCBjb250ZXh0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgSGVpZ2h0IG9mIGdsIGNvbnRleHRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9qZWN0aW9uKG91dCwgd2lkdGgsIGhlaWdodCkge1xyXG4gIG91dFswXSA9IDIgLyB3aWR0aDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAtMiAvIGhlaWdodDtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IC0xO1xyXG4gIG91dFs3XSA9IDE7XHJcbiAgb3V0WzhdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwibWF0MyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0M1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcclxuICByZXR1cm4gTWF0aC5oeXBvdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdLCBhWzZdLCBhWzddLCBhWzhdKTtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gbWF0MydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXTtcclxuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcclxuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcclxuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcclxuICBvdXRbN10gPSBhWzddICsgYls3XTtcclxuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcclxuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcclxuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcclxuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcclxuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcclxuICBvdXRbN10gPSBhWzddIC0gYls3XTtcclxuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cclxuICpcclxuICogQHBhcmFtIHttYXQzfSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XHJcbiAqIEByZXR1cm5zIHttYXQzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGI7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGI7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGI7XHJcbiAgb3V0WzNdID0gYVszXSAqIGI7XHJcbiAgb3V0WzRdID0gYVs0XSAqIGI7XHJcbiAgb3V0WzVdID0gYVs1XSAqIGI7XHJcbiAgb3V0WzZdID0gYVs2XSAqIGI7XHJcbiAgb3V0WzddID0gYVs3XSAqIGI7XHJcbiAgb3V0WzhdID0gYVs4XSAqIGI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gbWF0MydzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0M30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7bWF0M30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xyXG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XHJcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcclxuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xyXG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XHJcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBhIFRoZSBmaXJzdCBtYXRyaXguXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBiIFRoZSBzZWNvbmQgbWF0cml4LlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGEgVGhlIGZpcnN0IG1hdHJpeC5cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IGIgVGhlIHNlY29uZCBtYXRyaXguXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXSxcclxuICAgICAgYTMgPSBhWzNdLFxyXG4gICAgICBhNCA9IGFbNF0sXHJcbiAgICAgIGE1ID0gYVs1XSxcclxuICAgICAgYTYgPSBhWzZdLFxyXG4gICAgICBhNyA9IGFbN10sXHJcbiAgICAgIGE4ID0gYVs4XTtcclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXSxcclxuICAgICAgYjMgPSBiWzNdLFxyXG4gICAgICBiNCA9IGJbNF0sXHJcbiAgICAgIGI1ID0gYls1XSxcclxuICAgICAgYjYgPSBiWzZdLFxyXG4gICAgICBiNyA9IGJbN10sXHJcbiAgICAgIGI4ID0gYls4XTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSk7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0My5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCAiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XHJcbi8qKlxyXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cclxuICogQG1vZHVsZSBtYXQ0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0NFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICAgIG91dFszXSA9IDA7XHJcbiAgICBvdXRbNF0gPSAwO1xyXG4gICAgb3V0WzZdID0gMDtcclxuICAgIG91dFs3XSA9IDA7XHJcbiAgICBvdXRbOF0gPSAwO1xyXG4gICAgb3V0WzldID0gMDtcclxuICAgIG91dFsxMV0gPSAwO1xyXG4gICAgb3V0WzEyXSA9IDA7XHJcbiAgICBvdXRbMTNdID0gMDtcclxuICAgIG91dFsxNF0gPSAwO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbNV0gPSAxO1xyXG4gIG91dFsxMF0gPSAxO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcclxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSBhWzRdO1xyXG4gIG91dFs1XSA9IGFbNV07XHJcbiAgb3V0WzZdID0gYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIG91dFs4XSA9IGFbOF07XHJcbiAgb3V0WzldID0gYVs5XTtcclxuICBvdXRbMTBdID0gYVsxMF07XHJcbiAgb3V0WzExXSA9IGFbMTFdO1xyXG4gIG91dFsxMl0gPSBhWzEyXTtcclxuICBvdXRbMTNdID0gYVsxM107XHJcbiAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIG91dFs0XSA9IGFbNF07XHJcbiAgb3V0WzVdID0gYVs1XTtcclxuICBvdXRbNl0gPSBhWzZdO1xyXG4gIG91dFs3XSA9IGFbN107XHJcbiAgb3V0WzhdID0gYVs4XTtcclxuICBvdXRbOV0gPSBhWzldO1xyXG4gIG91dFsxMF0gPSBhWzEwXTtcclxuICBvdXRbMTFdID0gYVsxMV07XHJcbiAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXTtcclxuICBvdXRbMTRdID0gYVsxNF07XHJcbiAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcclxuICBvdXRbMF0gPSBtMDA7XHJcbiAgb3V0WzFdID0gbTAxO1xyXG4gIG91dFsyXSA9IG0wMjtcclxuICBvdXRbM10gPSBtMDM7XHJcbiAgb3V0WzRdID0gbTEwO1xyXG4gIG91dFs1XSA9IG0xMTtcclxuICBvdXRbNl0gPSBtMTI7XHJcbiAgb3V0WzddID0gbTEzO1xyXG4gIG91dFs4XSA9IG0yMDtcclxuICBvdXRbOV0gPSBtMjE7XHJcbiAgb3V0WzEwXSA9IG0yMjtcclxuICBvdXRbMTFdID0gbTIzO1xyXG4gIG91dFsxMl0gPSBtMzA7XHJcbiAgb3V0WzEzXSA9IG0zMTtcclxuICBvdXRbMTRdID0gbTMyO1xyXG4gIG91dFsxNV0gPSBtMzM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcclxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcclxuICBvdXRbMF0gPSBtMDA7XHJcbiAgb3V0WzFdID0gbTAxO1xyXG4gIG91dFsyXSA9IG0wMjtcclxuICBvdXRbM10gPSBtMDM7XHJcbiAgb3V0WzRdID0gbTEwO1xyXG4gIG91dFs1XSA9IG0xMTtcclxuICBvdXRbNl0gPSBtMTI7XHJcbiAgb3V0WzddID0gbTEzO1xyXG4gIG91dFs4XSA9IG0yMDtcclxuICBvdXRbOV0gPSBtMjE7XHJcbiAgb3V0WzEwXSA9IG0yMjtcclxuICBvdXRbMTFdID0gbTIzO1xyXG4gIG91dFsxMl0gPSBtMzA7XHJcbiAgb3V0WzEzXSA9IG0zMTtcclxuICBvdXRbMTRdID0gbTMyO1xyXG4gIG91dFsxNV0gPSBtMzM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IDE7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gMTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XHJcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xyXG4gIGlmIChvdXQgPT09IGEpIHtcclxuICAgIHZhciBhMDEgPSBhWzFdLFxyXG4gICAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgICAgYTAzID0gYVszXTtcclxuICAgIHZhciBhMTIgPSBhWzZdLFxyXG4gICAgICAgIGExMyA9IGFbN107XHJcbiAgICB2YXIgYTIzID0gYVsxMV07XHJcbiAgICBvdXRbMV0gPSBhWzRdO1xyXG4gICAgb3V0WzJdID0gYVs4XTtcclxuICAgIG91dFszXSA9IGFbMTJdO1xyXG4gICAgb3V0WzRdID0gYTAxO1xyXG4gICAgb3V0WzZdID0gYVs5XTtcclxuICAgIG91dFs3XSA9IGFbMTNdO1xyXG4gICAgb3V0WzhdID0gYTAyO1xyXG4gICAgb3V0WzldID0gYTEyO1xyXG4gICAgb3V0WzExXSA9IGFbMTRdO1xyXG4gICAgb3V0WzEyXSA9IGEwMztcclxuICAgIG91dFsxM10gPSBhMTM7XHJcbiAgICBvdXRbMTRdID0gYTIzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvdXRbMF0gPSBhWzBdO1xyXG4gICAgb3V0WzFdID0gYVs0XTtcclxuICAgIG91dFsyXSA9IGFbOF07XHJcbiAgICBvdXRbM10gPSBhWzEyXTtcclxuICAgIG91dFs0XSA9IGFbMV07XHJcbiAgICBvdXRbNV0gPSBhWzVdO1xyXG4gICAgb3V0WzZdID0gYVs5XTtcclxuICAgIG91dFs3XSA9IGFbMTNdO1xyXG4gICAgb3V0WzhdID0gYVsyXTtcclxuICAgIG91dFs5XSA9IGFbNl07XHJcbiAgICBvdXRbMTBdID0gYVsxMF07XHJcbiAgICBvdXRbMTFdID0gYVsxNF07XHJcbiAgICBvdXRbMTJdID0gYVszXTtcclxuICAgIG91dFsxM10gPSBhWzddO1xyXG4gICAgb3V0WzE0XSA9IGFbMTFdO1xyXG4gICAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogSW52ZXJ0cyBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF0sXHJcbiAgICAgIGExMSA9IGFbNV0sXHJcbiAgICAgIGExMiA9IGFbNl0sXHJcbiAgICAgIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF0sXHJcbiAgICAgIGEyMSA9IGFbOV0sXHJcbiAgICAgIGEyMiA9IGFbMTBdLFxyXG4gICAgICBhMjMgPSBhWzExXTtcclxuICB2YXIgYTMwID0gYVsxMl0sXHJcbiAgICAgIGEzMSA9IGFbMTNdLFxyXG4gICAgICBhMzIgPSBhWzE0XSxcclxuICAgICAgYTMzID0gYVsxNV07XHJcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcclxuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xyXG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XHJcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcclxuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xyXG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XHJcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcclxuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xyXG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XHJcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcclxuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xyXG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcclxuXHJcbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcclxuXHJcbiAgaWYgKCFkZXQpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgZGV0ID0gMS4wIC8gZGV0O1xyXG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xyXG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xyXG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xyXG4gIG91dFszXSA9IChhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMpICogZGV0O1xyXG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xyXG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xyXG4gIG91dFs2XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xyXG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xyXG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xyXG4gIG91dFs5XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xyXG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcclxuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XHJcbiAgb3V0WzEyXSA9IChhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYpICogZGV0O1xyXG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcclxuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XHJcbiAgb3V0WzE1XSA9IChhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApICogZGV0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XHJcbiAgdmFyIGEwMCA9IGFbMF0sXHJcbiAgICAgIGEwMSA9IGFbMV0sXHJcbiAgICAgIGEwMiA9IGFbMl0sXHJcbiAgICAgIGEwMyA9IGFbM107XHJcbiAgdmFyIGExMCA9IGFbNF0sXHJcbiAgICAgIGExMSA9IGFbNV0sXHJcbiAgICAgIGExMiA9IGFbNl0sXHJcbiAgICAgIGExMyA9IGFbN107XHJcbiAgdmFyIGEyMCA9IGFbOF0sXHJcbiAgICAgIGEyMSA9IGFbOV0sXHJcbiAgICAgIGEyMiA9IGFbMTBdLFxyXG4gICAgICBhMjMgPSBhWzExXTtcclxuICB2YXIgYTMwID0gYVsxMl0sXHJcbiAgICAgIGEzMSA9IGFbMTNdLFxyXG4gICAgICBhMzIgPSBhWzE0XSxcclxuICAgICAgYTMzID0gYVsxNV07XHJcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xyXG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcclxuICBvdXRbMl0gPSBhMDEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XHJcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xyXG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcclxuICBvdXRbNV0gPSBhMDAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMik7XHJcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xyXG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcclxuICBvdXRbOF0gPSBhMTAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSk7XHJcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xyXG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XHJcbiAgb3V0WzExXSA9IC0oYTAwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpKTtcclxuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xyXG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XHJcbiAgb3V0WzE0XSA9IC0oYTAwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpKTtcclxuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0NFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XSxcclxuICAgICAgYTExID0gYVs1XSxcclxuICAgICAgYTEyID0gYVs2XSxcclxuICAgICAgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XSxcclxuICAgICAgYTIxID0gYVs5XSxcclxuICAgICAgYTIyID0gYVsxMF0sXHJcbiAgICAgIGEyMyA9IGFbMTFdO1xyXG4gIHZhciBhMzAgPSBhWzEyXSxcclxuICAgICAgYTMxID0gYVsxM10sXHJcbiAgICAgIGEzMiA9IGFbMTRdLFxyXG4gICAgICBhMzMgPSBhWzE1XTtcclxuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xyXG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XHJcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcclxuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xyXG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XHJcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcclxuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xyXG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XHJcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcclxuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xyXG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XHJcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxyXG5cclxuICByZXR1cm4gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICB2YXIgYTAwID0gYVswXSxcclxuICAgICAgYTAxID0gYVsxXSxcclxuICAgICAgYTAyID0gYVsyXSxcclxuICAgICAgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XSxcclxuICAgICAgYTExID0gYVs1XSxcclxuICAgICAgYTEyID0gYVs2XSxcclxuICAgICAgYTEzID0gYVs3XTtcclxuICB2YXIgYTIwID0gYVs4XSxcclxuICAgICAgYTIxID0gYVs5XSxcclxuICAgICAgYTIyID0gYVsxMF0sXHJcbiAgICAgIGEyMyA9IGFbMTFdO1xyXG4gIHZhciBhMzAgPSBhWzEyXSxcclxuICAgICAgYTMxID0gYVsxM10sXHJcbiAgICAgIGEzMiA9IGFbMTRdLFxyXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XHJcblxyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM107XHJcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XHJcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XHJcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XHJcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XHJcbiAgYjAgPSBiWzRdO1xyXG4gIGIxID0gYls1XTtcclxuICBiMiA9IGJbNl07XHJcbiAgYjMgPSBiWzddO1xyXG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xyXG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xyXG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xyXG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xyXG4gIGIwID0gYls4XTtcclxuICBiMSA9IGJbOV07XHJcbiAgYjIgPSBiWzEwXTtcclxuICBiMyA9IGJbMTFdO1xyXG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xyXG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xyXG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcclxuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XHJcbiAgYjAgPSBiWzEyXTtcclxuICBiMSA9IGJbMTNdO1xyXG4gIGIyID0gYlsxNF07XHJcbiAgYjMgPSBiWzE1XTtcclxuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XHJcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xyXG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcclxuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XHJcbiAgdmFyIHggPSB2WzBdLFxyXG4gICAgICB5ID0gdlsxXSxcclxuICAgICAgeiA9IHZbMl07XHJcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcclxuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xyXG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XHJcblxyXG4gIGlmIChhID09PSBvdXQpIHtcclxuICAgIG91dFsxMl0gPSBhWzBdICogeCArIGFbNF0gKiB5ICsgYVs4XSAqIHogKyBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVszXSAqIHggKyBhWzddICogeSArIGFbMTFdICogeiArIGFbMTVdO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhMDAgPSBhWzBdO1xyXG4gICAgYTAxID0gYVsxXTtcclxuICAgIGEwMiA9IGFbMl07XHJcbiAgICBhMDMgPSBhWzNdO1xyXG4gICAgYTEwID0gYVs0XTtcclxuICAgIGExMSA9IGFbNV07XHJcbiAgICBhMTIgPSBhWzZdO1xyXG4gICAgYTEzID0gYVs3XTtcclxuICAgIGEyMCA9IGFbOF07XHJcbiAgICBhMjEgPSBhWzldO1xyXG4gICAgYTIyID0gYVsxMF07XHJcbiAgICBhMjMgPSBhWzExXTtcclxuICAgIG91dFswXSA9IGEwMDtcclxuICAgIG91dFsxXSA9IGEwMTtcclxuICAgIG91dFsyXSA9IGEwMjtcclxuICAgIG91dFszXSA9IGEwMztcclxuICAgIG91dFs0XSA9IGExMDtcclxuICAgIG91dFs1XSA9IGExMTtcclxuICAgIG91dFs2XSA9IGExMjtcclxuICAgIG91dFs3XSA9IGExMztcclxuICAgIG91dFs4XSA9IGEyMDtcclxuICAgIG91dFs5XSA9IGEyMTtcclxuICAgIG91dFsxMF0gPSBhMjI7XHJcbiAgICBvdXRbMTFdID0gYTIzO1xyXG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGEwMSAqIHggKyBhMTEgKiB5ICsgYTIxICogeiArIGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcclxuICB2YXIgeCA9IHZbMF0sXHJcbiAgICAgIHkgPSB2WzFdLFxyXG4gICAgICB6ID0gdlsyXTtcclxuICBvdXRbMF0gPSBhWzBdICogeDtcclxuICBvdXRbMV0gPSBhWzFdICogeDtcclxuICBvdXRbMl0gPSBhWzJdICogeDtcclxuICBvdXRbM10gPSBhWzNdICogeDtcclxuICBvdXRbNF0gPSBhWzRdICogeTtcclxuICBvdXRbNV0gPSBhWzVdICogeTtcclxuICBvdXRbNl0gPSBhWzZdICogeTtcclxuICBvdXRbN10gPSBhWzddICogeTtcclxuICBvdXRbOF0gPSBhWzhdICogejtcclxuICBvdXRbOV0gPSBhWzldICogejtcclxuICBvdXRbMTBdID0gYVsxMF0gKiB6O1xyXG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XHJcbiAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXTtcclxuICBvdXRbMTRdID0gYVsxNF07XHJcbiAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCwgYXhpcykge1xyXG4gIHZhciB4ID0gYXhpc1swXSxcclxuICAgICAgeSA9IGF4aXNbMV0sXHJcbiAgICAgIHogPSBheGlzWzJdO1xyXG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xyXG4gIHZhciBzLCBjLCB0O1xyXG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XHJcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcclxuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xyXG4gIHZhciBiMDAsIGIwMSwgYjAyO1xyXG4gIHZhciBiMTAsIGIxMSwgYjEyO1xyXG4gIHZhciBiMjAsIGIyMSwgYjIyO1xyXG5cclxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBsZW4gPSAxIC8gbGVuO1xyXG4gIHggKj0gbGVuO1xyXG4gIHkgKj0gbGVuO1xyXG4gIHogKj0gbGVuO1xyXG4gIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHQgPSAxIC0gYztcclxuICBhMDAgPSBhWzBdO1xyXG4gIGEwMSA9IGFbMV07XHJcbiAgYTAyID0gYVsyXTtcclxuICBhMDMgPSBhWzNdO1xyXG4gIGExMCA9IGFbNF07XHJcbiAgYTExID0gYVs1XTtcclxuICBhMTIgPSBhWzZdO1xyXG4gIGExMyA9IGFbN107XHJcbiAgYTIwID0gYVs4XTtcclxuICBhMjEgPSBhWzldO1xyXG4gIGEyMiA9IGFbMTBdO1xyXG4gIGEyMyA9IGFbMTFdOyAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3RhdGlvbiBtYXRyaXhcclxuXHJcbiAgYjAwID0geCAqIHggKiB0ICsgYztcclxuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcclxuICBiMDIgPSB6ICogeCAqIHQgLSB5ICogcztcclxuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcclxuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xyXG4gIGIxMiA9IHogKiB5ICogdCArIHggKiBzO1xyXG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xyXG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xyXG4gIGIyMiA9IHogKiB6ICogdCArIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcclxuICBvdXRbMV0gPSBhMDEgKiBiMDAgKyBhMTEgKiBiMDEgKyBhMjEgKiBiMDI7XHJcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xyXG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcclxuICBvdXRbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7XHJcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xyXG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcclxuICBvdXRbN10gPSBhMDMgKiBiMTAgKyBhMTMgKiBiMTEgKyBhMjMgKiBiMTI7XHJcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xyXG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcclxuICBvdXRbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyO1xyXG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XHJcblxyXG4gIGlmIChhICE9PSBvdXQpIHtcclxuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XHJcbiAgICBvdXRbMTJdID0gYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYVsxM107XHJcbiAgICBvdXRbMTRdID0gYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVsxNV07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHZhciBhMTAgPSBhWzRdO1xyXG4gIHZhciBhMTEgPSBhWzVdO1xyXG4gIHZhciBhMTIgPSBhWzZdO1xyXG4gIHZhciBhMTMgPSBhWzddO1xyXG4gIHZhciBhMjAgPSBhWzhdO1xyXG4gIHZhciBhMjEgPSBhWzldO1xyXG4gIHZhciBhMjIgPSBhWzEwXTtcclxuICB2YXIgYTIzID0gYVsxMV07XHJcblxyXG4gIGlmIChhICE9PSBvdXQpIHtcclxuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcclxuICAgIG91dFswXSA9IGFbMF07XHJcbiAgICBvdXRbMV0gPSBhWzFdO1xyXG4gICAgb3V0WzJdID0gYVsyXTtcclxuICAgIG91dFszXSA9IGFbM107XHJcbiAgICBvdXRbMTJdID0gYVsxMl07XHJcbiAgICBvdXRbMTNdID0gYVsxM107XHJcbiAgICBvdXRbMTRdID0gYVsxNF07XHJcbiAgICBvdXRbMTVdID0gYVsxNV07XHJcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG5cclxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcclxuICBvdXRbNV0gPSBhMTEgKiBjICsgYTIxICogcztcclxuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcclxuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcclxuICBvdXRbOF0gPSBhMjAgKiBjIC0gYTEwICogcztcclxuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcclxuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XHJcbiAgb3V0WzExXSA9IGEyMyAqIGMgLSBhMTMgKiBzO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XHJcbiAgdmFyIGEwMCA9IGFbMF07XHJcbiAgdmFyIGEwMSA9IGFbMV07XHJcbiAgdmFyIGEwMiA9IGFbMl07XHJcbiAgdmFyIGEwMyA9IGFbM107XHJcbiAgdmFyIGEyMCA9IGFbOF07XHJcbiAgdmFyIGEyMSA9IGFbOV07XHJcbiAgdmFyIGEyMiA9IGFbMTBdO1xyXG4gIHZhciBhMjMgPSBhWzExXTtcclxuXHJcbiAgaWYgKGEgIT09IG91dCkge1xyXG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xyXG4gICAgb3V0WzRdID0gYVs0XTtcclxuICAgIG91dFs1XSA9IGFbNV07XHJcbiAgICBvdXRbNl0gPSBhWzZdO1xyXG4gICAgb3V0WzddID0gYVs3XTtcclxuICAgIG91dFsxMl0gPSBhWzEyXTtcclxuICAgIG91dFsxM10gPSBhWzEzXTtcclxuICAgIG91dFsxNF0gPSBhWzE0XTtcclxuICAgIG91dFsxNV0gPSBhWzE1XTtcclxuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcblxyXG4gIG91dFswXSA9IGEwMCAqIGMgLSBhMjAgKiBzO1xyXG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xyXG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xyXG4gIG91dFszXSA9IGEwMyAqIGMgLSBhMjMgKiBzO1xyXG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xyXG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xyXG4gIG91dFsxMF0gPSBhMDIgKiBzICsgYTIyICogYztcclxuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcclxuICB2YXIgYTAwID0gYVswXTtcclxuICB2YXIgYTAxID0gYVsxXTtcclxuICB2YXIgYTAyID0gYVsyXTtcclxuICB2YXIgYTAzID0gYVszXTtcclxuICB2YXIgYTEwID0gYVs0XTtcclxuICB2YXIgYTExID0gYVs1XTtcclxuICB2YXIgYTEyID0gYVs2XTtcclxuICB2YXIgYTEzID0gYVs3XTtcclxuXHJcbiAgaWYgKGEgIT09IG91dCkge1xyXG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcclxuICAgIG91dFs4XSA9IGFbOF07XHJcbiAgICBvdXRbOV0gPSBhWzldO1xyXG4gICAgb3V0WzEwXSA9IGFbMTBdO1xyXG4gICAgb3V0WzExXSA9IGFbMTFdO1xyXG4gICAgb3V0WzEyXSA9IGFbMTJdO1xyXG4gICAgb3V0WzEzXSA9IGFbMTNdO1xyXG4gICAgb3V0WzE0XSA9IGFbMTRdO1xyXG4gICAgb3V0WzE1XSA9IGFbMTVdO1xyXG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuXHJcbiAgb3V0WzBdID0gYTAwICogYyArIGExMCAqIHM7XHJcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XHJcbiAgb3V0WzJdID0gYTAyICogYyArIGExMiAqIHM7XHJcbiAgb3V0WzNdID0gYTAzICogYyArIGExMyAqIHM7XHJcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XHJcbiAgb3V0WzVdID0gYTExICogYyAtIGEwMSAqIHM7XHJcbiAgb3V0WzZdID0gYTEyICogYyAtIGEwMiAqIHM7XHJcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xyXG4gIG91dFswXSA9IDE7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAxO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzEwXSA9IDE7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IHZbMF07XHJcbiAgb3V0WzEzXSA9IHZbMV07XHJcbiAgb3V0WzE0XSA9IHZbMl07XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XHJcbiAgb3V0WzBdID0gdlswXTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IHZbMV07XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gdlsyXTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xyXG4gIHZhciB4ID0gYXhpc1swXSxcclxuICAgICAgeSA9IGF4aXNbMV0sXHJcbiAgICAgIHogPSBheGlzWzJdO1xyXG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xyXG4gIHZhciBzLCBjLCB0O1xyXG5cclxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBsZW4gPSAxIC8gbGVuO1xyXG4gIHggKj0gbGVuO1xyXG4gIHkgKj0gbGVuO1xyXG4gIHogKj0gbGVuO1xyXG4gIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHQgPSAxIC0gYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcclxuICBvdXRbMV0gPSB5ICogeCAqIHQgKyB6ICogcztcclxuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHggKiB5ICogdCAtIHogKiBzO1xyXG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XHJcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcclxuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcclxuICBvdXRbMTBdID0geiAqIHogKiB0ICsgYztcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXHJcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxyXG4gKlxyXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcclxuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cclxuXHJcbiAgb3V0WzBdID0gMTtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IGM7XHJcbiAgb3V0WzZdID0gcztcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gLXM7XHJcbiAgb3V0WzEwXSA9IGM7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE0XSA9IDA7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21ZUm90YXRpb24ob3V0LCByYWQpIHtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXHJcblxyXG4gIG91dFswXSA9IGM7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAtcztcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gMTtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gcztcclxuICBvdXRbOV0gPSAwO1xyXG4gIG91dFsxMF0gPSBjO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XHJcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xyXG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxyXG5cclxuICBvdXRbMF0gPSBjO1xyXG4gIG91dFsxXSA9IHM7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IC1zO1xyXG4gIG91dFs1XSA9IGM7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gMTtcclxuICBvdXRbMTFdID0gMDtcclxuICBvdXRbMTJdID0gMDtcclxuICBvdXRbMTNdID0gMDtcclxuICBvdXRbMTRdID0gMDtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdikge1xyXG4gIC8vIFF1YXRlcm5pb24gbWF0aFxyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHh5ID0geCAqIHkyO1xyXG4gIHZhciB4eiA9IHggKiB6MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHl6ID0geSAqIHoyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICBvdXRbMF0gPSAxIC0gKHl5ICsgenopO1xyXG4gIG91dFsxXSA9IHh5ICsgd3o7XHJcbiAgb3V0WzJdID0geHogLSB3eTtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHh5IC0gd3o7XHJcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcclxuICBvdXRbNl0gPSB5eiArIHd4O1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0geHogKyB3eTtcclxuICBvdXRbOV0gPSB5eiAtIHd4O1xyXG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSB2WzBdO1xyXG4gIG91dFsxM10gPSB2WzFdO1xyXG4gIG91dFsxNF0gPSB2WzJdO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBNYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XHJcbiAgdmFyIHRyYW5zbGF0aW9uID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XHJcbiAgdmFyIGJ4ID0gLWFbMF0sXHJcbiAgICAgIGJ5ID0gLWFbMV0sXHJcbiAgICAgIGJ6ID0gLWFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXSxcclxuICAgICAgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddO1xyXG4gIHZhciBtYWduaXR1ZGUgPSBieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnogKyBidyAqIGJ3OyAvL09ubHkgc2NhbGUgaWYgaXQgbWFrZXMgc2Vuc2VcclxuXHJcbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcclxuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMiAvIG1hZ25pdHVkZTtcclxuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcclxuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcclxuICB9IGVsc2Uge1xyXG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xyXG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xyXG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xyXG4gIH1cclxuXHJcbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBhLCB0cmFuc2xhdGlvbik7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXHJcbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXHJcbiAqICB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvclxyXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cclxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXHJcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xyXG4gIG91dFswXSA9IG1hdFsxMl07XHJcbiAgb3V0WzFdID0gbWF0WzEzXTtcclxuICBvdXRbMl0gPSBtYXRbMTRdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXHJcbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZVxyXG4gKiAgd2l0aCBhIG5vcm1hbGl6ZWQgUXVhdGVybmlvbiBwYXJhbXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXHJcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcclxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xyXG4gIHZhciBtMTEgPSBtYXRbMF07XHJcbiAgdmFyIG0xMiA9IG1hdFsxXTtcclxuICB2YXIgbTEzID0gbWF0WzJdO1xyXG4gIHZhciBtMjEgPSBtYXRbNF07XHJcbiAgdmFyIG0yMiA9IG1hdFs1XTtcclxuICB2YXIgbTIzID0gbWF0WzZdO1xyXG4gIHZhciBtMzEgPSBtYXRbOF07XHJcbiAgdmFyIG0zMiA9IG1hdFs5XTtcclxuICB2YXIgbTMzID0gbWF0WzEwXTtcclxuICBvdXRbMF0gPSBNYXRoLmh5cG90KG0xMSwgbTEyLCBtMTMpO1xyXG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XHJcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XHJcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxyXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXHJcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxyXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcclxuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG4gIGdldFNjYWxpbmcoc2NhbGluZywgbWF0KTtcclxuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XHJcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xyXG4gIHZhciBpczMgPSAxIC8gc2NhbGluZ1syXTtcclxuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcclxuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcclxuICB2YXIgc20xMyA9IG1hdFsyXSAqIGlzMztcclxuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcclxuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcclxuICB2YXIgc20yMyA9IG1hdFs2XSAqIGlzMztcclxuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcclxuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcclxuICB2YXIgc20zMyA9IG1hdFsxMF0gKiBpczM7XHJcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xyXG4gIHZhciBTID0gMDtcclxuXHJcbiAgaWYgKHRyYWNlID4gMCkge1xyXG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xyXG4gICAgb3V0WzNdID0gMC4yNSAqIFM7XHJcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcclxuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xyXG4gICAgb3V0WzJdID0gKHNtMTIgLSBzbTIxKSAvIFM7XHJcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xyXG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcclxuICAgIG91dFszXSA9IChzbTIzIC0gc20zMikgLyBTO1xyXG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XHJcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcclxuICAgIG91dFsyXSA9IChzbTMxICsgc20xMykgLyBTO1xyXG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcclxuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XHJcbiAgICBvdXRbM10gPSAoc20zMSAtIHNtMTMpIC8gUztcclxuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xyXG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XHJcbiAgICBvdXRbMl0gPSAoc20yMyArIHNtMzIpIC8gUztcclxuICB9IGVsc2Uge1xyXG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcclxuICAgIG91dFszXSA9IChzbTEyIC0gc20yMSkgLyBTO1xyXG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XHJcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcclxuICAgIG91dFsyXSA9IDAuMjUgKiBTO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcclxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XHJcbiAqXHJcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xyXG4gIC8vIFF1YXRlcm5pb24gbWF0aFxyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHh5ID0geCAqIHkyO1xyXG4gIHZhciB4eiA9IHggKiB6MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHl6ID0geSAqIHoyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICB2YXIgc3ggPSBzWzBdO1xyXG4gIHZhciBzeSA9IHNbMV07XHJcbiAgdmFyIHN6ID0gc1syXTtcclxuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcclxuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcclxuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xyXG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xyXG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XHJcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XHJcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSB2WzBdO1xyXG4gIG91dFsxM10gPSB2WzFdO1xyXG4gIG91dFsxNF0gPSB2WzJdO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIG9yaWdpblxyXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcclxuICpcclxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XHJcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcclxuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcclxuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcclxuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XHJcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxyXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xyXG4gIC8vIFF1YXRlcm5pb24gbWF0aFxyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHh5ID0geCAqIHkyO1xyXG4gIHZhciB4eiA9IHggKiB6MjtcclxuICB2YXIgeXkgPSB5ICogeTI7XHJcbiAgdmFyIHl6ID0geSAqIHoyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICB2YXIgc3ggPSBzWzBdO1xyXG4gIHZhciBzeSA9IHNbMV07XHJcbiAgdmFyIHN6ID0gc1syXTtcclxuICB2YXIgb3ggPSBvWzBdO1xyXG4gIHZhciBveSA9IG9bMV07XHJcbiAgdmFyIG96ID0gb1syXTtcclxuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xyXG4gIHZhciBvdXQxID0gKHh5ICsgd3opICogc3g7XHJcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcclxuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xyXG4gIHZhciBvdXQ1ID0gKDEgLSAoeHggKyB6eikpICogc3k7XHJcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcclxuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xyXG4gIHZhciBvdXQ5ID0gKHl6IC0gd3gpICogc3o7XHJcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XHJcbiAgb3V0WzBdID0gb3V0MDtcclxuICBvdXRbMV0gPSBvdXQxO1xyXG4gIG91dFsyXSA9IG91dDI7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSBvdXQ0O1xyXG4gIG91dFs1XSA9IG91dDU7XHJcbiAgb3V0WzZdID0gb3V0NjtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IG91dDg7XHJcbiAgb3V0WzldID0gb3V0OTtcclxuICBvdXRbMTBdID0gb3V0MTA7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xyXG4gIG91dFsxM10gPSB2WzFdICsgb3kgLSAob3V0MSAqIG94ICsgb3V0NSAqIG95ICsgb3V0OSAqIG96KTtcclxuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYSA0eDQgbWF0cml4IGZyb20gdGhlIGdpdmVuIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xyXG4gIHZhciB4ID0gcVswXSxcclxuICAgICAgeSA9IHFbMV0sXHJcbiAgICAgIHogPSBxWzJdLFxyXG4gICAgICB3ID0gcVszXTtcclxuICB2YXIgeDIgPSB4ICsgeDtcclxuICB2YXIgeTIgPSB5ICsgeTtcclxuICB2YXIgejIgPSB6ICsgejtcclxuICB2YXIgeHggPSB4ICogeDI7XHJcbiAgdmFyIHl4ID0geSAqIHgyO1xyXG4gIHZhciB5eSA9IHkgKiB5MjtcclxuICB2YXIgenggPSB6ICogeDI7XHJcbiAgdmFyIHp5ID0geiAqIHkyO1xyXG4gIHZhciB6eiA9IHogKiB6MjtcclxuICB2YXIgd3ggPSB3ICogeDI7XHJcbiAgdmFyIHd5ID0gdyAqIHkyO1xyXG4gIHZhciB3eiA9IHcgKiB6MjtcclxuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcclxuICBvdXRbMV0gPSB5eCArIHd6O1xyXG4gIG91dFsyXSA9IHp4IC0gd3k7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSB5eCAtIHd6O1xyXG4gIG91dFs1XSA9IDEgLSB4eCAtIHp6O1xyXG4gIG91dFs2XSA9IHp5ICsgd3g7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB6eCArIHd5O1xyXG4gIG91dFs5XSA9IHp5IC0gd3g7XHJcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSAwO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcclxuICB2YXIgcmwgPSAxIC8gKHJpZ2h0IC0gbGVmdCk7XHJcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xyXG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzBdID0gbmVhciAqIDIgKiBybDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XHJcbiAgb3V0WzldID0gKHRvcCArIGJvdHRvbSkgKiB0YjtcclxuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XHJcbiAgb3V0WzExXSA9IC0xO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xyXG4gIG91dFsxNV0gPSAwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcclxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cclxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cclxuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XHJcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXHJcbiAgICAgIG5mO1xyXG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSBmO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSAwO1xyXG4gIG91dFs5XSA9IDA7XHJcbiAgb3V0WzExXSA9IC0xO1xyXG4gIG91dFsxMl0gPSAwO1xyXG4gIG91dFsxM10gPSAwO1xyXG4gIG91dFsxNV0gPSAwO1xyXG5cclxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xyXG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xyXG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xyXG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XHJcbiAgfSBlbHNlIHtcclxuICAgIG91dFsxMF0gPSAtMTtcclxuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBwZXJzcGVjdGl2ZSA9IHBlcnNwZWN0aXZlTk87XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxyXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxyXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcclxuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZVpPKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcclxuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcclxuICAgICAgbmY7XHJcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IGY7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTFdID0gLTE7XHJcbiAgb3V0WzEyXSA9IDA7XHJcbiAgb3V0WzEzXSA9IDA7XHJcbiAgb3V0WzE1XSA9IDA7XHJcblxyXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XHJcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgICBvdXRbMTBdID0gZmFyICogbmY7XHJcbiAgICBvdXRbMTRdID0gZmFyICogbmVhciAqIG5mO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvdXRbMTBdID0gLTE7XHJcbiAgICBvdXRbMTRdID0gLW5lYXI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBmaWVsZCBvZiB2aWV3LlxyXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXHJcbiAqIHdpdGggdGhlIHN0aWxsIGV4cGVyaWVtZW50YWwgV2ViVlIgQVBJLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBmb3YgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyB2YWx1ZXM6IHVwRGVncmVlcywgZG93bkRlZ3JlZXMsIGxlZnREZWdyZWVzLCByaWdodERlZ3JlZXNcclxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcclxuICB2YXIgdXBUYW4gPSBNYXRoLnRhbihmb3YudXBEZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcclxuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XHJcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xyXG4gIHZhciByaWdodFRhbiA9IE1hdGgudGFuKGZvdi5yaWdodERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xyXG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcclxuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XHJcbiAgb3V0WzBdID0geFNjYWxlO1xyXG4gIG91dFsxXSA9IDAuMDtcclxuICBvdXRbMl0gPSAwLjA7XHJcbiAgb3V0WzNdID0gMC4wO1xyXG4gIG91dFs0XSA9IDAuMDtcclxuICBvdXRbNV0gPSB5U2NhbGU7XHJcbiAgb3V0WzZdID0gMC4wO1xyXG4gIG91dFs3XSA9IDAuMDtcclxuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcclxuICBvdXRbOV0gPSAodXBUYW4gLSBkb3duVGFuKSAqIHlTY2FsZSAqIDAuNTtcclxuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xyXG4gIG91dFsxMV0gPSAtMS4wO1xyXG4gIG91dFsxMl0gPSAwLjA7XHJcbiAgb3V0WzEzXSA9IDAuMDtcclxuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcclxuICBvdXRbMTVdID0gMC4wO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxyXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxyXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcnRob05PKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcclxuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XHJcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xyXG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzBdID0gLTIgKiBscjtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IC0yICogYnQ7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gMiAqIG5mO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xyXG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xyXG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQub3J0aG9OT31cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBvcnRobyA9IG9ydGhvTk87XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cclxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxyXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcnRob1pPKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcclxuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XHJcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xyXG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XHJcbiAgb3V0WzBdID0gLTIgKiBscjtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMDtcclxuICBvdXRbNF0gPSAwO1xyXG4gIG91dFs1XSA9IC0yICogYnQ7XHJcbiAgb3V0WzZdID0gMDtcclxuICBvdXRbN10gPSAwO1xyXG4gIG91dFs4XSA9IDA7XHJcbiAgb3V0WzldID0gMDtcclxuICBvdXRbMTBdID0gbmY7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XHJcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XHJcbiAgb3V0WzE0XSA9IG5lYXIgKiBuZjtcclxuICBvdXRbMTVdID0gMTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBsb29rLWF0IG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBleWUgcG9zaXRpb24sIGZvY2FsIHBvaW50LCBhbmQgdXAgYXhpcy5cclxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcclxuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xyXG4gIHZhciBleWV4ID0gZXllWzBdO1xyXG4gIHZhciBleWV5ID0gZXllWzFdO1xyXG4gIHZhciBleWV6ID0gZXllWzJdO1xyXG4gIHZhciB1cHggPSB1cFswXTtcclxuICB2YXIgdXB5ID0gdXBbMV07XHJcbiAgdmFyIHVweiA9IHVwWzJdO1xyXG4gIHZhciBjZW50ZXJ4ID0gY2VudGVyWzBdO1xyXG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xyXG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xyXG5cclxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xyXG4gIH1cclxuXHJcbiAgejAgPSBleWV4IC0gY2VudGVyeDtcclxuICB6MSA9IGV5ZXkgLSBjZW50ZXJ5O1xyXG4gIHoyID0gZXlleiAtIGNlbnRlcno7XHJcbiAgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XHJcbiAgejAgKj0gbGVuO1xyXG4gIHoxICo9IGxlbjtcclxuICB6MiAqPSBsZW47XHJcbiAgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxO1xyXG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcclxuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XHJcbiAgbGVuID0gTWF0aC5oeXBvdCh4MCwgeDEsIHgyKTtcclxuXHJcbiAgaWYgKCFsZW4pIHtcclxuICAgIHgwID0gMDtcclxuICAgIHgxID0gMDtcclxuICAgIHgyID0gMDtcclxuICB9IGVsc2Uge1xyXG4gICAgbGVuID0gMSAvIGxlbjtcclxuICAgIHgwICo9IGxlbjtcclxuICAgIHgxICo9IGxlbjtcclxuICAgIHgyICo9IGxlbjtcclxuICB9XHJcblxyXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XHJcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcclxuICB5MiA9IHowICogeDEgLSB6MSAqIHgwO1xyXG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XHJcblxyXG4gIGlmICghbGVuKSB7XHJcbiAgICB5MCA9IDA7XHJcbiAgICB5MSA9IDA7XHJcbiAgICB5MiA9IDA7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxlbiA9IDEgLyBsZW47XHJcbiAgICB5MCAqPSBsZW47XHJcbiAgICB5MSAqPSBsZW47XHJcbiAgICB5MiAqPSBsZW47XHJcbiAgfVxyXG5cclxuICBvdXRbMF0gPSB4MDtcclxuICBvdXRbMV0gPSB5MDtcclxuICBvdXRbMl0gPSB6MDtcclxuICBvdXRbM10gPSAwO1xyXG4gIG91dFs0XSA9IHgxO1xyXG4gIG91dFs1XSA9IHkxO1xyXG4gIG91dFs2XSA9IHoxO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgb3V0WzhdID0geDI7XHJcbiAgb3V0WzldID0geTI7XHJcbiAgb3V0WzEwXSA9IHoyO1xyXG4gIG91dFsxMV0gPSAwO1xyXG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XHJcbiAgb3V0WzEzXSA9IC0oeTAgKiBleWV4ICsgeTEgKiBleWV5ICsgeTIgKiBleWV6KTtcclxuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xyXG4gIG91dFsxNV0gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIG1hdHJpeCB0aGF0IG1ha2VzIHNvbWV0aGluZyBsb29rIGF0IHNvbWV0aGluZyBlbHNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XHJcbiAgdmFyIGV5ZXggPSBleWVbMF0sXHJcbiAgICAgIGV5ZXkgPSBleWVbMV0sXHJcbiAgICAgIGV5ZXogPSBleWVbMl0sXHJcbiAgICAgIHVweCA9IHVwWzBdLFxyXG4gICAgICB1cHkgPSB1cFsxXSxcclxuICAgICAgdXB6ID0gdXBbMl07XHJcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcclxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxyXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XHJcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcclxuXHJcbiAgaWYgKGxlbiA+IDApIHtcclxuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcclxuICAgIHowICo9IGxlbjtcclxuICAgIHoxICo9IGxlbjtcclxuICAgIHoyICo9IGxlbjtcclxuICB9XHJcblxyXG4gIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejEsXHJcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcclxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xyXG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcclxuXHJcbiAgaWYgKGxlbiA+IDApIHtcclxuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcclxuICAgIHgwICo9IGxlbjtcclxuICAgIHgxICo9IGxlbjtcclxuICAgIHgyICo9IGxlbjtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IHgwO1xyXG4gIG91dFsxXSA9IHgxO1xyXG4gIG91dFsyXSA9IHgyO1xyXG4gIG91dFszXSA9IDA7XHJcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XHJcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XHJcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XHJcbiAgb3V0WzddID0gMDtcclxuICBvdXRbOF0gPSB6MDtcclxuICBvdXRbOV0gPSB6MTtcclxuICBvdXRbMTBdID0gejI7XHJcbiAgb3V0WzExXSA9IDA7XHJcbiAgb3V0WzEyXSA9IGV5ZXg7XHJcbiAgb3V0WzEzXSA9IGV5ZXk7XHJcbiAgb3V0WzE0XSA9IGV5ZXo7XHJcbiAgb3V0WzE1XSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcIm1hdDQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiLCBcIiArIGFbOF0gKyBcIiwgXCIgKyBhWzldICsgXCIsIFwiICsgYVsxMF0gKyBcIiwgXCIgKyBhWzExXSArIFwiLCBcIiArIGFbMTJdICsgXCIsIFwiICsgYVsxM10gKyBcIiwgXCIgKyBhWzE0XSArIFwiLCBcIiArIGFbMTVdICsgXCIpXCI7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xyXG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQ0J3NcclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xyXG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xyXG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xyXG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xyXG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xyXG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdO1xyXG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xyXG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xyXG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdO1xyXG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xyXG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xyXG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xyXG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xyXG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xyXG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xyXG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xyXG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xyXG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xyXG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xyXG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xyXG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xyXG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xyXG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcclxuICogQHJldHVybnMge21hdDR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICBvdXRbM10gPSBhWzNdICogYjtcclxuICBvdXRbNF0gPSBhWzRdICogYjtcclxuICBvdXRbNV0gPSBhWzVdICogYjtcclxuICBvdXRbNl0gPSBhWzZdICogYjtcclxuICBvdXRbN10gPSBhWzddICogYjtcclxuICBvdXRbOF0gPSBhWzhdICogYjtcclxuICBvdXRbOV0gPSBhWzldICogYjtcclxuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xyXG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XHJcbiAgb3V0WzEyXSA9IGFbMTJdICogYjtcclxuICBvdXRbMTNdID0gYVsxM10gKiBiO1xyXG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XHJcbiAgb3V0WzE1XSA9IGFbMTVdICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XHJcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcclxuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xyXG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XHJcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcclxuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xyXG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XHJcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcclxuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xyXG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XHJcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcclxuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xyXG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XHJcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXSxcclxuICAgICAgYTMgPSBhWzNdO1xyXG4gIHZhciBhNCA9IGFbNF0sXHJcbiAgICAgIGE1ID0gYVs1XSxcclxuICAgICAgYTYgPSBhWzZdLFxyXG4gICAgICBhNyA9IGFbN107XHJcbiAgdmFyIGE4ID0gYVs4XSxcclxuICAgICAgYTkgPSBhWzldLFxyXG4gICAgICBhMTAgPSBhWzEwXSxcclxuICAgICAgYTExID0gYVsxMV07XHJcbiAgdmFyIGExMiA9IGFbMTJdLFxyXG4gICAgICBhMTMgPSBhWzEzXSxcclxuICAgICAgYTE0ID0gYVsxNF0sXHJcbiAgICAgIGExNSA9IGFbMTVdO1xyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM107XHJcbiAgdmFyIGI0ID0gYls0XSxcclxuICAgICAgYjUgPSBiWzVdLFxyXG4gICAgICBiNiA9IGJbNl0sXHJcbiAgICAgIGI3ID0gYls3XTtcclxuICB2YXIgYjggPSBiWzhdLFxyXG4gICAgICBiOSA9IGJbOV0sXHJcbiAgICAgIGIxMCA9IGJbMTBdLFxyXG4gICAgICBiMTEgPSBiWzExXTtcclxuICB2YXIgYjEyID0gYlsxMl0sXHJcbiAgICAgIGIxMyA9IGJbMTNdLFxyXG4gICAgICBiMTQgPSBiWzE0XSxcclxuICAgICAgYjE1ID0gYlsxNV07XHJcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnN1YnRyYWN0fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuaW1wb3J0ICogYXMgbWF0MyBmcm9tIFwiLi9tYXQzLmpzXCI7XHJcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSBcIi4vdmVjMy5qc1wiO1xyXG5pbXBvcnQgKiBhcyB2ZWM0IGZyb20gXCIuL3ZlYzQuanNcIjtcclxuLyoqXHJcbiAqIFF1YXRlcm5pb25cclxuICogQG1vZHVsZSBxdWF0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgcXVhdFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gYSBuZXcgcXVhdGVybmlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIG91dFswXSA9IDA7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICB9XHJcblxyXG4gIG91dFszXSA9IDE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IGEgcXVhdCB0byB0aGUgaWRlbnRpdHkgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcclxuICBvdXRbMF0gPSAwO1xyXG4gIG91dFsxXSA9IDA7XHJcbiAgb3V0WzJdID0gMDtcclxuICBvdXRbM10gPSAxO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgYSBxdWF0IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFuZCByb3RhdGlvbiBheGlzLFxyXG4gKiB0aGVuIHJldHVybnMgaXQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyBhcm91bmQgd2hpY2ggdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXhpc0FuZ2xlKG91dCwgYXhpcywgcmFkKSB7XHJcbiAgcmFkID0gcmFkICogMC41O1xyXG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcclxuICBvdXRbMF0gPSBzICogYXhpc1swXTtcclxuICBvdXRbMV0gPSBzICogYXhpc1sxXTtcclxuICBvdXRbMl0gPSBzICogYXhpc1syXTtcclxuICBvdXRbM10gPSBNYXRoLmNvcyhyYWQpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIHJvdGF0aW9uIGF4aXMgYW5kIGFuZ2xlIGZvciBhIGdpdmVuXHJcbiAqICBxdWF0ZXJuaW9uLiBJZiBhIHF1YXRlcm5pb24gaXMgY3JlYXRlZCB3aXRoXHJcbiAqICBzZXRBeGlzQW5nbGUsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIHRoZSBzYW1lXHJcbiAqICB2YWx1ZXMgYXMgcHJvdmlkaWVkIGluIHRoZSBvcmlnaW5hbCBwYXJhbWV0ZXIgbGlzdFxyXG4gKiAgT1IgZnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdmFsdWVzLlxyXG4gKiBFeGFtcGxlOiBUaGUgcXVhdGVybmlvbiBmb3JtZWQgYnkgYXhpcyBbMCwgMCwgMV0gYW5kXHJcbiAqICBhbmdsZSAtOTAgaXMgdGhlIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gZm9ybWVkIGJ5XHJcbiAqICBbMCwgMCwgMV0gYW5kIDI3MC4gVGhpcyBtZXRob2QgZmF2b3JzIHRoZSBsYXR0ZXIuXHJcbiAqIEBwYXJhbSAge3ZlYzN9IG91dF9heGlzICBWZWN0b3IgcmVjZWl2aW5nIHRoZSBheGlzIG9mIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdH0gcSAgICAgUXVhdGVybmlvbiB0byBiZSBkZWNvbXBvc2VkXHJcbiAqIEByZXR1cm4ge051bWJlcn0gICAgIEFuZ2xlLCBpbiByYWRpYW5zLCBvZiB0aGUgcm90YXRpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXhpc0FuZ2xlKG91dF9heGlzLCBxKSB7XHJcbiAgdmFyIHJhZCA9IE1hdGguYWNvcyhxWzNdKSAqIDIuMDtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCAvIDIuMCk7XHJcblxyXG4gIGlmIChzID4gZ2xNYXRyaXguRVBTSUxPTikge1xyXG4gICAgb3V0X2F4aXNbMF0gPSBxWzBdIC8gcztcclxuICAgIG91dF9heGlzWzFdID0gcVsxXSAvIHM7XHJcbiAgICBvdXRfYXhpc1syXSA9IHFbMl0gLyBzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJZiBzIGlzIHplcm8sIHJldHVybiBhbnkgYXhpcyAobm8gcm90YXRpb24gLSBheGlzIGRvZXMgbm90IG1hdHRlcilcclxuICAgIG91dF9heGlzWzBdID0gMTtcclxuICAgIG91dF9heGlzWzFdID0gMDtcclxuICAgIG91dF9heGlzWzJdID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiByYWQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIGFuZ3VsYXIgZGlzdGFuY2UgYmV0d2VlbiB0d28gdW5pdCBxdWF0ZXJuaW9uc1xyXG4gKlxyXG4gKiBAcGFyYW0gIHtSZWFkb25seVF1YXR9IGEgICAgIE9yaWdpbiB1bml0IHF1YXRlcm5pb25cclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0fSBiICAgICBEZXN0aW5hdGlvbiB1bml0IHF1YXRlcm5pb25cclxuICogQHJldHVybiB7TnVtYmVyfSAgICAgQW5nbGUsIGluIHJhZGlhbnMsIGJldHdlZW4gdGhlIHR3byBxdWF0ZXJuaW9uc1xyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmdsZShhLCBiKSB7XHJcbiAgdmFyIGRvdHByb2R1Y3QgPSBkb3QoYSwgYik7XHJcbiAgcmV0dXJuIE1hdGguYWNvcygyICogZG90cHJvZHVjdCAqIGRvdHByb2R1Y3QgLSAxKTtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIHZhciBieCA9IGJbMF0sXHJcbiAgICAgIGJ5ID0gYlsxXSxcclxuICAgICAgYnogPSBiWzJdLFxyXG4gICAgICBidyA9IGJbM107XHJcbiAgb3V0WzBdID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieTtcclxuICBvdXRbMV0gPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6O1xyXG4gIG91dFsyXSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYng7XHJcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgcXVhdGVybmlvbiBieSB0aGUgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcclxuICByYWQgKj0gMC41O1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgdmFyIGJ4ID0gTWF0aC5zaW4ocmFkKSxcclxuICAgICAgYncgPSBNYXRoLmNvcyhyYWQpO1xyXG4gIG91dFswXSA9IGF4ICogYncgKyBhdyAqIGJ4O1xyXG4gIG91dFsxXSA9IGF5ICogYncgKyBheiAqIGJ4O1xyXG4gIG91dFsyXSA9IGF6ICogYncgLSBheSAqIGJ4O1xyXG4gIG91dFszXSA9IGF3ICogYncgLSBheCAqIGJ4O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBxdWF0ZXJuaW9uIGJ5IHRoZSBnaXZlbiBhbmdsZSBhYm91dCB0aGUgWSBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHF1YXQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBhbmdsZSAoaW4gcmFkaWFucykgdG8gcm90YXRlXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xyXG4gIHJhZCAqPSAwLjU7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl0sXHJcbiAgICAgIGF3ID0gYVszXTtcclxuICB2YXIgYnkgPSBNYXRoLnNpbihyYWQpLFxyXG4gICAgICBidyA9IE1hdGguY29zKHJhZCk7XHJcbiAgb3V0WzBdID0gYXggKiBidyAtIGF6ICogYnk7XHJcbiAgb3V0WzFdID0gYXkgKiBidyArIGF3ICogYnk7XHJcbiAgb3V0WzJdID0gYXogKiBidyArIGF4ICogYnk7XHJcbiAgb3V0WzNdID0gYXcgKiBidyAtIGF5ICogYnk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIHF1YXRlcm5pb24gYnkgdGhlIGdpdmVuIGFuZ2xlIGFib3V0IHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgcXVhdCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XHJcbiAgcmFkICo9IDAuNTtcclxuICB2YXIgYXggPSBhWzBdLFxyXG4gICAgICBheSA9IGFbMV0sXHJcbiAgICAgIGF6ID0gYVsyXSxcclxuICAgICAgYXcgPSBhWzNdO1xyXG4gIHZhciBieiA9IE1hdGguc2luKHJhZCksXHJcbiAgICAgIGJ3ID0gTWF0aC5jb3MocmFkKTtcclxuICBvdXRbMF0gPSBheCAqIGJ3ICsgYXkgKiBiejtcclxuICBvdXRbMV0gPSBheSAqIGJ3IC0gYXggKiBiejtcclxuICBvdXRbMl0gPSBheiAqIGJ3ICsgYXcgKiBiejtcclxuICBvdXRbM10gPSBhdyAqIGJ3IC0gYXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBXIGNvbXBvbmVudCBvZiBhIHF1YXQgZnJvbSB0aGUgWCwgWSwgYW5kIFogY29tcG9uZW50cy5cclxuICogQXNzdW1lcyB0aGF0IHF1YXRlcm5pb24gaXMgMSB1bml0IGluIGxlbmd0aC5cclxuICogQW55IGV4aXN0aW5nIFcgY29tcG9uZW50IHdpbGwgYmUgaWdub3JlZC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIFcgY29tcG9uZW50IG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlVyhvdXQsIGEpIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXTtcclxuICBvdXRbMF0gPSB4O1xyXG4gIG91dFsxXSA9IHk7XHJcbiAgb3V0WzJdID0gejtcclxuICBvdXRbM10gPSBNYXRoLnNxcnQoTWF0aC5hYnMoMS4wIC0geCAqIHggLSB5ICogeSAtIHogKiB6KSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZiBhIHVuaXQgcXVhdGVybmlvbi5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cChvdXQsIGEpIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXSxcclxuICAgICAgdyA9IGFbM107XHJcbiAgdmFyIHIgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcclxuICB2YXIgZXQgPSBNYXRoLmV4cCh3KTtcclxuICB2YXIgcyA9IHIgPiAwID8gZXQgKiBNYXRoLnNpbihyKSAvIHIgOiAwO1xyXG4gIG91dFswXSA9IHggKiBzO1xyXG4gIG91dFsxXSA9IHkgKiBzO1xyXG4gIG91dFsyXSA9IHogKiBzO1xyXG4gIG91dFszXSA9IGV0ICogTWF0aC5jb3Mocik7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIHVuaXQgcXVhdGVybmlvbi5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIHRoZSBleHBvbmVudGlhbCBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxuKG91dCwgYSkge1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdLFxyXG4gICAgICB3ID0gYVszXTtcclxuICB2YXIgciA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xyXG4gIHZhciB0ID0gciA+IDAgPyBNYXRoLmF0YW4yKHIsIHcpIC8gciA6IDA7XHJcbiAgb3V0WzBdID0geCAqIHQ7XHJcbiAgb3V0WzFdID0geSAqIHQ7XHJcbiAgb3V0WzJdID0geiAqIHQ7XHJcbiAgb3V0WzNdID0gMC41ICogTWF0aC5sb2coeCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHcpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZSB0aGUgc2NhbGFyIHBvd2VyIG9mIGEgdW5pdCBxdWF0ZXJuaW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgcXVhdCB0byBjYWxjdWxhdGUgdGhlIGV4cG9uZW50aWFsIG9mXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgcXVhdGVybmlvbiBieVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvdyhvdXQsIGEsIGIpIHtcclxuICBsbihvdXQsIGEpO1xyXG4gIHNjYWxlKG91dCwgb3V0LCBiKTtcclxuICBleHAob3V0LCBvdXQpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgc3BoZXJpY2FsIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2xlcnAob3V0LCBhLCBiLCB0KSB7XHJcbiAgLy8gYmVuY2htYXJrczpcclxuICAvLyAgICBodHRwOi8vanNwZXJmLmNvbS9xdWF0ZXJuaW9uLXNsZXJwLWltcGxlbWVudGF0aW9uc1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgdmFyIGJ4ID0gYlswXSxcclxuICAgICAgYnkgPSBiWzFdLFxyXG4gICAgICBieiA9IGJbMl0sXHJcbiAgICAgIGJ3ID0gYlszXTtcclxuICB2YXIgb21lZ2EsIGNvc29tLCBzaW5vbSwgc2NhbGUwLCBzY2FsZTE7IC8vIGNhbGMgY29zaW5lXHJcblxyXG4gIGNvc29tID0gYXggKiBieCArIGF5ICogYnkgKyBheiAqIGJ6ICsgYXcgKiBidzsgLy8gYWRqdXN0IHNpZ25zIChpZiBuZWNlc3NhcnkpXHJcblxyXG4gIGlmIChjb3NvbSA8IDAuMCkge1xyXG4gICAgY29zb20gPSAtY29zb207XHJcbiAgICBieCA9IC1ieDtcclxuICAgIGJ5ID0gLWJ5O1xyXG4gICAgYnogPSAtYno7XHJcbiAgICBidyA9IC1idztcclxuICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHNcclxuXHJcblxyXG4gIGlmICgxLjAgLSBjb3NvbSA+IGdsTWF0cml4LkVQU0lMT04pIHtcclxuICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKVxyXG4gICAgb21lZ2EgPSBNYXRoLmFjb3MoY29zb20pO1xyXG4gICAgc2lub20gPSBNYXRoLnNpbihvbWVnYSk7XHJcbiAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTtcclxuICAgIHNjYWxlMSA9IE1hdGguc2luKHQgKiBvbWVnYSkgLyBzaW5vbTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gXCJmcm9tXCIgYW5kIFwidG9cIiBxdWF0ZXJuaW9ucyBhcmUgdmVyeSBjbG9zZVxyXG4gICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvblxyXG4gICAgc2NhbGUwID0gMS4wIC0gdDtcclxuICAgIHNjYWxlMSA9IHQ7XHJcbiAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzXHJcblxyXG5cclxuICBvdXRbMF0gPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4O1xyXG4gIG91dFsxXSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7XHJcbiAgb3V0WzJdID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejtcclxuICBvdXRbM10gPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB1bml0IHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCkge1xyXG4gIC8vIEltcGxlbWVudGF0aW9uIG9mIGh0dHA6Ly9wbGFubmluZy5jcy51aXVjLmVkdS9ub2RlMTk4Lmh0bWxcclxuICAvLyBUT0RPOiBDYWxsaW5nIHJhbmRvbSAzIHRpbWVzIGlzIHByb2JhYmx5IG5vdCB0aGUgZmFzdGVzdCBzb2x1dGlvblxyXG4gIHZhciB1MSA9IGdsTWF0cml4LlJBTkRPTSgpO1xyXG4gIHZhciB1MiA9IGdsTWF0cml4LlJBTkRPTSgpO1xyXG4gIHZhciB1MyA9IGdsTWF0cml4LlJBTkRPTSgpO1xyXG4gIHZhciBzcXJ0MU1pbnVzVTEgPSBNYXRoLnNxcnQoMSAtIHUxKTtcclxuICB2YXIgc3FydFUxID0gTWF0aC5zcXJ0KHUxKTtcclxuICBvdXRbMF0gPSBzcXJ0MU1pbnVzVTEgKiBNYXRoLnNpbigyLjAgKiBNYXRoLlBJICogdTIpO1xyXG4gIG91dFsxXSA9IHNxcnQxTWludXNVMSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB1Mik7XHJcbiAgb3V0WzJdID0gc3FydFUxICogTWF0aC5zaW4oMi4wICogTWF0aC5QSSAqIHUzKTtcclxuICBvdXRbM10gPSBzcXJ0VTEgKiBNYXRoLmNvcygyLjAgKiBNYXRoLlBJICogdTMpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGludmVyc2Ugb2YgYSBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSBxdWF0IHRvIGNhbGN1bGF0ZSBpbnZlcnNlIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdLFxyXG4gICAgICBhMyA9IGFbM107XHJcbiAgdmFyIGRvdCA9IGEwICogYTAgKyBhMSAqIGExICsgYTIgKiBhMiArIGEzICogYTM7XHJcbiAgdmFyIGludkRvdCA9IGRvdCA/IDEuMCAvIGRvdCA6IDA7IC8vIFRPRE86IFdvdWxkIGJlIGZhc3RlciB0byByZXR1cm4gWzAsMCwwLDBdIGltbWVkaWF0ZWx5IGlmIGRvdCA9PSAwXHJcblxyXG4gIG91dFswXSA9IC1hMCAqIGludkRvdDtcclxuICBvdXRbMV0gPSAtYTEgKiBpbnZEb3Q7XHJcbiAgb3V0WzJdID0gLWEyICogaW52RG90O1xyXG4gIG91dFszXSA9IGEzICogaW52RG90O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGNvbmp1Z2F0ZSBvZiBhIHF1YXRcclxuICogSWYgdGhlIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0LmludmVyc2UgYW5kIHByb2R1Y2VzIHRoZSBzYW1lIHJlc3VsdC5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmp1Z2F0ZShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSAtYVswXTtcclxuICBvdXRbMV0gPSAtYVsxXTtcclxuICBvdXRbMl0gPSAtYVsyXTtcclxuICBvdXRbM10gPSBhWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBxdWF0ZXJuaW9uIGZyb20gdGhlIGdpdmVuIDN4MyByb3RhdGlvbiBtYXRyaXguXHJcbiAqXHJcbiAqIE5PVEU6IFRoZSByZXN1bHRhbnQgcXVhdGVybmlvbiBpcyBub3Qgbm9ybWFsaXplZCwgc28geW91IHNob3VsZCBiZSBzdXJlXHJcbiAqIHRvIHJlbm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uIHlvdXJzZWxmIHdoZXJlIG5lY2Vzc2FyeS5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIHJvdGF0aW9uIG1hdHJpeFxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0MyhvdXQsIG0pIHtcclxuICAvLyBBbGdvcml0aG0gaW4gS2VuIFNob2VtYWtlJ3MgYXJ0aWNsZSBpbiAxOTg3IFNJR0dSQVBIIGNvdXJzZSBub3Rlc1xyXG4gIC8vIGFydGljbGUgXCJRdWF0ZXJuaW9uIENhbGN1bHVzIGFuZCBGYXN0IEFuaW1hdGlvblwiLlxyXG4gIHZhciBmVHJhY2UgPSBtWzBdICsgbVs0XSArIG1bOF07XHJcbiAgdmFyIGZSb290O1xyXG5cclxuICBpZiAoZlRyYWNlID4gMC4wKSB7XHJcbiAgICAvLyB8d3wgPiAxLzIsIG1heSBhcyB3ZWxsIGNob29zZSB3ID4gMS8yXHJcbiAgICBmUm9vdCA9IE1hdGguc3FydChmVHJhY2UgKyAxLjApOyAvLyAyd1xyXG5cclxuICAgIG91dFszXSA9IDAuNSAqIGZSb290O1xyXG4gICAgZlJvb3QgPSAwLjUgLyBmUm9vdDsgLy8gMS8oNHcpXHJcblxyXG4gICAgb3V0WzBdID0gKG1bNV0gLSBtWzddKSAqIGZSb290O1xyXG4gICAgb3V0WzFdID0gKG1bNl0gLSBtWzJdKSAqIGZSb290O1xyXG4gICAgb3V0WzJdID0gKG1bMV0gLSBtWzNdKSAqIGZSb290O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyB8d3wgPD0gMS8yXHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBpZiAobVs0XSA+IG1bMF0pIGkgPSAxO1xyXG4gICAgaWYgKG1bOF0gPiBtW2kgKiAzICsgaV0pIGkgPSAyO1xyXG4gICAgdmFyIGogPSAoaSArIDEpICUgMztcclxuICAgIHZhciBrID0gKGkgKyAyKSAlIDM7XHJcbiAgICBmUm9vdCA9IE1hdGguc3FydChtW2kgKiAzICsgaV0gLSBtW2ogKiAzICsgal0gLSBtW2sgKiAzICsga10gKyAxLjApO1xyXG4gICAgb3V0W2ldID0gMC41ICogZlJvb3Q7XHJcbiAgICBmUm9vdCA9IDAuNSAvIGZSb290O1xyXG4gICAgb3V0WzNdID0gKG1baiAqIDMgKyBrXSAtIG1bayAqIDMgKyBqXSkgKiBmUm9vdDtcclxuICAgIG91dFtqXSA9IChtW2ogKiAzICsgaV0gKyBtW2kgKiAzICsgal0pICogZlJvb3Q7XHJcbiAgICBvdXRba10gPSAobVtrICogMyArIGldICsgbVtpICogMyArIGtdKSAqIGZSb290O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIHF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZXVsZXIgYW5nbGUgeCwgeSwgei5cclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7eH0gQW5nbGUgdG8gcm90YXRlIGFyb3VuZCBYIGF4aXMgaW4gZGVncmVlcy5cclxuICogQHBhcmFtIHt5fSBBbmdsZSB0byByb3RhdGUgYXJvdW5kIFkgYXhpcyBpbiBkZWdyZWVzLlxyXG4gKiBAcGFyYW0ge3p9IEFuZ2xlIHRvIHJvdGF0ZSBhcm91bmQgWiBheGlzIGluIGRlZ3JlZXMuXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdWxlcihvdXQsIHgsIHksIHopIHtcclxuICB2YXIgaGFsZlRvUmFkID0gMC41ICogTWF0aC5QSSAvIDE4MC4wO1xyXG4gIHggKj0gaGFsZlRvUmFkO1xyXG4gIHkgKj0gaGFsZlRvUmFkO1xyXG4gIHogKj0gaGFsZlRvUmFkO1xyXG4gIHZhciBzeCA9IE1hdGguc2luKHgpO1xyXG4gIHZhciBjeCA9IE1hdGguY29zKHgpO1xyXG4gIHZhciBzeSA9IE1hdGguc2luKHkpO1xyXG4gIHZhciBjeSA9IE1hdGguY29zKHkpO1xyXG4gIHZhciBzeiA9IE1hdGguc2luKHopO1xyXG4gIHZhciBjeiA9IE1hdGguY29zKHopO1xyXG4gIG91dFswXSA9IHN4ICogY3kgKiBjeiAtIGN4ICogc3kgKiBzejtcclxuICBvdXRbMV0gPSBjeCAqIHN5ICogY3ogKyBzeCAqIGN5ICogc3o7XHJcbiAgb3V0WzJdID0gY3ggKiBjeSAqIHN6IC0gc3ggKiBzeSAqIGN6O1xyXG4gIG91dFszXSA9IGN4ICogY3kgKiBjeiArIHN4ICogc3kgKiBzejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgcXVhdGVuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcclxuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcclxuICByZXR1cm4gXCJxdWF0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gY2xvbmVcclxuICogQHJldHVybnMge3F1YXR9IGEgbmV3IHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBjbG9uZSA9IHZlYzQuY2xvbmU7XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHtxdWF0fSBhIG5ldyBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZnJvbVZhbHVlcyA9IHZlYzQuZnJvbVZhbHVlcztcclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBxdWF0IHRvIGFub3RoZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBzb3VyY2UgcXVhdGVybmlvblxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgY29weSA9IHZlYzQuY29weTtcclxuLyoqXHJcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNldCA9IHZlYzQuc2V0O1xyXG4vKipcclxuICogQWRkcyB0d28gcXVhdCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdH0gb3V0IHRoZSByZWNlaXZpbmcgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3F1YXR9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGFkZCA9IHZlYzQuYWRkO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Lm11bHRpcGx5fVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xyXG4vKipcclxuICogU2NhbGVzIGEgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxyXG4gKiBAcmV0dXJucyB7cXVhdH0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc2NhbGUgPSB2ZWM0LnNjYWxlO1xyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHF1YXQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRvdCA9IHZlYzQuZG90O1xyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZXJwID0gdmVjNC5sZXJwO1xyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuZ3RoID0gdmVjNC5sZW5ndGg7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHF1YXQubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gdmVjNC5zcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0LnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0fSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBub3JtYWxpemUgPSB2ZWM0Lm5vcm1hbGl6ZTtcclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgVGhlIGZpcnN0IHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgcXVhdGVybmlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBleGFjdEVxdWFscyA9IHZlYzQuZXhhY3RFcXVhbHM7XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBxdWF0ZXJuaW9ucyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGVxdWFscyA9IHZlYzQuZXF1YWxzO1xyXG4vKipcclxuICogU2V0cyBhIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IHRoZSBzaG9ydGVzdCByb3RhdGlvbiBmcm9tIG9uZVxyXG4gKiB2ZWN0b3IgdG8gYW5vdGhlci5cclxuICpcclxuICogQm90aCB2ZWN0b3JzIGFyZSBhc3N1bWVkIHRvIGJlIHVuaXQgbGVuZ3RoLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBpbml0aWFsIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgZGVzdGluYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgdmFyIHJvdGF0aW9uVG8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIHRtcHZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIHZhciB4VW5pdFZlYzMgPSB2ZWMzLmZyb21WYWx1ZXMoMSwgMCwgMCk7XHJcbiAgdmFyIHlVbml0VmVjMyA9IHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYikge1xyXG4gICAgdmFyIGRvdCA9IHZlYzMuZG90KGEsIGIpO1xyXG5cclxuICAgIGlmIChkb3QgPCAtMC45OTk5OTkpIHtcclxuICAgICAgdmVjMy5jcm9zcyh0bXB2ZWMzLCB4VW5pdFZlYzMsIGEpO1xyXG4gICAgICBpZiAodmVjMy5sZW4odG1wdmVjMykgPCAwLjAwMDAwMSkgdmVjMy5jcm9zcyh0bXB2ZWMzLCB5VW5pdFZlYzMsIGEpO1xyXG4gICAgICB2ZWMzLm5vcm1hbGl6ZSh0bXB2ZWMzLCB0bXB2ZWMzKTtcclxuICAgICAgc2V0QXhpc0FuZ2xlKG91dCwgdG1wdmVjMywgTWF0aC5QSSk7XHJcbiAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9IGVsc2UgaWYgKGRvdCA+IDAuOTk5OTk5KSB7XHJcbiAgICAgIG91dFswXSA9IDA7XHJcbiAgICAgIG91dFsxXSA9IDA7XHJcbiAgICAgIG91dFsyXSA9IDA7XHJcbiAgICAgIG91dFszXSA9IDE7XHJcbiAgICAgIHJldHVybiBvdXQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2ZWMzLmNyb3NzKHRtcHZlYzMsIGEsIGIpO1xyXG4gICAgICBvdXRbMF0gPSB0bXB2ZWMzWzBdO1xyXG4gICAgICBvdXRbMV0gPSB0bXB2ZWMzWzFdO1xyXG4gICAgICBvdXRbMl0gPSB0bXB2ZWMzWzJdO1xyXG4gICAgICBvdXRbM10gPSAxICsgZG90O1xyXG4gICAgICByZXR1cm4gbm9ybWFsaXplKG91dCwgb3V0KTtcclxuICAgIH1cclxuICB9O1xyXG59KCk7XHJcbi8qKlxyXG4gKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBjIHRoZSB0aGlyZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBkIHRoZSBmb3VydGggb3BlcmFuZFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxbGVycCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdGVtcDEgPSBjcmVhdGUoKTtcclxuICB2YXIgdGVtcDIgPSBjcmVhdGUoKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKG91dCwgYSwgYiwgYywgZCwgdCkge1xyXG4gICAgc2xlcnAodGVtcDEsIGEsIGQsIHQpO1xyXG4gICAgc2xlcnAodGVtcDIsIGIsIGMsIHQpO1xyXG4gICAgc2xlcnAob3V0LCB0ZW1wMSwgdGVtcDIsIDIgKiB0ICogKDEgLSB0KSk7XHJcbiAgICByZXR1cm4gb3V0O1xyXG4gIH07XHJcbn0oKTtcclxuLyoqXHJcbiAqIFNldHMgdGhlIHNwZWNpZmllZCBxdWF0ZXJuaW9uIHdpdGggdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuXHJcbiAqIGF4ZXMuIEVhY2ggYXhpcyBpcyBhIHZlYzMgYW5kIGlzIGV4cGVjdGVkIHRvIGJlIHVuaXQgbGVuZ3RoIGFuZFxyXG4gKiBwZXJwZW5kaWN1bGFyIHRvIGFsbCBvdGhlciBzcGVjaWZpZWQgYXhlcy5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHZpZXcgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSB2aWV3aW5nIGRpcmVjdGlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcmlnaHQgdGhlIHZlY3RvciByZXByZXNlbnRpbmcgdGhlIGxvY2FsIFwicmlnaHRcIiBkaXJlY3Rpb25cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwICAgIHRoZSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBsb2NhbCBcInVwXCIgZGlyZWN0aW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNldEF4ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIG1hdHIgPSBtYXQzLmNyZWF0ZSgpO1xyXG4gIHJldHVybiBmdW5jdGlvbiAob3V0LCB2aWV3LCByaWdodCwgdXApIHtcclxuICAgIG1hdHJbMF0gPSByaWdodFswXTtcclxuICAgIG1hdHJbM10gPSByaWdodFsxXTtcclxuICAgIG1hdHJbNl0gPSByaWdodFsyXTtcclxuICAgIG1hdHJbMV0gPSB1cFswXTtcclxuICAgIG1hdHJbNF0gPSB1cFsxXTtcclxuICAgIG1hdHJbN10gPSB1cFsyXTtcclxuICAgIG1hdHJbMl0gPSAtdmlld1swXTtcclxuICAgIG1hdHJbNV0gPSAtdmlld1sxXTtcclxuICAgIG1hdHJbOF0gPSAtdmlld1syXTtcclxuICAgIHJldHVybiBub3JtYWxpemUob3V0LCBmcm9tTWF0MyhvdXQsIG1hdHIpKTtcclxuICB9O1xyXG59KCk7IiwgImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xyXG4vKipcclxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcclxuICogQG1vZHVsZSB2ZWMzXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzNcclxuICpcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIG91dFswXSA9IDA7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gMDtcclxuICB9XHJcblxyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcclxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcclxuICB2YXIgeCA9IGFbMF07XHJcbiAgdmFyIHkgPSBhWzFdO1xyXG4gIHZhciB6ID0gYVsyXTtcclxuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxyXG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuICBvdXRbMF0gPSB4O1xyXG4gIG91dFsxXSA9IHk7XHJcbiAgb3V0WzJdID0gejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMyB0byBhbm90aGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBzb3VyY2UgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBhWzBdO1xyXG4gIG91dFsxXSA9IGFbMV07XHJcbiAgb3V0WzJdID0gYVsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XHJcbiAgb3V0WzBdID0geDtcclxuICBvdXRbMV0gPSB5O1xyXG4gIG91dFsyXSA9IHo7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogRGl2aWRlcyB0d28gdmVjMydzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcclxuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjZWlsXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xyXG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2NhbGVzIGEgdmVjMyBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKiBiO1xyXG4gIG91dFsxXSA9IGFbMV0gKiBiO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBiO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgdHdvIHZlYzMncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcclxuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XHJcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcclxuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xyXG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XHJcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcclxuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xyXG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XHJcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcclxuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHo7XHJcbn1cclxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBuZWdhdGVcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gLWFbMF07XHJcbiAgb3V0WzFdID0gLWFbMV07XHJcbiAgb3V0WzJdID0gLWFbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcclxuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xyXG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTm9ybWFsaXplIGEgdmVjM1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHo7XHJcblxyXG4gIGlmIChsZW4gPiAwKSB7XHJcbiAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xyXG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xyXG4gIH1cclxuXHJcbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcclxuICBvdXRbMV0gPSBhWzFdICogbGVuO1xyXG4gIG91dFsyXSA9IGFbMl0gKiBsZW47XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xyXG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl07XHJcbn1cclxuLyoqXHJcbiAqIENvbXB1dGVzIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XHJcbiAgdmFyIGF4ID0gYVswXSxcclxuICAgICAgYXkgPSBhWzFdLFxyXG4gICAgICBheiA9IGFbMl07XHJcbiAgdmFyIGJ4ID0gYlswXSxcclxuICAgICAgYnkgPSBiWzFdLFxyXG4gICAgICBieiA9IGJbMl07XHJcbiAgb3V0WzBdID0gYXkgKiBieiAtIGF6ICogYnk7XHJcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XHJcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMzJ3NcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xyXG4gIHZhciBheCA9IGFbMF07XHJcbiAgdmFyIGF5ID0gYVsxXTtcclxuICB2YXIgYXogPSBhWzJdO1xyXG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xyXG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xyXG4gIG91dFsyXSA9IGF6ICsgdCAqIChiWzJdIC0gYXopO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYyB0aGUgdGhpcmQgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhlcm1pdGUob3V0LCBhLCBiLCBjLCBkLCB0KSB7XHJcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xyXG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xyXG4gIHZhciBmYWN0b3IyID0gZmFjdG9yVGltZXMyICogKHQgLSAyKSArIHQ7XHJcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xyXG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XHJcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XHJcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XHJcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBiZXppZXIgaW50ZXJwb2xhdGlvbiB3aXRoIHR3byBjb250cm9sIHBvaW50c1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGQgdGhlIGZvdXJ0aCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XHJcbiAgdmFyIGludmVyc2VGYWN0b3IgPSAxIC0gdDtcclxuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XHJcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xyXG4gIHZhciBmYWN0b3IxID0gaW52ZXJzZUZhY3RvclRpbWVzVHdvICogaW52ZXJzZUZhY3RvcjtcclxuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xyXG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XHJcbiAgdmFyIGZhY3RvcjQgPSBmYWN0b3JUaW1lczIgKiB0O1xyXG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xyXG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xyXG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcclxuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDtcclxuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcclxuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xyXG4gIHZhciB6U2NhbGUgPSBNYXRoLnNxcnQoMS4wIC0geiAqIHopICogc2NhbGU7XHJcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XHJcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XHJcbiAgb3V0WzJdID0geiAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDQuXHJcbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl07XHJcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XHJcbiAgdyA9IHcgfHwgMS4wO1xyXG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xyXG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xyXG4gIG91dFsyXSA9IChtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0pIC8gdztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDMob3V0LCBhLCBtKSB7XHJcbiAgdmFyIHggPSBhWzBdLFxyXG4gICAgICB5ID0gYVsxXSxcclxuICAgICAgeiA9IGFbMl07XHJcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xyXG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcclxuICBvdXRbMl0gPSB4ICogbVsyXSArIHkgKiBtWzVdICsgeiAqIG1bOF07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgcXVhdFxyXG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcclxuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdO1xyXG4gIHZhciB4ID0gYVswXSxcclxuICAgICAgeSA9IGFbMV0sXHJcbiAgICAgIHogPSBhWzJdOyAvLyB2YXIgcXZlYyA9IFtxeCwgcXksIHF6XTtcclxuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcclxuXHJcbiAgdmFyIHV2eCA9IHF5ICogeiAtIHF6ICogeSxcclxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxyXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XHJcblxyXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcclxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXHJcbiAgICAgIHV1dnogPSBxeCAqIHV2eSAtIHF5ICogdXZ4OyAvLyB2ZWMzLnNjYWxlKHV2LCB1diwgMiAqIHcpO1xyXG5cclxuICB2YXIgdzIgPSBxdyAqIDI7XHJcbiAgdXZ4ICo9IHcyO1xyXG4gIHV2eSAqPSB3MjtcclxuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xyXG5cclxuICB1dXZ4ICo9IDI7XHJcbiAgdXV2eSAqPSAyO1xyXG4gIHV1dnogKj0gMjsgLy8gcmV0dXJuIHZlYzMuYWRkKG91dCwgYSwgdmVjMy5hZGQob3V0LCB1diwgdXV2KSk7XHJcblxyXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xyXG4gIG91dFsxXSA9IHkgKyB1dnkgKyB1dXZ5O1xyXG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XHJcbiAgdmFyIHAgPSBbXSxcclxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXHJcblxyXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcclxuICBwWzFdID0gYVsxXSAtIGJbMV07XHJcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cclxuXHJcbiAgclswXSA9IHBbMF07XHJcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XHJcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cclxuXHJcbiAgb3V0WzBdID0gclswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeS1heGlzXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xyXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCBiLCByYWQpIHtcclxuICB2YXIgcCA9IFtdLFxyXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cclxuXHJcbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcclxuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxyXG5cclxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcclxuICByWzFdID0gcFsxXTtcclxuICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxyXG5cclxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcclxuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcclxuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB6LWF4aXNcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxyXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXHJcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xyXG4gIHZhciBwID0gW10sXHJcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxyXG5cclxuICBwWzBdID0gYVswXSAtIGJbMF07XHJcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXHJcblxyXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xyXG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xyXG4gIHJbMl0gPSBwWzJdOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXHJcblxyXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xyXG4gIHZhciBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBieCA9IGJbMF0sXHJcbiAgICAgIGJ5ID0gYlsxXSxcclxuICAgICAgYnogPSBiWzJdLFxyXG4gICAgICBtYWcxID0gTWF0aC5zcXJ0KGF4ICogYXggKyBheSAqIGF5ICsgYXogKiBheiksXHJcbiAgICAgIG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSxcclxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXHJcbiAgICAgIGNvc2luZSA9IG1hZyAmJiBkb3QoYSwgYikgLyBtYWc7XHJcbiAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHJldHVybnMge3ZlYzN9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xyXG4gIG91dFswXSA9IDAuMDtcclxuICBvdXRbMV0gPSAwLjA7XHJcbiAgb3V0WzJdID0gMC4wO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xyXG4gIHJldHVybiBcInZlYzMoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcclxuICB2YXIgYTAgPSBhWzBdLFxyXG4gICAgICBhMSA9IGFbMV0sXHJcbiAgICAgIGEyID0gYVsyXTtcclxuICB2YXIgYjAgPSBiWzBdLFxyXG4gICAgICBiMSA9IGJbMV0sXHJcbiAgICAgIGIyID0gYlsyXTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XHJcbn1cclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcclxuLyoqXHJcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgYXJyYXkgb2YgdmVjdG9ycyB0byBpdGVyYXRlIG92ZXJcclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcclxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxyXG4gKiBAcGFyYW0ge051bWJlcn0gY291bnQgTnVtYmVyIG9mIHZlYzNzIHRvIGl0ZXJhdGUgb3Zlci4gSWYgMCBpdGVyYXRlcyBvdmVyIGVudGlyZSBhcnJheVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcclxuICByZXR1cm4gZnVuY3Rpb24gKGEsIHN0cmlkZSwgb2Zmc2V0LCBjb3VudCwgZm4sIGFyZykge1xyXG4gICAgdmFyIGksIGw7XHJcblxyXG4gICAgaWYgKCFzdHJpZGUpIHtcclxuICAgICAgc3RyaWRlID0gMztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9mZnNldCkge1xyXG4gICAgICBvZmZzZXQgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjb3VudCkge1xyXG4gICAgICBsID0gTWF0aC5taW4oY291bnQgKiBzdHJpZGUgKyBvZmZzZXQsIGEubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGwgPSBhLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xyXG4gICAgICB2ZWNbMF0gPSBhW2ldO1xyXG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcclxuICAgICAgdmVjWzJdID0gYVtpICsgMl07XHJcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xyXG4gICAgICBhW2ldID0gdmVjWzBdO1xyXG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcclxuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfTtcclxufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuLyoqXHJcbiAqIDQgRGltZW5zaW9uYWwgVmVjdG9yXHJcbiAqIEBtb2R1bGUgdmVjNFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWM0XHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcclxuXHJcbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XHJcbiAgICBvdXRbMF0gPSAwO1xyXG4gICAgb3V0WzFdID0gMDtcclxuICAgIG91dFsyXSA9IDA7XHJcbiAgICBvdXRbM10gPSAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcclxuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6LCB3KSB7XHJcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xyXG4gIG91dFswXSA9IHg7XHJcbiAgb3V0WzFdID0geTtcclxuICBvdXRbMl0gPSB6O1xyXG4gIG91dFszXSA9IHc7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgc291cmNlIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gYVswXTtcclxuICBvdXRbMV0gPSBhWzFdO1xyXG4gIG91dFsyXSA9IGFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6LCB3KSB7XHJcbiAgb3V0WzBdID0geDtcclxuICBvdXRbMV0gPSB5O1xyXG4gIG91dFsyXSA9IHo7XHJcbiAgb3V0WzNdID0gdztcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYlswXTtcclxuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcclxuICBvdXRbMl0gPSBhWzJdICogYlsyXTtcclxuICBvdXRbM10gPSBhWzNdICogYlszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBEaXZpZGVzIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xyXG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xyXG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xyXG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xyXG4gIG91dFszXSA9IGFbM10gLyBiWzNdO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNlaWxcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xyXG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xyXG4gIG91dFszXSA9IE1hdGguY2VpbChhWzNdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gZmxvb3JcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLmZsb29yKGFbM10pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XHJcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XHJcbiAgb3V0WzNdID0gTWF0aC5taW4oYVszXSwgYlszXSk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcclxuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcclxuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcclxuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xyXG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XHJcbiAgb3V0WzJdID0gTWF0aC5yb3VuZChhWzJdKTtcclxuICBvdXRbM10gPSBNYXRoLnJvdW5kKGFbM10pO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFNjYWxlcyBhIHZlYzQgYnkgYSBzY2FsYXIgbnVtYmVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcclxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICBvdXRbM10gPSBhWzNdICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBBZGRzIHR3byB2ZWM0J3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcclxuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xyXG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcclxuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XHJcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcclxuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xyXG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XHJcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcclxuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xyXG4gIHZhciB4ID0gYlswXSAtIGFbMF07XHJcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcclxuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xyXG4gIHZhciB3ID0gYlszXSAtIGFbM107XHJcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgdmFyIHcgPSBhWzNdO1xyXG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xyXG4gIHZhciB4ID0gYVswXTtcclxuICB2YXIgeSA9IGFbMV07XHJcbiAgdmFyIHogPSBhWzJdO1xyXG4gIHZhciB3ID0gYVszXTtcclxuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XHJcbn1cclxuLyoqXHJcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBuZWdhdGVcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gLWFbMF07XHJcbiAgb3V0WzFdID0gLWFbMV07XHJcbiAgb3V0WzJdID0gLWFbMl07XHJcbiAgb3V0WzNdID0gLWFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGludmVydFxyXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcclxuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xyXG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XHJcbiAgb3V0WzNdID0gMS4wIC8gYVszXTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgYSB2ZWM0XHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XHJcbiAgdmFyIHggPSBhWzBdO1xyXG4gIHZhciB5ID0gYVsxXTtcclxuICB2YXIgeiA9IGFbMl07XHJcbiAgdmFyIHcgPSBhWzNdO1xyXG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcclxuXHJcbiAgaWYgKGxlbiA+IDApIHtcclxuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcclxuICB9XHJcblxyXG4gIG91dFswXSA9IHggKiBsZW47XHJcbiAgb3V0WzFdID0geSAqIGxlbjtcclxuICBvdXRbMl0gPSB6ICogbGVuO1xyXG4gIG91dFszXSA9IHcgKiBsZW47XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzQnc1xyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xyXG4gIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdICsgYVsyXSAqIGJbMl0gKyBhWzNdICogYlszXTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgY3Jvc3MtcHJvZHVjdCBvZiB0aHJlZSB2ZWN0b3JzIGluIGEgNC1kaW1lbnNpb25hbCBzcGFjZVxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gcmVzdWx0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBVIHRoZSBmaXJzdCB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFYgdGhlIHNlY29uZCB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFcgdGhlIHRoaXJkIHZlY3RvclxyXG4gKiBAcmV0dXJucyB7dmVjNH0gcmVzdWx0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgdSwgdiwgdykge1xyXG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcclxuICAgICAgQiA9IHZbMF0gKiB3WzJdIC0gdlsyXSAqIHdbMF0sXHJcbiAgICAgIEMgPSB2WzBdICogd1szXSAtIHZbM10gKiB3WzBdLFxyXG4gICAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcclxuICAgICAgRSA9IHZbMV0gKiB3WzNdIC0gdlszXSAqIHdbMV0sXHJcbiAgICAgIEYgPSB2WzJdICogd1szXSAtIHZbM10gKiB3WzJdO1xyXG4gIHZhciBHID0gdVswXTtcclxuICB2YXIgSCA9IHVbMV07XHJcbiAgdmFyIEkgPSB1WzJdO1xyXG4gIHZhciBKID0gdVszXTtcclxuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XHJcbiAgb3V0WzFdID0gLShHICogRikgKyBJICogQyAtIEogKiBCO1xyXG4gIG91dFsyXSA9IEcgKiBFIC0gSCAqIEMgKyBKICogQTtcclxuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWM0J3NcclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xyXG4gIHZhciBheCA9IGFbMF07XHJcbiAgdmFyIGF5ID0gYVsxXTtcclxuICB2YXIgYXogPSBhWzJdO1xyXG4gIHZhciBhdyA9IGFbM107XHJcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XHJcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XHJcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XHJcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcclxuICogQHJldHVybnMge3ZlYzR9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xyXG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wOyAvLyBNYXJzYWdsaWEsIEdlb3JnZS4gQ2hvb3NpbmcgYSBQb2ludCBmcm9tIHRoZSBTdXJmYWNlIG9mIGFcclxuICAvLyBTcGhlcmUuIEFubi4gTWF0aC4gU3RhdGlzdC4gNDMgKDE5NzIpLCBuby4gMiwgNjQ1LS02NDYuXHJcbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XHJcblxyXG4gIHZhciB2MSwgdjIsIHYzLCB2NDtcclxuICB2YXIgczEsIHMyO1xyXG5cclxuICBkbyB7XHJcbiAgICB2MSA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICB2MiA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICBzMSA9IHYxICogdjEgKyB2MiAqIHYyO1xyXG4gIH0gd2hpbGUgKHMxID49IDEpO1xyXG5cclxuICBkbyB7XHJcbiAgICB2MyA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICB2NCA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XHJcbiAgICBzMiA9IHYzICogdjMgKyB2NCAqIHY0O1xyXG4gIH0gd2hpbGUgKHMyID49IDEpO1xyXG5cclxuICB2YXIgZCA9IE1hdGguc3FydCgoMSAtIHMxKSAvIHMyKTtcclxuICBvdXRbMF0gPSBzY2FsZSAqIHYxO1xyXG4gIG91dFsxXSA9IHNjYWxlICogdjI7XHJcbiAgb3V0WzJdID0gc2NhbGUgKiB2MyAqIGQ7XHJcbiAgb3V0WzNdID0gc2NhbGUgKiB2NCAqIGQ7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgbWF0NC5cclxuICpcclxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXSxcclxuICAgICAgdyA9IGFbM107XHJcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bOF0gKiB6ICsgbVsxMl0gKiB3O1xyXG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdICogdztcclxuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xyXG4gIG91dFszXSA9IG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XSAqIHc7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcclxuICB2YXIgeCA9IGFbMF0sXHJcbiAgICAgIHkgPSBhWzFdLFxyXG4gICAgICB6ID0gYVsyXTtcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdOyAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY1xyXG5cclxuICB2YXIgaXggPSBxdyAqIHggKyBxeSAqIHogLSBxeiAqIHk7XHJcbiAgdmFyIGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xyXG4gIHZhciBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcclxuICB2YXIgaXcgPSAtcXggKiB4IC0gcXkgKiB5IC0gcXogKiB6OyAvLyBjYWxjdWxhdGUgcmVzdWx0ICogaW52ZXJzZSBxdWF0XHJcblxyXG4gIG91dFswXSA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XHJcbiAgb3V0WzFdID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcclxuICBvdXRbMl0gPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB6ZXJvXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXHJcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVybyhvdXQpIHtcclxuICBvdXRbMF0gPSAwLjA7XHJcbiAgb3V0WzFdID0gMC4wO1xyXG4gIG91dFsyXSA9IDAuMDtcclxuICBvdXRbM10gPSAwLjA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwidmVjNChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIilcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xyXG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xyXG4gIHZhciBhMCA9IGFbMF0sXHJcbiAgICAgIGExID0gYVsxXSxcclxuICAgICAgYTIgPSBhWzJdLFxyXG4gICAgICBhMyA9IGFbM107XHJcbiAgdmFyIGIwID0gYlswXSxcclxuICAgICAgYjEgPSBiWzFdLFxyXG4gICAgICBiMiA9IGJbMl0sXHJcbiAgICAgIGIzID0gYlszXTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpO1xyXG59XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3VidHJhY3R9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubXVsdGlwbHl9XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGl2aWRlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXN0YW5jZX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZERpc3RhbmNlfVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XHJcbi8qKlxyXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkTGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBQZXJmb3JtIHNvbWUgb3BlcmF0aW9uIG92ZXIgYW4gYXJyYXkgb2YgdmVjNHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdHJpZGUgTnVtYmVyIG9mIGVsZW1lbnRzIGJldHdlZW4gdGhlIHN0YXJ0IG9mIGVhY2ggdmVjNC4gSWYgMCBhc3N1bWVzIHRpZ2h0bHkgcGFja2VkXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcclxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWM0cyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gRnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCB2ZWN0b3IgaW4gdGhlIGFycmF5XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cclxuICogQHJldHVybnMge0FycmF5fSBhXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgdmVjID0gY3JlYXRlKCk7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcclxuICAgIHZhciBpLCBsO1xyXG5cclxuICAgIGlmICghc3RyaWRlKSB7XHJcbiAgICAgIHN0cmlkZSA9IDQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFvZmZzZXQpIHtcclxuICAgICAgb2Zmc2V0ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY291bnQpIHtcclxuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsID0gYS5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcclxuICAgICAgdmVjWzBdID0gYVtpXTtcclxuICAgICAgdmVjWzFdID0gYVtpICsgMV07XHJcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xyXG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcclxuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XHJcbiAgICAgIGFbaV0gPSB2ZWNbMF07XHJcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xyXG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcclxuICAgICAgYVtpICsgM10gPSB2ZWNbM107XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfTtcclxufSgpOyIsICJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcclxuaW1wb3J0ICogYXMgcXVhdCBmcm9tIFwiLi9xdWF0LmpzXCI7XHJcbmltcG9ydCAqIGFzIG1hdDQgZnJvbSBcIi4vbWF0NC5qc1wiO1xyXG4vKipcclxuICogRHVhbCBRdWF0ZXJuaW9uPGJyPlxyXG4gKiBGb3JtYXQ6IFtyZWFsLCBkdWFsXTxicj5cclxuICogUXVhdGVybmlvbiBmb3JtYXQ6IFhZWlc8YnI+XHJcbiAqIE1ha2Ugc3VyZSB0byBoYXZlIG5vcm1hbGl6ZWQgZHVhbCBxdWF0ZXJuaW9ucywgb3RoZXJ3aXNlIHRoZSBmdW5jdGlvbnMgbWF5IG5vdCB3b3JrIGFzIGludGVuZGVkLjxicj5cclxuICogQG1vZHVsZSBxdWF0MlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IGR1YWwgcXVhdFxyXG4gKlxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IGEgbmV3IGR1YWwgcXVhdGVybmlvbiBbcmVhbCAtPiByb3RhdGlvbiwgZHVhbCAtPiB0cmFuc2xhdGlvbl1cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xyXG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xyXG5cclxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcclxuICAgIGRxWzBdID0gMDtcclxuICAgIGRxWzFdID0gMDtcclxuICAgIGRxWzJdID0gMDtcclxuICAgIGRxWzRdID0gMDtcclxuICAgIGRxWzVdID0gMDtcclxuICAgIGRxWzZdID0gMDtcclxuICAgIGRxWzddID0gMDtcclxuICB9XHJcblxyXG4gIGRxWzNdID0gMTtcclxuICByZXR1cm4gZHE7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgcXVhdCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIGR1YWwgcXVhdGVybmlvbiB0byBjbG9uZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcclxuICB2YXIgZHEgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg4KTtcclxuICBkcVswXSA9IGFbMF07XHJcbiAgZHFbMV0gPSBhWzFdO1xyXG4gIGRxWzJdID0gYVsyXTtcclxuICBkcVszXSA9IGFbM107XHJcbiAgZHFbNF0gPSBhWzRdO1xyXG4gIGRxWzVdID0gYVs1XTtcclxuICBkcVs2XSA9IGFbNl07XHJcbiAgZHFbN10gPSBhWzddO1xyXG4gIHJldHVybiBkcTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXQyfSBuZXcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyLCB3Mikge1xyXG4gIHZhciBkcSA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDgpO1xyXG4gIGRxWzBdID0geDE7XHJcbiAgZHFbMV0gPSB5MTtcclxuICBkcVsyXSA9IHoxO1xyXG4gIGRxWzNdID0gdzE7XHJcbiAgZHFbNF0gPSB4MjtcclxuICBkcVs1XSA9IHkyO1xyXG4gIGRxWzZdID0gejI7XHJcbiAgZHFbN10gPSB3MjtcclxuICByZXR1cm4gZHE7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgZHVhbCBxdWF0IGZyb20gdGhlIGdpdmVuIHZhbHVlcyAocXVhdCBhbmQgdHJhbnNsYXRpb24pXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxyXG4gKiBAcGFyYW0ge051bWJlcn0geTIgWSBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxyXG4gKiBAcGFyYW0ge051bWJlcn0gejIgWiBjb21wb25lbnQgKHRyYW5zbGF0aW9uKVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG5ldyBkdWFsIHF1YXRlcm5pb25cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uVmFsdWVzKHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyKSB7XHJcbiAgdmFyIGRxID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoOCk7XHJcbiAgZHFbMF0gPSB4MTtcclxuICBkcVsxXSA9IHkxO1xyXG4gIGRxWzJdID0gejE7XHJcbiAgZHFbM10gPSB3MTtcclxuICB2YXIgYXggPSB4MiAqIDAuNSxcclxuICAgICAgYXkgPSB5MiAqIDAuNSxcclxuICAgICAgYXogPSB6MiAqIDAuNTtcclxuICBkcVs0XSA9IGF4ICogdzEgKyBheSAqIHoxIC0gYXogKiB5MTtcclxuICBkcVs1XSA9IGF5ICogdzEgKyBheiAqIHgxIC0gYXggKiB6MTtcclxuICBkcVs2XSA9IGF6ICogdzEgKyBheCAqIHkxIC0gYXkgKiB4MTtcclxuICBkcVs3XSA9IC1heCAqIHgxIC0gYXkgKiB5MSAtIGF6ICogejE7XHJcbiAgcmV0dXJuIGRxO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgZHVhbCBxdWF0IGZyb20gYSBxdWF0ZXJuaW9uIGFuZCBhIHRyYW5zbGF0aW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgbm9ybWFsaXplZCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB0IHRyYW5sYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHQpIHtcclxuICB2YXIgYXggPSB0WzBdICogMC41LFxyXG4gICAgICBheSA9IHRbMV0gKiAwLjUsXHJcbiAgICAgIGF6ID0gdFsyXSAqIDAuNSxcclxuICAgICAgYnggPSBxWzBdLFxyXG4gICAgICBieSA9IHFbMV0sXHJcbiAgICAgIGJ6ID0gcVsyXSxcclxuICAgICAgYncgPSBxWzNdO1xyXG4gIG91dFswXSA9IGJ4O1xyXG4gIG91dFsxXSA9IGJ5O1xyXG4gIG91dFsyXSA9IGJ6O1xyXG4gIG91dFszXSA9IGJ3O1xyXG4gIG91dFs0XSA9IGF4ICogYncgKyBheSAqIGJ6IC0gYXogKiBieTtcclxuICBvdXRbNV0gPSBheSAqIGJ3ICsgYXogKiBieCAtIGF4ICogYno7XHJcbiAgb3V0WzZdID0gYXogKiBidyArIGF4ICogYnkgLSBheSAqIGJ4O1xyXG4gIG91dFs3XSA9IC1heCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGR1YWwgcXVhdCBmcm9tIGEgdHJhbnNsYXRpb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHQgdHJhbnNsYXRpb24gdmVjdG9yXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0ZXJuaW9uIHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB0KSB7XHJcbiAgb3V0WzBdID0gMDtcclxuICBvdXRbMV0gPSAwO1xyXG4gIG91dFsyXSA9IDA7XHJcbiAgb3V0WzNdID0gMTtcclxuICBvdXRbNF0gPSB0WzBdICogMC41O1xyXG4gIG91dFs1XSA9IHRbMV0gKiAwLjU7XHJcbiAgb3V0WzZdID0gdFsyXSAqIDAuNTtcclxuICBvdXRbN10gPSAwO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBkdWFsIHF1YXQgZnJvbSBhIHF1YXRlcm5pb25cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgdGhlIHF1YXRlcm5pb25cclxuICogQHJldHVybnMge3F1YXQyfSBkdWFsIHF1YXRlcm5pb24gcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHEpIHtcclxuICBvdXRbMF0gPSBxWzBdO1xyXG4gIG91dFsxXSA9IHFbMV07XHJcbiAgb3V0WzJdID0gcVsyXTtcclxuICBvdXRbM10gPSBxWzNdO1xyXG4gIG91dFs0XSA9IDA7XHJcbiAgb3V0WzVdID0gMDtcclxuICBvdXRbNl0gPSAwO1xyXG4gIG91dFs3XSA9IDA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIG5ldyBkdWFsIHF1YXQgZnJvbSBhIG1hdHJpeCAoNHg0KVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gZHVhbCBxdWF0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tTWF0NChvdXQsIGEpIHtcclxuICAvL1RPRE8gT3B0aW1pemUgdGhpc1xyXG4gIHZhciBvdXRlciA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgbWF0NC5nZXRSb3RhdGlvbihvdXRlciwgYSk7XHJcbiAgdmFyIHQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcclxuICBtYXQ0LmdldFRyYW5zbGF0aW9uKHQsIGEpO1xyXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgb3V0ZXIsIHQpO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBkdWFsIHF1YXQgdG8gYW5vdGhlclxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBzb3VyY2UgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbMF07XHJcbiAgb3V0WzFdID0gYVsxXTtcclxuICBvdXRbMl0gPSBhWzJdO1xyXG4gIG91dFszXSA9IGFbM107XHJcbiAgb3V0WzRdID0gYVs0XTtcclxuICBvdXRbNV0gPSBhWzVdO1xyXG4gIG91dFs2XSA9IGFbNl07XHJcbiAgb3V0WzddID0gYVs3XTtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgYSBkdWFsIHF1YXQgdG8gdGhlIGlkZW50aXR5IGR1YWwgcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xyXG4gIG91dFswXSA9IDA7XHJcbiAgb3V0WzFdID0gMDtcclxuICBvdXRbMl0gPSAwO1xyXG4gIG91dFszXSA9IDE7XHJcbiAgb3V0WzRdID0gMDtcclxuICBvdXRbNV0gPSAwO1xyXG4gIG91dFs2XSA9IDA7XHJcbiAgb3V0WzddID0gMDtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBkdWFsIHF1YXQgdG8gdGhlIGdpdmVuIHZhbHVlc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4MSBYIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geTEgWSBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHoxIFogY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3MSBXIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0geDIgWCBjb21wb25lbnRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHkyIFkgY29tcG9uZW50XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB6MiBaIGNvbXBvbmVudFxyXG4gKiBAcGFyYW0ge051bWJlcn0gdzIgVyBjb21wb25lbnRcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgxLCB5MSwgejEsIHcxLCB4MiwgeTIsIHoyLCB3Mikge1xyXG4gIG91dFswXSA9IHgxO1xyXG4gIG91dFsxXSA9IHkxO1xyXG4gIG91dFsyXSA9IHoxO1xyXG4gIG91dFszXSA9IHcxO1xyXG4gIG91dFs0XSA9IHgyO1xyXG4gIG91dFs1XSA9IHkyO1xyXG4gIG91dFs2XSA9IHoyO1xyXG4gIG91dFs3XSA9IHcyO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIHJlYWwgcGFydCBvZiBhIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgcmVhbCBwYXJ0XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm4ge3F1YXR9IHJlYWwgcGFydFxyXG4gKi9cclxuXHJcbmV4cG9ydCB2YXIgZ2V0UmVhbCA9IHF1YXQuY29weTtcclxuLyoqXHJcbiAqIEdldHMgdGhlIGR1YWwgcGFydCBvZiBhIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0gIHtxdWF0fSBvdXQgZHVhbCBwYXJ0XHJcbiAqIEBwYXJhbSAge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXHJcbiAqIEByZXR1cm4ge3F1YXR9IGR1YWwgcGFydFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREdWFsKG91dCwgYSkge1xyXG4gIG91dFswXSA9IGFbNF07XHJcbiAgb3V0WzFdID0gYVs1XTtcclxuICBvdXRbMl0gPSBhWzZdO1xyXG4gIG91dFszXSA9IGFbN107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogU2V0IHRoZSByZWFsIGNvbXBvbmVudCBvZiBhIGR1YWwgcXVhdCB0byB0aGUgZ2l2ZW4gcXVhdGVybmlvblxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJlYWwgcGFydFxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNldFJlYWwgPSBxdWF0LmNvcHk7XHJcbi8qKlxyXG4gKiBTZXQgdGhlIGR1YWwgY29tcG9uZW50IG9mIGEgZHVhbCBxdWF0IHRvIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgZHVhbCBwYXJ0XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXREdWFsKG91dCwgcSkge1xyXG4gIG91dFs0XSA9IHFbMF07XHJcbiAgb3V0WzVdID0gcVsxXTtcclxuICBvdXRbNl0gPSBxWzJdO1xyXG4gIG91dFs3XSA9IHFbM107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogR2V0cyB0aGUgdHJhbnNsYXRpb24gb2YgYSBub3JtYWxpemVkIGR1YWwgcXVhdFxyXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgdHJhbnNsYXRpb25cclxuICogQHBhcmFtICB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb24gdG8gYmUgZGVjb21wb3NlZFxyXG4gKiBAcmV0dXJuIHt2ZWMzfSB0cmFuc2xhdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIGEpIHtcclxuICB2YXIgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddLFxyXG4gICAgICBieCA9IC1hWzBdLFxyXG4gICAgICBieSA9IC1hWzFdLFxyXG4gICAgICBieiA9IC1hWzJdLFxyXG4gICAgICBidyA9IGFbM107XHJcbiAgb3V0WzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcclxuICBvdXRbMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xyXG4gIG91dFsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogVHJhbnNsYXRlcyBhIGR1YWwgcXVhdCBieSB0aGUgZ2l2ZW4gdmVjdG9yXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byB0cmFuc2xhdGVcclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XHJcbiAgdmFyIGF4MSA9IGFbMF0sXHJcbiAgICAgIGF5MSA9IGFbMV0sXHJcbiAgICAgIGF6MSA9IGFbMl0sXHJcbiAgICAgIGF3MSA9IGFbM10sXHJcbiAgICAgIGJ4MSA9IHZbMF0gKiAwLjUsXHJcbiAgICAgIGJ5MSA9IHZbMV0gKiAwLjUsXHJcbiAgICAgIGJ6MSA9IHZbMl0gKiAwLjUsXHJcbiAgICAgIGF4MiA9IGFbNF0sXHJcbiAgICAgIGF5MiA9IGFbNV0sXHJcbiAgICAgIGF6MiA9IGFbNl0sXHJcbiAgICAgIGF3MiA9IGFbN107XHJcbiAgb3V0WzBdID0gYXgxO1xyXG4gIG91dFsxXSA9IGF5MTtcclxuICBvdXRbMl0gPSBhejE7XHJcbiAgb3V0WzNdID0gYXcxO1xyXG4gIG91dFs0XSA9IGF3MSAqIGJ4MSArIGF5MSAqIGJ6MSAtIGF6MSAqIGJ5MSArIGF4MjtcclxuICBvdXRbNV0gPSBhdzEgKiBieTEgKyBhejEgKiBieDEgLSBheDEgKiBiejEgKyBheTI7XHJcbiAgb3V0WzZdID0gYXcxICogYnoxICsgYXgxICogYnkxIC0gYXkxICogYngxICsgYXoyO1xyXG4gIG91dFs3XSA9IC1heDEgKiBieDEgLSBheTEgKiBieTEgLSBhejEgKiBiejEgKyBhdzI7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBhcm91bmQgdGhlIFggYXhpc1xyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgaG93IGZhciBzaG91bGQgdGhlIHJvdGF0aW9uIGJlXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcclxuICB2YXIgYnggPSAtYVswXSxcclxuICAgICAgYnkgPSAtYVsxXSxcclxuICAgICAgYnogPSAtYVsyXSxcclxuICAgICAgYncgPSBhWzNdLFxyXG4gICAgICBheCA9IGFbNF0sXHJcbiAgICAgIGF5ID0gYVs1XSxcclxuICAgICAgYXogPSBhWzZdLFxyXG4gICAgICBhdyA9IGFbN10sXHJcbiAgICAgIGF4MSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnksXHJcbiAgICAgIGF5MSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnosXHJcbiAgICAgIGF6MSA9IGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngsXHJcbiAgICAgIGF3MSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcXVhdC5yb3RhdGVYKG91dCwgYSwgcmFkKTtcclxuICBieCA9IG91dFswXTtcclxuICBieSA9IG91dFsxXTtcclxuICBieiA9IG91dFsyXTtcclxuICBidyA9IG91dFszXTtcclxuICBvdXRbNF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcclxuICBvdXRbNV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcclxuICBvdXRbNl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcclxuICBvdXRbN10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCB0aGUgWSBheGlzXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhZCBob3cgZmFyIHNob3VsZCB0aGUgcm90YXRpb24gYmVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xyXG4gIHZhciBieCA9IC1hWzBdLFxyXG4gICAgICBieSA9IC1hWzFdLFxyXG4gICAgICBieiA9IC1hWzJdLFxyXG4gICAgICBidyA9IGFbM10sXHJcbiAgICAgIGF4ID0gYVs0XSxcclxuICAgICAgYXkgPSBhWzVdLFxyXG4gICAgICBheiA9IGFbNl0sXHJcbiAgICAgIGF3ID0gYVs3XSxcclxuICAgICAgYXgxID0gYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSxcclxuICAgICAgYXkxID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieixcclxuICAgICAgYXoxID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCxcclxuICAgICAgYXcxID0gYXcgKiBidyAtIGF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBiejtcclxuICBxdWF0LnJvdGF0ZVkob3V0LCBhLCByYWQpO1xyXG4gIGJ4ID0gb3V0WzBdO1xyXG4gIGJ5ID0gb3V0WzFdO1xyXG4gIGJ6ID0gb3V0WzJdO1xyXG4gIGJ3ID0gb3V0WzNdO1xyXG4gIG91dFs0XSA9IGF4MSAqIGJ3ICsgYXcxICogYnggKyBheTEgKiBieiAtIGF6MSAqIGJ5O1xyXG4gIG91dFs1XSA9IGF5MSAqIGJ3ICsgYXcxICogYnkgKyBhejEgKiBieCAtIGF4MSAqIGJ6O1xyXG4gIG91dFs2XSA9IGF6MSAqIGJ3ICsgYXcxICogYnogKyBheDEgKiBieSAtIGF5MSAqIGJ4O1xyXG4gIG91dFs3XSA9IGF3MSAqIGJ3IC0gYXgxICogYnggLSBheTEgKiBieSAtIGF6MSAqIGJ6O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIFJvdGF0ZXMgYSBkdWFsIHF1YXQgYXJvdW5kIHRoZSBaIGF4aXNcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0ZXJuaW9uIHRvIHJvdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkIGhvdyBmYXIgc2hvdWxkIHRoZSByb3RhdGlvbiBiZVxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XHJcbiAgdmFyIGJ4ID0gLWFbMF0sXHJcbiAgICAgIGJ5ID0gLWFbMV0sXHJcbiAgICAgIGJ6ID0gLWFbMl0sXHJcbiAgICAgIGJ3ID0gYVszXSxcclxuICAgICAgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddLFxyXG4gICAgICBheDEgPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5LFxyXG4gICAgICBheTEgPSBheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6LFxyXG4gICAgICBhejEgPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4LFxyXG4gICAgICBhdzEgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6O1xyXG4gIHF1YXQucm90YXRlWihvdXQsIGEsIHJhZCk7XHJcbiAgYnggPSBvdXRbMF07XHJcbiAgYnkgPSBvdXRbMV07XHJcbiAgYnogPSBvdXRbMl07XHJcbiAgYncgPSBvdXRbM107XHJcbiAgb3V0WzRdID0gYXgxICogYncgKyBhdzEgKiBieCArIGF5MSAqIGJ6IC0gYXoxICogYnk7XHJcbiAgb3V0WzVdID0gYXkxICogYncgKyBhdzEgKiBieSArIGF6MSAqIGJ4IC0gYXgxICogYno7XHJcbiAgb3V0WzZdID0gYXoxICogYncgKyBhdzEgKiBieiArIGF4MSAqIGJ5IC0gYXkxICogYng7XHJcbiAgb3V0WzddID0gYXcxICogYncgLSBheDEgKiBieCAtIGF5MSAqIGJ5IC0gYXoxICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUm90YXRlcyBhIGR1YWwgcXVhdCBieSBhIGdpdmVuIHF1YXRlcm5pb24gKGEgKiBxKVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gcm90YXRlIGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUJ5UXVhdEFwcGVuZChvdXQsIGEsIHEpIHtcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdLFxyXG4gICAgICBheCA9IGFbMF0sXHJcbiAgICAgIGF5ID0gYVsxXSxcclxuICAgICAgYXogPSBhWzJdLFxyXG4gICAgICBhdyA9IGFbM107XHJcbiAgb3V0WzBdID0gYXggKiBxdyArIGF3ICogcXggKyBheSAqIHF6IC0gYXogKiBxeTtcclxuICBvdXRbMV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xyXG4gIG91dFsyXSA9IGF6ICogcXcgKyBhdyAqIHF6ICsgYXggKiBxeSAtIGF5ICogcXg7XHJcbiAgb3V0WzNdID0gYXcgKiBxdyAtIGF4ICogcXggLSBheSAqIHF5IC0gYXogKiBxejtcclxuICBheCA9IGFbNF07XHJcbiAgYXkgPSBhWzVdO1xyXG4gIGF6ID0gYVs2XTtcclxuICBhdyA9IGFbN107XHJcbiAgb3V0WzRdID0gYXggKiBxdyArIGF3ICogcXggKyBheSAqIHF6IC0gYXogKiBxeTtcclxuICBvdXRbNV0gPSBheSAqIHF3ICsgYXcgKiBxeSArIGF6ICogcXggLSBheCAqIHF6O1xyXG4gIG91dFs2XSA9IGF6ICogcXcgKyBhdyAqIHF6ICsgYXggKiBxeSAtIGF5ICogcXg7XHJcbiAgb3V0WzddID0gYXcgKiBxdyAtIGF4ICogcXggLSBheSAqIHF5IC0gYXogKiBxejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGJ5IGEgZ2l2ZW4gcXVhdGVybmlvbiAocSAqIGEpXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHJvdGF0ZSBieVxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgdGhlIGR1YWwgcXVhdGVybmlvbiB0byByb3RhdGVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQnlRdWF0UHJlcGVuZChvdXQsIHEsIGEpIHtcclxuICB2YXIgcXggPSBxWzBdLFxyXG4gICAgICBxeSA9IHFbMV0sXHJcbiAgICAgIHF6ID0gcVsyXSxcclxuICAgICAgcXcgPSBxWzNdLFxyXG4gICAgICBieCA9IGFbMF0sXHJcbiAgICAgIGJ5ID0gYVsxXSxcclxuICAgICAgYnogPSBhWzJdLFxyXG4gICAgICBidyA9IGFbM107XHJcbiAgb3V0WzBdID0gcXggKiBidyArIHF3ICogYnggKyBxeSAqIGJ6IC0gcXogKiBieTtcclxuICBvdXRbMV0gPSBxeSAqIGJ3ICsgcXcgKiBieSArIHF6ICogYnggLSBxeCAqIGJ6O1xyXG4gIG91dFsyXSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XHJcbiAgb3V0WzNdID0gcXcgKiBidyAtIHF4ICogYnggLSBxeSAqIGJ5IC0gcXogKiBiejtcclxuICBieCA9IGFbNF07XHJcbiAgYnkgPSBhWzVdO1xyXG4gIGJ6ID0gYVs2XTtcclxuICBidyA9IGFbN107XHJcbiAgb3V0WzRdID0gcXggKiBidyArIHF3ICogYnggKyBxeSAqIGJ6IC0gcXogKiBieTtcclxuICBvdXRbNV0gPSBxeSAqIGJ3ICsgcXcgKiBieSArIHF6ICogYnggLSBxeCAqIGJ6O1xyXG4gIG91dFs2XSA9IHF6ICogYncgKyBxdyAqIGJ6ICsgcXggKiBieSAtIHF5ICogYng7XHJcbiAgb3V0WzddID0gcXcgKiBidyAtIHF4ICogYnggLSBxeSAqIGJ5IC0gcXogKiBiejtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBSb3RhdGVzIGEgZHVhbCBxdWF0IGFyb3VuZCBhIGdpdmVuIGF4aXMuIERvZXMgdGhlIG5vcm1hbGlzYXRpb24gYXV0b21hdGljYWxseVxyXG4gKlxyXG4gKiBAcGFyYW0ge3F1YXQyfSBvdXQgdGhlIHJlY2VpdmluZyBkdWFsIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBkdWFsIHF1YXRlcm5pb24gdG8gcm90YXRlXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcclxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBob3cgZmFyIHRoZSByb3RhdGlvbiBzaG91bGQgYmVcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQXJvdW5kQXhpcyhvdXQsIGEsIGF4aXMsIHJhZCkge1xyXG4gIC8vU3BlY2lhbCBjYXNlIGZvciByYWQgPSAwXHJcbiAgaWYgKE1hdGguYWJzKHJhZCkgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XHJcbiAgICByZXR1cm4gY29weShvdXQsIGEpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGF4aXNMZW5ndGggPSBNYXRoLmh5cG90KGF4aXNbMF0sIGF4aXNbMV0sIGF4aXNbMl0pO1xyXG4gIHJhZCA9IHJhZCAqIDAuNTtcclxuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XHJcbiAgdmFyIGJ4ID0gcyAqIGF4aXNbMF0gLyBheGlzTGVuZ3RoO1xyXG4gIHZhciBieSA9IHMgKiBheGlzWzFdIC8gYXhpc0xlbmd0aDtcclxuICB2YXIgYnogPSBzICogYXhpc1syXSAvIGF4aXNMZW5ndGg7XHJcbiAgdmFyIGJ3ID0gTWF0aC5jb3MocmFkKTtcclxuICB2YXIgYXgxID0gYVswXSxcclxuICAgICAgYXkxID0gYVsxXSxcclxuICAgICAgYXoxID0gYVsyXSxcclxuICAgICAgYXcxID0gYVszXTtcclxuICBvdXRbMF0gPSBheDEgKiBidyArIGF3MSAqIGJ4ICsgYXkxICogYnogLSBhejEgKiBieTtcclxuICBvdXRbMV0gPSBheTEgKiBidyArIGF3MSAqIGJ5ICsgYXoxICogYnggLSBheDEgKiBiejtcclxuICBvdXRbMl0gPSBhejEgKiBidyArIGF3MSAqIGJ6ICsgYXgxICogYnkgLSBheTEgKiBieDtcclxuICBvdXRbM10gPSBhdzEgKiBidyAtIGF4MSAqIGJ4IC0gYXkxICogYnkgLSBhejEgKiBiejtcclxuICB2YXIgYXggPSBhWzRdLFxyXG4gICAgICBheSA9IGFbNV0sXHJcbiAgICAgIGF6ID0gYVs2XSxcclxuICAgICAgYXcgPSBhWzddO1xyXG4gIG91dFs0XSA9IGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnk7XHJcbiAgb3V0WzVdID0gYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBiejtcclxuICBvdXRbNl0gPSBheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4O1xyXG4gIG91dFs3XSA9IGF3ICogYncgLSBheCAqIGJ4IC0gYXkgKiBieSAtIGF6ICogYno7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWRkcyB0d28gZHVhbCBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XHJcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XHJcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XHJcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XHJcbiAgb3V0WzNdID0gYVszXSArIGJbM107XHJcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XHJcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XHJcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XHJcbiAgb3V0WzddID0gYVs3XSArIGJbN107XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogTXVsdGlwbGllcyB0d28gZHVhbCBxdWF0J3NcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xyXG4gIHZhciBheDAgPSBhWzBdLFxyXG4gICAgICBheTAgPSBhWzFdLFxyXG4gICAgICBhejAgPSBhWzJdLFxyXG4gICAgICBhdzAgPSBhWzNdLFxyXG4gICAgICBieDEgPSBiWzRdLFxyXG4gICAgICBieTEgPSBiWzVdLFxyXG4gICAgICBiejEgPSBiWzZdLFxyXG4gICAgICBidzEgPSBiWzddLFxyXG4gICAgICBheDEgPSBhWzRdLFxyXG4gICAgICBheTEgPSBhWzVdLFxyXG4gICAgICBhejEgPSBhWzZdLFxyXG4gICAgICBhdzEgPSBhWzddLFxyXG4gICAgICBieDAgPSBiWzBdLFxyXG4gICAgICBieTAgPSBiWzFdLFxyXG4gICAgICBiejAgPSBiWzJdLFxyXG4gICAgICBidzAgPSBiWzNdO1xyXG4gIG91dFswXSA9IGF4MCAqIGJ3MCArIGF3MCAqIGJ4MCArIGF5MCAqIGJ6MCAtIGF6MCAqIGJ5MDtcclxuICBvdXRbMV0gPSBheTAgKiBidzAgKyBhdzAgKiBieTAgKyBhejAgKiBieDAgLSBheDAgKiBiejA7XHJcbiAgb3V0WzJdID0gYXowICogYncwICsgYXcwICogYnowICsgYXgwICogYnkwIC0gYXkwICogYngwO1xyXG4gIG91dFszXSA9IGF3MCAqIGJ3MCAtIGF4MCAqIGJ4MCAtIGF5MCAqIGJ5MCAtIGF6MCAqIGJ6MDtcclxuICBvdXRbNF0gPSBheDAgKiBidzEgKyBhdzAgKiBieDEgKyBheTAgKiBiejEgLSBhejAgKiBieTEgKyBheDEgKiBidzAgKyBhdzEgKiBieDAgKyBheTEgKiBiejAgLSBhejEgKiBieTA7XHJcbiAgb3V0WzVdID0gYXkwICogYncxICsgYXcwICogYnkxICsgYXowICogYngxIC0gYXgwICogYnoxICsgYXkxICogYncwICsgYXcxICogYnkwICsgYXoxICogYngwIC0gYXgxICogYnowO1xyXG4gIG91dFs2XSA9IGF6MCAqIGJ3MSArIGF3MCAqIGJ6MSArIGF4MCAqIGJ5MSAtIGF5MCAqIGJ4MSArIGF6MSAqIGJ3MCArIGF3MSAqIGJ6MCArIGF4MSAqIGJ5MCAtIGF5MSAqIGJ4MDtcclxuICBvdXRbN10gPSBhdzAgKiBidzEgLSBheDAgKiBieDEgLSBheTAgKiBieTEgLSBhejAgKiBiejEgKyBhdzEgKiBidzAgLSBheDEgKiBieDAgLSBheTEgKiBieTAgLSBhejEgKiBiejA7XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5tdWx0aXBseX1cclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcclxuLyoqXHJcbiAqIFNjYWxlcyBhIGR1YWwgcXVhdCBieSBhIHNjYWxhciBudW1iZXJcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZHVhbCBxdWF0IHRvIHNjYWxlXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgZHVhbCBxdWF0IGJ5XHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcclxuICBvdXRbMF0gPSBhWzBdICogYjtcclxuICBvdXRbMV0gPSBhWzFdICogYjtcclxuICBvdXRbMl0gPSBhWzJdICogYjtcclxuICBvdXRbM10gPSBhWzNdICogYjtcclxuICBvdXRbNF0gPSBhWzRdICogYjtcclxuICBvdXRbNV0gPSBhWzVdICogYjtcclxuICBvdXRbNl0gPSBhWzZdICogYjtcclxuICBvdXRbN10gPSBhWzddICogYjtcclxuICByZXR1cm4gb3V0O1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gZHVhbCBxdWF0J3MgKFRoZSBkb3QgcHJvZHVjdCBvZiB0aGUgcmVhbCBwYXJ0cylcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcclxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGRvdCA9IHF1YXQuZG90O1xyXG4vKipcclxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBkdWFsIHF1YXRzJ3NcclxuICogTk9URTogVGhlIHJlc3VsdGluZyBkdWFsIHF1YXRlcm5pb25zIHdvbid0IGFsd2F5cyBiZSBub3JtYWxpemVkIChUaGUgZXJyb3IgaXMgbW9zdCBub3RpY2VhYmxlIHdoZW4gdCA9IDAuNSlcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0XHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcclxuICogQHJldHVybnMge3F1YXQyfSBvdXRcclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcclxuICB2YXIgbXQgPSAxIC0gdDtcclxuICBpZiAoZG90KGEsIGIpIDwgMCkgdCA9IC10O1xyXG4gIG91dFswXSA9IGFbMF0gKiBtdCArIGJbMF0gKiB0O1xyXG4gIG91dFsxXSA9IGFbMV0gKiBtdCArIGJbMV0gKiB0O1xyXG4gIG91dFsyXSA9IGFbMl0gKiBtdCArIGJbMl0gKiB0O1xyXG4gIG91dFszXSA9IGFbM10gKiBtdCArIGJbM10gKiB0O1xyXG4gIG91dFs0XSA9IGFbNF0gKiBtdCArIGJbNF0gKiB0O1xyXG4gIG91dFs1XSA9IGFbNV0gKiBtdCArIGJbNV0gKiB0O1xyXG4gIG91dFs2XSA9IGFbNl0gKiBtdCArIGJbNl0gKiB0O1xyXG4gIG91dFs3XSA9IGFbN10gKiBtdCArIGJbN10gKiB0O1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGludmVyc2Ugb2YgYSBkdWFsIHF1YXQuIElmIHRoZXkgYXJlIG5vcm1hbGl6ZWQsIGNvbmp1Z2F0ZSBpcyBjaGVhcGVyXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIGR1YWwgcXVhdGVybmlvblxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0IHRvIGNhbGN1bGF0ZSBpbnZlcnNlIG9mXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcclxuICB2YXIgc3FsZW4gPSBzcXVhcmVkTGVuZ3RoKGEpO1xyXG4gIG91dFswXSA9IC1hWzBdIC8gc3FsZW47XHJcbiAgb3V0WzFdID0gLWFbMV0gLyBzcWxlbjtcclxuICBvdXRbMl0gPSAtYVsyXSAvIHNxbGVuO1xyXG4gIG91dFszXSA9IGFbM10gLyBzcWxlbjtcclxuICBvdXRbNF0gPSAtYVs0XSAvIHNxbGVuO1xyXG4gIG91dFs1XSA9IC1hWzVdIC8gc3FsZW47XHJcbiAgb3V0WzZdID0gLWFbNl0gLyBzcWxlbjtcclxuICBvdXRbN10gPSBhWzddIC8gc3FsZW47XHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgY29uanVnYXRlIG9mIGEgZHVhbCBxdWF0XHJcbiAqIElmIHRoZSBkdWFsIHF1YXRlcm5pb24gaXMgbm9ybWFsaXplZCwgdGhpcyBmdW5jdGlvbiBpcyBmYXN0ZXIgdGhhbiBxdWF0Mi5pbnZlcnNlIGFuZCBwcm9kdWNlcyB0aGUgc2FtZSByZXN1bHQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7cXVhdDJ9IG91dCB0aGUgcmVjZWl2aW5nIHF1YXRlcm5pb25cclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHF1YXQgdG8gY2FsY3VsYXRlIGNvbmp1Z2F0ZSBvZlxyXG4gKiBAcmV0dXJucyB7cXVhdDJ9IG91dFxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25qdWdhdGUob3V0LCBhKSB7XHJcbiAgb3V0WzBdID0gLWFbMF07XHJcbiAgb3V0WzFdID0gLWFbMV07XHJcbiAgb3V0WzJdID0gLWFbMl07XHJcbiAgb3V0WzNdID0gYVszXTtcclxuICBvdXRbNF0gPSAtYVs0XTtcclxuICBvdXRbNV0gPSAtYVs1XTtcclxuICBvdXRbNl0gPSAtYVs2XTtcclxuICBvdXRbN10gPSBhWzddO1xyXG4gIHJldHVybiBvdXQ7XHJcbn1cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIGR1YWwgcXVhdFxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgZHVhbCBxdWF0IHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcclxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBsZW5ndGggPSBxdWF0Lmxlbmd0aDtcclxuLyoqXHJcbiAqIEFsaWFzIGZvciB7QGxpbmsgcXVhdDIubGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgZHVhbCBxdWF0XHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXQgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcclxuICogQGZ1bmN0aW9uXHJcbiAqL1xyXG5cclxuZXhwb3J0IHZhciBzcXVhcmVkTGVuZ3RoID0gcXVhdC5zcXVhcmVkTGVuZ3RoO1xyXG4vKipcclxuICogQWxpYXMgZm9yIHtAbGluayBxdWF0Mi5zcXVhcmVkTGVuZ3RofVxyXG4gKiBAZnVuY3Rpb25cclxuICovXHJcblxyXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XHJcbi8qKlxyXG4gKiBOb3JtYWxpemUgYSBkdWFsIHF1YXRcclxuICpcclxuICogQHBhcmFtIHtxdWF0Mn0gb3V0IHRoZSByZWNlaXZpbmcgZHVhbCBxdWF0ZXJuaW9uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gbm9ybWFsaXplXHJcbiAqIEByZXR1cm5zIHtxdWF0Mn0gb3V0XHJcbiAqIEBmdW5jdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XHJcbiAgdmFyIG1hZ25pdHVkZSA9IHNxdWFyZWRMZW5ndGgoYSk7XHJcblxyXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XHJcbiAgICBtYWduaXR1ZGUgPSBNYXRoLnNxcnQobWFnbml0dWRlKTtcclxuICAgIHZhciBhMCA9IGFbMF0gLyBtYWduaXR1ZGU7XHJcbiAgICB2YXIgYTEgPSBhWzFdIC8gbWFnbml0dWRlO1xyXG4gICAgdmFyIGEyID0gYVsyXSAvIG1hZ25pdHVkZTtcclxuICAgIHZhciBhMyA9IGFbM10gLyBtYWduaXR1ZGU7XHJcbiAgICB2YXIgYjAgPSBhWzRdO1xyXG4gICAgdmFyIGIxID0gYVs1XTtcclxuICAgIHZhciBiMiA9IGFbNl07XHJcbiAgICB2YXIgYjMgPSBhWzddO1xyXG4gICAgdmFyIGFfZG90X2IgPSBhMCAqIGIwICsgYTEgKiBiMSArIGEyICogYjIgKyBhMyAqIGIzO1xyXG4gICAgb3V0WzBdID0gYTA7XHJcbiAgICBvdXRbMV0gPSBhMTtcclxuICAgIG91dFsyXSA9IGEyO1xyXG4gICAgb3V0WzNdID0gYTM7XHJcbiAgICBvdXRbNF0gPSAoYjAgLSBhMCAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xyXG4gICAgb3V0WzVdID0gKGIxIC0gYTEgKiBhX2RvdF9iKSAvIG1hZ25pdHVkZTtcclxuICAgIG91dFs2XSA9IChiMiAtIGEyICogYV9kb3RfYikgLyBtYWduaXR1ZGU7XHJcbiAgICBvdXRbN10gPSAoYjMgLSBhMyAqIGFfZG90X2IpIC8gbWFnbml0dWRlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG91dDtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGR1YWwgcXVhdGVuaW9uXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBkdWFsIHF1YXRlcm5pb24gdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZHVhbCBxdWF0XHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XHJcbiAgcmV0dXJuIFwicXVhdDIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiKVwiO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkdWFsIHF1YXRlcm5pb25zIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBkdWFsIHF1YXRlcm5pb24uXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIGR1YWwgcXVhdGVybmlvbi5cclxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdGVybmlvbnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcclxuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkdWFsIHF1YXRlcm5pb25zIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIHRoZSBmaXJzdCBkdWFsIHF1YXQuXHJcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYiB0aGUgc2Vjb25kIGR1YWwgcXVhdC5cclxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgdGhlIGR1YWwgcXVhdHMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XHJcbiAgdmFyIGEwID0gYVswXSxcclxuICAgICAgYTEgPSBhWzFdLFxyXG4gICAgICBhMiA9IGFbMl0sXHJcbiAgICAgIGEzID0gYVszXSxcclxuICAgICAgYTQgPSBhWzRdLFxyXG4gICAgICBhNSA9IGFbNV0sXHJcbiAgICAgIGE2ID0gYVs2XSxcclxuICAgICAgYTcgPSBhWzddO1xyXG4gIHZhciBiMCA9IGJbMF0sXHJcbiAgICAgIGIxID0gYlsxXSxcclxuICAgICAgYjIgPSBiWzJdLFxyXG4gICAgICBiMyA9IGJbM10sXHJcbiAgICAgIGI0ID0gYls0XSxcclxuICAgICAgYjUgPSBiWzVdLFxyXG4gICAgICBiNiA9IGJbNl0sXHJcbiAgICAgIGI3ID0gYls3XTtcclxuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKTtcclxufSIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIEVtaXR0ZXIgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XHJcbi8qKlxyXG4gKiBTZXRzIHVwIGEgW1dlYlhSIERldmljZSBBUEkgXCJIaXQgVGVzdFwiXShodHRwczovL2ltbWVyc2l2ZS13ZWIuZ2l0aHViLmlvL2hpdC10ZXN0LylcclxuICogYW5kIHBsYWNlcyB0aGUgb2JqZWN0IHRvIHRoZSBoaXQgbG9jYXRpb24uXHJcbiAqXHJcbiAqICoqUmVxdWlyZW1lbnRzOioqXHJcbiAqICAtIFNwZWNpZnkgYCdoaXQtdGVzdCdgIGluIHRoZSByZXF1aXJlZCBvciBvcHRpb25hbCBmZWF0dXJlcyBvbiB0aGUgQVIgYnV0dG9uIGluIHlvdXIgaHRtbCBmaWxlLlxyXG4gKiAgICBTZWUgW1dhc3RlcGFwZXJiaW4gQVJdKC9zaG93Y2FzZS93cGItYXIpIGFzIGFuIGV4YW1wbGUuXHJcbiAqL1xyXG5jbGFzcyBIaXRUZXN0TG9jYXRpb24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hpdC10ZXN0LWxvY2F0aW9uJztcclxuICAgIHRlbXBTY2FsaW5nID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIHZpc2libGUgPSBmYWxzZTtcclxuICAgIHhySGl0VGVzdFNvdXJjZSA9IG51bGw7XHJcbiAgICAvKiogUmVmZXJlbmNlIHNwYWNlIGZvciBjcmVhdGluZyB0aGUgaGl0IHRlc3Qgd2hlbiB0aGUgc2Vzc2lvbiBzdGFydHMgKi9cclxuICAgIHhyUmVmZXJlbmNlU3BhY2UgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGb3IgbWFpbnRhaW5pbmcgYmFja3dhcmRzIGNvbXBhdGliaWxpdHk6IFdoZXRoZXIgdG8gc2NhbGUgdGhlIG9iamVjdCB0byAwIGFuZCBiYWNrLlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIG9uSGl0TG9zdCBhbmQgb25IaXRGb3VuZCBpbnN0ZWFkLlxyXG4gICAgICovXHJcbiAgICBzY2FsZU9iamVjdCA9IHRydWU7XHJcbiAgICAvKiogRW1pdHMgYW4gZXZlbnQgd2hlbiB0aGUgaGl0IHRlc3Qgc3dpdGNoZXMgZnJvbSB2aXNpYmxlIHRvIGludmlzaWJsZSAqL1xyXG4gICAgb25IaXRMb3N0ID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0cyBhbiBldmVudCB3aGVuIHRoZSBoaXQgdGVzdCBzd2l0Y2hlcyBmcm9tIGludmlzaWJsZSB0byB2aXNpYmxlICovXHJcbiAgICBvbkhpdEZvdW5kID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIG9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSBudWxsO1xyXG4gICAgb25TZXNzaW9uRW5kQ2FsbGJhY2sgPSBudWxsO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvblN0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25FbmRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25FbmQuYmluZCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5zY2FsZU9iamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBTY2FsaW5nLnNldCh0aGlzLm9iamVjdC5zY2FsaW5nTG9jYWwpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5zY2FsZShbMCwgMCwgMF0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGl0TG9zdC5hZGQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wU2NhbGluZy5zZXQodGhpcy5vYmplY3Quc2NhbGluZ0xvY2FsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNjYWxlKFswLCAwLCAwXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGl0Rm91bmQuYWRkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnNjYWxpbmdMb2NhbC5zZXQodGhpcy50ZW1wU2NhbGluZyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5zZXREaXJ0eSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHdhc1Zpc2libGUgPSB0aGlzLnZpc2libGU7XHJcbiAgICAgICAgaWYgKHRoaXMueHJIaXRUZXN0U291cmNlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5lbmdpbmUueHJGcmFtZTtcclxuICAgICAgICAgICAgaWYgKCFmcmFtZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgbGV0IGhpdFRlc3RSZXN1bHRzID0gZnJhbWUuZ2V0SGl0VGVzdFJlc3VsdHModGhpcy54ckhpdFRlc3RTb3VyY2UpO1xyXG4gICAgICAgICAgICBpZiAoaGl0VGVzdFJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBvc2UgPSBoaXRUZXN0UmVzdWx0c1swXS5nZXRQb3NlKHRoaXMuZW5naW5lLnhyLmN1cnJlbnRSZWZlcmVuY2VTcGFjZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSAhIXBvc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCh0aGlzLm9iamVjdCwgcG9zZS50cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogRW1pdCBldmVudHMgZm9yIHZpc2libGUgc3RhdGUgY2hhbmdlICovXHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSAhPSB3YXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICh0aGlzLnZpc2libGUgPyB0aGlzLm9uSGl0Rm91bmQgOiB0aGlzLm9uSGl0TG9zdCkubm90aWZ5KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEhpdFRlc3RSZXN1bHRzKGZyYW1lID0gdGhpcy5lbmdpbmUueHI/LmZyYW1lID8/IG51bGwpIHtcclxuICAgICAgICBpZiAoIWZyYW1lKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgLyogTWF5IGhhcHBlbiBpZiB0aGUgaGl0IHRlc3Qgc291cmNlIGNvdWxkbid0IGJlIGNyZWF0ZWQgKi9cclxuICAgICAgICBpZiAoIXRoaXMueHJIaXRUZXN0U291cmNlKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lLmdldEhpdFRlc3RSZXN1bHRzKHRoaXMueHJIaXRUZXN0U291cmNlKTtcclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uU3RhcnQoc2Vzc2lvbikge1xyXG4gICAgICAgIGlmIChzZXNzaW9uLnJlcXVlc3RIaXRUZXN0U291cmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignaGl0LXRlc3QtbG9jYXRpb246IGhpdCB0ZXN0IGZlYXR1cmUgbm90IGF2YWlsYWJsZS4gRGVhY3RpdmF0aW5nIGNvbXBvbmVudC4nKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXNzaW9uXHJcbiAgICAgICAgICAgIC5yZXF1ZXN0SGl0VGVzdFNvdXJjZSh7XHJcbiAgICAgICAgICAgIHNwYWNlOiB0aGlzLnhyUmVmZXJlbmNlU3BhY2UgPz9cclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLnhyLnJlZmVyZW5jZVNwYWNlRm9yVHlwZSgndmlld2VyJyksXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKGhpdFRlc3RTb3VyY2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy54ckhpdFRlc3RTb3VyY2UgPSBoaXRUZXN0U291cmNlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xyXG4gICAgICAgIGlmICghdGhpcy54ckhpdFRlc3RTb3VyY2UpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnhySGl0VGVzdFNvdXJjZS5jYW5jZWwoKTtcclxuICAgICAgICB0aGlzLnhySGl0VGVzdFNvdXJjZSA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXHJcbl0sIEhpdFRlc3RMb2NhdGlvbi5wcm90b3R5cGUsIFwic2NhbGVPYmplY3RcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgSGl0VGVzdExvY2F0aW9uIH07XHJcbiIsICJ2YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdDb21wb25lbnQsIEVtaXR0ZXIsIH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGkvZGVjb3JhdG9ycy5qcyc7XHJcbmltcG9ydCB7IHZlYzMsIG1hdDQgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5pbXBvcnQgeyBDdXJzb3JUYXJnZXQgfSBmcm9tICcuL2N1cnNvci10YXJnZXQuanMnO1xyXG5pbXBvcnQgeyBIaXRUZXN0TG9jYXRpb24gfSBmcm9tICcuL2hpdC10ZXN0LWxvY2F0aW9uLmpzJztcclxuY29uc3QgdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbi8qKiBHbG9iYWwgdGFyZ2V0IGZvciB7QGxpbmsgQ3Vyc29yfSAqL1xyXG5jbGFzcyBDdXJzb3JUYXJnZXRFbWl0dGVycyB7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHRhcmdldCBpcyBob3ZlcmVkICovXHJcbiAgICBvbkhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIHVuaG92ZXJlZCAqL1xyXG4gICAgb25VbmhvdmVyID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdGFyZ2V0IGlzIGNsaWNrZWQgKi9cclxuICAgIG9uQ2xpY2sgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgLyoqIEVtaXR0ZXIgZm9yIGV2ZW50cyB3aGVuIHRoZSBjdXJzb3IgbW92ZXMgb24gdGhlIHRhcmdldCAqL1xyXG4gICAgb25Nb3ZlID0gbmV3IEVtaXR0ZXIoKTtcclxuICAgIC8qKiBFbWl0dGVyIGZvciBldmVudHMgd2hlbiB0aGUgdXNlciBwcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uRG93biA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogRW1pdHRlciBmb3IgZXZlbnRzIHdoZW4gdGhlIHVzZXIgdW5wcmVzc2VkIHRoZSBzZWxlY3QgYnV0dG9uIG9uIHRoZSB0YXJnZXQgKi9cclxuICAgIG9uVXAgPSBuZXcgRW1pdHRlcigpO1xyXG59XHJcbi8qKlxyXG4gKiAzRCBjdXJzb3IgZm9yIGRlc2t0b3AvbW9iaWxlL1ZSLlxyXG4gKlxyXG4gKiBJbXBsZW1lbnRzIGEgcmF5LWNhc3RpbmcgY3Vyc29yIGludG8gdGhlIHNjZW5lLiBUbyByZWFjdCB0b1xyXG4gKiBjbGlja2luZy9ob3Zlci91bmhvdmVyL2N1cnNvciBkb3duL2N1cnNvciB1cC9tb3ZlIHVzZSBhXHJcbiAqIFtjdXJzb3ItdGFyZ2V0XSgjY3Vyc29yLXRhcmdldCkuXHJcbiAqXHJcbiAqIEZvciBWUiwgdGhlIHJheSBpcyBjYXN0IGluIGRpcmVjdGlvbiBvZlxyXG4gKiBbdGhpcy5vYmplY3QuZ2V0Rm9yd2FyZCgpXSgvanNhcGkvb2JqZWN0LyNnZXRmb3J3YXJkKS4gRm9yIGRlc2t0b3AgYW5kIG1vYmlsZSwgdGhlXHJcbiAqIGZvcndhcmQgdmVjdG9yIGlzIGludmVyc2UtcHJvamVjdGVkIHRvIGFjY291bnQgZm9yIHdoZXJlIG9uIHNjcmVlbiB0aGUgdXNlciBjbGlja2VkLlxyXG4gKlxyXG4gKiBgLmdsb2JhbFRhcmdldGAgY2FuIGJlIHVzZWQgdG8gY2FsbCBjYWxsYmFja3MgZm9yIGFsbCBvYmplY3RzLCBldmVuIHRob3NlIHRoYXRcclxuICogZG8gbm90IGhhdmUgYSBjdXJzb3IgdGFyZ2V0IGF0dGFjaGVkLCBidXQgbWF0Y2ggdGhlIGNvbGxpc2lvbiBncm91cC5cclxuICpcclxuICogYC5oaXRUZXN0VGFyZ2V0YCBjYW4gYmUgdXNlZCB0byBjYWxsIGNhbGxiYWNrcyBXZWJYUiBoaXQgdGVzdCByZXN1bHRzLFxyXG4gKlxyXG4gKiBTZWUgW0FuaW1hdGlvbiBFeGFtcGxlXSgvc2hvd2Nhc2UvYW5pbWF0aW9uKS5cclxuICovXHJcbmNsYXNzIEN1cnNvciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnY3Vyc29yJztcclxuICAgIC8qIERlcGVuZGVuY2llcyBpcyBkZXByZWNhdGVkLCBidXQgd2Uga2VlcCBpdCBoZXJlIGZvciBjb21wYXRpYmlsaXR5XHJcbiAgICAgKiB3aXRoIDEuMC4wLXJjMiB1bnRpbCAxLjAuMCBpcyByZWxlYXNlZCAqL1xyXG4gICAgc3RhdGljIERlcGVuZGVuY2llcyA9IFtIaXRUZXN0TG9jYXRpb25dO1xyXG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XHJcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KEhpdFRlc3RMb2NhdGlvbik7XHJcbiAgICB9XHJcbiAgICBfY29sbGlzaW9uTWFzayA9IDA7XHJcbiAgICBfb25EZWFjdGl2YXRlQ2FsbGJhY2tzID0gW107XHJcbiAgICBfaW5wdXQgPSBudWxsO1xyXG4gICAgX29yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBfY3Vyc29yT2JqU2NhbGUgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgX2RpcmVjdGlvbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICBfcHJvamVjdGlvbk1hdHJpeCA9IG5ldyBGbG9hdDMyQXJyYXkoMTYpO1xyXG4gICAgX3ZpZXdDb21wb25lbnQgPSBudWxsO1xyXG4gICAgX2lzRG93biA9IGZhbHNlO1xyXG4gICAgX2xhc3RJc0Rvd24gPSBmYWxzZTtcclxuICAgIF9hclRvdWNoRG93biA9IGZhbHNlO1xyXG4gICAgX2xhc3RQb2ludGVyUG9zID0gbmV3IEZsb2F0MzJBcnJheSgyKTtcclxuICAgIF9sYXN0Q3Vyc29yUG9zT25UYXJnZXQgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgX2N1cnNvclJheVNjYWxlID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIF9oaXRUZXN0TG9jYXRpb24gPSBudWxsO1xyXG4gICAgX2hpdFRlc3RPYmplY3QgPSBudWxsO1xyXG4gICAgX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoZSBjdXJzb3IgKGFuZCBjdXJzb3JPYmplY3QpIGlzIHZpc2libGUsIGkuZS4gcG9pbnRpbmcgYXQgYW4gb2JqZWN0XHJcbiAgICAgKiB0aGF0IG1hdGNoZXMgdGhlIGNvbGxpc2lvbiBncm91cFxyXG4gICAgICovXHJcbiAgICB2aXNpYmxlID0gdHJ1ZTtcclxuICAgIC8qKiBDdXJyZW50bHkgaG92ZXJlZCBvYmplY3QgKi9cclxuICAgIGhvdmVyaW5nT2JqZWN0ID0gbnVsbDtcclxuICAgIC8qKiBDdXJzb3JUYXJnZXQgY29tcG9uZW50IG9mIHRoZSBjdXJyZW50bHkgaG92ZXJlZCBvYmplY3QgKi9cclxuICAgIGhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gbnVsbDtcclxuICAgIC8qKiBXaGV0aGVyIHRoZSBjdXJzb3IgaXMgaG92ZXJpbmcgcmVhbGl0eSB2aWEgaGl0LXRlc3QgKi9cclxuICAgIGhvdmVyaW5nUmVhbGl0eSA9IGZhbHNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHbG9iYWwgdGFyZ2V0IGxldHMgeW91IHJlY2VpdmUgZ2xvYmFsIGN1cnNvciBldmVudHMgb24gYW55IG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgZ2xvYmFsVGFyZ2V0ID0gbmV3IEN1cnNvclRhcmdldEVtaXR0ZXJzKCk7XHJcbiAgICAvKipcclxuICAgICAqIEhpdCB0ZXN0IHRhcmdldCBsZXRzIHlvdSByZWNlaXZlIGN1cnNvciBldmVudHMgZm9yIFwicmVhbGl0eVwiLCBpZlxyXG4gICAgICogYHVzZVdlYlhSSGl0VGVzdGAgaXMgc2V0IHRvIGB0cnVlYC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBganNcclxuICAgICAqIGN1cnNvci5oaXRUZXN0VGFyZ2V0Lm9uQ2xpY2suYWRkKChoaXQsIGN1cnNvcikgPT4ge1xyXG4gICAgICogICAgIC8vIFVzZXIgY2xpY2tlZCBvbiByZWFsaXR5XHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBoaXRUZXN0VGFyZ2V0ID0gbmV3IEN1cnNvclRhcmdldEVtaXR0ZXJzKCk7XHJcbiAgICAvKiogV29ybGQgcG9zaXRpb24gb2YgdGhlIGN1cnNvciAqL1xyXG4gICAgY3Vyc29yUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIC8qKiBDb2xsaXNpb24gZ3JvdXAgZm9yIHRoZSByYXkgY2FzdC4gT25seSBvYmplY3RzIGluIHRoaXMgZ3JvdXAgd2lsbCBiZSBhZmZlY3RlZCBieSB0aGlzIGN1cnNvci4gKi9cclxuICAgIGNvbGxpc2lvbkdyb3VwID0gMTtcclxuICAgIC8qKiAob3B0aW9uYWwpIE9iamVjdCB0aGF0IHZpc3VhbGl6ZXMgdGhlIGN1cnNvcidzIHJheS4gKi9cclxuICAgIGN1cnNvclJheU9iamVjdCA9IG51bGw7XHJcbiAgICAvKiogQXhpcyBhbG9uZyB3aGljaCB0byBzY2FsZSB0aGUgYGN1cnNvclJheU9iamVjdGAuICovXHJcbiAgICBjdXJzb3JSYXlTY2FsaW5nQXhpcyA9IDI7XHJcbiAgICAvKiogKG9wdGlvbmFsKSBPYmplY3QgdGhhdCB2aXN1YWxpemVzIHRoZSBjdXJzb3IncyBoaXQgbG9jYXRpb24uICovXHJcbiAgICBjdXJzb3JPYmplY3QgPSBudWxsO1xyXG4gICAgLyoqIEhhbmRlZG5lc3MgZm9yIFZSIGN1cnNvcnMgdG8gYWNjZXB0IHRyaWdnZXIgZXZlbnRzIG9ubHkgZnJvbSByZXNwZWN0aXZlIGNvbnRyb2xsZXIuICovXHJcbiAgICBoYW5kZWRuZXNzID0gMDtcclxuICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cclxuICAgIHJheUNhc3RNb2RlID0gMDtcclxuICAgIC8qKiBNYXhpbXVtIGRpc3RhbmNlIGZvciB0aGUgY3Vyc29yJ3MgcmF5IGNhc3QuICovXHJcbiAgICBtYXhEaXN0YW5jZSA9IDEwMDtcclxuICAgIC8qKiBXaGV0aGVyIHRvIHNldCB0aGUgQ1NTIHN0eWxlIG9mIHRoZSBtb3VzZSBjdXJzb3Igb24gZGVza3RvcCAqL1xyXG4gICAgc3R5bGVDdXJzb3IgPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgV2ViWFIgaGl0LXRlc3QgaWYgYXZhaWxhYmxlLlxyXG4gICAgICpcclxuICAgICAqIEF0dGFjaGVzIGEgaGl0LXRlc3QtbG9jYXRpb24gY29tcG9uZW50IHRvIHRoZSBjdXJzb3JPYmplY3QsIHdoaWNoIHdpbGwgYmUgdXNlZFxyXG4gICAgICogYnkgdGhlIGN1cnNvciB0byBzZW5kIGV2ZW50cyB0byB0aGUgaGl0VGVzdFRhcmdldCB3aXRoIEhpdFRlc3RSZXN1bHQuXHJcbiAgICAgKi9cclxuICAgIHVzZVdlYlhSSGl0VGVzdCA9IGZhbHNlO1xyXG4gICAgX29uVmlld3BvcnRSZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl92aWV3Q29tcG9uZW50KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLyogUHJvamVjdGlvbiBtYXRyaXggd2lsbCBjaGFuZ2UgaWYgdGhlIHZpZXdwb3J0IGlzIHJlc2l6ZWQsIHdoaWNoIHdpbGwgYWZmZWN0IHRoZVxyXG4gICAgICAgICAqIHByb2plY3Rpb24gbWF0cml4IGJlY2F1c2Ugb2YgdGhlIGFzcGVjdCByYXRpby4gKi9cclxuICAgICAgICBtYXQ0LmludmVydCh0aGlzLl9wcm9qZWN0aW9uTWF0cml4LCB0aGlzLl92aWV3Q29tcG9uZW50LnByb2plY3Rpb25NYXRyaXgpO1xyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuX2NvbGxpc2lvbk1hc2sgPSAxIDw8IHRoaXMuY29sbGlzaW9uR3JvdXA7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFuZGVkbmVzcyA9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29tcCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgaWYgKCFpbnB1dENvbXApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignY3Vyc29yIGNvbXBvbmVudCBvbiBvYmplY3QnLCB0aGlzLm9iamVjdC5uYW1lLCAnd2FzIGNvbmZpZ3VyZWQgd2l0aCBoYW5kZWRuZXNzIFwiaW5wdXQgY29tcG9uZW50XCIsICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdidXQgb2JqZWN0IGhhcyBubyBpbnB1dCBjb21wb25lbnQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBpbnB1dENvbXAuaGFuZGVkbmVzcyB8fCAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0Q29tcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kZWRuZXNzID0gWydsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXVt0aGlzLmhhbmRlZG5lc3MgLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdmlld0NvbXBvbmVudCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudChWaWV3Q29tcG9uZW50KTtcclxuICAgICAgICBpZiAodGhpcy51c2VXZWJYUkhpdFRlc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdCA9IHRoaXMuZW5naW5lLnNjZW5lLmFkZE9iamVjdCh0aGlzLm9iamVjdCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpdFRlc3RMb2NhdGlvbiA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oaXRUZXN0T2JqZWN0LmFkZENvbXBvbmVudChIaXRUZXN0TG9jYXRpb24sIHtcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZU9iamVjdDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB9KSA/PyBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXR1cFZSRXZlbnRzLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMuX29uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uUmVzaXplLmFkZCh0aGlzLl9vblZpZXdwb3J0UmVzaXplKTtcclxuICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KHRydWUpO1xyXG4gICAgICAgIC8qIElmIHRoaXMgb2JqZWN0IGFsc28gaGFzIGEgdmlldyBjb21wb25lbnQsIHdlIHdpbGwgZW5hYmxlIGludmVyc2UtcHJvamVjdGVkIG1vdXNlIGNsaWNrcyxcclxuICAgICAgICAgKiBvdGhlcndpc2UganVzdCB1c2UgdGhlIG9iamVjdHMgdHJhbnNmb3JtYXRpb24gKi9cclxuICAgICAgICBpZiAodGhpcy5fdmlld0NvbXBvbmVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZW5naW5lLmNhbnZhcztcclxuICAgICAgICAgICAgY29uc3Qgb25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBjb25zdCBvblBvaW50ZXJNb3ZlID0gdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlKTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyRG93bik7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcy5wdXNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvblBvaW50ZXJVcCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9vblZpZXdwb3J0UmVzaXplKCk7XHJcbiAgICB9XHJcbiAgICBfc2V0Q3Vyc29yUmF5VHJhbnNmb3JtKGhpdFBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmN1cnNvclJheU9iamVjdClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGRpc3QgPSB2ZWMzLmRpc3QodGhpcy5fb3JpZ2luLCBoaXRQb3NpdGlvbik7XHJcbiAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3Quc2V0VHJhbnNsYXRpb25Mb2NhbChbMC4wLCAwLjAsIC1kaXN0IC8gMl0pO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnNvclJheVNjYWxpbmdBeGlzICE9IDQpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JSYXlPYmplY3QucmVzZXRTY2FsaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvclJheVNjYWxlW3RoaXMuY3Vyc29yUmF5U2NhbGluZ0F4aXNdID0gZGlzdCAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUmF5T2JqZWN0LnNjYWxlKHRoaXMuX2N1cnNvclJheVNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfc2V0Q3Vyc29yVmlzaWJpbGl0eSh2aXNpYmxlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSA9PSB2aXNpYmxlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICBpZiAoIXRoaXMuY3Vyc29yT2JqZWN0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgaWYgKHZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2V0U2NhbGluZ1dvcmxkKHRoaXMuX2N1cnNvck9ialNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LmdldFNjYWxpbmdXb3JsZCh0aGlzLl9jdXJzb3JPYmpTY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yT2JqZWN0LnNjYWxlTG9jYWwoWzAsIDAsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLyogSWYgaW4gVlIsIHNldCB0aGUgY3Vyc29yIHJheSBiYXNlZCBvbiBvYmplY3QgdHJhbnNmb3JtICovXHJcbiAgICAgICAgLyogU2luY2UgR29vZ2xlIENhcmRib2FyZCB0YXAgaXMgcmVnaXN0ZXJlZCBhcyBhclRvdWNoRG93biB3aXRob3V0IGEgZ2FtZXBhZCwgd2UgbmVlZCB0byBjaGVjayBmb3IgZ2FtZXBhZCBwcmVzZW5jZSAqL1xyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ciAmJlxyXG4gICAgICAgICAgICB0aGlzLl9hclRvdWNoRG93biAmJlxyXG4gICAgICAgICAgICB0aGlzLl9pbnB1dCAmJlxyXG4gICAgICAgICAgICB0aGlzLmVuZ2luZS54ci5zZXNzaW9uLmlucHV0U291cmNlc1swXS5oYW5kZWRuZXNzID09PSAnbm9uZScgJiZcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uZ2FtZXBhZCkge1xyXG4gICAgICAgICAgICAvKiBXZWJYUiBBUiBpbnB1dCAqL1xyXG4gICAgICAgICAgICBjb25zdCBwID0gdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbMF0uZ2FtZXBhZC5heGVzO1xyXG4gICAgICAgICAgICAvKiBTY3JlZW5zcGFjZSBZIGlzIGludmVydGVkICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblswXSA9IHBbMF07XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IC1wWzFdO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMl0gPSAtMS4wO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtQW5kUHJvamVjdERpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmVuZ2luZS54ciAmJiB0aGlzLl9pbnB1dCAmJiB0aGlzLl9pbnB1dC54cklucHV0U291cmNlKSB7XHJcbiAgICAgICAgICAgIC8qIFdlYlhSIFZSIGlucHV0ICovXHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblswXSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvblsyXSA9IC0xLjA7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1Ub0RpcmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLl92aWV3Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIC8qIEFwcGx5IHBvdGVudGlhbGx5IGNoYW5nZWQgdHJhbnNmb3JtIHRvIGxhc3Qgc3RvcmVkIHBvaW50ZXJcclxuICAgICAgICAgICAgICogcG9zaXRpb24gKi9cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KG51bGwsIHRoaXMuZW5naW5lLnhyPy5mcmFtZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0ICYmXHJcbiAgICAgICAgICAgICAgICAodGhpcy5jdXJzb3JQb3NbMF0gIT0gMCB8fCB0aGlzLmN1cnNvclBvc1sxXSAhPSAwIHx8IHRoaXMuY3Vyc29yUG9zWzJdICE9IDApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JWaXNpYmlsaXR5KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3JPYmplY3Quc2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3JSYXlUcmFuc2Zvcm0odGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yVmlzaWJpbGl0eShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiBSZXR1cm5zIHRoZSBob3ZlcmVkIGN1cnNvciB0YXJnZXQsIGlmIGF2YWlsYWJsZSAqL1xyXG4gICAgbm90aWZ5KGV2ZW50LCBvcmlnaW5hbEV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5ob3ZlcmluZ09iamVjdDtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3RUYXJnZXQ7XHJcbiAgICAgICAgICAgIGlmIChjdXJzb3JUYXJnZXQpXHJcbiAgICAgICAgICAgICAgICBjdXJzb3JUYXJnZXRbZXZlbnRdLm5vdGlmeSh0YXJnZXQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxUYXJnZXRbZXZlbnRdLm5vdGlmeSh0YXJnZXQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBob3ZlckJlaGF2aW91cihyYXlIaXQsIGhpdFRlc3RSZXN1bHQsIGRvQ2xpY2ssIG9yaWdpbmFsRXZlbnQpIHtcclxuICAgICAgICAvKiBPbGQgQVBJIHZlcnNpb24gZG9lcyBub3QgcmV0dXJuIG51bGwgZm9yIG9iamVjdHNbMF0gaWYgbm8gaGl0ICovXHJcbiAgICAgICAgY29uc3QgaGl0ID0gIXRoaXMuaG92ZXJpbmdSZWFsaXR5ICYmIHJheUhpdC5oaXRDb3VudCA+IDAgPyByYXlIaXQub2JqZWN0c1swXSA6IG51bGw7XHJcbiAgICAgICAgaWYgKGhpdCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJpbmdPYmplY3QgfHwgIXRoaXMuaG92ZXJpbmdPYmplY3QuZXF1YWxzKGhpdCkpIHtcclxuICAgICAgICAgICAgICAgIC8qIFVuaG92ZXIgcHJldmlvdXMsIGlmIGV4aXN0cyAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBIb3ZlciBuZXcgb2JqZWN0ICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0ID0gaGl0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmluZ09iamVjdFRhcmdldCA9IHRoaXMuaG92ZXJpbmdPYmplY3QuZ2V0Q29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdHlsZUN1cnNvcilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uSG92ZXInLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KSB7XHJcbiAgICAgICAgICAgIC8qIFByZXZpb3VzbHkgaG92ZXJpbmcgb2JqZWN0LCBub3cgaG92ZXJpbmcgbm90aGluZyAqL1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgb3JpZ2luYWxFdmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyaW5nT2JqZWN0VGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVDdXJzb3IpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ob3ZlcmluZ09iamVjdCkge1xyXG4gICAgICAgICAgICAvKiBvbkRvd24vb25VcCBmb3Igb2JqZWN0ICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rvd24gIT09IHRoaXMuX2xhc3RJc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KHRoaXMuX2lzRG93biA/ICdvbkRvd24nIDogJ29uVXAnLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBvbkNsaWNrIGZvciBvYmplY3QgKi9cclxuICAgICAgICAgICAgaWYgKGRvQ2xpY2spXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25DbGljaycsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xyXG4gICAgICAgICAgICAvKiBvbkRvd24vb25VcCBmb3IgaGl0IHRlc3QgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRG93biAhPT0gdGhpcy5fbGFzdElzRG93bikge1xyXG4gICAgICAgICAgICAgICAgKHRoaXMuX2lzRG93biA/IHRoaXMuaGl0VGVzdFRhcmdldC5vbkRvd24gOiB0aGlzLmhpdFRlc3RUYXJnZXQub25VcCkubm90aWZ5KGhpdFRlc3RSZXN1bHQsIHRoaXMsIG9yaWdpbmFsRXZlbnQgPz8gdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBvbkNsaWNrIGZvciBoaXQgdGVzdCAqL1xyXG4gICAgICAgICAgICBpZiAoZG9DbGljaylcclxuICAgICAgICAgICAgICAgIHRoaXMuaGl0VGVzdFRhcmdldC5vbkNsaWNrLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIG9uTW92ZSAqL1xyXG4gICAgICAgIGlmIChoaXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJpbmdPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJpbmdPYmplY3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGVtcFZlYywgdGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGVtcFZlYy5zZXQodGhpcy5jdXJzb3JQb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdmVjMy5lcXVhbHModGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LCB0ZW1wVmVjKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoJ29uTW92ZScsIG9yaWdpbmFsRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0ZW1wVmVjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xyXG4gICAgICAgICAgICBpZiAoIXZlYzMuZXF1YWxzKHRoaXMuX2xhc3RDdXJzb3JQb3NPblRhcmdldCwgdGhpcy5jdXJzb3JQb3MpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25Nb3ZlLm5vdGlmeShoaXRUZXN0UmVzdWx0LCB0aGlzLCBvcmlnaW5hbEV2ZW50ID8/IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0Q3Vyc29yUG9zT25UYXJnZXQuc2V0KHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGFzdEN1cnNvclBvc09uVGFyZ2V0LnNldCh0aGlzLmN1cnNvclBvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xhc3RJc0Rvd24gPSB0aGlzLl9pc0Rvd247XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHVwIGV2ZW50IGxpc3RlbmVycyBvbiBzZXNzaW9uIG9iamVjdFxyXG4gICAgICogQHBhcmFtIHMgV2ViWFIgc2Vzc2lvblxyXG4gICAgICpcclxuICAgICAqIFNldHMgdXAgJ3NlbGVjdCcgYW5kICdlbmQnIGV2ZW50cy5cclxuICAgICAqL1xyXG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XHJcbiAgICAgICAgaWYgKCFzKVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzZXR1cFZSRXZlbnRzIGNhbGxlZCB3aXRob3V0IGEgdmFsaWQgc2Vzc2lvbicpO1xyXG4gICAgICAgIC8qIElmIGluIFZSLCBvbmUtdGltZSBiaW5kIHRoZSBsaXN0ZW5lciAqL1xyXG4gICAgICAgIGNvbnN0IG9uU2VsZWN0ID0gdGhpcy5vblNlbGVjdC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0Jywgb25TZWxlY3QpO1xyXG4gICAgICAgIGNvbnN0IG9uU2VsZWN0U3RhcnQgPSB0aGlzLm9uU2VsZWN0U3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgb25TZWxlY3RTdGFydCk7XHJcbiAgICAgICAgY29uc3Qgb25TZWxlY3RFbmQgPSB0aGlzLm9uU2VsZWN0RW5kLmJpbmQodGhpcyk7XHJcbiAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RlbmQnLCBvblNlbGVjdEVuZCk7XHJcbiAgICAgICAgdGhpcy5fb25EZWFjdGl2YXRlQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5naW5lLnhyU2Vzc2lvbilcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBvblNlbGVjdCk7XHJcbiAgICAgICAgICAgIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBvblNlbGVjdFN0YXJ0KTtcclxuICAgICAgICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RlbmQnLCBvblNlbGVjdEVuZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyogQWZ0ZXIgQVIgc2Vzc2lvbiB3YXMgZW50ZXJlZCwgdGhlIHByb2plY3Rpb24gbWF0cml4IGNoYW5nZWQgKi9cclxuICAgICAgICB0aGlzLl9vblZpZXdwb3J0UmVzaXplKCk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5fb25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25SZXNpemUucmVtb3ZlKHRoaXMuX29uVmlld3BvcnRSZXNpemUpO1xyXG4gICAgICAgIHRoaXMuX3NldEN1cnNvclZpc2liaWxpdHkoZmFsc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLmhvdmVyaW5nT2JqZWN0KVxyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeSgnb25VbmhvdmVyJywgbnVsbCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yUmF5T2JqZWN0KVxyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclJheU9iamVjdC5zY2FsZShbMCwgMCwgMF0pO1xyXG4gICAgICAgIC8qIEVuc3VyZSBhbGwgZXZlbnQgbGlzdGVuZXJzIGFyZSByZW1vdmVkICovXHJcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcylcclxuICAgICAgICAgICAgZigpO1xyXG4gICAgICAgIHRoaXMuX29uRGVhY3RpdmF0ZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuX2hpdFRlc3RPYmplY3Q/LmRlc3Ryb3koKTtcclxuICAgIH1cclxuICAgIC8qKiAnc2VsZWN0JyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25TZWxlY3QoZSkge1xyXG4gICAgICAgIGlmIChlLmlucHV0U291cmNlLmhhbmRlZG5lc3MgIT0gdGhpcy5oYW5kZWRuZXNzKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgLyoqICdzZWxlY3RzdGFydCcgZXZlbnQgbGlzdGVuZXIgKi9cclxuICAgIG9uU2VsZWN0U3RhcnQoZSkge1xyXG4gICAgICAgIHRoaXMuX2FyVG91Y2hEb3duID0gdHJ1ZTtcclxuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJheUNhc3QoZSwgZS5mcmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqICdzZWxlY3RlbmQnIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblNlbGVjdEVuZChlKSB7XHJcbiAgICAgICAgdGhpcy5fYXJUb3VjaERvd24gPSBmYWxzZTtcclxuICAgICAgICBpZiAoZS5pbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICB0aGlzLl9pc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5yYXlDYXN0KGUsIGUuZnJhbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiAncG9pbnRlcm1vdmUnIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblBvaW50ZXJNb3ZlKGUpIHtcclxuICAgICAgICAvKiBEb24ndCBjYXJlIGFib3V0IHNlY29uZGFyeSBwb2ludGVycyAqL1xyXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlLCBudWxsKTtcclxuICAgIH1cclxuICAgIC8qKiAnY2xpY2snIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvbkNsaWNrKGUpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlLCBudWxsLCB0cnVlKTtcclxuICAgIH1cclxuICAgIC8qKiAncG9pbnRlcmRvd24nIGV2ZW50IGxpc3RlbmVyICovXHJcbiAgICBvblBvaW50ZXJEb3duKGUpIHtcclxuICAgICAgICAvKiBEb24ndCBjYXJlIGFib3V0IHNlY29uZGFyeSBwb2ludGVycyBvciBub24tbGVmdCBjbGlja3MgKi9cclxuICAgICAgICBpZiAoIWUuaXNQcmltYXJ5IHx8IGUuYnV0dG9uICE9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy51cGRhdGVNb3VzZVBvcyhlKTtcclxuICAgICAgICB0aGlzLl9pc0Rvd24gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlKTtcclxuICAgIH1cclxuICAgIC8qKiAncG9pbnRlcnVwJyBldmVudCBsaXN0ZW5lciAqL1xyXG4gICAgb25Qb2ludGVyVXAoZSkge1xyXG4gICAgICAgIC8qIERvbid0IGNhcmUgYWJvdXQgc2Vjb25kYXJ5IHBvaW50ZXJzIG9yIG5vbi1sZWZ0IGNsaWNrcyAqL1xyXG4gICAgICAgIGlmICghZS5pc1ByaW1hcnkgfHwgZS5idXR0b24gIT09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnVwZGF0ZU1vdXNlUG9zKGUpO1xyXG4gICAgICAgIHRoaXMuX2lzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmF5Q2FzdChlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIG1vdXNlIHBvc2l0aW9uIGluIG5vbi1WUiBtb2RlIGFuZCByYXljYXN0IGZvciBuZXcgcG9zaXRpb25cclxuICAgICAqIEByZXR1cm5zIEByZWYgV0wuUmF5SGl0IGZvciBuZXcgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZU1vdXNlUG9zKGUpIHtcclxuICAgICAgICB0aGlzLl9sYXN0UG9pbnRlclBvc1swXSA9IGUuY2xpZW50WDtcclxuICAgICAgICB0aGlzLl9sYXN0UG9pbnRlclBvc1sxXSA9IGUuY2xpZW50WTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURpcmVjdGlvbigpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlRGlyZWN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuZW5naW5lLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAvKiBHZXQgZGlyZWN0aW9uIGluIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgc3BhY2UgZnJvbSBtb3VzZSBwb3NpdGlvbiAqL1xyXG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLl9sYXN0UG9pbnRlclBvc1swXSAvIGJvdW5kcy53aWR0aDtcclxuICAgICAgICBjb25zdCB0b3AgPSB0aGlzLl9sYXN0UG9pbnRlclBvc1sxXSAvIGJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uWzBdID0gbGVmdCAqIDIgLSAxO1xyXG4gICAgICAgIHRoaXMuX2RpcmVjdGlvblsxXSA9IC10b3AgKiAyICsgMTtcclxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25bMl0gPSAtMS4wO1xyXG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1BbmRQcm9qZWN0RGlyZWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBhcHBseVRyYW5zZm9ybUFuZFByb2plY3REaXJlY3Rpb24oKSB7XHJcbiAgICAgICAgLyogUmV2ZXJzZS1wcm9qZWN0IHRoZSBkaXJlY3Rpb24gaW50byB2aWV3IHNwYWNlICovXHJcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9wcm9qZWN0aW9uTWF0cml4KTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBhcHBseVRyYW5zZm9ybVRvRGlyZWN0aW9uKCkge1xyXG4gICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl9kaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5vYmplY3QudHJhbnNmb3JtV29ybGQpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fb3JpZ2luKTtcclxuICAgIH1cclxuICAgIHJheUNhc3Qob3JpZ2luYWxFdmVudCwgZnJhbWUgPSBudWxsLCBkb0NsaWNrID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCByYXlIaXQgPSB0aGlzLnJheUNhc3RNb2RlID09IDBcclxuICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KHRoaXMuX29yaWdpbiwgdGhpcy5fZGlyZWN0aW9uLCB0aGlzLl9jb2xsaXNpb25NYXNrKVxyXG4gICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2RpcmVjdGlvbiwgdGhpcy5fY29sbGlzaW9uTWFzaywgdGhpcy5tYXhEaXN0YW5jZSk7XHJcbiAgICAgICAgbGV0IGhpdFJlc3VsdERpc3RhbmNlID0gSW5maW5pdHk7XHJcbiAgICAgICAgbGV0IGhpdFRlc3RSZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIGlmICh0aGlzLl9oaXRUZXN0TG9jYXRpb24/LnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5faGl0VGVzdE9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgaGl0UmVzdWx0RGlzdGFuY2UgPSB2ZWMzLmRpc3RhbmNlKHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGVtcFZlYyksIHRoaXMuY3Vyc29yUG9zKTtcclxuICAgICAgICAgICAgaGl0VGVzdFJlc3VsdCA9IHRoaXMuX2hpdFRlc3RMb2NhdGlvbj8uZ2V0SGl0VGVzdFJlc3VsdHMoZnJhbWUpWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaG92ZXJpbmdSZWFsaXR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgZCA9IHJheUhpdC5kaXN0YW5jZXNbMF07XHJcbiAgICAgICAgICAgIGlmIChoaXRSZXN1bHREaXN0YW5jZSA+PSBkKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBPdmVycmlkZSBjdXJzb3JQb3Mgc2V0IGJ5IGhpdCB0ZXN0IGxvY2F0aW9uICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvclBvcy5zZXQocmF5SGl0LmxvY2F0aW9uc1swXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlcmluZ1JlYWxpdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGhpdFJlc3VsdERpc3RhbmNlIDwgSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgLyogY3Vyc29yUG9zIGFscmVhZHkgc2V0ICovXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclBvcy5maWxsKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaG92ZXJpbmdSZWFsaXR5ICYmICF0aGlzLmhvdmVyaW5nUmVhbGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpdFRlc3RUYXJnZXQub25Ib3Zlci5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFob3ZlcmluZ1JlYWxpdHkgJiYgdGhpcy5ob3ZlcmluZ1JlYWxpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaXRUZXN0VGFyZ2V0Lm9uVW5ob3Zlci5ub3RpZnkoaGl0VGVzdFJlc3VsdCwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaG92ZXJpbmdSZWFsaXR5ID0gaG92ZXJpbmdSZWFsaXR5O1xyXG4gICAgICAgIHRoaXMuaG92ZXJCZWhhdmlvdXIocmF5SGl0LCBoaXRUZXN0UmVzdWx0LCBkb0NsaWNrLCBvcmlnaW5hbEV2ZW50KTtcclxuICAgICAgICByZXR1cm4gcmF5SGl0O1xyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuaW50KDEpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY29sbGlzaW9uR3JvdXBcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcImN1cnNvclJheU9iamVjdFwiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmVudW0oWyd4JywgJ3knLCAneicsICdub25lJ10sICd6JylcclxuXSwgQ3Vyc29yLnByb3RvdHlwZSwgXCJjdXJzb3JSYXlTY2FsaW5nQXhpc1wiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5Lm9iamVjdCgpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiY3Vyc29yT2JqZWN0XCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZW51bShbJ2lucHV0IGNvbXBvbmVudCcsICdsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXSwgJ2lucHV0IGNvbXBvbmVudCcpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwiaGFuZGVkbmVzc1wiLCB2b2lkIDApO1xyXG5fX2RlY29yYXRlKFtcclxuICAgIHByb3BlcnR5LmVudW0oWydjb2xsaXNpb24nLCAncGh5c3gnXSwgJ2NvbGxpc2lvbicpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwicmF5Q2FzdE1vZGVcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5mbG9hdCgxMDApXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwibWF4RGlzdGFuY2VcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5ib29sKHRydWUpXHJcbl0sIEN1cnNvci5wcm90b3R5cGUsIFwic3R5bGVDdXJzb3JcIiwgdm9pZCAwKTtcclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5ib29sKGZhbHNlKVxyXG5dLCBDdXJzb3IucHJvdG90eXBlLCBcInVzZVdlYlhSSGl0VGVzdFwiLCB2b2lkIDApO1xyXG5leHBvcnQgeyBDdXJzb3IgfTtcclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG5pbXBvcnQgeyBxdWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbi8qKlxyXG4gKiBQcmludHMgc29tZSBsaW1pdGVkIGRlYnVnIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvYmplY3QuXHJcbiAqXHJcbiAqIEluZm9ybWF0aW9uIGNvbnNpc3RzIG9mOiBUaGlzIG9iamVjdCdzIG5hbWUsIGFuIG9iamVjdCBwYXJhbWV0ZXIncyBuYW1lLFxyXG4gKiB0aGUgb2JqZWN0J3Mgd29ybGQgdHJhbnNsYXRpb24sIHdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtLlxyXG4gKlxyXG4gKiBNYWlubHkgdXNlZCBieSBlbmdpbmUgZGV2ZWxvcGVycyBmb3IgZGVidWcgcHVycG9zZXMgb3IgYXMgZXhhbXBsZSBjb2RlLlxyXG4gKi9cclxuY2xhc3MgRGVidWdPYmplY3QgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2RlYnVnLW9iamVjdCc7XHJcbiAgICAvKiogQSBzZWNvbmQgb2JqZWN0IHRvIHByaW50IHRoZSBuYW1lIG9mICovXHJcbiAgICBvYmogPSBudWxsO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24ob3JpZ2luLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Xb3JsZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RlYnVnIG9iamVjdDonLCB0aGlzLm9iamVjdC5uYW1lKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnT3RoZXIgb2JqZWN0OicsIHRoaXMub2JqPy5uYW1lKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnXFx0dHJhbnNsYXRpb24nLCBvcmlnaW4pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdcXHR0cmFuc2Zvcm1Xb3JsZCcsIHRoaXMub2JqZWN0LnRyYW5zZm9ybVdvcmxkKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnXFx0dHJhbnNmb3JtTG9jYWwnLCB0aGlzLm9iamVjdC50cmFuc2Zvcm1Mb2NhbCk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5vYmplY3QoKVxyXG5dLCBEZWJ1Z09iamVjdC5wcm90b3R5cGUsIFwib2JqXCIsIHZvaWQgMCk7XHJcbmV4cG9ydCB7IERlYnVnT2JqZWN0IH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogRnVuY3Rpb24gdG8gY29udmVydCBhIEV1bGVyIGluIFlYWiBvcmRlciB0byBhIHF1YXRlcm5pb25cclxuICovXHJcbmZ1bmN0aW9uIHF1YXRGcm9tRXVsZXJZWFoob3V0LCB4LCB5LCB6KSB7XHJcbiAgICBjb25zdCBjMSA9IE1hdGguY29zKHggLyAyKTtcclxuICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpO1xyXG4gICAgY29uc3QgYzMgPSBNYXRoLmNvcyh6IC8gMik7XHJcbiAgICBjb25zdCBzMSA9IE1hdGguc2luKHggLyAyKTtcclxuICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpO1xyXG4gICAgY29uc3QgczMgPSBNYXRoLnNpbih6IC8gMik7XHJcbiAgICBvdXRbMF0gPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7XHJcbiAgICBvdXRbMV0gPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7XHJcbiAgICBvdXRbMl0gPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7XHJcbiAgICBvdXRbM10gPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7XHJcbn1cclxuLyoqXHJcbiAqIFJldHJpZXZlIGRldmljZSBvcmllbnRhdGlvbiBmcm9tIGEgbW9iaWxlIGRldmljZSBhbmQgc2V0IHRoZSBvYmplY3Qnc1xyXG4gKiBvcmllbnRhdGlvbiBhY2NvcmRpbmdseS5cclxuICpcclxuICogVXNlZnVsIGZvciBtYWdpYyB3aW5kb3cgZXhwZXJpZW5jZXMuXHJcbiAqL1xyXG5jbGFzcyBEZXZpY2VPcmllbnRhdGlvbkxvb2sgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2RldmljZS1vcmllbnRhdGlvbi1sb29rJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge307XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWCA9IDA7XHJcbiAgICAgICAgdGhpcy5yb3RhdGlvblkgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdENsaWVudFggPSAtMTtcclxuICAgICAgICB0aGlzLmxhc3RDbGllbnRZID0gLTE7XHJcbiAgICB9XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8qIEluaXRpYWxpemUgZGV2aWNlIG9yaWVudGF0aW9uIHdpdGggSWRlbnRpdHkgUXVhdGVybmlvbiAqL1xyXG4gICAgICAgIHRoaXMuZGV2aWNlT3JpZW50YXRpb24gPSBbMCwgMCwgMCwgMV07XHJcbiAgICAgICAgdGhpcy5zY3JlZW5PcmllbnRhdGlvbiA9IHdpbmRvdy5pbm5lckhlaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoID8gMCA6IDkwO1xyXG4gICAgICAgIHRoaXMuX29yaWdpbiA9IFswLCAwLCAwXTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlb3JpZW50YXRpb24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBsZXQgYWxwaGEgPSBlLmFscGhhIHx8IDA7XHJcbiAgICAgICAgICAgIGxldCBiZXRhID0gZS5iZXRhIHx8IDA7XHJcbiAgICAgICAgICAgIGxldCBnYW1tYSA9IGUuZ2FtbWEgfHwgMDtcclxuICAgICAgICAgICAgY29uc3QgdG9SYWQgPSBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICBxdWF0RnJvbUV1bGVyWVhaKHRoaXMuZGV2aWNlT3JpZW50YXRpb24sIGJldGEgKiB0b1JhZCwgYWxwaGEgKiB0b1JhZCwgLWdhbW1hICogdG9SYWQpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JlZW5PcmllbnRhdGlvbiA9IHdpbmRvdy5vcmllbnRhdGlvbiB8fCAwO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8qIERvbid0IHVzZSBkZXZpY2Ugb3JpZW50YXRpb24gaW4gVlIgKi9cclxuICAgICAgICBpZiAodGhpcy5lbmdpbmUueHIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMuX29yaWdpbik7XHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRUcmFuc2Zvcm0oKTtcclxuICAgICAgICBpZiAodGhpcy5zY3JlZW5PcmllbnRhdGlvbiAhPSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZURlZyhbMCwgMCwgLTFdLCB0aGlzLnNjcmVlbk9yaWVudGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlKFstTWF0aC5zcXJ0KDAuNSksIDAsIDAsIE1hdGguc3FydCgwLjUpXSk7XHJcbiAgICAgICAgdGhpcy5vYmplY3Qucm90YXRlKHRoaXMuZGV2aWNlT3JpZW50YXRpb24pO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LnRyYW5zbGF0ZSh0aGlzLl9vcmlnaW4pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IERldmljZU9yaWVudGF0aW9uTG9vayB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuLyoqXHJcbiAqIEVuYWJsZXMgaW50ZXJhY3Rpb24gd2l0aCBjdXJzb3ItdGFyZ2V0cyB0aHJvdWdoIGNvbGxpc2lvbiBvdmVybGFwcyxcclxuICogZS5nLiBvbiB0aGUgdGlwIG9mIGEgZmluZ2VyIG9uIGEgdHJhY2tlZCBoYW5kLlxyXG4gKlxyXG4gKiAqKlJlcXVpcmVtZW50czoqKlxyXG4gKiAgLSBBIGNvbGxpc2lvbiBjb21wb25lbnQgKHVzdWFsbHkgYSBzcGhlcmUgd2l0aCBgMC4wNWAgcmFkaXVzKSBvbiB0aGUgc2FtZSBvYmplY3RcclxuICpcclxuICogQHNpbmNlIDAuOC41XHJcbiAqL1xyXG5jbGFzcyBGaW5nZXJDdXJzb3IgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2Zpbmdlci1jdXJzb3InO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7fTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5sYXN0VGFyZ2V0ID0gbnVsbDtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMudGlwID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdjb2xsaXNpb24nKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBvdmVybGFwcyA9IHRoaXMudGlwLnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICBsZXQgb3ZlcmxhcEZvdW5kID0gbnVsbDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG92ZXJsYXBzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG8gPSBvdmVybGFwc1tpXS5vYmplY3Q7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IG8uZ2V0Q29tcG9uZW50KCdjdXJzb3ItdGFyZ2V0Jyk7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmVxdWFscyh0aGlzLmxhc3RUYXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Lm9uSG92ZXIobywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Lm9uQ2xpY2sobywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvdmVybGFwRm91bmQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW92ZXJsYXBGb3VuZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0VGFyZ2V0KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0Lm9uVW5ob3Zlcih0aGlzLmxhc3RUYXJnZXQub2JqZWN0LCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0VGFyZ2V0ID0gb3ZlcmxhcEZvdW5kO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBGaW5nZXJDdXJzb3IgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbi8qKlxyXG4gKiBBcHBsaWVzIFtmaXhlZCBmb3ZlYXRpb25dKGh0dHBzOi8vd3d3LnczLm9yZy9UUi93ZWJ4cmxheWVycy0xLyNkb20teHJjb21wb3NpdGlvbmxheWVyLWZpeGVkZm92ZWF0aW9uKVxyXG4gKiBvbmNlIGEgV2ViWFIgc2Vzc2lvbiBpcyBzdGFydGVkXHJcbiAqXHJcbiAqIEZpeGVkIGZvdmVhdGlvbiByZWR1Y2VzIHNoYWRpbmcgY29zdCBhdCB0aGUgcGVyaXBoZXJ5IGJ5IHJlbmRlcmluZyBhdCBsb3dlciByZXNvbHV0aW9ucyBhdCB0aGVcclxuICogZWRnZXMgb2YgdGhlIHVzZXJzIHZpc2lvbi5cclxuICovXHJcbmNsYXNzIEZpeGVkRm92ZWF0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdmaXhlZC1mb3ZlYXRpb24nO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIEFtb3VudCB0byBhcHBseSBmcm9tIDAgKG5vbmUpIHRvIDEgKGZ1bGwpICovXHJcbiAgICAgICAgZml4ZWRGb3ZlYXRpb246IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC41IH0sXHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrID0gdGhpcy5zZXRGaXhlZEZvdmVhdGlvbi5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBzZXRGaXhlZEZvdmVhdGlvbigpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS54ci5iYXNlTGF5ZXIuZml4ZWRGb3ZlYXRpb24gPSB0aGlzLmZpeGVkRm92ZWF0aW9uO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEZpeGVkRm92ZWF0aW9uIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIE1lc2hDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyB2ZWMzLCBxdWF0LCBxdWF0MiB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbCB9IGZyb20gJy4vdXRpbHMvd2VieHIuanMnO1xyXG5jb25zdCBPUkRFUkVEX0pPSU5UUyA9IFtcclxuICAgICd3cmlzdCcsXHJcbiAgICAndGh1bWItbWV0YWNhcnBhbCcsXHJcbiAgICAndGh1bWItcGhhbGFueC1wcm94aW1hbCcsXHJcbiAgICAndGh1bWItcGhhbGFueC1kaXN0YWwnLFxyXG4gICAgJ3RodW1iLXRpcCcsXHJcbiAgICAnaW5kZXgtZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICdpbmRleC1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxyXG4gICAgJ2luZGV4LWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAnaW5kZXgtZmluZ2VyLXRpcCcsXHJcbiAgICAnbWlkZGxlLWZpbmdlci1tZXRhY2FycGFsJyxcclxuICAgICdtaWRkbGUtZmluZ2VyLXBoYWxhbngtcHJveGltYWwnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxyXG4gICAgJ21pZGRsZS1maW5nZXItdGlwJyxcclxuICAgICdyaW5nLWZpbmdlci1tZXRhY2FycGFsJyxcclxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICdyaW5nLWZpbmdlci1waGFsYW54LWludGVybWVkaWF0ZScsXHJcbiAgICAncmluZy1maW5nZXItcGhhbGFueC1kaXN0YWwnLFxyXG4gICAgJ3JpbmctZmluZ2VyLXRpcCcsXHJcbiAgICAncGlua3ktZmluZ2VyLW1ldGFjYXJwYWwnLFxyXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LXByb3hpbWFsJyxcclxuICAgICdwaW5reS1maW5nZXItcGhhbGFueC1pbnRlcm1lZGlhdGUnLFxyXG4gICAgJ3Bpbmt5LWZpbmdlci1waGFsYW54LWRpc3RhbCcsXHJcbiAgICAncGlua3ktZmluZ2VyLXRpcCcsXHJcbl07XHJcbmNvbnN0IGludlRyYW5zbGF0aW9uID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgaW52Um90YXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xyXG4vKipcclxuICogRWFzeSBoYW5kIHRyYWNraW5nIHRocm91Z2ggdGhlIFdlYlhSIERldmljZSBBUElcclxuICogW1wiSGFuZCBJbnB1dFwiIEFQSV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci1oYW5kLWlucHV0LykuXHJcbiAqXHJcbiAqIEFsbG93cyBkaXNwbGF5aW5nIGhhbmRzIGVpdGhlciBhcyBzcGhlcmUtam9pbnRzIG9yIHNraW5uZWQgbWVzaC5cclxuICpcclxuICogVG8gcmVhY3QgdG8gZ3JhYmJpbmcsIHVzZSBgdGhpcy5pc0dyYWJiaW5nKClgLiBGb3Igb3RoZXIgZ2VzdHVyZXMsIHJlZmVyXHJcbiAqIHRvIGB0aGlzLmpvaW50c2AgLSBhbiBhcnJheSBvZiBbV0wuT2JqZWN0XSgvanNhcGkvb2JqZWN0KSBhbmQgdXNlIHRoZSBqb2ludFxyXG4gKiBpbmRpY2VzIGxpc3RlZCBbaW4gdGhlIFdlYlhSIEhhbmQgSW5wdXQgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci1oYW5kLWlucHV0LyNza2VsZXRvbi1qb2ludHMtc2VjdGlvbikuXHJcbiAqXHJcbiAqIEl0IGlzIG9mdGVuIGRlc2lyZWQgdG8gdXNlIGVpdGhlciBoYW5kIHRyYWNraW5nIG9yIGNvbnRyb2xsZXJzLCBub3QgYm90aC5cclxuICogVGhpcyBjb21wb25lbnQgcHJvdmlkZXMgYGRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlYCB0byBoaWRlIHRoZSBoYW5kXHJcbiAqIHRyYWNraW5nIHZpc3VhbGl6YXRpb24gaWYgbm8gcG9zZSBpcyBhdmFpbGFibGUgYW5kIGBjb250cm9sbGVyVG9EZWFjdGl2YXRlYFxyXG4gKiBmb3IgZGlzYWJsaW5nIGFub3RoZXIgb2JqZWN0IG9uY2UgYSBoYW5kIHRyYWNraW5nIHBvc2UgKmlzKiBhdmFpbGFibGUuXHJcbiAqIE91dHNpZGUgb2YgWFIgc2Vzc2lvbnMsIHRyYWNraW5nIG9yIGNvbnRyb2xsZXJzIGFyZSBuZWl0aGVyIGVuYWJsZWQgbm9yIGRpc2FibGVkXHJcbiAqIHRvIHBsYXkgd2VsbCB3aXRoIHRoZSBbdnItbW9kZS1hY3RpdmUtc3dpdGNoXSgjdnItbW9kZS1hY3RpdmUtc3dpdGNoKSBjb21wb25lbnQuXHJcbiAqXHJcbiAqICoqUmVxdWlyZW1lbnRzOioqXHJcbiAqICAtIFRvIHVzZSBoYW5kLXRyYWNraW5nLCBlbmFibGUgXCJqb2ludCB0cmFja2luZ1wiIGluIGBjaHJvbWU6Ly9mbGFnc2Agb25cclxuICogICAgT2N1bHVzIEJyb3dzZXIgZm9yIE9jdWx1cyBRdWVzdC9PY3VsdXMgUXVlc3QgMi5cclxuICpcclxuICogU2VlIFtIYW5kIFRyYWNraW5nIEV4YW1wbGVdKC9zaG93Y2FzZS9oYW5kLXRyYWNraW5nKS5cclxuICovXHJcbmNsYXNzIEhhbmRUcmFja2luZyBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnaGFuZC10cmFja2luZyc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogSGFuZGVkbmVzcyBkZXRlcm1pbmluZyB3aGV0aGVyIHRvIHJlY2VpdmUgdHJhY2tpbmcgaW5wdXQgZnJvbSByaWdodCBvciBsZWZ0IGhhbmQgKi9cclxuICAgICAgICBoYW5kZWRuZXNzOiB7IHR5cGU6IFR5cGUuRW51bSwgZGVmYXVsdDogJ2xlZnQnLCB2YWx1ZXM6IFsnbGVmdCcsICdyaWdodCddIH0sXHJcbiAgICAgICAgLyoqIChvcHRpb25hbCkgTWVzaCB0byB1c2UgdG8gdmlzdWFsaXplIGpvaW50cyAqL1xyXG4gICAgICAgIGpvaW50TWVzaDogeyB0eXBlOiBUeXBlLk1lc2gsIGRlZmF1bHQ6IG51bGwgfSxcclxuICAgICAgICAvKiogTWF0ZXJpYWwgdG8gdXNlIGZvciBkaXNwbGF5LiBBcHBsaWVkIHRvIGVpdGhlciB0aGUgc3Bhd25lZCBza2lubmVkIG1lc2ggb3IgdGhlIGpvaW50IHNwaGVyZXMuICovXHJcbiAgICAgICAgam9pbnRNYXRlcmlhbDogeyB0eXBlOiBUeXBlLk1hdGVyaWFsLCBkZWZhdWx0OiBudWxsIH0sXHJcbiAgICAgICAgLyoqIChvcHRpb25hbCkgU2tpbiB0byBhcHBseSB0cmFja2VkIGpvaW50IHBvc2VzIHRvLiBJZiBub3QgcHJlc2VudCwgam9pbnQgc3BoZXJlcyB3aWxsIGJlIHVzZWQgZm9yIGRpc3BsYXkgaW5zdGVhZC4gKi9cclxuICAgICAgICBoYW5kU2tpbjogeyB0eXBlOiBUeXBlLlNraW4sIGRlZmF1bHQ6IG51bGwgfSxcclxuICAgICAgICAvKiogRGVhY3RpdmF0ZSBjaGlsZHJlbiBpZiBubyBwb3NlIHdhcyB0cmFja2VkICovXHJcbiAgICAgICAgZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2U6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICAgICAgLyoqIENvbnRyb2xsZXIgb2JqZWN0cyB0byBhY3RpdmF0ZSBpbmNsdWRpbmcgY2hpbGRyZW4gaWYgbm8gcG9zZSBpcyBhdmFpbGFibGUgKi9cclxuICAgICAgICBjb250cm9sbGVyVG9EZWFjdGl2YXRlOiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICB9O1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBbJ2xlZnQnLCAncmlnaHQnXVt0aGlzLmhhbmRlZG5lc3NdO1xyXG4gICAgfVxyXG4gICAgam9pbnRzID0ge307XHJcbiAgICBzZXNzaW9uID0gbnVsbDtcclxuICAgIC8qIFdoZXRoZXIgbGFzdCB1cGRhdGUgaGFkIGEgaGFuZCBwb3NlICovXHJcbiAgICBoYXNQb3NlID0gZmFsc2U7XHJcbiAgICBfY2hpbGRyZW5BY3RpdmUgPSB0cnVlO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKCEoJ1hSSGFuZCcgaW4gd2luZG93KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlYlhSIEhhbmQgVHJhY2tpbmcgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaGFuZFNraW4pIHtcclxuICAgICAgICAgICAgbGV0IHNraW4gPSB0aGlzLmhhbmRTa2luO1xyXG4gICAgICAgICAgICBsZXQgam9pbnRJZHMgPSBza2luLmpvaW50SWRzO1xyXG4gICAgICAgICAgICAvKiBNYXAgdGhlIHdyaXN0ICovXHJcbiAgICAgICAgICAgIHRoaXMuam9pbnRzW09SREVSRURfSk9JTlRTWzBdXSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3Qoam9pbnRJZHNbMF0pO1xyXG4gICAgICAgICAgICAvKiBJbmRleCBpbiBPUkRFUkVEX0pPSU5UUyB0aGF0IHdlIGFyZSBtYXBwaW5nIHRvIG91ciBqb2ludHMgKi9cclxuICAgICAgICAgICAgLyogU2tpcCB0aHVtYjAgam9pbnQsIHN0YXJ0IGF0IHRodW1iMSAqL1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGpvaW50SWRzLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgam9pbnQgPSB0aGlzLmVuZ2luZS53cmFwT2JqZWN0KGpvaW50SWRzW2pdKTtcclxuICAgICAgICAgICAgICAgIC8qIHRpcCBqb2ludHMgYXJlIG9ubHkgbmVlZGVkIGZvciBqb2ludCByZW5kZXJpbmcsIHNvIHdlIHNraXAgdGhvc2Ugd2hpbGUgbWFwcGluZyAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5qb2ludHNbam9pbnQubmFtZV0gPSBqb2ludDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGEgaGFuZCBza2luLCBubyBuZWVkIHRvIHNwYXduIHRoZSBqb2ludHMtYmFzZWQgb25lICovXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogU3Bhd24gam9pbnRzICovXHJcbiAgICAgICAgY29uc3Qgam9pbnRPYmplY3RzID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0cyhPUkRFUkVEX0pPSU5UUy5sZW5ndGgsIHRoaXMub2JqZWN0LnBhcmVudCwgT1JERVJFRF9KT0lOVFMubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IE9SREVSRURfSk9JTlRTLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICAgIGxldCBqb2ludCA9IGpvaW50T2JqZWN0c1tqXTtcclxuICAgICAgICAgICAgam9pbnQuYWRkQ29tcG9uZW50KE1lc2hDb21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgIG1lc2g6IHRoaXMuam9pbnRNZXNoLFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMuam9pbnRNYXRlcmlhbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuam9pbnRzW09SREVSRURfSk9JTlRTW2pdXSA9IGpvaW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZS54cilcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBWUkV2ZW50cyh0aGlzLmVuZ2luZS54ci5zZXNzaW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmhhc1Bvc2UgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uICYmIHRoaXMuc2Vzc2lvbi5pbnB1dFNvdXJjZXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlc3Npb24uaW5wdXRTb3VyY2VzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFNvdXJjZSA9IHRoaXMuc2Vzc2lvbi5pbnB1dFNvdXJjZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0U291cmNlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgIWlucHV0U291cmNlLmhhbmQgfHxcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dFNvdXJjZS5oYW5kZWRuZXNzICE9IHRoaXMuaGFuZGVkbmVzcylcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFzUG9zZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3cmlzdFNwYWNlID0gaW5wdXRTb3VyY2UuaGFuZC5nZXQoJ3dyaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAod3Jpc3RTcGFjZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRKb2ludFBvc2Uod3Jpc3RTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRYUlJpZ2lkVHJhbnNmb3JtTG9jYWwodGhpcy5vYmplY3QsIHAudHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRSb3RhdGlvbkxvY2FsKGludlJvdGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHF1YXQuY29uanVnYXRlKGludlJvdGF0aW9uLCBpbnZSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKGludlRyYW5zbGF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgT1JERVJFRF9KT0lOVFMubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludE5hbWUgPSBPUkRFUkVEX0pPSU5UU1tqXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludCA9IHRoaXMuam9pbnRzW2pvaW50TmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW50ID09PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgam9pbnRQb3NlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2ludFNwYWNlID0gaW5wdXRTb3VyY2UuaGFuZC5nZXQoam9pbnROYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoam9pbnRTcGFjZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UgPSB0aGlzLmVuZ2luZS54ci5mcmFtZS5nZXRKb2ludFBvc2Uoam9pbnRTcGFjZSwgdGhpcy5lbmdpbmUueHIuY3VycmVudFJlZmVyZW5jZVNwYWNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvaW50UG9zZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYW5kU2tpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQucmVzZXRUcmFuc2xhdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC50cmFuc2xhdGUoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ucG9zaXRpb24ueCAtIGludlRyYW5zbGF0aW9uWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ucG9zaXRpb24ueSAtIGludlRyYW5zbGF0aW9uWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ucG9zaXRpb24ueiAtIGludlRyYW5zbGF0aW9uWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludC5yb3RhdGUoaW52Um90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnQucm90YXRlT2JqZWN0KFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLngsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbnRQb3NlLnRyYW5zZm9ybS5vcmllbnRhdGlvbi55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50UG9zZS50cmFuc2Zvcm0ub3JpZW50YXRpb24ueixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2ludFBvc2UudHJhbnNmb3JtLm9yaWVudGF0aW9uLncsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChqb2ludCwgam9pbnRQb3NlLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBMYXN0IGpvaW50IHJhZGl1cyBvZiBlYWNoIGZpbmdlciBpcyBudWxsICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gam9pbnRQb3NlLnJhZGl1cyB8fCAwLjAwNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvaW50LnNldFNjYWxpbmdMb2NhbChbciwgciwgcl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5oYXNQb3NlICYmIHRoaXMuX2NoaWxkcmVuQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuQWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYWN0aXZhdGVDaGlsZHJlbldpdGhvdXRQb3NlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENoaWxkcmVuQWN0aXZlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXJUb0RlYWN0aXZhdGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUodHJ1ZSwgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmhhc1Bvc2UgJiYgIXRoaXMuX2NoaWxkcmVuQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGVhY3RpdmF0ZUNoaWxkcmVuV2l0aG91dFBvc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRyZW5BY3RpdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlclRvRGVhY3RpdmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZShmYWxzZSwgdGhpcy5jb250cm9sbGVyVG9EZWFjdGl2YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldENoaWxkcmVuQWN0aXZlKGFjdGl2ZSwgb2JqZWN0KSB7XHJcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0IHx8IHRoaXMub2JqZWN0O1xyXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gb2JqZWN0LmNoaWxkcmVuO1xyXG4gICAgICAgIGZvciAoY29uc3QgbyBvZiBjaGlsZHJlbikge1xyXG4gICAgICAgICAgICBvLmFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDaGlsZHJlbkFjdGl2ZShhY3RpdmUsIG8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlzR3JhYmJpbmcoKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXhUaXBQb3MgPSBbMCwgMCwgMF07XHJcbiAgICAgICAgcXVhdDIuZ2V0VHJhbnNsYXRpb24oaW5kZXhUaXBQb3MsIHRoaXMuam9pbnRzWydpbmRleC1maW5nZXItdGlwJ10udHJhbnNmb3JtTG9jYWwpO1xyXG4gICAgICAgIGNvbnN0IHRodW1iVGlwUG9zID0gWzAsIDAsIDBdO1xyXG4gICAgICAgIHF1YXQyLmdldFRyYW5zbGF0aW9uKHRodW1iVGlwUG9zLCB0aGlzLmpvaW50c1sndGh1bWItdGlwJ10udHJhbnNmb3JtTG9jYWwpO1xyXG4gICAgICAgIHJldHVybiB2ZWMzLnNxckRpc3QodGh1bWJUaXBQb3MsIGluZGV4VGlwUG9zKSA8IDAuMDAxO1xyXG4gICAgfVxyXG4gICAgc2V0dXBWUkV2ZW50cyhzKSB7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gcztcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBIYW5kVHJhY2tpbmcgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCAnaG93bGVyJztcclxuLyoqXHJcbiAqIChTcGF0aWFsKSBhdWRpbyBsaXN0ZW5lciBiYXNlZCBvbiBbSG93bGVyLmpzXShodHRwczovL2hvd2xlcmpzLmNvbS8pLlxyXG4gKlxyXG4gKiBSZXRyaWV2ZXMgdGhlIGxvY2F0aW9uIGFuZCBvcmllbnRhdGlvbiBvZiB0aGUgb2JqZWN0IGFuZCBwYXNzZXMgaXRcclxuICogdG8gW0hvd2xlci5wb3MoKV0oaHR0cHM6Ly9naXRodWIuY29tL2dvbGRmaXJlL2hvd2xlci5qcyNwb3N4LXktei1pZClcclxuICogYW5kIFtIb3dsZXIub3JpZW50YXRpb24oKV0oaHR0cHM6Ly9naXRodWIuY29tL2dvbGRmaXJlL2hvd2xlci5qcyNvcmllbnRhdGlvbngteS16LWlkKS5cclxuICovXHJcbmNsYXNzIEhvd2xlckF1ZGlvTGlzdGVuZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hvd2xlci1hdWRpby1saXN0ZW5lcic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogV2hldGhlciBhdWRpbyBzaG91bGQgYmUgc3BhdGlhbGl6ZWQvcG9zaXRpb25hbC4gKi9cclxuICAgICAgICBzcGF0aWFsOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgfTtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuZndkID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgICAgICB0aGlzLnVwID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3BhdGlhbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5vcmlnaW4pO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldEZvcndhcmQodGhpcy5md2QpO1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFVwKHRoaXMudXApO1xyXG4gICAgICAgIEhvd2xlci5wb3ModGhpcy5vcmlnaW5bMF0sIHRoaXMub3JpZ2luWzFdLCB0aGlzLm9yaWdpblsyXSk7XHJcbiAgICAgICAgSG93bGVyLm9yaWVudGF0aW9uKHRoaXMuZndkWzBdLCB0aGlzLmZ3ZFsxXSwgdGhpcy5md2RbMl0sIHRoaXMudXBbMF0sIHRoaXMudXBbMV0sIHRoaXMudXBbMl0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IEhvd2xlckF1ZGlvTGlzdGVuZXIgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCAnaG93bGVyJztcclxuLyoqXHJcbiAqIChTcGF0aWFsKSBhdWRpbyBzb3VyY2UgYmFzZWQgb24gW0hvd2xlci5qc10oaHR0cHM6Ly9ob3dsZXJqcy5jb20vKS5cclxuICpcclxuICogQ3JlYXRlcyBhIEhvd2xlciBhdWRpbyBzb3VyY2UsIHBsYXlzIGFuIGF1ZGlvIGZpbGUgb24gaXQgYW5kIHVwZGF0ZXNcclxuICogaXRzIHBvc2l0aW9uLlxyXG4gKlxyXG4gKiBPcHRpbWl6ZXMgdGhlIHBvc2l0aW9uIHVwZGF0ZSB0byBvbmx5IHVwZGF0ZSBpZiB0aGUgZGlmZmVyZW5jZSB0byBsYXN0XHJcbiAqIHBvc2l0aW9uIGlzIGxhcmdlciB0aGFuIGhhbGYgYSBjZW50aW1ldGVyLiBUbyBmb3JjZSB1cGRhdGVzIChlLmcuIGlmXHJcbiAqIHRoZSBzb3VuZCBzb3VyY2UgaXMgX3ZlcnlfIGNsb3NlIHRvIHRoZSBsaXN0ZW5lciksXHJcbiAqIHVzZSBgLnVwZGF0ZVBvc2l0aW9uKClgLlxyXG4gKi9cclxuY2xhc3MgSG93bGVyQXVkaW9Tb3VyY2UgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2hvd2xlci1hdWRpby1zb3VyY2UnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFZvbHVtZSAqL1xyXG4gICAgICAgIHZvbHVtZTogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAxLjAgfSxcclxuICAgICAgICAvKiogV2hldGhlciBhdWRpbyBzaG91bGQgYmUgc3BhdGlhbGl6ZWQvcG9zaXRpb25hbCAqL1xyXG4gICAgICAgIHNwYXRpYWw6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbG9vcCB0aGUgc291bmQgKi9cclxuICAgICAgICBsb29wOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgICAgICAvKiogV2hldGhlciB0byBzdGFydCBwbGF5aW5nIGF1dG9tYXRpY2FsbHkgKi9cclxuICAgICAgICBhdXRvcGxheTogeyB0eXBlOiBUeXBlLkJvb2wsIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgICAgICAgLyoqIFVSTCB0byBhIHNvdW5kIGZpbGUgdG8gcGxheSAqL1xyXG4gICAgICAgIHNyYzogeyB0eXBlOiBUeXBlLlN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICAgIH07XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvID0gbmV3IEhvd2woe1xyXG4gICAgICAgICAgICBzcmM6IFt0aGlzLnNyY10sXHJcbiAgICAgICAgICAgIGxvb3A6IHRoaXMubG9vcCxcclxuICAgICAgICAgICAgdm9sdW1lOiB0aGlzLnZvbHVtZSxcclxuICAgICAgICAgICAgYXV0b3BsYXk6IHRoaXMuYXV0b3BsYXksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMubGFzdE9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc3BhdGlhbCAmJiB0aGlzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zcGF0aWFsIHx8ICF0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5vYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLm9yaWdpbik7XHJcbiAgICAgICAgLyogT25seSBjYWxsIHBvcygpIGlmIHRoZSBwb3NpdGlvbiBtb3ZlZCBtb3JlIHRoYW4gaGFsZiBhIGNlbnRpbWV0ZXJcclxuICAgICAgICAgKiBvdGhlcndpc2UgdGhpcyBnZXRzIHZlcnkgcGVyZm9ybWFuY2UgaGVhdnkuXHJcbiAgICAgICAgICogU21hbGxlciBtb3ZlbWVudCBzaG91bGQgb25seSBiZSBwZXJjZWl2YWJsZSBpZiBjbG9zZSB0byB0aGVcclxuICAgICAgICAgKiBlYXIgYW55d2F5LiAqL1xyXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmxhc3RPcmlnaW5bMF0gLSB0aGlzLm9yaWdpblswXSkgPiAwLjAwNSB8fFxyXG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLmxhc3RPcmlnaW5bMV0gLSB0aGlzLm9yaWdpblsxXSkgPiAwLjAwNSB8fFxyXG4gICAgICAgICAgICBNYXRoLmFicyh0aGlzLmxhc3RPcmlnaW5bMl0gLSB0aGlzLm9yaWdpblsyXSkgPiAwLjAwNSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlUG9zaXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wb3ModGhpcy5vcmlnaW5bMF0sIHRoaXMub3JpZ2luWzFdLCB0aGlzLm9yaWdpblsyXSwgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XHJcbiAgICAgICAgdGhpcy5sYXN0T3JpZ2luLnNldCh0aGlzLm9yaWdpbik7XHJcbiAgICB9XHJcbiAgICBwbGF5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKVxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnN0b3AodGhpcy5sYXN0UGxheWVkQXVkaW9JZCk7XHJcbiAgICAgICAgdGhpcy5sYXN0UGxheWVkQXVkaW9JZCA9IHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnNwYXRpYWwpXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcclxuICAgIH1cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RQbGF5ZWRBdWRpb0lkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5hdWRpby5zdG9wKHRoaXMubGFzdFBsYXllZEF1ZGlvSWQpO1xyXG4gICAgICAgIHRoaXMubGFzdFBsYXllZEF1ZGlvSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIC8qIFN0b3Agc291bmQgd2hlbiBjb21wb25lbnQgaXMgZGVhY3RpdmF0ZWQgb3IgZGVzdHJveWVkLCBlLmcuXHJcbiAgICAgICAgICogd2hlbiBzd2l0Y2hpbmcgc2NlbmVzICovXHJcbiAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgSG93bGVyQXVkaW9Tb3VyY2UgfTtcclxuIiwgIi8qKlxyXG4gKiBTZXQgdGhlIGRpZmZ1c2UvZmxhdCB0ZXh0dXJlIG9mIGtub3duIHBpcGVsaW5lcy5cclxuICpcclxuICogQHBhcmFtIG1hdCBNYXRlcmlhbCB0byBzZXQgdGhlIHRleHR1cmUgb25cclxuICogQHBhcmFtIHRleHR1cmUgVGV4dHVyZSB0byBzZXRcclxuICogQHBhcmFtIGN1c3RvbVRleHR1cmVQcm9wZXJ0eSBUZXh0dXJlIHByb3BlcnR5IHRvIHNldCBvciBgJ2F1dG8nYCB0byBhdXRvbWF0aWNhbGx5XHJcbiAqICAgICAgZGV0ZWN0IHRoZSByaWdodCB0ZXh0dXJlIHByb3BlcnR5IGJhc2VkIG9uIGtub3duIHBpcGVsaW5lLlxyXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IHdhcyBzZXQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlKG1hdCwgdGV4dHVyZSwgY3VzdG9tVGV4dHVyZVByb3BlcnR5KSB7XHJcbiAgICBpZiAoY3VzdG9tVGV4dHVyZVByb3BlcnR5ICE9PSAnYXV0bycpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0W2N1c3RvbVRleHR1cmVQcm9wZXJ0eV0gPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc2hhZGVyID0gbWF0LnNoYWRlcjtcclxuICAgIGlmIChzaGFkZXIgPT09ICdGbGF0IE9wYXF1ZSBUZXh0dXJlZCcpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0LmZsYXRUZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ1Bob25nIE9wYXF1ZSBUZXh0dXJlZCcgfHxcclxuICAgICAgICBzaGFkZXIgPT09ICdGb2xpYWdlJyB8fFxyXG4gICAgICAgIHNoYWRlciA9PT0gJ1Bob25nIE5vcm1hbG1hcHBlZCcgfHxcclxuICAgICAgICBzaGFkZXIgPT09ICdQaG9uZyBMaWdodG1hcHBlZCcpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0LmRpZmZ1c2VUZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHNoYWRlciA9PT0gJ1BhcnRpY2xlJykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQubWFpblRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnRGlzdGFuY2VGaWVsZFZlY3RvcicpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgbWF0LnZlY3RvclRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hhZGVyID09PSAnQmFja2dyb3VuZCcgfHwgc2hhZGVyID09PSAnU2t5Jykge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBtYXQudGV4dHVyZSA9IHRleHR1cmU7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChzaGFkZXIgPT09ICdQaHlzaWNhbCBPcGFxdWUgVGV4dHVyZWQnKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIG1hdC5hbGJlZG9UZXh0dXJlID0gdGV4dHVyZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlIH0gZnJvbSAnLi91dGlscy91dGlscy5qcyc7XHJcbi8qKlxyXG4gKiBEb3dubG9hZHMgYW4gaW1hZ2UgZnJvbSBVUkwgYW5kIGFwcGxpZXMgaXQgYXMgYGRpZmZ1c2VUZXh0dXJlYCBvciBgZmxhdFRleHR1cmVgXHJcbiAqIHRvIGFuIGF0dGFjaGVkIG1lc2ggY29tcG9uZW50LlxyXG4gKlxyXG4gKiBNYXRlcmlhbHMgZnJvbSB0aGUgZm9sbG93aW5nIHNoYWRlcnMgYXJlIHN1cHBvcnRlZDpcclxuICogIC0gXCJQaG9uZyBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkZsYXQgT3BhcXVlIFRleHR1cmVkXCJcclxuICogIC0gXCJCYWNrZ3JvdW5kXCJcclxuICogIC0gXCJQaHlzaWNhbCBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkZvbGlhZ2VcIlxyXG4gKi9cclxuY2xhc3MgSW1hZ2VUZXh0dXJlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdpbWFnZS10ZXh0dXJlJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBVUkwgdG8gZG93bmxvYWQgdGhlIGltYWdlIGZyb20gKi9cclxuICAgICAgICB1cmw6IFByb3BlcnR5LnN0cmluZygpLFxyXG4gICAgICAgIC8qKiBNYXRlcmlhbCB0byBhcHBseSB0aGUgdmlkZW8gdGV4dHVyZSB0byAqL1xyXG4gICAgICAgIG1hdGVyaWFsOiBQcm9wZXJ0eS5tYXRlcmlhbCgpLFxyXG4gICAgICAgIC8qKiBOYW1lIG9mIHRoZSB0ZXh0dXJlIHByb3BlcnR5IHRvIHNldCAqL1xyXG4gICAgICAgIHRleHR1cmVQcm9wZXJ0eTogUHJvcGVydHkuc3RyaW5nKCdhdXRvJyksXHJcbiAgICB9O1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdpbWFnZS10ZXh0dXJlOiBtYXRlcmlhbCBwcm9wZXJ0eSBub3Qgc2V0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW5naW5lLnRleHR1cmVzXHJcbiAgICAgICAgICAgIC5sb2FkKHRoaXMudXJsLCAnYW5vbnltb3VzJylcclxuICAgICAgICAgICAgLnRoZW4oKHRleHR1cmUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWF0ID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICAgICAgaWYgKCFzZXRGaXJzdE1hdGVyaWFsVGV4dHVyZShtYXQsIHRleHR1cmUsIHRoaXMudGV4dHVyZVByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2hhZGVyJywgbWF0LnNoYWRlciwgJ25vdCBzdXBwb3J0ZWQgYnkgaW1hZ2UtdGV4dHVyZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBJbWFnZVRleHR1cmUgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG4vKipcclxuICogQ29udHJvbHMgdGhlIGNhbWVyYSB0aHJvdWdoIG1vdXNlIG1vdmVtZW50LlxyXG4gKlxyXG4gKiBFZmZpY2llbnRseSBpbXBsZW1lbnRlZCB0byBhZmZlY3Qgb2JqZWN0IG9yaWVudGF0aW9uIG9ubHlcclxuICogd2hlbiB0aGUgbW91c2UgbW92ZXMuXHJcbiAqL1xyXG5jbGFzcyBNb3VzZUxvb2tDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ21vdXNlLWxvb2snO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIE1vdXNlIGxvb2sgc2Vuc2l0aXZpdHkgKi9cclxuICAgICAgICBzZW5zaXRpdHk6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4yNSB9LFxyXG4gICAgICAgIC8qKiBSZXF1aXJlIGEgbW91c2UgYnV0dG9uIHRvIGJlIHByZXNzZWQgdG8gY29udHJvbCB2aWV3LlxyXG4gICAgICAgICAqIE90aGVyd2lzZSB2aWV3IHdpbGwgYWxsd2F5cyBmb2xsb3cgbW91c2UgbW92ZW1lbnQgKi9cclxuICAgICAgICByZXF1aXJlTW91c2VEb3duOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgICAgIC8qKiBJZiBcIm1vdmVPbkNsaWNrXCIgaXMgZW5hYmxlZCwgbW91c2UgYnV0dG9uIHdoaWNoIHNob3VsZFxyXG4gICAgICAgICAqIGJlIGhlbGQgZG93biB0byBjb250cm9sIHZpZXcgKi9cclxuICAgICAgICBtb3VzZUJ1dHRvbkluZGV4OiB7IHR5cGU6IFR5cGUuSW50IH0sXHJcbiAgICAgICAgLyoqIEVuYWJsZXMgcG9pbnRlciBsb2NrIG9uIFwibW91c2Vkb3duXCIgZXZlbnQgb24gY2FudmFzICovXHJcbiAgICAgICAgcG9pbnRlckxvY2tPbkNsaWNrOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFJvdGF0aW9uWSA9IDA7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YID0gMDtcclxuICAgICAgICB0aGlzLm9yaWdpbiA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRPcmlnaW4gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMucm90YXRpb25YID0gMDtcclxuICAgICAgICB0aGlzLnJvdGF0aW9uWSA9IDA7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUgJiYgKHRoaXMubW91c2VEb3duIHx8ICF0aGlzLnJlcXVpcmVNb3VzZURvd24pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWSA9ICgtdGhpcy5zZW5zaXRpdHkgKiBlLm1vdmVtZW50WCkgLyAxMDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uWCA9ICgtdGhpcy5zZW5zaXRpdHkgKiBlLm1vdmVtZW50WSkgLyAxMDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggKz0gdGhpcy5yb3RhdGlvblg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblkgKz0gdGhpcy5yb3RhdGlvblk7XHJcbiAgICAgICAgICAgICAgICAvKiAxLjUwNyA9IFBJLzIgPSA5MFx1MDBCMCAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um90YXRpb25YID0gTWF0aC5taW4oMS41MDcsIHRoaXMuY3VycmVudFJvdGF0aW9uWCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3RhdGlvblggPSBNYXRoLm1heCgtMS41MDcsIHRoaXMuY3VycmVudFJvdGF0aW9uWCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMub3JpZ2luKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMub2JqZWN0LnBhcmVudDtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLnBhcmVudE9yaWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodGhpcy5vcmlnaW4sIHRoaXMub3JpZ2luLCB0aGlzLnBhcmVudE9yaWdpbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5yZXNldFRyYW5zbGF0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMSwgMCwgMF0sIHRoaXMuY3VycmVudFJvdGF0aW9uWCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdC5yb3RhdGVBeGlzQW5nbGVSYWQoWzAsIDEsIDBdLCB0aGlzLmN1cnJlbnRSb3RhdGlvblkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlKHRoaXMub3JpZ2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZW5naW5lLmNhbnZhcztcclxuICAgICAgICBpZiAodGhpcy5wb2ludGVyTG9ja09uQ2xpY2spIHtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgPVxyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5yZXF1ZXN0UG9pbnRlckxvY2sgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLm1velJlcXVlc3RQb2ludGVyTG9jayB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrO1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jaygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucmVxdWlyZU1vdXNlRG93bikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tb3VzZUJ1dHRvbkluZGV4ID09IDIpIHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuYnV0dG9uID09IHRoaXMubW91c2VCdXR0b25JbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuYnV0dG9uID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBQcmV2ZW50IHNjcm9sbGluZyAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuYnV0dG9uID09IHRoaXMubW91c2VCdXR0b25JbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnaW5pdGlhbCc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBNb3VzZUxvb2tDb21wb25lbnQgfTtcclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpL2RlY29yYXRvcnMuanMnO1xyXG4vKipcclxuICogU2V0IHBsYXllciBoZWlnaHQgZm9yIGEgWS1vZmZzZXQgYWJvdmUgdGhlIGdyb3VuZCBmb3JcclxuICogJ2xvY2FsJyBhbmQgJ3ZpZXdlcicgcmVmZXJlbmNlIHNwYWNlcy5cclxuICovXHJcbmNsYXNzIFBsYXllckhlaWdodCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAncGxheWVyLWhlaWdodCc7XHJcbiAgICBoZWlnaHQgPSAxLjc1O1xyXG4gICAgb25TZXNzaW9uU3RhcnRDYWxsYmFjaztcclxuICAgIG9uU2Vzc2lvbkVuZENhbGxiYWNrO1xyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoWzAuMCwgdGhpcy5oZWlnaHQsIDAuMF0pO1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMub25YUlNlc3Npb25TdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uRW5kLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQuYWRkKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQucmVtb3ZlKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25FbmQucmVtb3ZlKHRoaXMub25TZXNzaW9uRW5kQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25TdGFydCgpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5lbmdpbmUueHI/LmN1cnJlbnRSZWZlcmVuY2VTcGFjZVR5cGU7XHJcbiAgICAgICAgaWYgKHR5cGUgIT09ICdsb2NhbCcgJiYgdHlwZSAhPT0gJ3ZpZXdlcicpIHtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QucmVzZXRQb3NpdGlvblJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25YUlNlc3Npb25FbmQoKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZW5naW5lLnhyPy5jdXJyZW50UmVmZXJlbmNlU3BhY2VUeXBlO1xyXG4gICAgICAgIGlmICh0eXBlICE9PSAnbG9jYWwnICYmIHR5cGUgIT09ICd2aWV3ZXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2JqZWN0LnJlc2V0UG9zaXRpb25Sb3RhdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC50cmFuc2xhdGVMb2NhbChbMC4wLCB0aGlzLmhlaWdodCwgMC4wXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuZmxvYXQoMS43NSlcclxuXSwgUGxheWVySGVpZ2h0LnByb3RvdHlwZSwgXCJoZWlnaHRcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgUGxheWVySGVpZ2h0IH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogU2V0cyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZVxyXG4gKlxyXG4gKiBbVXBkYXRlcyB0aGUgdGFyZ2V0IGZyYW1lcmF0ZV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci8jZG9tLXhyc2Vzc2lvbi11cGRhdGV0YXJnZXRmcmFtZXJhdGUpXHJcbiAqIHRvIHRoZSBjbG9zZXN0IFtzdXBwb3J0ZWQgdGFyZ2V0IGZyYW1lcmF0ZV0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby93ZWJ4ci8jZG9tLXhyc2Vzc2lvbi1zdXBwb3J0ZWRGcmFtZVJhdGVzKVxyXG4gKiB0byB0aGUgZ2l2ZW4gYGZyYW1lcmF0ZWAuXHJcbiAqXHJcbiAqIFRoZSB0YXJnZXQgZnJhbWVyYXRlIGlzIHVzZWQgZm9yIHRoZSBkZXZpY2UncyBWUiBjb21wb3NpdG9yIGFzIGFuIGluZGljYXRpb24gb2YgaG93IG9mdGVuIHRvIHJlZnJlc2ggdGhlXHJcbiAqIHNjcmVlbiB3aXRoIG5ldyBpbWFnZXMuIFRoaXMgbWVhbnMgdGhlIGFwcCB3aWxsIGJlIGFza2VkIHRvIHByb2R1Y2UgZnJhbWVzIGluIG1vcmUgcmVndWxhciBpbnRlcnZhbHMsXHJcbiAqIHBvdGVudGlhbGx5IHNwZW5kaW5nIGxlc3MgdGltZSBvbiBmcmFtZXMgdGhhdCBhcmUgbGlrZWx5IHRvIGJlIGRyb3BwZWQuXHJcbiAqXHJcbiAqIEZvciBhcHBzIHdpdGggaGVhdnkgbG9hZCwgc2V0dGluZyBhIHdlbGwgbWF0Y2hpbmcgdGFyZ2V0IGZyYW1lcmF0ZSBjYW4gaW1wcm92ZSB0aGUgYXBwcyByZW5kZXJpbmcgc3RhYmlsaXR5XHJcbiAqIGFuZCByZWR1Y2Ugc3R1dHRlci5cclxuICpcclxuICogTGlrZXdpc2UsIHRoZSB0YXJnZXQgZnJhbWVyYXRlIGNhbiBiZSB1c2VkIHRvIGVuYWJsZSAxMjBIeiByZWZyZXNoIHJhdGVzIG9uIE9jdWx1cyBRdWVzdCAyIG9uIHNpbXBsZXIgYXBwcy5cclxuICovXHJcbmNsYXNzIFRhcmdldEZyYW1lcmF0ZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndGFyZ2V0LWZyYW1lcmF0ZSc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBmcmFtZXJhdGU6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogOTAuMCB9LFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayA9IHRoaXMuc2V0VGFyZ2V0RnJhbWVyYXRlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uU3RhcnQuYWRkKHRoaXMub25TZXNzaW9uU3RhcnRDYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBvbkRlYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5yZW1vdmUodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIHNldFRhcmdldEZyYW1lcmF0ZShzKSB7XHJcbiAgICAgICAgaWYgKHMuc3VwcG9ydGVkRnJhbWVSYXRlcyAmJiBzLnVwZGF0ZVRhcmdldEZyYW1lUmF0ZSkge1xyXG4gICAgICAgICAgICBjb25zdCBhID0gdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi5zdXBwb3J0ZWRGcmFtZVJhdGVzO1xyXG4gICAgICAgICAgICBhLnNvcnQoKGEsIGIpID0+IE1hdGguYWJzKGEgLSB0aGlzLmZyYW1lcmF0ZSkgLSBNYXRoLmFicyhiIC0gdGhpcy5mcmFtZXJhdGUpKTtcclxuICAgICAgICAgICAgdGhpcy5lbmdpbmUueHIuc2Vzc2lvbi51cGRhdGVUYXJnZXRGcmFtZVJhdGUoYVswXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFRhcmdldEZyYW1lcmF0ZSB9O1xyXG4iLCAiaW1wb3J0IHsgdmVjMywgcXVhdDIgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogVGVsZXBvcnQgVlIgbG9jb21vdGlvbi5cclxuICpcclxuICogU2VlIFtUZWxlcG9ydCBFeGFtcGxlXSgvc2hvd2Nhc2UvdGVsZXBvcnQpLlxyXG4gKi9cclxuY2xhc3MgVGVsZXBvcnRDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3RlbGVwb3J0JztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBPYmplY3QgdGhhdCB3aWxsIGJlIHBsYWNlZCBhcyBpbmRpY2lhdGlvbiBmb3J3aGVyZSB0aGUgcGxheWVyIHdpbGwgdGVsZXBvcnQgdG8uICovXHJcbiAgICAgICAgdGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0OiB7IHR5cGU6IFR5cGUuT2JqZWN0IH0sXHJcbiAgICAgICAgLyoqIFJvb3Qgb2YgdGhlIHBsYXllciwgdGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgcG9zaXRpb25lZCBvbiB0ZWxlcG9ydGF0aW9uLiAqL1xyXG4gICAgICAgIGNhbVJvb3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogTm9uLXZyIGNhbWVyYSBmb3IgdXNlIG91dHNpZGUgb2YgVlIgKi9cclxuICAgICAgICBjYW06IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogTGVmdCBleWUgZm9yIHVzZSBpbiBWUiovXHJcbiAgICAgICAgZXllTGVmdDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgICAgIC8qKiBSaWdodCBleWUgZm9yIHVzZSBpbiBWUiovXHJcbiAgICAgICAgZXllUmlnaHQ6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgICAgICAvKiogSGFuZGVkbmVzcyBmb3IgVlIgY3Vyc29ycyB0byBhY2NlcHQgdHJpZ2dlciBldmVudHMgb25seSBmcm9tIHJlc3BlY3RpdmUgY29udHJvbGxlci4gKi9cclxuICAgICAgICBoYW5kZWRuZXNzOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFR5cGUuRW51bSxcclxuICAgICAgICAgICAgdmFsdWVzOiBbJ2lucHV0IGNvbXBvbmVudCcsICdsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnXSxcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2lucHV0IGNvbXBvbmVudCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiogQ29sbGlzaW9uIGdyb3VwIG9mIHZhbGlkIFwiZmxvb3JcIiBvYmplY3RzIHRoYXQgY2FuIGJlIHRlbGVwb3J0ZWQgb24gKi9cclxuICAgICAgICBmbG9vckdyb3VwOiB7IHR5cGU6IFR5cGUuSW50LCBkZWZhdWx0OiAxIH0sXHJcbiAgICAgICAgLyoqIEhvdyBmYXIgdGhlIHRodW1ic3RpY2sgbmVlZHMgdG8gYmUgcHVzaGVkIHRvIGhhdmUgdGhlIHRlbGVwb3J0IHRhcmdldCBpbmRpY2F0b3Igc2hvdyB1cCAqL1xyXG4gICAgICAgIHRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAtMC43IH0sXHJcbiAgICAgICAgLyoqIEhvdyBmYXIgdGhlIHRodW1ic3RpY2sgbmVlZHMgdG8gYmUgcmVsZWFzZWQgdG8gZXhlY3V0ZSB0aGUgdGVsZXBvcnQgKi9cclxuICAgICAgICB0aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjMgfSxcclxuICAgICAgICAvKiogT2Zmc2V0IHRvIGFwcGx5IHRvIHRoZSBpbmRpY2F0b3Igb2JqZWN0LCBlLmcuIHRvIGF2b2lkIGl0IGZyb20gWi1maWdodGluZyB3aXRoIHRoZSBmbG9vciAqL1xyXG4gICAgICAgIGluZGljYXRvcllPZmZzZXQ6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMC4wMSB9LFxyXG4gICAgICAgIC8qKiBNb2RlIGZvciByYXljYXN0aW5nLCB3aGV0aGVyIHRvIHVzZSBQaHlzWCBvciBzaW1wbGUgY29sbGlzaW9uIGNvbXBvbmVudHMgKi9cclxuICAgICAgICByYXlDYXN0TW9kZToge1xyXG4gICAgICAgICAgICB0eXBlOiBUeXBlLkVudW0sXHJcbiAgICAgICAgICAgIHZhbHVlczogWydjb2xsaXNpb24nLCAncGh5c3gnXSxcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2NvbGxpc2lvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiogTWF4IGRpc3RhbmNlIGZvciBQaHlzWCByYXljYXN0ICovXHJcbiAgICAgICAgbWF4RGlzdGFuY2U6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMTAwLjAgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcyA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XHJcbiAgICAgICAgdGhpcy5fdGVtcFZlYyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFZlYzAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgnaW5wdXQnKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5wdXQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcih0aGlzLm9iamVjdC5uYW1lLCAnZ2VuZXJpYy10ZWxlcG9ydC1jb21wb25lbnQuanM6IGlucHV0IGNvbXBvbmVudCBpcyByZXF1aXJlZCBvbiB0aGUgb2JqZWN0Jyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHRoaXMub2JqZWN0Lm5hbWUsICdnZW5lcmljLXRlbGVwb3J0LWNvbXBvbmVudC5qczogVGVsZXBvcnQgaW5kaWNhdG9yIG1lc2ggaXMgbWlzc2luZycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5jYW1Sb290KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGhpcy5vYmplY3QubmFtZSwgJ2dlbmVyaWMtdGVsZXBvcnQtY29tcG9uZW50LmpzOiBjYW1Sb290IG5vdCBzZXQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmhpdFNwb3QgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgICAgIHRoaXMuX2hhc0hpdCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2V4dHJhUm90YXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXMgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNNb3VzZUluZGljYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmhhbmRlZG5lc3MgPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dENvbXAgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGlmICghaW5wdXRDb21wKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3RlbGVwb3J0IGNvbXBvbmVudCBvbiBvYmplY3QnLCB0aGlzLm9iamVjdC5uYW1lLCAnd2FzIGNvbmZpZ3VyZWQgd2l0aCBoYW5kZWRuZXNzIFwiaW5wdXQgY29tcG9uZW50XCIsICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdidXQgb2JqZWN0IGhhcyBubyBpbnB1dCBjb21wb25lbnQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRlZG5lc3MgPSBpbnB1dENvbXAuaGFuZGVkbmVzcztcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dENvbXA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGVkbmVzcyA9IFsnbGVmdCcsICdyaWdodCddW3RoaXMuaGFuZGVkbmVzcyAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLnNldHVwVlJFdmVudHMuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIG9uQWN0aXZhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUub25YUlNlc3Npb25TdGFydC5hZGQodGhpcy5vblNlc3Npb25TdGFydENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyogR2V0IGN1cnJlbnQgY2FtZXJhIFkgcm90YXRpb24gKi9cclxuICAgIF9nZXRDYW1Sb3RhdGlvbigpIHtcclxuICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcclxuICAgICAgICB0aGlzLl90ZW1wVmVjWzFdID0gMDtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl90ZW1wVmVjLCB0aGlzLl90ZW1wVmVjKTtcclxuICAgICAgICByZXR1cm4gTWF0aC5hdGFuMih0aGlzLl90ZW1wVmVjWzBdLCB0aGlzLl90ZW1wVmVjWzJdKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBsZXQgaW5wdXRMZW5ndGggPSAwO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVwYWQgJiYgdGhpcy5nYW1lcGFkLmF4ZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0aWNrQXhlc1swXSA9IHRoaXMuZ2FtZXBhZC5heGVzWzJdO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdID0gdGhpcy5nYW1lcGFkLmF4ZXNbM107XHJcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoID1cclxuICAgICAgICAgICAgICAgIE1hdGguYWJzKHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMF0pICsgTWF0aC5hYnModGhpcy5fY3VycmVudFN0aWNrQXhlc1sxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5pc0luZGljYXRpbmcgJiZcclxuICAgICAgICAgICAgdGhpcy5fcHJldlRodW1ic3RpY2tBeGlzWzFdID49IHRoaXMudGh1bWJzdGlja0FjdGl2YXRpb25UaHJlc2hob2xkICYmXHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdGlja0F4ZXNbMV0gPCB0aGlzLnRodW1ic3RpY2tBY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNJbmRpY2F0aW5nICYmXHJcbiAgICAgICAgICAgIGlucHV0TGVuZ3RoIDwgdGhpcy50aHVtYnN0aWNrRGVhY3RpdmF0aW9uVGhyZXNoaG9sZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5kaWNhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGVsZXBvcnRQbGF5ZXIodGhpcy5oaXRTcG90LCB0aGlzLl9leHRyYVJvdGF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc0luZGljYXRpbmcgJiYgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pbnB1dCkge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW4gPSB0aGlzLl90ZW1wVmVjMDtcclxuICAgICAgICAgICAgdGhpcy5vYmplY3QuZ2V0UG9zaXRpb25Xb3JsZChvcmlnaW4pO1xyXG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLm9iamVjdC5nZXRGb3J3YXJkV29ybGQodGhpcy5fdGVtcFZlYyk7XHJcbiAgICAgICAgICAgIGxldCByYXlIaXQgPSAodGhpcy5yYXlIaXQgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVuZ2luZS5zY2VuZS5yYXlDYXN0KG9yaWdpbiwgZGlyZWN0aW9uLCAxIDw8IHRoaXMuZmxvb3JHcm91cClcclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZW5naW5lLnBoeXNpY3MucmF5Q2FzdChvcmlnaW4sIGRpcmVjdGlvbiwgMSA8PCB0aGlzLmZsb29yR3JvdXAsIHRoaXMubWF4RGlzdGFuY2UpKTtcclxuICAgICAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNhdG9ySGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9leHRyYVJvdGF0aW9uID1cclxuICAgICAgICAgICAgICAgICAgICBNYXRoLlBJICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hdGFuMih0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzBdLCB0aGlzLl9jdXJyZW50U3RpY2tBeGVzWzFdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbiA9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0Q2FtUm90YXRpb24oKSArICh0aGlzLl9leHRyYVJvdGF0aW9uIC0gTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGVsZXBvcnRJbmRpY2F0b3JNZXNoT2JqZWN0LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHRoaXMuX2N1cnJlbnRJbmRpY2F0b3JSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUocmF5SGl0LmxvY2F0aW9uc1swXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC50cmFuc2xhdGUoW1xyXG4gICAgICAgICAgICAgICAgICAgIDAuMCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvcllPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgMC4wLFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXRTcG90LnNldChyYXlIaXQubG9jYXRpb25zWzBdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0hpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5kaWNhdG9ySGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QgJiYgdGhpcy5pc01vdXNlSW5kaWNhdGluZykge1xyXG4gICAgICAgICAgICB0aGlzLm9uTW91c2VQcmVzc2VkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3ByZXZUaHVtYnN0aWNrQXhpcy5zZXQodGhpcy5fY3VycmVudFN0aWNrQXhlcyk7XHJcbiAgICB9XHJcbiAgICBzZXR1cFZSRXZlbnRzKHMpIHtcclxuICAgICAgICAvKiBJZiBpbiBWUiwgb25lLXRpbWUgYmluZCB0aGUgbGlzdGVuZXIgKi9cclxuICAgICAgICB0aGlzLnNlc3Npb24gPSBzO1xyXG4gICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcignZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvKiBSZXNldCBjYWNoZSBvbmNlIHRoZSBzZXNzaW9uIGVuZHMgdG8gcmViaW5kIHNlbGVjdCBldGMsIGluIGNhc2VcclxuICAgICAgICAgICAgICogaXQgc3RhcnRzIGFnYWluICovXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZXBhZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBpZiAocy5pbnB1dFNvdXJjZXMgJiYgcy5pbnB1dFNvdXJjZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy5pbnB1dFNvdXJjZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBpbnB1dFNvdXJjZSA9IHMuaW5wdXRTb3VyY2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0U291cmNlLmhhbmRlZG5lc3MgPT0gdGhpcy5oYW5kZWRuZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkID0gaW5wdXRTb3VyY2UuZ2FtZXBhZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0c291cmNlc2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmFkZGVkICYmIGUuYWRkZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUuYWRkZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRTb3VyY2UgPSBlLmFkZGVkW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dFNvdXJjZS5oYW5kZWRuZXNzID09IHRoaXMuaGFuZGVkbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWQgPSBpbnB1dFNvdXJjZS5nYW1lcGFkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICBvbk1vdXNlRG93bigpIHtcclxuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIG9uTW91c2VVcCgpIHtcclxuICAgICAgICB0aGlzLmlzTW91c2VJbmRpY2F0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0hpdCkge1xyXG4gICAgICAgICAgICB0aGlzLl90ZWxlcG9ydFBsYXllcih0aGlzLmhpdFNwb3QsIDAuMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25Nb3VzZVByZXNzZWQoKSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbiA9IFswLCAwLCAwXTtcclxuICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKG9yaWdpbik7XHJcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5jYW0uZ2V0Rm9yd2FyZCh0aGlzLl90ZW1wVmVjKTtcclxuICAgICAgICBsZXQgcmF5SGl0ID0gKHRoaXMucmF5SGl0ID1cclxuICAgICAgICAgICAgdGhpcy5yYXlDYXN0TW9kZSA9PSAwXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuZW5naW5lLnNjZW5lLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwKVxyXG4gICAgICAgICAgICAgICAgOiB0aGlzLmVuZ2luZS5waHlzaWNzLnJheUNhc3Qob3JpZ2luLCBkaXJlY3Rpb24sIDEgPDwgdGhpcy5mbG9vckdyb3VwLCB0aGlzLm1heERpc3RhbmNlKSk7XHJcbiAgICAgICAgaWYgKHJheUhpdC5oaXRDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbmRpY2F0b3JIaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgZGlyZWN0aW9uWzFdID0gMDtcclxuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUoZGlyZWN0aW9uLCBkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50SW5kaWNhdG9yUm90YXRpb24gPVxyXG4gICAgICAgICAgICAgICAgLU1hdGguc2lnbihkaXJlY3Rpb25bMl0pICogTWF0aC5hY29zKGRpcmVjdGlvblswXSkgLSBNYXRoLlBJICogMC41O1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5yZXNldFBvc2l0aW9uUm90YXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3Qucm90YXRlQXhpc0FuZ2xlUmFkKFswLCAxLCAwXSwgdGhpcy5fY3VycmVudEluZGljYXRvclJvdGF0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QudHJhbnNsYXRlKHJheUhpdC5sb2NhdGlvbnNbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLnRlbGVwb3J0SW5kaWNhdG9yTWVzaE9iamVjdC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmhpdFNwb3QgPSByYXlIaXQubG9jYXRpb25zWzBdO1xyXG4gICAgICAgICAgICB0aGlzLl9oYXNIaXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmluZGljYXRvckhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxlcG9ydEluZGljYXRvck1lc2hPYmplY3QuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljYXRvckhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faGFzSGl0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgX3RlbGVwb3J0UGxheWVyKG5ld1Bvc2l0aW9uLCByb3RhdGlvblRvQWRkKSB7XHJcbiAgICAgICAgdGhpcy5jYW1Sb290LnJvdGF0ZUF4aXNBbmdsZVJhZChbMCwgMSwgMF0sIHJvdGF0aW9uVG9BZGQpO1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLl90ZW1wVmVjO1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5fdGVtcFZlYzA7XHJcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbikge1xyXG4gICAgICAgICAgICB0aGlzLmV5ZUxlZnQuZ2V0UG9zaXRpb25Xb3JsZChwKTtcclxuICAgICAgICAgICAgdGhpcy5leWVSaWdodC5nZXRQb3NpdGlvbldvcmxkKHAxKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQocCwgcCwgcDEpO1xyXG4gICAgICAgICAgICB2ZWMzLnNjYWxlKHAsIHAsIDAuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbS5nZXRQb3NpdGlvbldvcmxkKHApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhbVJvb3QuZ2V0UG9zaXRpb25Xb3JsZChwMSk7XHJcbiAgICAgICAgdmVjMy5zdWIocCwgcDEsIHApO1xyXG4gICAgICAgIHBbMF0gKz0gbmV3UG9zaXRpb25bMF07XHJcbiAgICAgICAgcFsxXSA9IG5ld1Bvc2l0aW9uWzFdO1xyXG4gICAgICAgIHBbMl0gKz0gbmV3UG9zaXRpb25bMl07XHJcbiAgICAgICAgdGhpcy5jYW1Sb290LnNldFBvc2l0aW9uV29ybGQocCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVGVsZXBvcnRDb21wb25lbnQgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSwgTWVzaCwgTWVzaEluZGV4VHlwZSwgTWVzaEF0dHJpYnV0ZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHZlYzMgfSBmcm9tICdnbC1tYXRyaXgnO1xyXG5jb25zdCBkaXJlY3Rpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCBvZmZzZXQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCBub3JtYWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4vKipcclxuICogRHluYW1pYyBtZXNoLWJhc2VkIHRyYWlsXHJcbiAqXHJcbiAqIFRoaXMgY29tcG9uZW50IGtlZXBzIHRyYWNrIG9mIHRoZSB3b3JsZCBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0IGl0J3MgYWRkZWQgdG8uXHJcbiAqIEF0IGEgZml4ZWQgaW50ZXJ2YWwgdGhlIHdvcmxkIHBvc2l0aW9uIGlzIHN0b3JlZCBhcyBzdGFydCBhbmQgZW5kIHBvaW50cyBvZiB0aGUgdHJhaWwgc2VnbWVudHMuXHJcbiAqXHJcbiAqIFRoZSB0cmFpbCB0YXBlcnMgb2ZmIGFsb25nIGl0cyBsZW5ndGguIFVWIHRleHR1cmUgY29vcmRpbmF0ZXMgYXJlIHNldHVwIHN1Y2ggdGhhdCB0aGVcclxuICogVS1heGlzIGNvdmVycyB0aGUgd2lkdGggb2YgdGhlIHRyYWlsIGFuZCB0aGUgVi1heGlzIGNvdmVycyB0aGUgbGVuZ3RoIG9mIHRoZSB0cmFpbC5cclxuICogVGhpcyBhbGxvd3MgdGhlIHRyYWlsJ3MgYXBwZWFyYW5jZSB0byBiZSBkZWZpbmVkIHVzaW5nIGEgdGV4dHVyZS5cclxuICovXHJcbmNsYXNzIFRyYWlsIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd0cmFpbCc7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogVGhlIG1hdGVyaWFsIHRvIGFwcGx5IHRvIHRoZSB0cmFpbCBtZXNoICovXHJcbiAgICAgICAgbWF0ZXJpYWw6IHsgdHlwZTogVHlwZS5NYXRlcmlhbCB9LFxyXG4gICAgICAgIC8qKiBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSB0cmFpbCBtZXNoICovXHJcbiAgICAgICAgc2VnbWVudHM6IHsgdHlwZTogVHlwZS5JbnQsIGRlZmF1bHQ6IDUwIH0sXHJcbiAgICAgICAgLyoqIFRoZSB0aW1lIGludGVydmFsIGJlZm9yZSByZWNvcmRpbmcgYSBuZXcgcG9pbnQgKi9cclxuICAgICAgICBpbnRlcnZhbDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjEgfSxcclxuICAgICAgICAvKiogVGhlIHdpZHRoIG9mIHRoZSB0cmFpbCAoaW4gd29ybGQgc3BhY2UpICovXHJcbiAgICAgICAgd2lkdGg6IHsgdHlwZTogVHlwZS5GbG9hdCwgZGVmYXVsdDogMS4wIH0sXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSB0cmFpbCBzaG91bGQgdGFwZXIgb2ZmICovXHJcbiAgICAgICAgdGFwZXI6IHsgdHlwZTogVHlwZS5Cb29sLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG1heGltdW0gZGVsdGEgdGltZSBpbiBzZWNvbmRzLCBhYm92ZSB3aGljaCB0aGUgdHJhaWwgcmVzZXRzLlxyXG4gICAgICAgICAqIFRoaXMgcHJldmVudHMgdGhlIHRyYWlsIGZyb20ganVtcGluZyBhcm91bmQgd2hlbiB1cGRhdGVzIGhhcHBlblxyXG4gICAgICAgICAqIGluZnJlcXVlbnRseSAoZS5nLiB3aGVuIHRoZSB0YWIgZG9lc24ndCBoYXZlIGZvY3VzKS5cclxuICAgICAgICAgKi9cclxuICAgICAgICByZXNldFRocmVzaG9sZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjUgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucG9pbnRzID0gbmV3IEFycmF5KHRoaXMuc2VnbWVudHMgKyAxKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogVGhlIHBvaW50cyBhcnJheSBpcyBjaXJjdWxhciwgc28ga2VlcCB0cmFjayBvZiBpdHMgaGVhZCAqL1xyXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50T2Zmc2V0ID0gMDtcclxuICAgICAgICB0aGlzLnVwID0gWzAsIDEsIDBdO1xyXG4gICAgICAgIHRoaXMudGltZVRpbGxOZXh0ID0gdGhpcy5pbnRlcnZhbDtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMudHJhaWxDb250YWluZXIgPSB0aGlzLmVuZ2luZS5zY2VuZS5hZGRPYmplY3QoKTtcclxuICAgICAgICB0aGlzLm1lc2hDb21wID0gdGhpcy50cmFpbENvbnRhaW5lci5hZGRDb21wb25lbnQoJ21lc2gnKTtcclxuICAgICAgICB0aGlzLm1lc2hDb21wLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICAvKiBFYWNoIHBvaW50IHdpbGwgaGF2ZSB0d28gdmVydGljZXM7IG9uZSBvbiBlaXRoZXIgc2lkZSAqL1xyXG4gICAgICAgIGNvbnN0IHZlcnRleENvdW50ID0gMiAqIHRoaXMucG9pbnRzLmxlbmd0aDtcclxuICAgICAgICAvKiBFYWNoIHNlZ21lbnQgY29uc2lzdHMgb2YgdHdvIHRyaWFuZ2xlcyAqL1xyXG4gICAgICAgIHRoaXMuaW5kZXhEYXRhID0gbmV3IFVpbnQzMkFycmF5KDYgKiB0aGlzLnNlZ21lbnRzKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMCwgdiA9IDA7IGkgPCB2ZXJ0ZXhDb3VudCAtIDI7IGkgKz0gMiwgdiArPSA2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXhEYXRhXHJcbiAgICAgICAgICAgICAgICAuc3ViYXJyYXkodiwgdiArIDYpXHJcbiAgICAgICAgICAgICAgICAuc2V0KFtpICsgMSwgaSArIDAsIGkgKyAyLCBpICsgMiwgaSArIDMsIGkgKyAxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKHRoaXMuZW5naW5lLCB7XHJcbiAgICAgICAgICAgIHZlcnRleENvdW50OiB2ZXJ0ZXhDb3VudCxcclxuICAgICAgICAgICAgaW5kZXhEYXRhOiB0aGlzLmluZGV4RGF0YSxcclxuICAgICAgICAgICAgaW5kZXhUeXBlOiBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkSW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubWVzaENvbXAubWVzaCA9IHRoaXMubWVzaDtcclxuICAgIH1cclxuICAgIHVwZGF0ZVZlcnRpY2VzKCkge1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IHRoaXMubWVzaC5hdHRyaWJ1dGUoTWVzaEF0dHJpYnV0ZS5Qb3NpdGlvbik7XHJcbiAgICAgICAgY29uc3QgdGV4Q29vcmRzID0gdGhpcy5tZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlRleHR1cmVDb29yZGluYXRlKTtcclxuICAgICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5tZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLk5vcm1hbCk7XHJcbiAgICAgICAgdmVjMy5zZXQoZGlyZWN0aW9uLCAwLCAwLCAwKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnIgPSB0aGlzLnBvaW50c1sodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIGkgKyAxKSAlIHRoaXMucG9pbnRzLmxlbmd0aF07XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLnBvaW50c1sodGhpcy5jdXJyZW50UG9pbnRJbmRleCArIGkgKyAyKSAlIHRoaXMucG9pbnRzLmxlbmd0aF07XHJcbiAgICAgICAgICAgIC8qIFRoZSBsYXN0IHBvaW50IGhhcyBubyBuZXh0LCBzbyByZS11c2UgdGhlIGRpcmVjdGlvbiBvZiB0aGUgcHJldmlvdXMgc2VnbWVudCAqL1xyXG4gICAgICAgICAgICBpZiAoaSAhPT0gdGhpcy5wb2ludHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zdWIoZGlyZWN0aW9uLCBuZXh0LCBjdXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWMzLmNyb3NzKG9mZnNldCwgdGhpcy51cCwgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUob2Zmc2V0LCBvZmZzZXQpO1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lRnJhY3Rpb24gPSAxLjAgLSB0aGlzLnRpbWVUaWxsTmV4dCAvIHRoaXMuaW50ZXJ2YWw7XHJcbiAgICAgICAgICAgIGNvbnN0IGZyYWN0aW9uID0gKGkgLSB0aW1lRnJhY3Rpb24pIC8gdGhpcy5zZWdtZW50cztcclxuICAgICAgICAgICAgdmVjMy5zY2FsZShvZmZzZXQsIG9mZnNldCwgKCh0aGlzLnRhcGVyID8gZnJhY3Rpb24gOiAxLjApICogdGhpcy53aWR0aCkgLyAyLjApO1xyXG4gICAgICAgICAgICBwb3NpdGlvbnMuc2V0KGkgKiAyLCBbXHJcbiAgICAgICAgICAgICAgICBjdXJyWzBdIC0gb2Zmc2V0WzBdLFxyXG4gICAgICAgICAgICAgICAgY3VyclsxXSAtIG9mZnNldFsxXSxcclxuICAgICAgICAgICAgICAgIGN1cnJbMl0gLSBvZmZzZXRbMl0sXHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICBwb3NpdGlvbnMuc2V0KGkgKiAyICsgMSwgW1xyXG4gICAgICAgICAgICAgICAgY3VyclswXSArIG9mZnNldFswXSxcclxuICAgICAgICAgICAgICAgIGN1cnJbMV0gKyBvZmZzZXRbMV0sXHJcbiAgICAgICAgICAgICAgICBjdXJyWzJdICsgb2Zmc2V0WzJdLFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgaWYgKG5vcm1hbHMpIHtcclxuICAgICAgICAgICAgICAgIHZlYzMuY3Jvc3Mobm9ybWFsLCBkaXJlY3Rpb24sIG9mZnNldCk7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShub3JtYWwsIG5vcm1hbCk7XHJcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldChpICogMiwgbm9ybWFsKTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbHMuc2V0KGkgKiAyICsgMSwgbm9ybWFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGV4Q29vcmRzKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXhDb29yZHMuc2V0KGkgKiAyLCBbMCwgZnJhY3Rpb25dKTtcclxuICAgICAgICAgICAgICAgIHRleENvb3Jkcy5zZXQoaSAqIDIgKyAxLCBbMSwgZnJhY3Rpb25dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBOb3RpZnkgV0xFIHRoYXQgdGhlIG1lc2ggaGFzIGNoYW5nZWQgKi9cclxuICAgICAgICB0aGlzLm1lc2gudXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgICByZXNldFRyYWlsKCkge1xyXG4gICAgICAgIHRoaXMub2JqZWN0LmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5wb2ludHNbMF0pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmVjMy5jb3B5KHRoaXMucG9pbnRzW2ldLCB0aGlzLnBvaW50c1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFBvaW50SW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMudGltZVRpbGxOZXh0ID0gdGhpcy5pbnRlcnZhbDtcclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIHRoaXMudGltZVRpbGxOZXh0IC09IGR0O1xyXG4gICAgICAgIGlmIChkdCA+IHRoaXMucmVzZXRUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFRyYWlsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVUaWxsTmV4dCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9pbnRJbmRleCA9ICh0aGlzLmN1cnJlbnRQb2ludEluZGV4ICsgMSkgJSB0aGlzLnBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVRpbGxOZXh0ID0gKHRoaXMudGltZVRpbGxOZXh0ICUgdGhpcy5pbnRlcnZhbCkgKyB0aGlzLmludGVydmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMucG9pbnRzW3RoaXMuY3VycmVudFBvaW50SW5kZXhdKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XHJcbiAgICB9XHJcbiAgICBvbkFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXRUcmFpbCgpO1xyXG4gICAgfVxyXG4gICAgb25EZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMudHJhaWxDb250YWluZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMubWVzaC5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVHJhaWwgfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgUHJvcGVydHkgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyB2ZWMzIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuZnVuY3Rpb24gY2xhbXAodiwgYSwgYikge1xyXG4gICAgcmV0dXJuIE1hdGgubWF4KGEsIE1hdGgubWluKHYsIGIpKTtcclxufVxyXG5jb25zdCByb290U2NhbGluZyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbmNvbnN0IHRlbXBRdWF0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcclxuY29uc3QgbWlkZGxlUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgZW5kUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgdGFyZ2V0UG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3QgaGVscGVyUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuY29uc3Qgcm9vdFRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbmNvbnN0IG1pZGRsZVRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbmNvbnN0IGVuZFRyYW5zZm9ybSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XHJcbi8qKlxyXG4gKiBTb2x2ZSBpbnZlcnNlIGtpbmVtYXRpY3MgZm9yIGEgdHdvIGpvaW50IGNoYWluc1xyXG4gKlxyXG4gKiBJbnNwaXJlZCBieSBodHRwOi8vdGhlb3JhbmdlZHVjay5jb20vcGFnZS9zaW1wbGUtdHdvLWpvaW50XHJcbiAqL1xyXG5jb25zdCB0d29Kb2ludElLID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHRhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGNhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGJhID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGFiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGNiID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGF4aXMwID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IGF4aXMxID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuICAgIGNvbnN0IHRlbXAgPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyb290LCBtaWRkbGUsIGIsIGMsIHRhcmdldFBvcywgZXBzLCBoZWxwZXIpIHtcclxuICAgICAgICAvKiBhID0gWzAsIDAsIDBdLCBzaW5jZSBldmVyeXRoaW5nIGlzIGNvbXB1dGVkIGluIHJvb3Qtc3BhY2UgKi9cclxuICAgICAgICBiYS5zZXQoYik7XHJcbiAgICAgICAgY29uc3QgbGFiID0gdmVjMy5sZW5ndGgoYmEpO1xyXG4gICAgICAgIHZlYzMuc3ViKHRhLCBiLCBjKTtcclxuICAgICAgICBjb25zdCBsY2IgPSB2ZWMzLmxlbmd0aCh0YSk7XHJcbiAgICAgICAgdGEuc2V0KHRhcmdldFBvcyk7XHJcbiAgICAgICAgY29uc3QgbGF0ID0gY2xhbXAodmVjMy5sZW5ndGgodGEpLCBlcHMsIGxhYiArIGxjYiAtIGVwcyk7XHJcbiAgICAgICAgY2Euc2V0KGMpO1xyXG4gICAgICAgIHZlYzMuc2NhbGUoYWIsIGIsIC0xKTtcclxuICAgICAgICB2ZWMzLnN1YihjYiwgYywgYik7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2EsIGNhKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShiYSwgYmEpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGFiLCBhYik7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUoY2IsIGNiKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0YSwgdGEpO1xyXG4gICAgICAgIC8qIFN1cHBvc2VkbHkgbnVtZXJpY2FsIGVycm9ycyBjYW4gY2F1c2UgdGhlIGRvdCB0byBnbyBvdXQgb2YgLTEsIDEgcmFuZ2UgKi9cclxuICAgICAgICBjb25zdCBhY19hYl8wID0gTWF0aC5hY29zKGNsYW1wKHZlYzMuZG90KGNhLCBiYSksIC0xLCAxKSk7XHJcbiAgICAgICAgY29uc3QgYmFfYmNfMCA9IE1hdGguYWNvcyhjbGFtcCh2ZWMzLmRvdChhYiwgY2IpLCAtMSwgMSkpO1xyXG4gICAgICAgIGNvbnN0IGFjX2F0XzAgPSBNYXRoLmFjb3MoY2xhbXAodmVjMy5kb3QoY2EsIHRhKSwgLTEsIDEpKTtcclxuICAgICAgICBjb25zdCBhY19hYl8xID0gTWF0aC5hY29zKGNsYW1wKChsY2IgKiBsY2IgLSBsYWIgKiBsYWIgLSBsYXQgKiBsYXQpIC8gKC0yICogbGFiICogbGF0KSwgLTEsIDEpKTtcclxuICAgICAgICBjb25zdCBiYV9iY18xID0gTWF0aC5hY29zKGNsYW1wKChsYXQgKiBsYXQgLSBsYWIgKiBsYWIgLSBsY2IgKiBsY2IpIC8gKC0yICogbGFiICogbGNiKSwgLTEsIDEpKTtcclxuICAgICAgICBpZiAoaGVscGVyKSB7XHJcbiAgICAgICAgICAgIHZlYzMuc3ViKGJhLCBoZWxwZXIsIGIpO1xyXG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShiYSwgYmEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2ZWMzLmNyb3NzKGF4aXMwLCBjYSwgYmEpO1xyXG4gICAgICAgIHZlYzMubm9ybWFsaXplKGF4aXMwLCBheGlzMCk7XHJcbiAgICAgICAgdmVjMy5jcm9zcyhheGlzMSwgYywgdGFyZ2V0UG9zKTtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShheGlzMSwgYXhpczEpO1xyXG4gICAgICAgIG1pZGRsZS50cmFuc2Zvcm1WZWN0b3JJbnZlcnNlTG9jYWwodGVtcCwgYXhpczApO1xyXG4gICAgICAgIHJvb3Qucm90YXRlQXhpc0FuZ2xlUmFkT2JqZWN0KGF4aXMxLCBhY19hdF8wKTtcclxuICAgICAgICByb290LnJvdGF0ZUF4aXNBbmdsZVJhZE9iamVjdChheGlzMCwgYWNfYWJfMSAtIGFjX2FiXzApO1xyXG4gICAgICAgIG1pZGRsZS5yb3RhdGVBeGlzQW5nbGVSYWRPYmplY3QoYXhpczAsIGJhX2JjXzEgLSBiYV9iY18wKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbi8qKlxyXG4gKiBJbnZlcnNlIGtpbmVtYXRpY3MgZm9yIHR3by1qb2ludCBjaGFpbnMgKGUuZy4ga25lZXMgb3IgZWxib3dzKVxyXG4gKi9cclxuY2xhc3MgVHdvSm9pbnRJa1NvbHZlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndHdvLWpvaW50LWlrLXNvbHZlcic7XHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICAvKiogUm9vdCBib25lLCBuZXZlciBtb3ZlcyAqL1xyXG4gICAgICAgIHJvb3Q6IFByb3BlcnR5Lm9iamVjdCgpLFxyXG4gICAgICAgIC8qKiBCb25lIGF0dGFjaGVkIHRvIHRoZSByb290ICovXHJcbiAgICAgICAgbWlkZGxlOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogQm9uZSBhdHRhY2hlZCB0byB0aGUgbWlkZGxlICovXHJcbiAgICAgICAgZW5kOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogVGFyZ2V0IHRoZSBqb2lucyBzaG91bGQgcmVhY2ggZm9yICovXHJcbiAgICAgICAgdGFyZ2V0OiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogRmxhZyBmb3IgY29weWluZyByb3RhdGlvbiBmcm9tIHRhcmdldCB0byBlbmQgKi9cclxuICAgICAgICBjb3B5VGFyZ2V0Um90YXRpb246IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAgICAgLyoqIEhlbHBlciBvYmplY3QgdG8gdXNlIHRvIGRldGVybWluZSBqb2ludCByb3RhdGlvbiBheGlzICovXHJcbiAgICAgICAgaGVscGVyOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgIH07XHJcbiAgICB0aW1lID0gMDtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucm9vdC5nZXRUcmFuc2Zvcm1Mb2NhbChyb290VHJhbnNmb3JtKTtcclxuICAgICAgICB0aGlzLm1pZGRsZS5nZXRUcmFuc2Zvcm1Mb2NhbChtaWRkbGVUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMuZW5kLmdldFRyYW5zZm9ybUxvY2FsKGVuZFRyYW5zZm9ybSk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgLyogUmVzZXQgdG8gb3JpZ2luYWwgcG9zZSBmb3Igc3RhYmlsaXR5ICovXHJcbiAgICAgICAgdGhpcy5yb290LnNldFRyYW5zZm9ybUxvY2FsKHJvb3RUcmFuc2Zvcm0pO1xyXG4gICAgICAgIHRoaXMubWlkZGxlLnNldFRyYW5zZm9ybUxvY2FsKG1pZGRsZVRyYW5zZm9ybSk7XHJcbiAgICAgICAgdGhpcy5lbmQuc2V0VHJhbnNmb3JtTG9jYWwoZW5kVHJhbnNmb3JtKTtcclxuICAgICAgICB0aGlzLnJvb3QuZ2V0U2NhbGluZ1dvcmxkKHJvb3RTY2FsaW5nKTtcclxuICAgICAgICAvKiBHZXQgam9pbnQgcG9zaXRpb25zIGluIHJvb3Qtc3BhY2UgKi9cclxuICAgICAgICB0aGlzLm1pZGRsZS5nZXRQb3NpdGlvbkxvY2FsKG1pZGRsZVBvcyk7XHJcbiAgICAgICAgdGhpcy5lbmQuZ2V0UG9zaXRpb25Mb2NhbChlbmRQb3MpO1xyXG4gICAgICAgIHRoaXMubWlkZGxlLnRyYW5zZm9ybVBvaW50TG9jYWwoZW5kUG9zLCBlbmRQb3MpO1xyXG4gICAgICAgIGlmICh0aGlzLmhlbHBlcikge1xyXG4gICAgICAgICAgICAvKiBHZXQgaGVscGVyIHBvc2l0aW9uIGluIHJvb3Qgc3BhY2UgKi9cclxuICAgICAgICAgICAgdGhpcy5oZWxwZXIuZ2V0UG9zaXRpb25Xb3JsZChoZWxwZXJQb3MpO1xyXG4gICAgICAgICAgICB0aGlzLnJvb3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQoaGVscGVyUG9zLCBoZWxwZXJQb3MpO1xyXG4gICAgICAgICAgICB2ZWMzLmRpdihoZWxwZXJQb3MsIGhlbHBlclBvcywgcm9vdFNjYWxpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBHZXQgdGFyZ2V0IHBvc2l0aW9uIGluIHJvb3Qgc3BhY2UgKi9cclxuICAgICAgICB0aGlzLnRhcmdldC5nZXRQb3NpdGlvbldvcmxkKHRhcmdldFBvcyk7XHJcbiAgICAgICAgdGhpcy5yb290LnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHRhcmdldFBvcywgdGFyZ2V0UG9zKTtcclxuICAgICAgICB2ZWMzLmRpdih0YXJnZXRQb3MsIHRhcmdldFBvcywgcm9vdFNjYWxpbmcpO1xyXG4gICAgICAgIHR3b0pvaW50SUsodGhpcy5yb290LCB0aGlzLm1pZGRsZSwgbWlkZGxlUG9zLCBlbmRQb3MsIHRhcmdldFBvcywgMC4wMSwgdGhpcy5oZWxwZXIgPyBoZWxwZXJQb3MgOiBudWxsLCB0aGlzLnRpbWUpO1xyXG4gICAgICAgIGlmICh0aGlzLmNvcHlUYXJnZXRSb3RhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmVuZC5zZXRSb3RhdGlvbldvcmxkKHRoaXMudGFyZ2V0LmdldFJvdGF0aW9uV29ybGQodGVtcFF1YXQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVHdvSm9pbnRJa1NvbHZlciB9O1xyXG4iLCAiaW1wb3J0IHsgQ29tcG9uZW50LCBUZXh0dXJlLCBQcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlIH0gZnJvbSAnLi91dGlscy91dGlscy5qcyc7XHJcbi8qKlxyXG4gKiBEb3dubG9hZHMgYSB2aWRlbyBmcm9tIFVSTCBhbmQgYXBwbGllcyBpdCBhcyBgZGlmZnVzZVRleHR1cmVgIG9yIGBmbGF0VGV4dHVyZWBcclxuICogb24gZ2l2ZW4gbWF0ZXJpYWwuXHJcbiAqXHJcbiAqIFZpZGVvIHRleHR1cmVzIG5lZWQgdG8gYmUgdXBkYXRlZCByZWd1bGFybHkgd2hlbmV2ZXJcclxuICogYSBuZXcgZnJhbWUgaXMgYXZhaWxhYmxlLiBUaGlzIGNvbXBvbmVudCBoYW5kbGVzIHRoZVxyXG4gKiBkZXRlY3Rpb24gb2YgYSBuZXcgZnJhbWUgYW5kIHVwZGF0ZXMgdGhlIHRleHR1cmUgdG9cclxuICogcmVmbGVjdCB0aGUgdmlkZW8ncyBjdXJyZW50IGZyYW1lLlxyXG4gKlxyXG4gKiBNYXRlcmlhbHMgZnJvbSB0aGUgZm9sbG93aW5nIHNoYWRlcnMgYXJlIHN1cHBvcnRlZDpcclxuICogIC0gXCJQaG9uZyBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkZsYXQgT3BhcXVlIFRleHR1cmVkXCJcclxuICogIC0gXCJCYWNrZ3JvdW5kXCJcclxuICogIC0gXCJQaHlzaWNhbCBPcGFxdWUgVGV4dHVyZWRcIlxyXG4gKiAgLSBcIkZvbGlhZ2VcIlxyXG4gKlxyXG4gKiBUaGUgdmlkZW8gY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggYHRoaXMudmlkZW9gOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIGxldCB2aWRlb1RleHR1cmUgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3ZpZGVvLXRleHR1cmUnKTtcclxuICogICB2aWRlb1RleHR1cmUudmlkZW8ucGxheSgpO1xyXG4gKiAgIHZpZGVvVGV4dHVyZS52aWRlby5wYXVzZSgpO1xyXG4gKiBgYGBcclxuICpcclxuICogU2VlIFtWaWRlbyBFeGFtcGxlXSgvc2hvd2Nhc2UvdmlkZW8pLlxyXG4gKi9cclxuY2xhc3MgVmlkZW9UZXh0dXJlIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2aWRlby10ZXh0dXJlJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBVUkwgdG8gZG93bmxvYWQgdmlkZW8gZnJvbSAqL1xyXG4gICAgICAgIHVybDogUHJvcGVydHkuc3RyaW5nKCksXHJcbiAgICAgICAgLyoqIE1hdGVyaWFsIHRvIGFwcGx5IHRoZSB2aWRlbyB0ZXh0dXJlIHRvICovXHJcbiAgICAgICAgbWF0ZXJpYWw6IFByb3BlcnR5Lm1hdGVyaWFsKCksXHJcbiAgICAgICAgLyoqIFdoZXRoZXIgdG8gbG9vcCB0aGUgdmlkZW8gKi9cclxuICAgICAgICBsb29wOiBQcm9wZXJ0eS5ib29sKHRydWUpLFxyXG4gICAgICAgIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgc3RhcnQgcGxheWluZyB0aGUgdmlkZW8gKi9cclxuICAgICAgICBhdXRvcGxheTogUHJvcGVydHkuYm9vbCh0cnVlKSxcclxuICAgICAgICAvKiogV2hldGhlciB0byBtdXRlIHNvdW5kICovXHJcbiAgICAgICAgbXV0ZWQ6IFByb3BlcnR5LmJvb2wodHJ1ZSksXHJcbiAgICAgICAgLyoqIE5hbWUgb2YgdGhlIHRleHR1cmUgcHJvcGVydHkgdG8gc2V0ICovXHJcbiAgICAgICAgdGV4dHVyZVByb3BlcnR5OiBQcm9wZXJ0eS5zdHJpbmcoJ2F1dG8nKSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcigndmlkZW8tdGV4dHVyZTogbWF0ZXJpYWwgcHJvcGVydHkgbm90IHNldCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy52aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XHJcbiAgICAgICAgdGhpcy52aWRlby5zcmMgPSB0aGlzLnVybDtcclxuICAgICAgICB0aGlzLnZpZGVvLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XHJcbiAgICAgICAgdGhpcy52aWRlby5wbGF5c0lubGluZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy52aWRlby5sb29wID0gdGhpcy5sb29wO1xyXG4gICAgICAgIHRoaXMudmlkZW8ubXV0ZWQgPSB0aGlzLm11dGVkO1xyXG4gICAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheWluZycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXlBZnRlclVzZXJHZXN0dXJlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWRlby5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5QWZ0ZXJVc2VyR2VzdHVyZSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheUFmdGVyVXNlckdlc3R1cmUpO1xyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlBZnRlclVzZXJHZXN0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhcHBseVRleHR1cmUoKSB7XHJcbiAgICAgICAgY29uc3QgbWF0ID0gdGhpcy5tYXRlcmlhbDtcclxuICAgICAgICBjb25zdCBzaGFkZXIgPSBtYXQuc2hhZGVyO1xyXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSAodGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5lbmdpbmUsIHRoaXMudmlkZW8pKTtcclxuICAgICAgICBpZiAoIXNldEZpcnN0TWF0ZXJpYWxUZXh0dXJlKG1hdCwgdGV4dHVyZSwgdGhpcy50ZXh0dXJlUHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NoYWRlcicsIHNoYWRlciwgJ25vdCBzdXBwb3J0ZWQgYnkgdmlkZW8tdGV4dHVyZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ3JlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2snIGluIHRoaXMudmlkZW8pIHtcclxuICAgICAgICAgICAgdGhpcy52aWRlby5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlkZW8uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkICYmIHRoaXMuZnJhbWVVcGRhdGVSZXF1ZXN0ZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGV4dHVyZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0dXJlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyogQXBwbHkgdGV4dHVyZSBvbiBmaXJzdCBmcmFtZSB1cGRhdGUgcmVxdWVzdCAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseVRleHR1cmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlUmVxdWVzdGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdXBkYXRlVmlkZW8oKSB7XHJcbiAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZVJlcXVlc3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy52aWRlby5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlkZW8uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgVmlkZW9UZXh0dXJlIH07XHJcbiIsICJpbXBvcnQgeyBDb21wb25lbnQsIFR5cGUgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG4vKipcclxuICogQWxsb3dzIHN3aXRjaGluZyBhbGwgb3RoZXIgY29tcG9uZW50cyBvbiBhbiBvYmplY3QgdG8gYWN0aXZlL2luYWN0aXZlXHJcbiAqIGRlcGVuZGluZyBvbiB3aGV0aGVyIGEgVlIvQVIgc2Vzc2lvbiBpcyBhY3RpdmUuXHJcbiAqXHJcbiAqIFVzZWZ1bCBmb3IgaGlkaW5nIGNvbnRyb2xsZXJzIHVudGlsIHRoZSB1c2VyIGVudGVycyBWUiBmb3IgZXhhbXBsZS5cclxuICovXHJcbmNsYXNzIFZyTW9kZUFjdGl2ZVN3aXRjaCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAndnItbW9kZS1hY3RpdmUtc3dpdGNoJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBXaGVuIGNvbXBvbmVudHMgc2hvdWxkIGJlIGFjdGl2ZTogSW4gVlIgb3Igd2hlbiBub3QgaW4gVlIgKi9cclxuICAgICAgICBhY3RpdmF0ZUNvbXBvbmVudHM6IHtcclxuICAgICAgICAgICAgdHlwZTogVHlwZS5FbnVtLFxyXG4gICAgICAgICAgICB2YWx1ZXM6IFsnaW4gVlInLCAnaW4gbm9uLVZSJ10sXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbiBWUicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKiogV2hldGhlciBjaGlsZCBvYmplY3QncyBjb21wb25lbnRzIHNob3VsZCBiZSBhZmZlY3RlZCAqL1xyXG4gICAgICAgIGFmZmVjdENoaWxkcmVuOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgfTtcclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50cyh0aGlzLm9iamVjdCk7XHJcbiAgICAgICAgLyogSW5pdGlhbCBhY3RpdmF0aW9uL2RlYWN0aXZhdGlvbiAqL1xyXG4gICAgICAgIHRoaXMub25YUlNlc3Npb25FbmQoKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2sgPSB0aGlzLm9uWFJTZXNzaW9uU3RhcnQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrID0gdGhpcy5vblhSU2Vzc2lvbkVuZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LmFkZCh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLmFkZCh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uRGVhY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVuZ2luZS5vblhSU2Vzc2lvblN0YXJ0LnJlbW92ZSh0aGlzLm9uU2Vzc2lvblN0YXJ0Q2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMuZW5naW5lLm9uWFJTZXNzaW9uRW5kLnJlbW92ZSh0aGlzLm9uU2Vzc2lvbkVuZENhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGdldENvbXBvbmVudHMob2JqKSB7XHJcbiAgICAgICAgY29uc3QgY29tcHMgPSBvYmouZ2V0Q29tcG9uZW50cygpLmZpbHRlcigoYykgPT4gYy50eXBlICE9PSAndnItbW9kZS1hY3RpdmUtc3dpdGNoJyk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzLmNvbmNhdChjb21wcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuYWZmZWN0Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gb2JqLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbXBvbmVudHMoY2hpbGRyZW5baV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0Q29tcG9uZW50c0FjdGl2ZShhY3RpdmUpIHtcclxuICAgICAgICBjb25zdCBjb21wcyA9IHRoaXMuY29tcG9uZW50cztcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbXBzW2ldLmFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblhSU2Vzc2lvblN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29tcG9uZW50c0FjdGl2ZSh0aGlzLmFjdGl2YXRlQ29tcG9uZW50cyA9PSAwKTtcclxuICAgIH1cclxuICAgIG9uWFJTZXNzaW9uRW5kKCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29tcG9uZW50c0FjdGl2ZSh0aGlzLmFjdGl2YXRlQ29tcG9uZW50cyAhPSAwKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBWck1vZGVBY3RpdmVTd2l0Y2ggfTtcclxuIiwgInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbmltcG9ydCB7IENvbGxpZGVyLCBDb2xsaXNpb25Db21wb25lbnQsIENvbXBvbmVudCwgRW1pdHRlciwgTWVzaCwgTWVzaEF0dHJpYnV0ZSwgTWVzaENvbXBvbmVudCwgTWVzaEluZGV4VHlwZSwgfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaS9kZWNvcmF0b3JzLmpzJztcclxuaW1wb3J0IHsgc2V0WFJSaWdpZFRyYW5zZm9ybUxvY2FsIH0gZnJvbSAnLi91dGlscy93ZWJ4ci5qcyc7XHJcbi8vIEZJWE1FOiBlYXJjdXQgb3ZlcnJpZGVzIGRlZmF1bHQgZXhwb3J0LCBicmVha2luZyBvdXIgdGVzdHNcclxuaW1wb3J0IGVhcmN1dCBmcm9tICdlYXJjdXQnO1xyXG5jb25zdCB0ZW1wVmVjMyA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XHJcbi8qKiBDb21wdXRlIG1pbmltdW0gYW5kIG1heGl1bSBleHRlbnRzIG9mIGdpdmVuIGxpc3Qgb2YgY29udG91ciBwb2ludHMgKi9cclxuZnVuY3Rpb24gZXh0ZW50c0Zyb21Db250b3VyKG91dCwgcG9pbnRzKSB7XHJcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgIHJldHVybiBvdXQ7XHJcbiAgICBsZXQgYWJzTWF4WCA9IE1hdGguYWJzKHBvaW50c1swXS54KTtcclxuICAgIGxldCBhYnNNYXhaID0gTWF0aC5hYnMocG9pbnRzWzBdLnopO1xyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBhYnNNYXhYID0gTWF0aC5tYXgoYWJzTWF4WCwgTWF0aC5hYnMocG9pbnRzW2ldLngpKTtcclxuICAgICAgICBhYnNNYXhaID0gTWF0aC5tYXgoYWJzTWF4WiwgTWF0aC5hYnMocG9pbnRzW2ldLnopKTtcclxuICAgIH1cclxuICAgIG91dFswXSA9IGFic01heFg7XHJcbiAgICBvdXRbMV0gPSAwO1xyXG4gICAgb3V0WzJdID0gYWJzTWF4WjtcclxufVxyXG4vKiogQ2hlY2sgd2hldGhlciB4IGxpZXMgYmV0d2VlbiBhIGFuZCBiICovXHJcbmZ1bmN0aW9uIHdpdGhpbih4LCBhLCBiKSB7XHJcbiAgICBpZiAoYSA+IGIpXHJcbiAgICAgICAgcmV0dXJuIHggPCBhICYmIHggPiBiO1xyXG4gICAgcmV0dXJuIHggPiBhICYmIHggPCBiO1xyXG59XHJcbi8qKlxyXG4gKiBDaGVjayB3aGV0aGVyIGdpdmVuIHBvaW50IG9uIHBsYW5lJ3MgYm91bmRpbmcgYm94IGlzIGluc2lkZSBwbGFuZSdzIHBvbHlnb25cclxuICpcclxuICogQHBhcmFtIHAgM0QgcG9pbnQgaW4gcGxhbmUncyBsb2NhbCBzcGFjZSwgWSB2YWx1ZSBpcyBpZ25vcmVkLCBzaW5jZSBpdCBpcyBhc3N1bWVkXHJcbiAqICAgICB0aGF0IHRoZSBwb2ludCB3YXMgY2hlY2tlZCBhZ2FpbnN0IHRoZSBwbGFuZSdzIGJvdW5kaW5nIGJveC5cclxuICogQHBhcmFtIHBsYW5lIFhSUGxhbmUgdGhhdCBoYXMgYFhSUGxhbmUucG9seWdvbmBcclxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBwb2ludCBsaWVzIG9uIHRoZSBwbGFuZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUG9pbnRMb2NhbE9uWFJQbGFuZVBvbHlnb24ocCwgcGxhbmUpIHtcclxuICAgIGNvbnN0IHBvaW50cyA9IHBsYW5lLnBvbHlnb247XHJcbiAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDMpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLyogQ291bnQgcmF5IGludGVyc2VjdGlvbnM6IGV2ZW4gPT0gaW5zaWRlLCBvZGQgPT0gb3V0c2lkZSAqL1xyXG4gICAgY29uc3QgcFggPSBwWzBdO1xyXG4gICAgY29uc3QgcFogPSBwWzJdO1xyXG4gICAgbGV0IGludGVyc2VjdGlvbnMgPSAwO1xyXG4gICAgZm9yIChsZXQgbiA9IDAsIGwgPSBwb2ludHMubGVuZ3RoIC0gMTsgbiA8IHBvaW50cy5sZW5ndGg7ICsrbikge1xyXG4gICAgICAgIGNvbnN0IGFYID0gcG9pbnRzW2xdLng7XHJcbiAgICAgICAgY29uc3QgYVogPSBwb2ludHNbbF0uejtcclxuICAgICAgICBjb25zdCBzID0gKHBvaW50c1tuXS56IC0gYVopIC8gKHBvaW50c1tuXS54IC0gYVgpO1xyXG4gICAgICAgIGNvbnN0IHggPSBNYXRoLmFicygocFogLSBhWikgLyBzKTtcclxuICAgICAgICBpZiAoeCA+PSAwLjAgJiYgeCA8PSAxLjAgJiYgd2l0aGluKHggKyBwWCwgYVgsIHBvaW50c1tuXS54KSlcclxuICAgICAgICAgICAgKytpbnRlcnNlY3Rpb25zO1xyXG4gICAgICAgIGwgPSBuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChpbnRlcnNlY3Rpb25zICYgMSkgPT0gMDtcclxufVxyXG4vKipcclxuICogQ2hlY2sgd2hldGhlciBnaXZlbiBwb2ludCBvbiBwbGFuZSdzIGJvdW5kaW5nIGJveCBpcyBpbnNpZGUgcGxhbmUncyBwb2x5Z29uXHJcbiAqXHJcbiAqIEBwYXJhbSBwIDNEIHBvaW50IHRvIHRlc3QuIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgcG9pbnQgd2FzIGNoZWNrZWQgYWdhaW5zdFxyXG4gKiAgICAgdGhlIHBsYW5lJ3MgYm91bmRpbmcgYm94IGJlZm9yZWhhbmQuXHJcbiAqIEBwYXJhbSBwbGFuZSBYUlBsYW5lIHRoYXQgaGFzIGBYUlBsYW5lLnBvbHlnb25gXHJcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgcG9pbnQgbGllcyBvbiB0aGUgcGxhbmVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1BvaW50V29ybGRPblhSUGxhbmVQb2x5Z29uKG9iamVjdCwgcCwgcGxhbmUpIHtcclxuICAgIGlmIChwbGFuZS5wb2x5Z29uLmxlbmd0aCA8IDMpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgaXNQb2ludExvY2FsT25YUlBsYW5lUG9seWdvbihvYmplY3QudHJhbnNmb3JtUG9pbnRJbnZlcnNlV29ybGQodGVtcFZlYzMsIHApLCBwbGFuZSk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBhIHBsYW5lIG1lc2ggZnJvbSBhIGxpc3Qgb2YgY29udG91ciBwb2ludHNcclxuICpcclxuICogQHBhcmFtIGVuZ2luZSBFbmdpbmUgdG8gY3JlYXRlIHRoZSBtZXNoIHdpdGhcclxuICogQHBhcmFtIHBvaW50cyBDb250b3VyIHBvaW50c1xyXG4gKiBAcGFyYW0gbWVzaFRvVXBkYXRlIE9wdGlvbmFsIG1lc2ggdG8gdXBkYXRlIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lLlxyXG4gKi9cclxuZnVuY3Rpb24gcGxhbmVNZXNoRnJvbUNvbnRvdXIoZW5naW5lLCBwb2ludHMsIG1lc2hUb1VwZGF0ZSA9IG51bGwpIHtcclxuICAgIGNvbnN0IHZlcnRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcclxuICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhDb3VudCAqIDIpO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGQgPSAwOyBpIDwgdmVydGV4Q291bnQ7ICsraSwgZCArPSAyKSB7XHJcbiAgICAgICAgdmVydGljZXNbZF0gPSBwb2ludHNbaV0ueDtcclxuICAgICAgICB2ZXJ0aWNlc1tkICsgMV0gPSBwb2ludHNbaV0uejtcclxuICAgIH1cclxuICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGVhcmN1dCh2ZXJ0aWNlcyk7XHJcbiAgICBjb25zdCBtZXNoID0gbWVzaFRvVXBkYXRlIHx8XHJcbiAgICAgICAgbmV3IE1lc2goZW5naW5lLCB7XHJcbiAgICAgICAgICAgIHZlcnRleENvdW50LFxyXG4gICAgICAgICAgICAvKiBBc3N1bXB0aW9uIGhlcmUgdGhhdCB3ZSB3aWxsIG5ldmVyIGhhdmUgbW9yZSB0aGFuIDI1NiBwb2ludHNcclxuICAgICAgICAgICAgICogaW4gdGhlIGRldGVjdGVkIHBsYW5lIG1lc2hlcyEgKi9cclxuICAgICAgICAgICAgaW5kZXhUeXBlOiBNZXNoSW5kZXhUeXBlLlVuc2lnbmVkQnl0ZSxcclxuICAgICAgICAgICAgaW5kZXhEYXRhOiB0cmlhbmdsZXMsXHJcbiAgICAgICAgfSk7XHJcbiAgICBpZiAobWVzaC52ZXJ0ZXhDb3VudCAhPT0gdmVydGV4Q291bnQpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ3ZlcnRleENvdW50IG9mIG1lc2hUb1VwZGF0ZSBkaWQgbm90IG1hdGNoIHJlcXVpcmVkIHZlcnRleENvdW50Jyk7XHJcbiAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICB9XHJcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlBvc2l0aW9uKTtcclxuICAgIGNvbnN0IHRleHR1cmVDb29yZHMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLlRleHR1cmVDb29yZGluYXRlKTtcclxuICAgIGNvbnN0IG5vcm1hbHMgPSBtZXNoLmF0dHJpYnV0ZShNZXNoQXR0cmlidXRlLk5vcm1hbCk7XHJcbiAgICB0ZW1wVmVjM1sxXSA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMCwgcyA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpLCBzICs9IDIpIHtcclxuICAgICAgICB0ZW1wVmVjM1swXSA9IHZlcnRpY2VzW3NdO1xyXG4gICAgICAgIHRlbXBWZWMzWzJdID0gdmVydGljZXNbcyArIDFdO1xyXG4gICAgICAgIHBvc2l0aW9ucy5zZXQoaSwgdGVtcFZlYzMpO1xyXG4gICAgfVxyXG4gICAgdGV4dHVyZUNvb3Jkcz8uc2V0KDAsIHZlcnRpY2VzKTtcclxuICAgIGlmIChub3JtYWxzKSB7XHJcbiAgICAgICAgdGVtcFZlYzNbMF0gPSAwO1xyXG4gICAgICAgIHRlbXBWZWMzWzFdID0gMTtcclxuICAgICAgICB0ZW1wVmVjM1syXSA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhDb3VudDsgKytpKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbHMuc2V0KGksIHRlbXBWZWMzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobWVzaFRvVXBkYXRlKVxyXG4gICAgICAgIG1lc2gudXBkYXRlKCk7XHJcbiAgICByZXR1cm4gbWVzaDtcclxufVxyXG4vKipcclxuICogR2VuZXJhdGUgbWVzaGVzIGFuZCBjb2xsaXNpb25zIGZvciBYUlBsYW5lcyB1c2luZyBbV2ViWFIgRGV2aWNlIEFQSSAtIFBsYW5lIERldGVjdGlvbl0oaHR0cHM6Ly9pbW1lcnNpdmUtd2ViLmdpdGh1Yi5pby9yZWFsLXdvcmxkLWdlb21ldHJ5L3BsYW5lLWRldGVjdGlvbi5odG1sKS5cclxuICovXHJcbmNsYXNzIFBsYW5lRGV0ZWN0aW9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwbGFuZS1kZXRlY3Rpb24nO1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRlcmlhbCB0byBhc3NpZ24gdG8gY3JlYXRlZCBwbGFuZSBtZXNoZXMgb3IgYG51bGxgIGlmIG1lc2hlcyBzaG91bGQgbm90IGJlIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIHBsYW5lTWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb2xsaXNpb24gbWFzayB0byBhc3NpZ24gdG8gbmV3bHkgY3JlYXRlZCBjb2xsaXNpb24gY29tcG9uZW50cyBvciBhIG5lZ2F0aXZlIHZhbHVlIGlmXHJcbiAgICAgKiBjb2xsaXNpb24gY29tcG9uZW50cyBzaG91bGQgbm90IGJlIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIGNvbGxpc2lvbk1hc2sgPSAtMTtcclxuICAgIC8qKiBNYXAgb2YgYWxsIHBsYW5lcyBhbmQgdGhlaXIgbGFzdCB1cGRhdGVkIHRpbWVzdGFtcHMgKi9cclxuICAgIHBsYW5lcyA9IG5ldyBNYXAoKTtcclxuICAgIC8qKiBPYmplY3RzIGdlbmVyYXRlZCBmb3IgZWFjaCBYUlBsYW5lICovXHJcbiAgICBwbGFuZU9iamVjdHMgPSBuZXcgTWFwKCk7XHJcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBwbGFuZSBzdGFydHMgdHJhY2tpbmcgKi9cclxuICAgIG9uUGxhbmVGb3VuZCA9IG5ldyBFbWl0dGVyKCk7XHJcbiAgICAvKiogQ2FsbGVkIHdoZW4gYSBwbGFuZSBzdG9wcyB0cmFja2luZyAqL1xyXG4gICAgb25QbGFuZUxvc3QgPSBuZXcgRW1pdHRlcigpO1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbmdpbmUueHI/LmZyYW1lKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGlmICh0aGlzLmVuZ2luZS54ci5mcmFtZS5kZXRlY3RlZFBsYW5lcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3BsYW5lLWRldGVjdGlvbjogV2ViWFIgZmVhdHVyZSBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBkZXRlY3RlZFBsYW5lcyA9IHRoaXMuZW5naW5lLnhyLmZyYW1lLmRldGVjdGVkUGxhbmVzO1xyXG4gICAgICAgIGZvciAoY29uc3QgW3BsYW5lLCBfXSBvZiB0aGlzLnBsYW5lcykge1xyXG4gICAgICAgICAgICBpZiAoIWRldGVjdGVkUGxhbmVzLmhhcyhwbGFuZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuI3BsYW5lTG9zdChwbGFuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGV0ZWN0ZWRQbGFuZXMuZm9yRWFjaCgocGxhbmUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxhbmVzLmhhcyhwbGFuZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGFuZS5sYXN0Q2hhbmdlZFRpbWUgPiB0aGlzLnBsYW5lcy5nZXQocGxhbmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGUocGxhbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4jcGxhbmVGb3VuZChwbGFuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy4jcGxhbmVVcGRhdGVQb3NlKHBsYW5lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgICNwbGFuZUxvc3QocGxhbmUpIHtcclxuICAgICAgICB0aGlzLnBsYW5lcy5kZWxldGUocGxhbmUpO1xyXG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLnBsYW5lT2JqZWN0cy5nZXQocGxhbmUpO1xyXG4gICAgICAgIHRoaXMub25QbGFuZUxvc3Qubm90aWZ5KHBsYW5lLCBvKTtcclxuICAgICAgICAvKiBVc2VyIG1pZ2h0IGRlc3Ryb3kgdGhlIG9iamVjdCAqL1xyXG4gICAgICAgIGlmIChvLm9iamVjdElkID4gMClcclxuICAgICAgICAgICAgby5kZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICAjcGxhbmVGb3VuZChwbGFuZSkge1xyXG4gICAgICAgIHRoaXMucGxhbmVzLnNldChwbGFuZSwgcGxhbmUubGFzdENoYW5nZWRUaW1lKTtcclxuICAgICAgICBjb25zdCBvID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KHRoaXMub2JqZWN0KTtcclxuICAgICAgICB0aGlzLnBsYW5lT2JqZWN0cy5zZXQocGxhbmUsIG8pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsYW5lTWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgby5hZGRDb21wb25lbnQoTWVzaENvbXBvbmVudCwge1xyXG4gICAgICAgICAgICAgICAgbWVzaDogcGxhbmVNZXNoRnJvbUNvbnRvdXIodGhpcy5lbmdpbmUsIHBsYW5lLnBvbHlnb24pLFxyXG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMucGxhbmVNYXRlcmlhbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbGxpc2lvbk1hc2sgPj0gMCkge1xyXG4gICAgICAgICAgICBleHRlbnRzRnJvbUNvbnRvdXIodGVtcFZlYzMsIHBsYW5lLnBvbHlnb24pO1xyXG4gICAgICAgICAgICB0ZW1wVmVjM1sxXSA9IDAuMDI1O1xyXG4gICAgICAgICAgICBvLmFkZENvbXBvbmVudChDb2xsaXNpb25Db21wb25lbnQsIHtcclxuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmNvbGxpc2lvbk1hc2ssXHJcbiAgICAgICAgICAgICAgICBjb2xsaWRlcjogQ29sbGlkZXIuQm94LFxyXG4gICAgICAgICAgICAgICAgZXh0ZW50czogdGVtcFZlYzMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uUGxhbmVGb3VuZC5ub3RpZnkocGxhbmUsIG8pO1xyXG4gICAgfVxyXG4gICAgI3BsYW5lVXBkYXRlKHBsYW5lKSB7XHJcbiAgICAgICAgdGhpcy5wbGFuZXMuc2V0KHBsYW5lLCBwbGFuZS5sYXN0Q2hhbmdlZFRpbWUpO1xyXG4gICAgICAgIGNvbnN0IHBsYW5lTWVzaCA9IHRoaXMucGxhbmVPYmplY3RzLmdldChwbGFuZSkuZ2V0Q29tcG9uZW50KE1lc2hDb21wb25lbnQpO1xyXG4gICAgICAgIGlmICghcGxhbmVNZXNoKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgcGxhbmVNZXNoRnJvbUNvbnRvdXIodGhpcy5lbmdpbmUsIHBsYW5lLnBvbHlnb24sIHBsYW5lTWVzaC5tZXNoKTtcclxuICAgIH1cclxuICAgICNwbGFuZVVwZGF0ZVBvc2UocGxhbmUpIHtcclxuICAgICAgICBjb25zdCBvID0gdGhpcy5wbGFuZU9iamVjdHMuZ2V0KHBsYW5lKTtcclxuICAgICAgICBjb25zdCBwb3NlID0gdGhpcy5lbmdpbmUueHIuZnJhbWUuZ2V0UG9zZShwbGFuZS5wbGFuZVNwYWNlLCB0aGlzLmVuZ2luZS54ci5jdXJyZW50UmVmZXJlbmNlU3BhY2UpO1xyXG4gICAgICAgIGlmICghcG9zZSkge1xyXG4gICAgICAgICAgICBvLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldFhSUmlnaWRUcmFuc2Zvcm1Mb2NhbChvLCBwb3NlLnRyYW5zZm9ybSk7XHJcbiAgICB9XHJcbn1cclxuX19kZWNvcmF0ZShbXHJcbiAgICBwcm9wZXJ0eS5tYXRlcmlhbCgpXHJcbl0sIFBsYW5lRGV0ZWN0aW9uLnByb3RvdHlwZSwgXCJwbGFuZU1hdGVyaWFsXCIsIHZvaWQgMCk7XHJcbl9fZGVjb3JhdGUoW1xyXG4gICAgcHJvcGVydHkuaW50KClcclxuXSwgUGxhbmVEZXRlY3Rpb24ucHJvdG90eXBlLCBcImNvbGxpc2lvbk1hc2tcIiwgdm9pZCAwKTtcclxuZXhwb3J0IHsgUGxhbmVEZXRlY3Rpb24gfTtcclxuIiwgImltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmltcG9ydCB7IHZlYzMsIG1hdDQsIHF1YXQsIHF1YXQyIH0gZnJvbSAnZ2wtbWF0cml4JztcclxuY29uc3QgVlJNX1JPTExfQVhFUyA9IHtcclxuICAgIFg6IFsxLjAsIDAuMCwgMC4wXSxcclxuICAgIFk6IFswLjAsIDEuMCwgMC4wXSxcclxuICAgIFo6IFswLjAsIDAuMCwgMS4wXSxcclxufTtcclxuY29uc3QgVlJNX0FJTV9BWEVTID0ge1xyXG4gICAgUG9zaXRpdmVYOiBbMS4wLCAwLjAsIDAuMF0sXHJcbiAgICBOZWdhdGl2ZVg6IFstMS4wLCAwLjAsIDAuMF0sXHJcbiAgICBQb3NpdGl2ZVk6IFswLjAsIDEuMCwgMC4wXSxcclxuICAgIE5lZ2F0aXZlWTogWzAuMCwgLTEuMCwgMC4wXSxcclxuICAgIFBvc2l0aXZlWjogWzAuMCwgMC4wLCAxLjBdLFxyXG4gICAgTmVnYXRpdmVaOiBbMC4wLCAwLjAsIC0xLjBdLFxyXG59O1xyXG4vKipcclxuICogQ29tcG9uZW50IGZvciBsb2FkaW5nIGFuZCBoYW5kbGluZyBWUk0gMS4wIG1vZGVscy5cclxuICpcclxuICogUG9zaW5nIG9mIHRoZSBtb2RlbCBzaG91bGQgYmUgZG9uZSBleGNsdXNpdmVseSBieSByb3RhdGluZyB0aGUgYm9uZXMuIFRoZXNlIGNhbiBiZVxyXG4gKiBhY2Nlc3NlZCB1c2luZyB0aGUgYC5ib25lc2AgcHJvcGVydHkgYW5kIGZvbGxvdyB0aGUgVlJNIGJvbmUgbmFtaW5nLiBOb3RlIHRoYXQgbm90XHJcbiAqIGFsbCBWUk0gbW9kZWxzIHdpbGwgaGF2ZSBhbGwgcG9zc2libGUgYm9uZXMuIFRoZSByZXN0IHBvc2UgKFQtcG9zZSkgaXMgY2FwdHVyZWQgaW5cclxuICogdGhlIGAucmVzdFBvc2VgIHByb3BlcnR5LiBSZXNldHRpbmcgYSBib25lIHRvIGl0cyByZXN0IHBvc2UgY2FuIGJlIGRvbmUgYXMgZm9sbG93czpcclxuICogYGBganNcclxuICogdnJtQ29tcG9uZW50LmJvbmVzW3ZybUJvbmVOYW1lXS5yb3RhdGlvbkxvY2FsID0gdnJtQ29tcG9uZW50LnJlc3RQb3NlW3ZybUJvbmVOYW1lXTtcclxuICogYGBgXHJcbiAqXHJcbiAqIE1vdmluZyB0aGUgbW9kZWwgdGhyb3VnaCB0aGUgd29ybGQgc2hvdWxkIGJlIGRvbmUgYnkgbW92aW5nIHRoZSBvYmplY3QgdGhpcyBjb21wb25lbnRcclxuICogaXMgYXR0YWNoZWQgdG8uIEluIG90aGVyIHdvcmRzLCBieSBtb3ZpbmcgdGhlIHJvb3Qgb2YgdGhlIFZSTSBtb2RlbC4gVGhlIGJvbmVzIGFuZCBhbnlcclxuICogZGVzY2VuZGFudCBvYmplY3RzIHNob3VsZCAqbm90KiBiZSB1c2VkIHRvIG1vdmUgdGhlIFZSTSBtb2RlbC5cclxuICpcclxuICogVGhlIGNvcmUgZXh0ZW5zaW9uIGBWUk1DX3ZybWAgYXMgd2VsbCBhcyB0aGVgVlJNQ19zcHJpbmdCb25lYCBhbmQgYFZSTUNfbm9kZV9jb25zdHJhaW50YFxyXG4gKiBleHRlbnNpb25zIGFyZSBzdXBwb3J0ZWQuXHJcbiAqXHJcbiAqICoqTGltaXRhdGlvbnM6KipcclxuICogLSBObyBzdXBwb3J0IGZvciBgVlJNQ19tYXRlcmlhbF9tdG9vbmBcclxuICogLSBFeHByZXNzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkXHJcbiAqIC0gRXhwcmVzc2lvbiBiYXNlZCBsb29rQXQgaXNuJ3Qgc3VwcG9ydGVkXHJcbiAqIC0gTWVzaCBhbm5vdGF0aW9uIG1vZGUgYGF1dG9gIGlzIG5vdCBzdXBwb3J0ZWQgKGZpcnN0IHBlcnNvbiBtb2RlKVxyXG4gKi9cclxuY2xhc3MgVnJtIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICd2cm0nO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIFVSTCB0byBhIFZSTSBmaWxlIHRvIGxvYWQgKi9cclxuICAgICAgICBzcmM6IHsgdHlwZTogVHlwZS5TdHJpbmcgfSxcclxuICAgICAgICAvKiogT2JqZWN0IHRoZSBWUk0gaXMgbG9va2luZyBhdCAqL1xyXG4gICAgICAgIGxvb2tBdFRhcmdldDogeyB0eXBlOiBUeXBlLk9iamVjdCB9LFxyXG4gICAgfTtcclxuICAgIC8qKiBNZXRhIGluZm9ybWF0aW9uIGFib3V0IHRoZSBWUk0gbW9kZWwgKi9cclxuICAgIG1ldGEgPSBudWxsO1xyXG4gICAgLyoqIFRoZSBodW1hbm9pZCBib25lcyBvZiB0aGUgVlJNIG1vZGVsICovXHJcbiAgICBib25lcyA9IHtcclxuICAgICAgICAvKiBUb3JzbyAqL1xyXG4gICAgICAgIGhpcHM6IG51bGwsXHJcbiAgICAgICAgc3BpbmU6IG51bGwsXHJcbiAgICAgICAgY2hlc3Q6IG51bGwsXHJcbiAgICAgICAgdXBwZXJDaGVzdDogbnVsbCxcclxuICAgICAgICBuZWNrOiBudWxsLFxyXG4gICAgICAgIC8qIEhlYWQgKi9cclxuICAgICAgICBoZWFkOiBudWxsLFxyXG4gICAgICAgIGxlZnRFeWU6IG51bGwsXHJcbiAgICAgICAgcmlnaHRFeWU6IG51bGwsXHJcbiAgICAgICAgamF3OiBudWxsLFxyXG4gICAgICAgIC8qIExlZ3MgKi9cclxuICAgICAgICBsZWZ0VXBwZXJMZWc6IG51bGwsXHJcbiAgICAgICAgbGVmdExvd2VyTGVnOiBudWxsLFxyXG4gICAgICAgIGxlZnRGb290OiBudWxsLFxyXG4gICAgICAgIGxlZnRUb2VzOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VXBwZXJMZWc6IG51bGwsXHJcbiAgICAgICAgcmlnaHRMb3dlckxlZzogbnVsbCxcclxuICAgICAgICByaWdodEZvb3Q6IG51bGwsXHJcbiAgICAgICAgcmlnaHRUb2VzOiBudWxsLFxyXG4gICAgICAgIC8qIEFybXMgKi9cclxuICAgICAgICBsZWZ0U2hvdWxkZXI6IG51bGwsXHJcbiAgICAgICAgbGVmdFVwcGVyQXJtOiBudWxsLFxyXG4gICAgICAgIGxlZnRMb3dlckFybTogbnVsbCxcclxuICAgICAgICBsZWZ0SGFuZDogbnVsbCxcclxuICAgICAgICByaWdodFNob3VsZGVyOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VXBwZXJBcm06IG51bGwsXHJcbiAgICAgICAgcmlnaHRMb3dlckFybTogbnVsbCxcclxuICAgICAgICByaWdodEhhbmQ6IG51bGwsXHJcbiAgICAgICAgLyogRmluZ2VycyAqL1xyXG4gICAgICAgIGxlZnRUaHVtYk1ldGFjYXJwYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdFRodW1iUHJveGltYWw6IG51bGwsXHJcbiAgICAgICAgbGVmdFRodW1iRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRJbmRleFByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRJbmRleEludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICBsZWZ0SW5kZXhEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgbGVmdE1pZGRsZVByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRNaWRkbGVJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgbGVmdE1pZGRsZURpc3RhbDogbnVsbCxcclxuICAgICAgICBsZWZ0UmluZ1Byb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRSaW5nSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIGxlZnRSaW5nRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIGxlZnRMaXR0bGVQcm94aW1hbDogbnVsbCxcclxuICAgICAgICBsZWZ0TGl0dGxlSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIGxlZnRMaXR0bGVEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRUaHVtYk1ldGFjYXJwYWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRUaHVtYlByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0VGh1bWJEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRJbmRleFByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0SW5kZXhJbnRlcm1lZGlhdGU6IG51bGwsXHJcbiAgICAgICAgcmlnaHRJbmRleERpc3RhbDogbnVsbCxcclxuICAgICAgICByaWdodE1pZGRsZVByb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TWlkZGxlSW50ZXJtZWRpYXRlOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0TWlkZGxlRGlzdGFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0UmluZ1Byb3hpbWFsOiBudWxsLFxyXG4gICAgICAgIHJpZ2h0UmluZ0ludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICByaWdodFJpbmdEaXN0YWw6IG51bGwsXHJcbiAgICAgICAgcmlnaHRMaXR0bGVQcm94aW1hbDogbnVsbCxcclxuICAgICAgICByaWdodExpdHRsZUludGVybWVkaWF0ZTogbnVsbCxcclxuICAgICAgICByaWdodExpdHRsZURpc3RhbDogbnVsbCxcclxuICAgIH07XHJcbiAgICAvKiogUm90YXRpb25zIG9mIHRoZSBib25lcyBpbiB0aGUgcmVzdCBwb3NlIChULXBvc2UpICovXHJcbiAgICByZXN0UG9zZSA9IHt9O1xyXG4gICAgLyogQWxsIG5vZGUgY29uc3RyYWludHMsIG9yZGVyZWQgdG8gZGVhbCB3aXRoIGRlcGVuZGVuY2llcyAqL1xyXG4gICAgX25vZGVDb25zdHJhaW50cyA9IFtdO1xyXG4gICAgLyogVlJNQ19zcHJpbmdCb25lIGNoYWlucyAqL1xyXG4gICAgX3NwcmluZ0NoYWlucyA9IFtdO1xyXG4gICAgLyogU3BoZXJpY2FsIGNvbGxpZGVycyBmb3Igc3ByaW5nIGJvbmVzICovXHJcbiAgICBfc3BoZXJlQ29sbGlkZXJzID0gW107XHJcbiAgICAvKiBDYXBzdWxlIHNoYXBlZCBjb2xsaWRlcnMgZm9yIHNwcmluZyBib25lcyAqL1xyXG4gICAgX2NhcHN1bGVDb2xsaWRlcnMgPSBbXTtcclxuICAgIC8qIEluZGljYXRlcyB3aGljaCBtZXNoZXMgYXJlIHJlbmRlcmVkIGluIGZpcnN0L3RoaXJkIHBlcnNvbiB2aWV3cyAqL1xyXG4gICAgX2ZpcnN0UGVyc29uQW5ub3RhdGlvbnMgPSBbXTtcclxuICAgIC8qIENvbnRhaW5zIGRldGFpbHMgZm9yIChib25lIHR5cGUpIGxvb2tBdCBiZWhhdmlvdXIgKi9cclxuICAgIF9sb29rQXQgPSBudWxsO1xyXG4gICAgLyogV2hldGhlciBvciBub3QgdGhlIFZSTSBjb21wb25lbnQgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgd2l0aCBgaW5pdGlhbGl6ZVZybWAgKi9cclxuICAgIF9pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLl90ZW1wVjMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWM0EgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWM0IgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBRdWF0ID0gcXVhdC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wUXVhdEEgPSBxdWF0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RlbXBRdWF0QiA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcE1hdDRBID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90ZW1wUXVhdDIgPSBxdWF0Mi5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl90YWlsVG9TaGFwZSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5faGVhZFRvVGFpbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5lcnRpYSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fc3RpZmZuZXNzID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLl9leHRlcm5hbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fcmlnaHRWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAxLCAwLCAwKTtcclxuICAgICAgICB0aGlzLl91cFZlY3RvciA9IHZlYzMuc2V0KHZlYzMuY3JlYXRlKCksIDAsIDEsIDApO1xyXG4gICAgICAgIHRoaXMuX2ZvcndhcmRWZWN0b3IgPSB2ZWMzLnNldCh2ZWMzLmNyZWF0ZSgpLCAwLCAwLCAxKTtcclxuICAgICAgICB0aGlzLl9pZGVudGl0eVF1YXQgPSBxdWF0LmlkZW50aXR5KHF1YXQuY3JlYXRlKCkpO1xyXG4gICAgICAgIHRoaXMuX3JhZDJkZWcgPSAxODAuMCAvIE1hdGguUEk7XHJcbiAgICB9XHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3JjKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3ZybTogc3JjIHByb3BlcnR5IG5vdCBzZXQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVuZ2luZS5zY2VuZVxyXG4gICAgICAgICAgICAuYXBwZW5kKHRoaXMuc3JjLCB7IGxvYWRHbHRmRXh0ZW5zaW9uczogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAudGhlbigoeyByb290LCBleHRlbnNpb25zIH0pID0+IHtcclxuICAgICAgICAgICAgcm9vdC5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4gKGNoaWxkLnBhcmVudCA9IHRoaXMub2JqZWN0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVWcm0oZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgICAgIHJvb3QuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgdGhlIFZSTSBnbFRGIGV4dGVuc2lvbnMgYW5kIGluaXRpYWxpemVzIHRoZSB2cm0gY29tcG9uZW50LlxyXG4gICAgICogQHBhcmFtIHtHTFRGRXh0ZW5zaW9uc30gZXh0ZW5zaW9ucyBUaGUgZ2xURiBleHRlbnNpb25zIGZvciB0aGUgVlJNIG1vZGVsXHJcbiAgICAgKi9cclxuICAgIF9pbml0aWFsaXplVnJtKGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBpZiAodGhpcy5faW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1ZSTSBjb21wb25lbnQgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBWUk1DX3ZybSA9IGV4dGVuc2lvbnMucm9vdFsnVlJNQ192cm0nXTtcclxuICAgICAgICBpZiAoIVZSTUNfdnJtKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdNaXNzaW5nIFZSTSBleHRlbnNpb25zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChWUk1DX3ZybS5zcGVjVmVyc2lvbiAhPT0gJzEuMCcpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuc3VwcG9ydGVkIFZSTSB2ZXJzaW9uLCBvbmx5IDEuMCBpcyBzdXBwb3J0ZWQsIGJ1dCBlbmNvdW50ZXJlZCAnJHtWUk1DX3ZybS5zcGVjVmVyc2lvbn0nYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWV0YSA9IFZSTUNfdnJtLm1ldGE7XHJcbiAgICAgICAgdGhpcy5fcGFyc2VIdW1hbm9pZChWUk1DX3ZybS5odW1hbm9pZCwgZXh0ZW5zaW9ucyk7XHJcbiAgICAgICAgaWYgKFZSTUNfdnJtLmZpcnN0UGVyc29uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlRmlyc3RQZXJzb24oVlJNQ192cm0uZmlyc3RQZXJzb24sIGV4dGVuc2lvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoVlJNQ192cm0ubG9va0F0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlTG9va0F0KFZSTUNfdnJtLmxvb2tBdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2ZpbmRBbmRQYXJzZU5vZGVDb25zdHJhaW50cyhleHRlbnNpb25zKTtcclxuICAgICAgICBjb25zdCBzcHJpbmdCb25lID0gZXh0ZW5zaW9ucy5yb290WydWUk1DX3NwcmluZ0JvbmUnXTtcclxuICAgICAgICBpZiAoc3ByaW5nQm9uZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJzZUFuZEluaXRpYWxpemVTcHJpbmdCb25lcyhzcHJpbmdCb25lLCBleHRlbnNpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgX3BhcnNlSHVtYW5vaWQoaHVtYW5vaWQsIGV4dGVuc2lvbnMpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGJvbmVOYW1lIGluIGh1bWFub2lkLmh1bWFuQm9uZXMpIHtcclxuICAgICAgICAgICAgaWYgKCEoYm9uZU5hbWUgaW4gdGhpcy5ib25lcykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5yZWNvZ25pemVkIGJvbmUgJyR7Ym9uZU5hbWV9J2ApO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGh1bWFub2lkLmh1bWFuQm9uZXNbYm9uZU5hbWVdLm5vZGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdElkID0gZXh0ZW5zaW9ucy5pZE1hcHBpbmdbbm9kZV07XHJcbiAgICAgICAgICAgIHRoaXMuYm9uZXNbYm9uZU5hbWVdID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChvYmplY3RJZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdFBvc2VbYm9uZU5hbWVdID0gcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIHRoaXMuYm9uZXNbYm9uZU5hbWVdLnJvdGF0aW9uTG9jYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wYXJzZUZpcnN0UGVyc29uKGZpcnN0UGVyc29uLCBleHRlbnNpb25zKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBtZXNoQW5ub3RhdGlvbiBvZiBmaXJzdFBlcnNvbi5tZXNoQW5ub3RhdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbbWVzaEFubm90YXRpb24ubm9kZV0pLFxyXG4gICAgICAgICAgICAgICAgZmlyc3RQZXJzb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0aGlyZFBlcnNvbjogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc3dpdGNoIChtZXNoQW5ub3RhdGlvbi50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmaXJzdFBlcnNvbk9ubHknOlxyXG4gICAgICAgICAgICAgICAgICAgIGFubm90YXRpb24udGhpcmRQZXJzb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RoaXJkUGVyc29uT25seSc6XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbi5maXJzdFBlcnNvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhdXRvJzpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGaXJzdCBwZXJzb24gbWVzaCBhbm5vdGF0aW9uIHR5cGUgJ2F1dG8nIGlzIG5vdCBzdXBwb3J0ZWQsIHRyZWF0aW5nIGFzICdib3RoJyFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgbWVzaCBhbm5vdGF0aW9uIHR5cGUgJyR7bWVzaEFubm90YXRpb24udHlwZX0nYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fZmlyc3RQZXJzb25Bbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIF9wYXJzZUxvb2tBdChsb29rQXQpIHtcclxuICAgICAgICBpZiAobG9va0F0LnR5cGUgIT09ICdib25lJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuc3VwcG9ydGVkIGxvb2tBdCB0eXBlICcke2xvb2tBdC50eXBlfScsIG9ubHkgJ2JvbmUnIGlzIHN1cHBvcnRlZGApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlUmFuZ2VNYXAgPSAocmFuZ2VNYXApID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlucHV0TWF4VmFsdWU6IHJhbmdlTWFwLmlucHV0TWF4VmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRTY2FsZTogcmFuZ2VNYXAub3V0cHV0U2NhbGUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9sb29rQXQgPSB7XHJcbiAgICAgICAgICAgIG9mZnNldEZyb21IZWFkQm9uZTogbG9va0F0Lm9mZnNldEZyb21IZWFkQm9uZSB8fCBbMCwgMCwgMF0sXHJcbiAgICAgICAgICAgIGhvcml6b250YWxJbm5lcjogcGFyc2VSYW5nZU1hcChsb29rQXQucmFuZ2VNYXBIb3Jpem9udGFsSW5uZXIpLFxyXG4gICAgICAgICAgICBob3Jpem9udGFsT3V0ZXI6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwSG9yaXpvbnRhbE91dGVyKSxcclxuICAgICAgICAgICAgdmVydGljYWxEb3duOiBwYXJzZVJhbmdlTWFwKGxvb2tBdC5yYW5nZU1hcFZlcnRpY2FsRG93biksXHJcbiAgICAgICAgICAgIHZlcnRpY2FsVXA6IHBhcnNlUmFuZ2VNYXAobG9va0F0LnJhbmdlTWFwVmVydGljYWxVcCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIF9maW5kQW5kUGFyc2VOb2RlQ29uc3RyYWludHMoZXh0ZW5zaW9ucykge1xyXG4gICAgICAgIGNvbnN0IHRyYXZlcnNlID0gKG9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub2RlRXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnMubm9kZVtvYmplY3Qub2JqZWN0SWRdO1xyXG4gICAgICAgICAgICBpZiAobm9kZUV4dGVuc2lvbnMgJiYgJ1ZSTUNfbm9kZV9jb25zdHJhaW50JyBpbiBub2RlRXh0ZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUNvbnN0cmFpbnRFeHRlbnNpb24gPSBub2RlRXh0ZW5zaW9uc1snVlJNQ19ub2RlX2NvbnN0cmFpbnQnXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBub2RlQ29uc3RyYWludEV4dGVuc2lvbi5jb25zdHJhaW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IHR5cGUsIGF4aXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoJ3JvbGwnIGluIGNvbnN0cmFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3JvbGwnO1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBWUk1fUk9MTF9BWEVTW2NvbnN0cmFpbnQucm9sbC5yb2xsQXhpc107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgnYWltJyBpbiBjb25zdHJhaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdhaW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBWUk1fQUlNX0FYRVNbY29uc3RyYWludC5haW0uYWltQXhpc107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgncm90YXRpb24nIGluIGNvbnN0cmFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3JvdGF0aW9uJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tjb25zdHJhaW50W3R5cGVdLnNvdXJjZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25vZGVDb25zdHJhaW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogb2JqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzOiBheGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IGNvbnN0cmFpbnRbdHlwZV0ud2VpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBSZXN0IHBvc2UgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25SZXN0TG9jYWxSb3RhdGlvbjogcXVhdC5jb3B5KHF1YXQuY3JlYXRlKCksIG9iamVjdC5yb3RhdGlvbkxvY2FsKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlUmVzdExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBzb3VyY2Uucm90YXRpb25Mb2NhbCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVJlc3RMb2NhbFJvdGF0aW9uSW52OiBxdWF0LmludmVydChxdWF0LmNyZWF0ZSgpLCBzb3VyY2Uucm90YXRpb25Mb2NhbCksXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1VucmVjb2duaXplZCBvciBpbnZhbGlkIFZSTUNfbm9kZV9jb25zdHJhaW50LCBpZ25vcmluZyBpdCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyYXZlcnNlKHRoaXMub2JqZWN0KTtcclxuICAgIH1cclxuICAgIF9wYXJzZUFuZEluaXRpYWxpemVTcHJpbmdCb25lcyhzcHJpbmdCb25lLCBleHRlbnNpb25zKSB7XHJcbiAgICAgICAgY29uc3QgY29sbGlkZXJzID0gKHNwcmluZ0JvbmUuY29sbGlkZXJzIHx8IFtdKS5tYXAoKGNvbGxpZGVyLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlVHlwZSA9ICdjYXBzdWxlJyBpbiBjb2xsaWRlci5zaGFwZSA/ICdjYXBzdWxlJyA6ICdzcGhlcmUnO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IGksXHJcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbY29sbGlkZXIubm9kZV0pLFxyXG4gICAgICAgICAgICAgICAgc2hhcGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBpc0NhcHN1bGU6IHNoYXBlVHlwZSA9PT0gJ2NhcHN1bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogY29sbGlkZXIuc2hhcGVbc2hhcGVUeXBlXS5yYWRpdXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBjb2xsaWRlci5zaGFwZVtzaGFwZVR5cGVdLm9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICB0YWlsOiBjb2xsaWRlci5zaGFwZVtzaGFwZVR5cGVdLnRhaWwsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2FjaGU6IHtcclxuICAgICAgICAgICAgICAgICAgICBoZWFkOiB2ZWMzLmNyZWF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhaWw6IHZlYzMuY3JlYXRlKCksXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3NwaGVyZUNvbGxpZGVycyA9IGNvbGxpZGVycy5maWx0ZXIoKGMpID0+ICFjLnNoYXBlLmlzQ2Fwc3VsZSk7XHJcbiAgICAgICAgdGhpcy5fY2Fwc3VsZUNvbGxpZGVycyA9IGNvbGxpZGVycy5maWx0ZXIoKGMpID0+IGMuc2hhcGUuaXNDYXBzdWxlKTtcclxuICAgICAgICBjb25zdCBjb2xsaWRlckdyb3VwcyA9IChzcHJpbmdCb25lLmNvbGxpZGVyR3JvdXBzIHx8IFtdKS5tYXAoKGdyb3VwKSA9PiAoe1xyXG4gICAgICAgICAgICBuYW1lOiBncm91cC5uYW1lLFxyXG4gICAgICAgICAgICBjb2xsaWRlcnM6IGdyb3VwLmNvbGxpZGVycy5tYXAoKGMpID0+IGNvbGxpZGVyc1tjXSksXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3ByaW5nIG9mIHNwcmluZ0JvbmUuc3ByaW5ncykge1xyXG4gICAgICAgICAgICBjb25zdCBqb2ludHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBqb2ludCBvZiBzcHJpbmcuam9pbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpbmdKb2ludCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBoaXRSYWRpdXM6IDAuMCxcclxuICAgICAgICAgICAgICAgICAgICBzdGlmZm5lc3M6IDEuMCxcclxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5UG93ZXI6IDAuMCxcclxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5RGlyOiBbMC4wLCAtMS4wLCAwLjBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdGb3JjZTogMC41LFxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzcHJpbmdKb2ludCwgam9pbnQpO1xyXG4gICAgICAgICAgICAgICAgc3ByaW5nSm9pbnQubm9kZSA9IHRoaXMuZW5naW5lLndyYXBPYmplY3QoZXh0ZW5zaW9ucy5pZE1hcHBpbmdbc3ByaW5nSm9pbnQubm9kZV0pO1xyXG4gICAgICAgICAgICAgICAgam9pbnRzLnB1c2goc3ByaW5nSm9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcmluZ0NoYWluQ29sbGlkZXJzID0gKHNwcmluZy5jb2xsaWRlckdyb3VwcyB8fCBbXSkuZmxhdE1hcCgoY2cpID0+IGNvbGxpZGVyR3JvdXBzW2NnXS5jb2xsaWRlcnMpO1xyXG4gICAgICAgICAgICB0aGlzLl9zcHJpbmdDaGFpbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzcHJpbmcubmFtZSxcclxuICAgICAgICAgICAgICAgIGNlbnRlcjogc3ByaW5nLmNlbnRlclxyXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbmdpbmUud3JhcE9iamVjdChleHRlbnNpb25zLmlkTWFwcGluZ1tzcHJpbmcuY2VudGVyXSlcclxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBqb2ludHMsXHJcbiAgICAgICAgICAgICAgICBzcGhlcmVDb2xsaWRlcnM6IHNwcmluZ0NoYWluQ29sbGlkZXJzLmZpbHRlcigoYykgPT4gIWMuc2hhcGUuaXNDYXBzdWxlKSxcclxuICAgICAgICAgICAgICAgIGNhcHN1bGVDb2xsaWRlcnM6IHNwcmluZ0NoYWluQ29sbGlkZXJzLmZpbHRlcigoYykgPT4gYy5zaGFwZS5pc0NhcHN1bGUpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogSW5pdGlhbGl6ZSBzcHJpbmcgYm9uZSBqb2ludCBzdGF0ZSAqL1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3ByaW5nQ2hhaW4gb2YgdGhpcy5fc3ByaW5nQ2hhaW5zKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3ByaW5nQ2hhaW4uam9pbnRzLmxlbmd0aCAtIDE7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nQm9uZUpvaW50ID0gc3ByaW5nQ2hhaW4uam9pbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRTcHJpbmdCb25lSm9pbnQgPSBzcHJpbmdDaGFpbi5qb2ludHNbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByaW5nQm9uZVBvc2l0aW9uID0gc3ByaW5nQm9uZUpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh2ZWMzLmNyZWF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uID0gY2hpbGRTcHJpbmdCb25lSm9pbnQubm9kZS5nZXRUcmFuc2xhdGlvbldvcmxkKHZlYzMuY3JlYXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYm9uZURpcmVjdGlvbiA9IHZlYzMuc3VidHJhY3QodGhpcy5fdGVtcFYzQSwgc3ByaW5nQm9uZVBvc2l0aW9uLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2VGFpbDogY2hpbGRTcHJpbmdCb25lUG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhaWw6IHZlYzMuY29weSh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbiksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExvY2FsUm90YXRpb246IHF1YXQuY29weShxdWF0LmNyZWF0ZSgpLCBzcHJpbmdCb25lSm9pbnQubm9kZS5yb3RhdGlvbkxvY2FsKSxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTG9jYWxUcmFuc2Zvcm1JbnZlcnQ6IHF1YXQyLmludmVydChxdWF0Mi5jcmVhdGUoKSwgc3ByaW5nQm9uZUpvaW50Lm5vZGUudHJhbnNmb3JtTG9jYWwpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvbmVBeGlzOiB2ZWMzLm5vcm1hbGl6ZSh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVKb2ludC5ub2RlLmdldFRyYW5zbGF0aW9uTG9jYWwodGhpcy5fdGVtcFYzKSksXHJcbiAgICAgICAgICAgICAgICAgICAgLyogRW5zdXJlIGJvbmUgbGVuZ3RoIGlzIGF0IGxlYXN0IDFjbSB0byBhdm9pZCBqaXR0ZXJ5IGJlaGF2aW91ciBmcm9tIHplcm8tbGVuZ3RoIGJvbmVzICovXHJcbiAgICAgICAgICAgICAgICAgICAgYm9uZUxlbmd0aDogTWF0aC5tYXgoMC4wMSwgdmVjMy5sZW5ndGgoYm9uZURpcmVjdGlvbikpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qIFRhaWwgcG9zaXRpb25zIGluIGNlbnRlciBzcGFjZSwgaWYgbmVlZGVkICovXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlRhaWxDZW50ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhaWxDZW50ZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwcmluZ0NoYWluLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByZXZUYWlsQ2VudGVyID0gc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKHZlYzMuY3JlYXRlKCksIGNoaWxkU3ByaW5nQm9uZVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50VGFpbENlbnRlciA9IHZlYzMuY29weSh2ZWMzLmNyZWF0ZSgpLCBjaGlsZFNwcmluZ0JvbmVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzcHJpbmdCb25lSm9pbnQuc3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiAxLiBSZXNvbHZlIGh1bWFub2lkIGJvbmVzIChwZXJmb3JtZWQgYnkgdXNlcikgKi9cclxuICAgICAgICAvKiAyLiBSZXNvbHZlIExvb2tBdCAoYm9uZSB0eXBlKSBhcyB0aGUgcG9zaXRpb24gb2YgdGhlIGhlYWQgaXMgZGV0ZXJtaW5lZCAqL1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdmVMb29rQXQoKTtcclxuICAgICAgICAvKiAzLiBFeHByZXNzaW9uIHVwZGF0ZSAoVE9ETykgKi9cclxuICAgICAgICAvKiA0LiBBcHBseSBFeHByZXNzaW9uIChUT0RPKSAqL1xyXG4gICAgICAgIC8qIDUuIFJlc29sdmUgY29uc3RyYWludHMgKi9cclxuICAgICAgICB0aGlzLl9yZXNvbHZlQ29uc3RyYWludHMoKTtcclxuICAgICAgICAvKiA2LiBSZXNvbHZlIFNwcmluZyBCb25lICovXHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3ByaW5nQm9uZXMoZHQpO1xyXG4gICAgfVxyXG4gICAgX3JhbmdlTWFwKHJhbmdlTWFwLCBpbnB1dCkge1xyXG4gICAgICAgIGNvbnN0IG1heFZhbHVlID0gcmFuZ2VNYXAuaW5wdXRNYXhWYWx1ZTtcclxuICAgICAgICBjb25zdCBvdXRwdXRTY2FsZSA9IHJhbmdlTWFwLm91dHB1dFNjYWxlO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5taW4oaW5wdXQsIG1heFZhbHVlKSAvIG1heFZhbHVlKSAqIG91dHB1dFNjYWxlO1xyXG4gICAgfVxyXG4gICAgX3Jlc29sdmVMb29rQXQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9sb29rQXQgfHwgIXRoaXMubG9va0F0VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbG9va0F0U291cmNlID0gdGhpcy5ib25lcy5oZWFkLnRyYW5zZm9ybVBvaW50V29ybGQodGhpcy5fdGVtcFYzQSwgdGhpcy5fbG9va0F0Lm9mZnNldEZyb21IZWFkQm9uZSk7XHJcbiAgICAgICAgY29uc3QgbG9va0F0VGFyZ2V0ID0gdGhpcy5sb29rQXRUYXJnZXQuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcclxuICAgICAgICBjb25zdCBsb29rQXREaXJlY3Rpb24gPSB2ZWMzLnN1Yih0aGlzLl90ZW1wVjNBLCBsb29rQXRUYXJnZXQsIGxvb2tBdFNvdXJjZSk7XHJcbiAgICAgICAgdmVjMy5ub3JtYWxpemUobG9va0F0RGlyZWN0aW9uLCBsb29rQXREaXJlY3Rpb24pO1xyXG4gICAgICAgIC8qIENvbnZlcnQgdGhlIGRpcmVjdGlvbiBpbnRvIExvb2tBdCBzcGFjZSAqL1xyXG4gICAgICAgIHRoaXMuYm9uZXMuaGVhZC5wYXJlbnQudHJhbnNmb3JtVmVjdG9ySW52ZXJzZVdvcmxkKGxvb2tBdERpcmVjdGlvbik7XHJcbiAgICAgICAgY29uc3QgeiA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fZm9yd2FyZFZlY3Rvcik7XHJcbiAgICAgICAgY29uc3QgeCA9IHZlYzMuZG90KGxvb2tBdERpcmVjdGlvbiwgdGhpcy5fcmlnaHRWZWN0b3IpO1xyXG4gICAgICAgIGNvbnN0IHlhdyA9IE1hdGguYXRhbjIoeCwgeikgKiB0aGlzLl9yYWQyZGVnO1xyXG4gICAgICAgIGNvbnN0IHh6ID0gTWF0aC5zcXJ0KHggKiB4ICsgeiAqIHopO1xyXG4gICAgICAgIGNvbnN0IHkgPSB2ZWMzLmRvdChsb29rQXREaXJlY3Rpb24sIHRoaXMuX3VwVmVjdG9yKTtcclxuICAgICAgICBsZXQgcGl0Y2ggPSBNYXRoLmF0YW4yKC15LCB4eikgKiB0aGlzLl9yYWQyZGVnO1xyXG4gICAgICAgIC8qIExpbWl0IHBpdGNoICovXHJcbiAgICAgICAgaWYgKHBpdGNoID4gMCkge1xyXG4gICAgICAgICAgICBwaXRjaCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbERvd24sIHBpdGNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBpdGNoID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC52ZXJ0aWNhbFVwLCAtcGl0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKiBMZWZ0IGV5ZSAobGltaXQgeWF3KSAqL1xyXG4gICAgICAgIGlmICh0aGlzLmJvbmVzLmxlZnRFeWUpIHtcclxuICAgICAgICAgICAgbGV0IHlhd0xlZnQgPSB5YXc7XHJcbiAgICAgICAgICAgIGlmICh5YXdMZWZ0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIHlhd0xlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeWF3TGVmdCA9IC10aGlzLl9yYW5nZU1hcCh0aGlzLl9sb29rQXQuaG9yaXpvbnRhbE91dGVyLCAteWF3TGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZXllUm90YXRpb24gPSBxdWF0LmZyb21FdWxlcih0aGlzLl90ZW1wUXVhdEEsIHBpdGNoLCB5YXdMZWZ0LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5ib25lcy5sZWZ0RXllLnJvdGF0aW9uTG9jYWwgPSBxdWF0Lm11bHRpcGx5KGV5ZVJvdGF0aW9uLCB0aGlzLnJlc3RQb3NlLmxlZnRFeWUsIGV5ZVJvdGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogUmlnaHQgZXllIChsaW1pdCB5YXcpICovXHJcbiAgICAgICAgaWYgKHRoaXMuYm9uZXMucmlnaHRFeWUpIHtcclxuICAgICAgICAgICAgbGV0IHlhd1JpZ2h0ID0geWF3O1xyXG4gICAgICAgICAgICBpZiAoeWF3UmlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB5YXdSaWdodCA9IHRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsT3V0ZXIsIHlhd1JpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHlhd1JpZ2h0ID0gLXRoaXMuX3JhbmdlTWFwKHRoaXMuX2xvb2tBdC5ob3Jpem9udGFsSW5uZXIsIC15YXdSaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZXllUm90YXRpb24gPSBxdWF0LmZyb21FdWxlcih0aGlzLl90ZW1wUXVhdEEsIHBpdGNoLCB5YXdSaWdodCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9uZXMucmlnaHRFeWUucm90YXRpb25Mb2NhbCA9IHF1YXQubXVsdGlwbHkoZXllUm90YXRpb24sIHRoaXMucmVzdFBvc2UucmlnaHRFeWUsIGV5ZVJvdGF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVzb2x2ZUNvbnN0cmFpbnRzKCkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZUNvbnN0cmFpbnQgb2YgdGhpcy5fbm9kZUNvbnN0cmFpbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVDb25zdHJhaW50KG5vZGVDb25zdHJhaW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBfcmVzb2x2ZUNvbnN0cmFpbnQobm9kZUNvbnN0cmFpbnQpIHtcclxuICAgICAgICBjb25zdCBkc3RSZXN0UXVhdCA9IG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uUmVzdExvY2FsUm90YXRpb247XHJcbiAgICAgICAgY29uc3Qgc3JjUmVzdFF1YXRJbnYgPSBub2RlQ29uc3RyYWludC5zb3VyY2VSZXN0TG9jYWxSb3RhdGlvbkludjtcclxuICAgICAgICBjb25zdCB0YXJnZXRRdWF0ID0gcXVhdC5pZGVudGl0eSh0aGlzLl90ZW1wUXVhdEEpO1xyXG4gICAgICAgIHN3aXRjaCAobm9kZUNvbnN0cmFpbnQudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdyb2xsJzpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXQgPSBxdWF0Lm11bHRpcGx5KHRoaXMuX3RlbXBRdWF0QSwgc3JjUmVzdFF1YXRJbnYsIG5vZGVDb25zdHJhaW50LnNvdXJjZS5yb3RhdGlvbkxvY2FsKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBzb3VyY2UgdG8gcGFyZW50ICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFTcmNRdWF0SW5QYXJlbnQgPSBxdWF0Lm11bHRpcGx5KHRoaXMuX3RlbXBRdWF0QSwgbm9kZUNvbnN0cmFpbnQuc291cmNlUmVzdExvY2FsUm90YXRpb24sIGRlbHRhU3JjUXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwoZGVsdGFTcmNRdWF0SW5QYXJlbnQsIGRlbHRhU3JjUXVhdEluUGFyZW50LCBzcmNSZXN0UXVhdEludik7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogcGFyZW50IHRvIGRlc3RpbmF0aW9uICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHN0UmVzdFF1YXRJbnYgPSBxdWF0LmludmVydCh0aGlzLl90ZW1wUXVhdEIsIGRzdFJlc3RRdWF0KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVNyY1F1YXRJbkRzdCA9IHF1YXQubXVsdGlwbHkodGhpcy5fdGVtcFF1YXRCLCBkc3RSZXN0UXVhdEludiwgZGVsdGFTcmNRdWF0SW5QYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsdGlwbHkoZGVsdGFTcmNRdWF0SW5Ec3QsIGRlbHRhU3JjUXVhdEluRHN0LCBkc3RSZXN0UXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9WZWMgPSB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5fdGVtcFYzQSwgbm9kZUNvbnN0cmFpbnQuYXhpcywgZGVsdGFTcmNRdWF0SW5Ec3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Ub1F1YXQgPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBub2RlQ29uc3RyYWludC5heGlzLCB0b1ZlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQsIHF1YXQuaW52ZXJ0KHRoaXMuX3RlbXBRdWF0LCBmcm9tVG9RdWF0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgdGFyZ2V0UXVhdCwgZGVsdGFTcmNRdWF0SW5Ec3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2FpbSc6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHN0UGFyZW50V29ybGRRdWF0ID0gbm9kZUNvbnN0cmFpbnQuZGVzdGluYXRpb24ucGFyZW50LnJvdGF0aW9uV29ybGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogZnJvbVZlYyA9IGFpbUF4aXMuYXBwbHlRdWF0ZXJuaW9uKCBkc3RQYXJlbnRXb3JsZFF1YXQgKiBkc3RSZXN0UXVhdCApICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbVZlYyA9IHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLl90ZW1wVjNBLCBub2RlQ29uc3RyYWludC5heGlzLCBkc3RSZXN0UXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KGZyb21WZWMsIGZyb21WZWMsIGRzdFBhcmVudFdvcmxkUXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogdG9WZWMgPSAoIHNyY1dvcmxkUG9zIC0gZHN0V29ybGRQb3MgKS5ub3JtYWxpemVkICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9WZWMgPSBub2RlQ29uc3RyYWludC5zb3VyY2UuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1Yih0b1ZlYywgdG9WZWMsIG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLmdldFRyYW5zbGF0aW9uV29ybGQodGhpcy5fdGVtcFYzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodG9WZWMsIHRvVmVjKTtcclxuICAgICAgICAgICAgICAgICAgICAvKiBmcm9tVG9RdWF0ID0gUXVhdGVybmlvbi5mcm9tVG9Sb3RhdGlvbiggZnJvbVZlYywgdG9WZWMgKSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb21Ub1F1YXQgPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBmcm9tVmVjLCB0b1ZlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgcXVhdC5pbnZlcnQodGhpcy5fdGVtcFF1YXQsIGRzdFBhcmVudFdvcmxkUXVhdCksIGZyb21Ub1F1YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIHRhcmdldFF1YXQsIGRzdFBhcmVudFdvcmxkUXVhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVhdC5tdWwodGFyZ2V0UXVhdCwgdGFyZ2V0UXVhdCwgZHN0UmVzdFF1YXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0aW9uJzpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcmNEZWx0YVF1YXQgPSBxdWF0Lm11bCh0YXJnZXRRdWF0LCBzcmNSZXN0UXVhdEludiwgbm9kZUNvbnN0cmFpbnQuc291cmNlLnJvdGF0aW9uTG9jYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1YXQubXVsKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCBzcmNEZWx0YVF1YXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIEFwcGx5IGNvbnN0cmFpbnQgKi9cclxuICAgICAgICBxdWF0LnNsZXJwKHRhcmdldFF1YXQsIGRzdFJlc3RRdWF0LCB0YXJnZXRRdWF0LCBub2RlQ29uc3RyYWludC53ZWlnaHQpO1xyXG4gICAgICAgIG5vZGVDb25zdHJhaW50LmRlc3RpbmF0aW9uLnJvdGF0aW9uTG9jYWwgPSB0YXJnZXRRdWF0O1xyXG4gICAgfVxyXG4gICAgX3VwZGF0ZVNwcmluZ0JvbmVzKGR0KSB7XHJcbiAgICAgICAgLyogUHJlLWNvbXB1dGUgY29sbGlkZXIgcG9zaXRpb25zICovXHJcbiAgICAgICAgdGhpcy5fc3BoZXJlQ29sbGlkZXJzLmZvckVhY2goKHsgb2JqZWN0LCBzaGFwZSwgY2FjaGUgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2ZWMzLmNvcHkoY2FjaGUuaGVhZCwgc2hhcGUub2Zmc2V0KTtcclxuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKG9mZnNldCk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKGNhY2hlLmhlYWQsIG9iamVjdC5nZXRUcmFuc2xhdGlvbldvcmxkKHRoaXMuX3RlbXBWMyksIG9mZnNldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fY2Fwc3VsZUNvbGxpZGVycy5mb3JFYWNoKCh7IG9iamVjdCwgc2hhcGUsIGNhY2hlIH0pID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2hhcGVDZW50ZXIgPSBvYmplY3QuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNBKTtcclxuICAgICAgICAgICAgY29uc3QgaGVhZE9mZnNldCA9IHZlYzMuY29weShjYWNoZS5oZWFkLCBzaGFwZS5vZmZzZXQpO1xyXG4gICAgICAgICAgICBvYmplY3QudHJhbnNmb3JtVmVjdG9yV29ybGQoaGVhZE9mZnNldCk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKGNhY2hlLmhlYWQsIHNoYXBlQ2VudGVyLCBoZWFkT2Zmc2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdGFpbE9mZnNldCA9IHZlYzMuY29weShjYWNoZS50YWlsLCBzaGFwZS50YWlsKTtcclxuICAgICAgICAgICAgb2JqZWN0LnRyYW5zZm9ybVZlY3RvcldvcmxkKHRhaWxPZmZzZXQpO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChjYWNoZS50YWlsLCBzaGFwZUNlbnRlciwgdGFpbE9mZnNldCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyogVXBkYXRlIHNwcmluZyBjaGFpbnMgKi9cclxuICAgICAgICB0aGlzLl9zcHJpbmdDaGFpbnMuZm9yRWFjaCgoc3ByaW5nQ2hhaW4pID0+IHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcHJpbmdDaGFpbi5qb2ludHMubGVuZ3RoIC0gMTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqb2ludCA9IHNwcmluZ0NoYWluLmpvaW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFdvcmxkUm90YXRpb24gPSBqb2ludC5ub2RlLnBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgID8gam9pbnQubm9kZS5wYXJlbnQucm90YXRpb25Xb3JsZFxyXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5faWRlbnRpdHlRdWF0O1xyXG4gICAgICAgICAgICAgICAgLyogMS4gRm9yY2VzICovXHJcbiAgICAgICAgICAgICAgICAvKiBpbmVydGlhID0gKGN1cnJlbnRUYWlsIC0gcHJldlRhaWwpICogKDEuMGYgLSBkcmFnRm9yY2UpOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5lcnRpYSA9IHRoaXMuX2luZXJ0aWE7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaW5nQ2hhaW4uY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIoaW5lcnRpYSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWxDZW50ZXIsIGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBzcHJpbmdDaGFpbi5jZW50ZXIudHJhbnNmb3JtVmVjdG9yV29ybGQoaW5lcnRpYSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihpbmVydGlhLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbCwgam9pbnQuc3RhdGUucHJldlRhaWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZShpbmVydGlhLCBpbmVydGlhLCAxLjAgLSBqb2ludC5kcmFnRm9yY2UpO1xyXG4gICAgICAgICAgICAgICAgLyogc3RpZmZuZXNzID0gZGVsdGFUaW1lICogcGFyZW50V29ybGRSb3RhdGlvbiAqIGxvY2FsUm90YXRpb24gKiBib25lQXhpcyAqIHN0aWZmbmVzc0ZvcmNlOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RpZmZuZXNzID0gdmVjMy5jb3B5KHRoaXMuX3N0aWZmbmVzcywgam9pbnQuc3RhdGUuYm9uZUF4aXMpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy50cmFuc2Zvcm1RdWF0KHN0aWZmbmVzcywgc3RpZmZuZXNzLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQoc3RpZmZuZXNzLCBzdGlmZm5lc3MsIHBhcmVudFdvcmxkUm90YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZShzdGlmZm5lc3MsIHN0aWZmbmVzcywgZHQgKiBqb2ludC5zdGlmZm5lc3MpO1xyXG4gICAgICAgICAgICAgICAgLyogZXh0ZXJuYWwgPSBkZWx0YVRpbWUgKiBncmF2aXR5RGlyICogZ3Jhdml0eVBvd2VyOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWwgPSB2ZWMzLnNjYWxlKHRoaXMuX2V4dGVybmFsLCBqb2ludC5ncmF2aXR5RGlyLCBkdCAqIGpvaW50LmdyYXZpdHlQb3dlcik7XHJcbiAgICAgICAgICAgICAgICAvKiBuZXh0VGFpbCA9IGN1cnJlbnRUYWlsICsgaW5lcnRpYSArIHN0aWZmbmVzcyArIGV4dGVybmFsOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRhaWwgPSB2ZWMzLmNvcHkodGhpcy5fdGVtcFYzQSwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5hZGQobmV4dFRhaWwsIG5leHRUYWlsLCBpbmVydGlhKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgc3RpZmZuZXNzKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuYWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgZXh0ZXJuYWwpO1xyXG4gICAgICAgICAgICAgICAgLyogY29uc3RyYWluIHRoZSBsZW5ndGggKi9cclxuICAgICAgICAgICAgICAgIC8qIG5leHRUYWlsID0gd29ybGRQb3NpdGlvbiArIChuZXh0VGFpbCAtIHdvcmxkUG9zaXRpb24pLm5vcm1hbGl6ZWQgKiBib25lTGVuZ3RoOyAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ybGRQb3NpdGlvbiA9IGpvaW50Lm5vZGUuZ2V0VHJhbnNsYXRpb25Xb3JsZCh0aGlzLl90ZW1wVjNCKTtcclxuICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgd29ybGRQb3NpdGlvbiwgbmV4dFRhaWwsIGpvaW50LnN0YXRlLmJvbmVMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgLyogMi4gQ29sbGlzaW9uIHdpdGggY29sbGlkZXJzICovXHJcbiAgICAgICAgICAgICAgICAvKiBTcGhlcmUgY29sbGlkZXJzICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgc2hhcGUsIGNhY2hlIH0gb2Ygc3ByaW5nQ2hhaW4uc3BoZXJlQ29sbGlkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhaWxUb1NoYXBlID0gdGhpcy5fdGFpbFRvU2hhcGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BoZXJlQ2VudGVyID0gY2FjaGUuaGVhZDtcclxuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgc3BoZXJlQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByYWRpdXMgPSBzaGFwZS5yYWRpdXMgKyBqb2ludC5oaXRSYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IHZlYzMubGVuZ3RoKHRhaWxUb1NoYXBlKSAtIHJhZGl1cztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdCA8IDAuMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0YWlsVG9TaGFwZSwgdGFpbFRvU2hhcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCBuZXh0VGFpbCwgdGFpbFRvU2hhcGUsIC1kaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogY29uc3RyYWludCB0aGUgbGVuZ3RoICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc3ViKG5leHRUYWlsLCBuZXh0VGFpbCwgd29ybGRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGVBbmRBZGQobmV4dFRhaWwsIHdvcmxkUG9zaXRpb24sIG5leHRUYWlsLCBqb2ludC5zdGF0ZS5ib25lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvKiBDYXBzdWxlIGNvbGxpZGVycyAqL1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB7IHNoYXBlLCBjYWNoZSB9IG9mIHNwcmluZ0NoYWluLmNhcHN1bGVDb2xsaWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFpbFRvU2hhcGUgPSB0aGlzLl90YWlsVG9TaGFwZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkID0gY2FjaGUuaGVhZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWlsID0gY2FjaGUudGFpbDtcclxuICAgICAgICAgICAgICAgICAgICAvKiBOYWl2ZWx5IHN0YXJ0IHdpdGggZGlzdGFuY2UgdG8gdGhlIGhlYWQgKi9cclxuICAgICAgICAgICAgICAgICAgICB0YWlsVG9TaGFwZSA9IHZlYzMuc3ViKHRhaWxUb1NoYXBlLCBuZXh0VGFpbCwgaGVhZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZFRvVGFpbCA9IHZlYzMuc3ViKHRoaXMuX2hlYWRUb1RhaWwsIHRhaWwsIGhlYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvdCA9IHZlYzMuZG90KGhlYWRUb1RhaWwsIHRhaWxUb1NoYXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpIDw9IGRvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBDbG9zZXN0IHRvIHRhaWwgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodGFpbFRvU2hhcGUsIG5leHRUYWlsLCB0YWlsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZG90ID4gMC4wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIENsb3Nlc3QgdG8gbWlkZGxlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMuc2NhbGUoaGVhZFRvVGFpbCwgaGVhZFRvVGFpbCwgZG90IC8gdmVjMy5zcXVhcmVkTGVuZ3RoKGhlYWRUb1RhaWwpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zdWIodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlLCBoZWFkVG9UYWlsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gc2hhcGUucmFkaXVzICsgam9pbnQuaGl0UmFkaXVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3QgPSB2ZWMzLmxlbmd0aCh0YWlsVG9TaGFwZSkgLSByYWRpdXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3QgPCAwLjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGFpbFRvU2hhcGUsIHRhaWxUb1NoYXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChuZXh0VGFpbCwgbmV4dFRhaWwsIHRhaWxUb1NoYXBlLCAtZGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGNvbnN0cmFpbnQgdGhlIGxlbmd0aCAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnN1YihuZXh0VGFpbCwgbmV4dFRhaWwsIHdvcmxkUG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShuZXh0VGFpbCwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKG5leHRUYWlsLCB3b3JsZFBvc2l0aW9uLCBuZXh0VGFpbCwgam9pbnQuc3RhdGUuYm9uZUxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyogMy4gQXBwbHlpbmcgcm90YXRpb24gKi9cclxuICAgICAgICAgICAgICAgIHZlYzMuY29weShqb2ludC5zdGF0ZS5wcmV2VGFpbCwgam9pbnQuc3RhdGUuY3VycmVudFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByaW5nQ2hhaW4uY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLnByZXZUYWlsQ2VudGVyLCBqb2ludC5zdGF0ZS5jdXJyZW50VGFpbENlbnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmVjMy5jb3B5KGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ByaW5nQ2hhaW4uY2VudGVyLnRyYW5zZm9ybVBvaW50SW52ZXJzZVdvcmxkKGpvaW50LnN0YXRlLmN1cnJlbnRUYWlsQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIHRvID0gKG5leHRUYWlsICogKG5vZGUucGFyZW50LndvcmxkTWF0cml4ICogaW5pdGlhbExvY2FsTWF0cml4KS5pbnZlcnNlKS5ub3JtYWxpemVkICovXHJcbiAgICAgICAgICAgICAgICBqb2ludC5ub2RlLnBhcmVudC50cmFuc2Zvcm1Qb2ludEludmVyc2VXb3JsZChuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFpbER1YWxRdWF0ID0gcXVhdDIuZnJvbVRyYW5zbGF0aW9uKHRoaXMuX3RlbXBRdWF0MiwgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgcXVhdDIubXVsdGlwbHkobmV4dFRhaWxEdWFsUXVhdCwgam9pbnQuc3RhdGUuaW5pdGlhbExvY2FsVHJhbnNmb3JtSW52ZXJ0LCBuZXh0VGFpbER1YWxRdWF0KTtcclxuICAgICAgICAgICAgICAgIHF1YXQyLmdldFRyYW5zbGF0aW9uKG5leHRUYWlsLCBuZXh0VGFpbER1YWxRdWF0KTtcclxuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKG5leHRUYWlsLCBuZXh0VGFpbCk7XHJcbiAgICAgICAgICAgICAgICAvKiBub2RlLnJvdGF0aW9uID0gaW5pdGlhbExvY2FsUm90YXRpb24gKiBRdWF0ZXJuaW9uLmZyb21Ub1F1YXRlcm5pb24oYm9uZUF4aXMsIHRvKTsgKi9cclxuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW50Um90YXRpb24gPSBxdWF0LnJvdGF0aW9uVG8odGhpcy5fdGVtcFF1YXRBLCBqb2ludC5zdGF0ZS5ib25lQXhpcywgbmV4dFRhaWwpO1xyXG4gICAgICAgICAgICAgICAgam9pbnQubm9kZS5yb3RhdGlvbkxvY2FsID0gcXVhdC5tdWwodGhpcy5fdGVtcFF1YXRBLCBqb2ludC5zdGF0ZS5pbml0aWFsTG9jYWxSb3RhdGlvbiwgam9pbnRSb3RhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmaXJzdFBlcnNvbiBXaGV0aGVyIHRoZSBtb2RlbCBzaG91bGQgcmVuZGVyIGZvciBmaXJzdCBwZXJzb24gb3IgdGhpcmQgcGVyc29uIHZpZXdzXHJcbiAgICAgKi9cclxuICAgIHNldCBmaXJzdFBlcnNvbihmaXJzdFBlcnNvbikge1xyXG4gICAgICAgIHRoaXMuX2ZpcnN0UGVyc29uQW5ub3RhdGlvbnMuZm9yRWFjaCgoYW5ub3RhdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gZmlyc3RQZXJzb24gPT0gYW5ub3RhdGlvbi5maXJzdFBlcnNvbiB8fFxyXG4gICAgICAgICAgICAgICAgZmlyc3RQZXJzb24gIT0gYW5ub3RhdGlvbi50aGlyZFBlcnNvbjtcclxuICAgICAgICAgICAgYW5ub3RhdGlvbi5ub2RlLmdldENvbXBvbmVudHMoJ21lc2gnKS5mb3JFYWNoKChtZXNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBtZXNoLmFjdGl2ZSA9IHZpc2libGU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IFZybSB9O1xyXG4iLCAiaW1wb3J0IHsgdmVjMyB9IGZyb20gJ2dsLW1hdHJpeCc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgVHlwZSB9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcbmNvbnN0IF9kaXJlY3Rpb24gPSBuZXcgRmxvYXQzMkFycmF5KDMpO1xyXG4vKipcclxuICogQmFzaWMgbW92ZW1lbnQgd2l0aCBXL0EvUy9EIGtleXMuXHJcbiAqL1xyXG5jbGFzcyBXYXNkQ29udHJvbHNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ3dhc2QtY29udHJvbHMnO1xyXG4gICAgc3RhdGljIFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgLyoqIE1vdmVtZW50IHNwZWVkIGluIG0vcy4gKi9cclxuICAgICAgICBzcGVlZDogeyB0eXBlOiBUeXBlLkZsb2F0LCBkZWZhdWx0OiAwLjEgfSxcclxuICAgICAgICAvKiogRmxhZyBmb3Igb25seSBtb3ZpbmcgdGhlIG9iamVjdCBvbiB0aGUgZ2xvYmFsIHggJiB6IHBsYW5lcyAqL1xyXG4gICAgICAgIGxvY2tZOiB7IHR5cGU6IFR5cGUuQm9vbCwgZGVmYXVsdDogZmFsc2UgfSxcclxuICAgICAgICAvKiogT2JqZWN0IG9mIHdoaWNoIHRoZSBvcmllbnRhdGlvbiBpcyB1c2VkIHRvIGRldGVybWluZSBmb3J3YXJkIGRpcmVjdGlvbiAqL1xyXG4gICAgICAgIGhlYWRPYmplY3Q6IHsgdHlwZTogVHlwZS5PYmplY3QgfSxcclxuICAgIH07XHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMudXAgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnByZXNzLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVsZWFzZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuaGVhZE9iamVjdCA9IHRoaXMuaGVhZE9iamVjdCB8fCB0aGlzLm9iamVjdDtcclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB2ZWMzLnplcm8oX2RpcmVjdGlvbik7XHJcbiAgICAgICAgaWYgKHRoaXMudXApXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMl0gLT0gMS4wO1xyXG4gICAgICAgIGlmICh0aGlzLmRvd24pXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMl0gKz0gMS4wO1xyXG4gICAgICAgIGlmICh0aGlzLmxlZnQpXHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMF0gLT0gMS4wO1xyXG4gICAgICAgIGlmICh0aGlzLnJpZ2h0KVxyXG4gICAgICAgICAgICBfZGlyZWN0aW9uWzBdICs9IDEuMDtcclxuICAgICAgICB2ZWMzLm5vcm1hbGl6ZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uKTtcclxuICAgICAgICBfZGlyZWN0aW9uWzBdICo9IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgX2RpcmVjdGlvblsyXSAqPSB0aGlzLnNwZWVkO1xyXG4gICAgICAgIHZlYzMudHJhbnNmb3JtUXVhdChfZGlyZWN0aW9uLCBfZGlyZWN0aW9uLCB0aGlzLmhlYWRPYmplY3QudHJhbnNmb3JtV29ybGQpO1xyXG4gICAgICAgIGlmICh0aGlzLmxvY2tZKSB7XHJcbiAgICAgICAgICAgIF9kaXJlY3Rpb25bMV0gPSAwO1xyXG4gICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgdmVjMy5zY2FsZShfZGlyZWN0aW9uLCBfZGlyZWN0aW9uLCB0aGlzLnNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYmplY3QudHJhbnNsYXRlTG9jYWwoX2RpcmVjdGlvbik7XHJcbiAgICB9XHJcbiAgICBwcmVzcyhlKSB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzggLyogdXAgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA4NyAvKiB3ICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gOTAgLyogeiAqLykge1xyXG4gICAgICAgICAgICB0aGlzLnVwID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDAgLyogZG93biAqLyB8fCBlLmtleUNvZGUgPT09IDgzIC8qIHMgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5kb3duID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNyAvKiBsZWZ0ICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gNjUgLyogYSAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDgxIC8qIHEgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWxlYXNlKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCAvKiB1cCAqLyB8fFxyXG4gICAgICAgICAgICBlLmtleUNvZGUgPT09IDg3IC8qIHcgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA5MCAvKiB6ICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXAgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzOSAvKiByaWdodCAqLyB8fCBlLmtleUNvZGUgPT09IDY4IC8qIGQgKi8pIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwIC8qIGRvd24gKi8gfHwgZS5rZXlDb2RlID09PSA4MyAvKiBzICovKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDM3IC8qIGxlZnQgKi8gfHxcclxuICAgICAgICAgICAgZS5rZXlDb2RlID09PSA2NSAvKiBhICovIHx8XHJcbiAgICAgICAgICAgIGUua2V5Q29kZSA9PT0gODEgLyogcSAqLykge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgV2FzZENvbnRyb2xzQ29tcG9uZW50IH07XHJcbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHksIENvbGxpc2lvbkV2ZW50VHlwZX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuXHJcbmltcG9ydCB7UGxheWVyQ29udHJvbGxlcn0gZnJvbSAnLi9wbGF5ZXJDb250cm9sbGVyLmpzJztcclxuXHJcbi8qKlxyXG4gKiBidWxsZXRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdWxsZXQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2J1bGxldCc7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBwYXJhbTogUHJvcGVydHkuZmxvYXQoMS4wKSxcclxuXHJcbiAgICAgICAgcGxheWVyOiBQcm9wZXJ0eS5vYmplY3QoKVxyXG4gICAgfTtcclxuXHJcbiAgICBzcGVlZDtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxyXG4gICAgICAgICAqIFlvdSBjYW4gZm9yIGluc3RhbmNlIHJlZ2lzdGVyIGV4dHJhIGNvbXBvbmVudCB0eXBlcyBoZXJlXHJcbiAgICAgICAgICogdGhhdCB5b3VyIGNvbXBvbmVudCBtYXkgY3JlYXRlLiAqL1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaW5pdCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnBsYXllckNvbXBvbmVudCA9IHRoaXMucGxheWVyLmdldENvbXBvbmVudChQbGF5ZXJDb250cm9sbGVyKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDAuMTtcclxuICAgICAgICB0aGlzLmJ1bGxldFBvcyA9IFswLCAwLCAwXTtcclxuXHJcbiAgICAgICAgLy90aGlzLmluaXRDb2xsaXNpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvKiBDYWxsZWQgZXZlcnkgZnJhbWUuICovXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgc2hvb3RpbmdCdWxsZXQoKXtcclxuXHJcbiAgICAgICAgLy90aGlzLmJ1bGxldFBvc1sxXSArPSB0aGlzLnNwZWVkO1xyXG5cclxuICAgICAgICAvL3RoaXMub2JqZWN0LnNldFBvc2l0aW9uV29ybGQodGhpcy5idWxsZXRQb3MpO1xyXG4gICAgICAgIHRoaXMuYnVsbGV0Q3VyclBvcyA9IHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQoKTsgLy9HZXQgYnVsbGV0J3MgY3VycmVudCBwb3NpdGlvblxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuYnVsbGV0Q3VyclBvc1sxXSA+IDYpe1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idWxsZXRQb3NbMV0gPSAxLjA7IC8vUmVzZXQgYnVsbGV0J3MgeS5wb3NpdGlvblxyXG4gICAgICAgICAgICAvL3RoaXMub2JqZWN0LmRlc3Ryb3koKTtcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIH1cclxuICAgICovXHJcblxyXG5cclxuXHJcbiAgICAvL0NvbGxpc2lvbiBjaGVja1xyXG4gICAgaW5pdENvbGxpc2lvbigpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucmlnaWRCb2R5ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCdwaHlzeCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmlnaWRCb2R5XCIsIHRoaXMucmlnaWRCb2R5KTtcclxuXHJcbiAgICAgICAgdGhpcy5yaWdpZEJvZHkub25Db2xsaXNpb24oXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbih0eXBlLCBvdGhlcil7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gQ29sbGlzaW9uRXZlbnRUeXBlLlRvdWNoKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG90aGVyT2JqID0gb3RoZXIub2JqZWN0Lm5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJCdWxsZXQgY29sbGlzaW9uIGNoZWNrXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihvdGhlck9iai5pbmNsdWRlcyhcIkVuZW15XCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJOYW1lIDpcIiwgb3RoZXJPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHt0aGlzLm9iamVjdC5kZXN0cm95KCk7fSwgNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcylcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eSwgQ29sbGlzaW9uRXZlbnRUeXBlfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5cclxuaW1wb3J0IHtCdWxsZXRNYW5hZ2VyfSBmcm9tICcuL2J1bGxldE1hbmFnZXIuanMnO1xyXG5cclxuLyoqXHJcbiAqIHBsYXllckNvbnRyb2xsZXJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb250cm9sbGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdwbGF5ZXJDb250cm9sbGVyJztcclxuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIHBhcmFtOiBQcm9wZXJ0eS5mbG9hdCgxLjApLFxyXG5cclxuICAgICAgICBidWxsZXRNYW5hZ2VyOiBQcm9wZXJ0eS5vYmplY3QoKVxyXG4gICAgfTtcclxuXHJcbiAgICBzcGVlZDtcclxuXHJcbiAgICBtb3ZlTGVmdCA9IGZhbHNlO1xyXG4gICAgbW92ZVJpZ2h0ID0gZmFsc2U7XHJcbiAgICBtb3ZlVXAgPSBmYWxzZTtcclxuICAgIG1vdmVEb3duID0gZmFsc2U7XHJcbiAgICBzcGFjZUJhciA9IGZhbHNlO1xyXG5cclxuICAgIHRpbWUgPSAwO1xyXG4gICAgc3Bhd25JbnRlcnZhbCA9IDM7XHJcblxyXG4gICAgc3RhdGljIG9uUmVnaXN0ZXIoZW5naW5lKSB7XHJcbiAgICAgICAgLyogVHJpZ2dlcmVkIHdoZW4gdGhpcyBjb21wb25lbnQgY2xhc3MgaXMgcmVnaXN0ZXJlZC5cclxuICAgICAgICAgKiBZb3UgY2FuIGZvciBpbnN0YW5jZSByZWdpc3RlciBleHRyYSBjb21wb25lbnQgdHlwZXMgaGVyZVxyXG4gICAgICAgICAqIHRoYXQgeW91ciBjb21wb25lbnQgbWF5IGNyZWF0ZS4gKi9cclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2luaXQoKSB3aXRoIHBhcmFtJywgdGhpcy5wYXJhbSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc3RhcnQoKSB3aXRoIHBhcmFtJywgdGhpcy5wYXJhbSk7XHJcblxyXG4gICAgICAgIHRoaXMuYnVsbGV0TWFuYWdlciA9IHRoaXMuYnVsbGV0TWFuYWdlci5nZXRDb21wb25lbnQoQnVsbGV0TWFuYWdlcik7XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAwLjAzO1xyXG4gICAgICAgIHRoaXMucGxheWVyUG9zID0gWzAsIDEsIC00XTtcclxuXHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAxO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMucHJlc3MuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZWxlYXNlLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRDb2xsaXNpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvKiBDYWxsZWQgZXZlcnkgZnJhbWUuICovXHJcblxyXG4gICAgICAgIHRoaXMuaXNNb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5pc1Nob290aW5nKCk7XHJcbiAgICAgICAgXHJcblxyXG5cclxuICAgICAgICAvL0J1bGxldCBzaG9vdGluZyBpbnRlcnZhbCBjb250cm9sXHJcbiAgICAgICAgdGhpcy50aW1lICs9IGR0O1xyXG4gICAgICAgIHRoaXMudGltZVJvdW5kID0gTWF0aC5yb3VuZCh0aGlzLnRpbWUpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy50aW1lUm91bmQpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnRpbWVSb3VuZCA+PSB0aGlzLnNwYXduSW50ZXJ2YWwpeyAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXNzKG1vdmluZyl7XHJcblxyXG4gICAgICAgIGlmKG1vdmluZy5rZXkgPT09ICd3JykgdGhpcy5tb3ZlVXAgPSB0cnVlOyAvL3VwXHJcbiAgICAgICAgaWYobW92aW5nLmtleSA9PT0gJ3MnKSB0aGlzLm1vdmVEb3duID0gdHJ1ZTsgLy9Eb3duXHJcbiAgICAgICAgaWYobW92aW5nLmtleSA9PT0gJ2EnKSB0aGlzLm1vdmVMZWZ0ID0gdHJ1ZTsgLy9MZWZ0XHJcbiAgICAgICAgaWYobW92aW5nLmtleSA9PT0gJ2QnKSB0aGlzLm1vdmVSaWdodCA9IHRydWU7IC8vUmlnaHRcclxuXHJcbiAgICAgICAgaWYobW92aW5nLmNvZGUgPT09IFwiU3BhY2VcIikgdGhpcy5zcGFjZUJhciA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmVsZWFzZShtb3Zpbmcpe1xyXG5cclxuICAgICAgICBpZihtb3Zpbmcua2V5ID09PSAndycpIHRoaXMubW92ZVVwID0gZmFsc2U7IC8vdXBcclxuICAgICAgICBpZihtb3Zpbmcua2V5ID09PSAncycpIHRoaXMubW92ZURvd24gPSBmYWxzZTsgLy9Eb3duXHJcbiAgICAgICAgaWYobW92aW5nLmtleSA9PT0gJ2EnKSB0aGlzLm1vdmVMZWZ0ID0gZmFsc2U7IC8vTGVmdFxyXG4gICAgICAgIGlmKG1vdmluZy5rZXkgPT09ICdkJykgdGhpcy5tb3ZlUmlnaHQgPSBmYWxzZTsgLy9SaWdodFxyXG5cclxuICAgICAgICBpZihtb3ZpbmcuY29kZSA9PT0gXCJTcGFjZVwiKSB0aGlzLnNwYWNlQmFyID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaXNNb3ZlKCl7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyQ3VyclBvcyA9IHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQoKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5tb3ZlVXAgPT09IHRydWUpe1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5wbGF5ZXJDdXJyUG9zWzFdIDwgMykgdGhpcy5wbGF5ZXJQb3NbMV0gKz0gdGhpcy5zcGVlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMubW92ZURvd24gPT09IHRydWUpe1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5wbGF5ZXJDdXJyUG9zWzFdID4gMSkgdGhpcy5wbGF5ZXJQb3NbMV0gLT0gdGhpcy5zcGVlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vTGVmdFxyXG4gICAgICAgIGlmKHRoaXMubW92ZUxlZnQgPT09IHRydWUpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYodGhpcy5wbGF5ZXJDdXJyUG9zWzBdID4gLTEpIHRoaXMucGxheWVyUG9zWzBdIC09IHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1JpZ2h0XHJcbiAgICAgICAgaWYodGhpcy5tb3ZlUmlnaHQgPT09IHRydWUpe1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5wbGF5ZXJDdXJyUG9zWzBdIDwgMSkgdGhpcy5wbGF5ZXJQb3NbMF0gKz0gdGhpcy5zcGVlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMub2JqZWN0LnNldFBvc2l0aW9uTG9jYWwodGhpcy5wbGF5ZXJQb3MpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgaXNTaG9vdGluZygpe1xyXG5cclxuICAgICAgICBpZih0aGlzLnNwYWNlQmFyID09PSB0cnVlKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzcGFjZUJhclwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnVsbGV0TWFuYWdlci5zcGF3bkJ1bGxldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vQ2hlY2sgQ29sbGlzaW9uXHJcbiAgICBpbml0Q29sbGlzaW9uKCl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5yaWdpZEJvZHkgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoJ3BoeXN4Jyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSaWdpZEJvZHlcIiwgdGhpcy5yaWdpZEJvZHkpO1xyXG5cclxuICAgICAgICB0aGlzLnJpZ2lkQm9keS5vbkNvbGxpc2lvbihcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKHR5cGUsIG90aGVyKXtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJPYmogPSBvdGhlci5vYmplY3QubmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSBDb2xsaXNpb25FdmVudFR5cGUuVG91Y2gpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUGxheWVyIGNvbGxpc2lvbiBjaGVja1wiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYob3RoZXJPYmouaW5jbHVkZXMoXCJFbmVteVwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvL2NvbnNvbGUubG9nKFwiTmFtZSA6XCIsIG90aGVyT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2V0VGltZW91dCgoKSA9PiB7dGhpcy5vYmplY3QuZGVzdHJveSgpO30sIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcylcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuXHJcbmltcG9ydCB7UGxheWVyQ29udHJvbGxlcn0gZnJvbSAnLi9wbGF5ZXJDb250cm9sbGVyLmpzJztcclxuaW1wb3J0IHtCdWxsZXR9IGZyb20gJy4vYnVsbGV0LmpzJztcclxuXHJcbi8qKlxyXG4gKiBidWxsZXRNYW5hZ2VyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQnVsbGV0TWFuYWdlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnYnVsbGV0TWFuYWdlcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBwYXJhbTogUHJvcGVydHkuZmxvYXQoMS4wKSxcclxuXHJcbiAgICAgICAgcGxheWVyOiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICBidWxsZXQ6IFByb3BlcnR5Lm9iamVjdCgpXHJcbiAgICB9O1xyXG5cclxuICAgIC8vcGxheWVyQ29udHJvbGxlcjtcclxuICAgIC8vYnVsbGV0O1xyXG5cclxuICAgIHBhcmVudE9iajtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxyXG4gICAgICAgICAqIFlvdSBjYW4gZm9yIGluc3RhbmNlIHJlZ2lzdGVyIGV4dHJhIGNvbXBvbmVudCB0eXBlcyBoZXJlXHJcbiAgICAgICAgICogdGhhdCB5b3VyIGNvbXBvbmVudCBtYXkgY3JlYXRlLiAqL1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaW5pdCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb21wb25lbnQgPSB0aGlzLnBsYXllci5nZXRDb21wb25lbnQoUGxheWVyQ29udHJvbGxlcik7XHJcbiAgICAgICAgdGhpcy5idWxsZXRDb21wb25lbnQgPSB0aGlzLmJ1bGxldC5nZXRDb21wb25lbnQoQnVsbGV0KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvKiBDYWxsZWQgZXZlcnkgZnJhbWUuICovXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy90aGlzLnNwYXduQnVsbGV0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3Bhd25CdWxsZXQoKXtcclxuXHJcbiAgICAgICAgLy92YXIgb2JqID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm9iaik7XHJcbiAgICAgICAgLy90aGlzLnNwYXduUG9zID0gdGhpcy5wbGF5ZXJDb21wb25lbnQucGxheWVyQ3VyclBvcztcclxuXHJcbiAgICAgICAgdGhpcy5zcGF3blBvcyA9IHRoaXMucGxheWVyLmdldFBvc2l0aW9uV29ybGQoKTtcclxuXHJcbiAgICAgICAgLy90aGlzLmJ1bGxldC5zZXRQb3NpdGlvbldvcmxkKHRoaXMuc3Bhd25Qb3MpOyAvL1x1Q0QxRFx1QzU0QyBcdUMwRERcdUMxMzEgXHVDNzA0XHVDRTU4ID0gXHVENTBDXHVCODA4XHVDNzc0XHVDNUI0IFx1RDYwNFx1QzdBQyBcdUM3MDRcdUNFNThcclxuICAgICAgICB0aGlzLmJ1bGxldC5zZXRQb3NpdGlvbldvcmxkKFt0aGlzLnNwYXduUG9zWzBdLCB0aGlzLnNwYXduUG9zWzFdLCB0aGlzLnNwYXduUG9zWzJdXSk7XHJcblxyXG4gICAgICAgIC8vIHZhciBuZXdCdWxsZXQ7XHJcbiAgICAgICAgLy8gbmV3QnVsbGV0ID0gdGhpcy5lbmdpbmUuc2NlbmUuYWRkT2JqZWN0KG51bGwsIHRoaXMub2JqZWN0KTtcclxuXHJcbiAgICAgICAgLy8gbmV3QnVsbGV0LnNldFBvc2l0aW9uV29ybGQodGhpcy5zcGF3blBvcyk7XHJcbiAgICAgICAgLy8gbmV3QnVsbGV0LmFkZENvbXBvbmVudChCdWxsZXQpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIj8/P1wiKTtcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHtDb21wb25lbnQsIElucHV0Q29tcG9uZW50LCBNZXNoQ29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuaW1wb3J0IHtDdXJzb3JUYXJnZXQsIEhvd2xlckF1ZGlvU291cmNlfSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9jb21wb25lbnRzJztcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gdHJpZ2dlciBoYXB0aWMgZmVlZGJhY2sgcHVsc2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgQW4gb2JqZWN0IHdpdGggJ2lucHV0JyBjb21wb25lbnQgYXR0YWNoZWRcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIFN0cmVuZ3RoIGZyb20gMC4wIC0gMS4wXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBEdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXB0aWNGZWVkYmFjayhvYmplY3QsIHN0cmVuZ3RoLCBkdXJhdGlvbikge1xyXG4gICAgY29uc3QgaW5wdXQgPSBvYmplY3QuZ2V0Q29tcG9uZW50KElucHV0Q29tcG9uZW50KTtcclxuICAgIGlmIChpbnB1dCAmJiBpbnB1dC54cklucHV0U291cmNlKSB7XHJcbiAgICAgICAgY29uc3QgZ2FtZXBhZCA9IGlucHV0LnhySW5wdXRTb3VyY2UuZ2FtZXBhZDtcclxuICAgICAgICBpZiAoZ2FtZXBhZCAmJiBnYW1lcGFkLmhhcHRpY0FjdHVhdG9ycylcclxuICAgICAgICAgICAgZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnNbMF0ucHVsc2Uoc3RyZW5ndGgsIGR1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEJ1dHRvbiBjb21wb25lbnQuXHJcbiAqXHJcbiAqIFNob3dzIGEgJ2hvdmVyTWF0ZXJpYWwnIG9uIGN1cnNvciBob3ZlciwgbW92ZXMgYmFja3dhcmQgb24gY3Vyc29yIGRvd24sXHJcbiAqIHJldHVybnMgdG8gaXRzIHBvc2l0aW9uIG9uIGN1cnNvciB1cCwgcGxheXMgY2xpY2svdW5jbGljayBzb3VuZHMgYW5kIGhhcHRpY1xyXG4gKiBmZWVkYmFjayBvbiBob3Zlci5cclxuICpcclxuICogVXNlIGB0YXJnZXQub25DbGljay5hZGQoKCkgPT4ge30pYCBvbiB0aGUgYGN1cnNvci10YXJnZXRgIGNvbXBvbmVudCB1c2VkXHJcbiAqIHdpdGggdGhlIGJ1dHRvbiB0byBkZWZpbmUgdGhlIGJ1dHRvbidzIGFjdGlvbi5cclxuICpcclxuICogU3VwcG9ydHMgaW50ZXJhY3Rpb24gd2l0aCBgZmluZ2VyLWN1cnNvcmAgY29tcG9uZW50IGZvciBoYW5kIHRyYWNraW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbkNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnYnV0dG9uJztcclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIC8qKiBPYmplY3QgdGhhdCBoYXMgdGhlIGJ1dHRvbidzIG1lc2ggYXR0YWNoZWQgKi9cclxuICAgICAgICBidXR0b25NZXNoT2JqZWN0OiBQcm9wZXJ0eS5vYmplY3QoKSxcclxuICAgICAgICAvKiogTWF0ZXJpYWwgdG8gYXBwbHkgd2hlbiB0aGUgdXNlciBob3ZlcnMgdGhlIGJ1dHRvbiAqL1xyXG4gICAgICAgIGhvdmVyTWF0ZXJpYWw6IFByb3BlcnR5Lm1hdGVyaWFsKCksXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICAgIGVuZ2luZS5yZWdpc3RlckNvbXBvbmVudChIb3dsZXJBdWRpb1NvdXJjZSk7XHJcbiAgICAgICAgZW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50KEN1cnNvclRhcmdldCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogUG9zaXRpb24gdG8gcmV0dXJuIHRvIHdoZW4gXCJ1bnByZXNzaW5nXCIgdGhlIGJ1dHRvbiAqL1xyXG4gICAgcmV0dXJuUG9zID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICB0aGlzLm1lc2ggPSB0aGlzLmJ1dHRvbk1lc2hPYmplY3QuZ2V0Q29tcG9uZW50KE1lc2hDb21wb25lbnQpO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gdGhpcy5tZXNoLm1hdGVyaWFsO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uTWVzaE9iamVjdC5nZXRUcmFuc2xhdGlvbkxvY2FsKHRoaXMucmV0dXJuUG9zKTtcclxuXHJcbiAgICAgICAgdGhpcy50YXJnZXQgPVxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KSB8fFxyXG4gICAgICAgICAgICB0aGlzLm9iamVjdC5hZGRDb21wb25lbnQoQ3Vyc29yVGFyZ2V0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZENsaWNrID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlLCB7XHJcbiAgICAgICAgICAgIHNyYzogJ3NmeC9jbGljay53YXYnLFxyXG4gICAgICAgICAgICBzcGF0aWFsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrID0gdGhpcy5vYmplY3QuYWRkQ29tcG9uZW50KEhvd2xlckF1ZGlvU291cmNlLCB7XHJcbiAgICAgICAgICAgIHNyYzogJ3NmeC91bmNsaWNrLndhdicsXHJcbiAgICAgICAgICAgIHNwYXRpYWw6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25BY3RpdmF0ZSgpIHtcclxuICAgICAgICB0aGlzLnRhcmdldC5vbkhvdmVyLmFkZCh0aGlzLm9uSG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVW5ob3Zlci5hZGQodGhpcy5vblVuaG92ZXIpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uRG93bi5hZGQodGhpcy5vbkRvd24pO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uVXAuYWRkKHRoaXMub25VcCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EZWFjdGl2YXRlKCkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uSG92ZXIucmVtb3ZlKHRoaXMub25Ib3Zlcik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQub25VbmhvdmVyLnJlbW92ZSh0aGlzLm9uVW5ob3Zlcik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQub25Eb3duLnJlbW92ZSh0aGlzLm9uRG93bik7XHJcbiAgICAgICAgdGhpcy50YXJnZXQub25VcC5yZW1vdmUodGhpcy5vblVwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXHJcbiAgICBvbkhvdmVyID0gKF8sIGN1cnNvcikgPT4ge1xyXG4gICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IHRoaXMuaG92ZXJNYXRlcmlhbDtcclxuICAgICAgICBpZiAoY3Vyc29yLnR5cGUgPT09ICdmaW5nZXItY3Vyc29yJykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRG93bihfLCBjdXJzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC41LCA1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25Eb3duID0gKF8sIGN1cnNvcikgPT4ge1xyXG4gICAgICAgIHRoaXMuc291bmRDbGljay5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5idXR0b25NZXNoT2JqZWN0LnRyYW5zbGF0ZShbMC4wLCAtMC4xLCAwLjBdKTtcclxuICAgICAgICBoYXB0aWNGZWVkYmFjayhjdXJzb3Iub2JqZWN0LCAxLjAsIDIwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBDYWxsZWQgYnkgJ2N1cnNvci10YXJnZXQnICovXHJcbiAgICBvblVwID0gKF8sIGN1cnNvcikgPT4ge1xyXG4gICAgICAgIHRoaXMuc291bmRVbkNsaWNrLnBsYXkoKTtcclxuICAgICAgICB0aGlzLmJ1dHRvbk1lc2hPYmplY3Quc2V0VHJhbnNsYXRpb25Mb2NhbCh0aGlzLnJldHVyblBvcyk7XHJcbiAgICAgICAgaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC43LCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ2FsbGVkIGJ5ICdjdXJzb3ItdGFyZ2V0JyAqL1xyXG4gICAgb25VbmhvdmVyID0gKF8sIGN1cnNvcikgPT4ge1xyXG4gICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IHRoaXMuZGVmYXVsdE1hdGVyaWFsO1xyXG4gICAgICAgIGlmIChjdXJzb3IudHlwZSA9PT0gJ2Zpbmdlci1jdXJzb3InKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25VcChfLCBjdXJzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGFwdGljRmVlZGJhY2soY3Vyc29yLm9iamVjdCwgMC4zLCA1MCk7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eSwgQ29sbGlzaW9uQ29tcG9uZW50fSBmcm9tICdAd29uZGVybGFuZGVuZ2luZS9hcGknO1xyXG5cclxuLyoqXHJcbiAqIGVuZW15Q29udHJvbGxlclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEVuZW15Q29udHJvbGxlciBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBzdGF0aWMgVHlwZU5hbWUgPSAnZW5lbXlDb250cm9sbGVyJztcclxuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIHBhcmFtOiBQcm9wZXJ0eS5mbG9hdCgxLjApXHJcbiAgICB9O1xyXG5cclxuICAgIHNwZWVkO1xyXG5cclxuICAgIGNoZWNrO1xyXG4gICAgXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxyXG4gICAgICAgICAqIFlvdSBjYW4gZm9yIGluc3RhbmNlIHJlZ2lzdGVyIGV4dHJhIGNvbXBvbmVudCB0eXBlcyBoZXJlXHJcbiAgICAgICAgICogdGhhdCB5b3VyIGNvbXBvbmVudCBtYXkgY3JlYXRlLiAqL1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaW5pdCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDAuMDM7XHJcbiAgICAgICAgdGhpcy5lbmVteVBvcyA9IFswLjAsIDQuMCwgLTMuMF07XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uQ29tcG9uZW50ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KENvbGxpc2lvbkNvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2sgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZHQpIHtcclxuICAgICAgICAvKiBDYWxsZWQgZXZlcnkgZnJhbWUuICovXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy90aGlzLmlzTW92ZSgpO1xyXG4gICAgICAgIC8vdGhpcy5pc0NvbGxpc2lvbigpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBpc01vdmUoKXtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteVBvc1sxXSAtPSB0aGlzLnNwZWVkOyAvL0Rvd25cclxuICAgICAgICB0aGlzLm9iamVjdC5zZXRQb3NpdGlvbkxvY2FsKHRoaXMuZW5lbXlQb3MpOyAvL0VuZW15IHBvc2l0aW9uIHNldHRpbmdcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteUN1cnJQb3MgPSB0aGlzLm9iamVjdC5nZXRQb3NpdGlvbkxvY2FsKCk7IC8vR2V0IGVuZW15J3MgY3VycmVudCBwb3NpdGlvblxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuZW5lbXlDdXJyUG9zWzFdIDwgMCl7XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiRG93blwiKTtcclxuICAgICAgICAgICAgdGhpcy5lbmVteVBvc1sxXSA9IDQuMDsgLy9SZXNldCBlbmVteSdzIHkucG9zaXRpb25cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXNDb2xsaXNpb24oKXtcclxuXHJcbiAgICAgICAgdGhpcy5vdmVybGFwcyA9IHRoaXMuY29sbGlzaW9uQ29tcG9uZW50LnF1ZXJ5T3ZlcmxhcHMoKTtcclxuICAgICAgICBmb3IodmFyIG90aGVyQ29sbGlkZXIgb2YgdGhpcy5vdmVybGFwcyl7XHJcbiAgICAgICAgICAgIHZhciBvdGhlck9iamVjdCA9IG90aGVyQ29sbGlkZXIub2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCI/Pz9cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQge0NvbXBvbmVudCwgUHJvcGVydHksIFBoeXNYQ29tcG9uZW50LCBDb2xsaXNpb25FdmVudFR5cGV9IGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2FwaSc7XHJcblxyXG5pbXBvcnQge0dhbWVNYW5hZ2VyfSBmcm9tICcuL2dhbWVNYW5hZ2VyLmpzJztcclxuLyoqXHJcbiAqIGVuZW15Q29udHJvbGxlclBoc3hcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmVteUNvbnRyb2xsZXJQaHN4IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdlbmVteUNvbnRyb2xsZXJQaHN4JztcclxuICAgIC8qIFByb3BlcnRpZXMgdGhhdCBhcmUgY29uZmlndXJhYmxlIGluIHRoZSBlZGl0b3IgKi9cclxuICAgIHN0YXRpYyBQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIHBhcmFtOiBQcm9wZXJ0eS5mbG9hdCgxLjApLFxyXG5cclxuICAgICAgICBnYW1lTWFuYWdlcjogUHJvcGVydHkub2JqZWN0KClcclxuICAgIH07XHJcblxyXG4gICAgZ2FtZU1hbmFnZXI7XHJcblxyXG4gICAgc3BlZWQ7XHJcblxyXG4gICAgLy9waHlzWENvbXBvbmVudDtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxyXG4gICAgICAgICAqIFlvdSBjYW4gZm9yIGluc3RhbmNlIHJlZ2lzdGVyIGV4dHJhIGNvbXBvbmVudCB0eXBlcyBoZXJlXHJcbiAgICAgICAgICogdGhhdCB5b3VyIGNvbXBvbmVudCBtYXkgY3JlYXRlLiAqL1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaW5pdCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lTWFuYWdlciA9IHRoaXMuZ2FtZU1hbmFnZXIuZ2V0Q29tcG9uZW50KEdhbWVNYW5hZ2VyKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDAuMDM7XHJcbiAgICAgICAgdGhpcy5lbmVteVBvcyA9IFswLCA2LjAsIC00LjBdO1xyXG5cclxuICAgICAgICAvL3RoaXMucGh5c1hDb21wb25lbnQgPSB0aGlzLm9iamVjdC5nZXRDb21wb25lbnQoUGh5c1hDb21wb25lbnQpO1xyXG4gICAgICAgIHRoaXMuaW5pdENvbGxpc2lvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIC8qIENhbGxlZCBldmVyeSBmcmFtZS4gKi9cclxuXHJcbiAgICAgICAgLy90aGlzLmlzTW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzTW92ZSgpe1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15UG9zWzFdIC09IHRoaXMuc3BlZWQ7IC8vRG93blxyXG4gICAgICAgIHRoaXMub2JqZWN0LnNldFBvc2l0aW9uV29ybGQodGhpcy5lbmVteVBvcyk7IC8vRW5lbXkgcG9zaXRpb24gc2V0dGluZ1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15Q3VyclBvcyA9IHRoaXMub2JqZWN0LmdldFBvc2l0aW9uV29ybGQoKTsgLy9HZXQgZW5lbXkncyBjdXJyZW50IHBvc2l0aW9uXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5lbmVteUN1cnJQb3NbMV0gPCAtMTApe1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmVteVBvc1sxXSA9IDYuMDsgLy9SZXNldCBlbmVteSdzIHkucG9zaXRpb25cclxuICAgICAgICAgICAgLy90aGlzLm9iamVjdC5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluaXRDb2xsaXNpb24oKXtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnJpZ2lkQm9keSA9IHRoaXMub2JqZWN0LmdldENvbXBvbmVudCgncGh5c3gnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlJpZ2lkQm9keVwiLCB0aGlzLnJpZ2lkQm9keSk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaWRCb2R5Lm9uQ29sbGlzaW9uKFxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24odHlwZSwgb3RoZXIpe1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09IENvbGxpc2lvbkV2ZW50VHlwZS5Ub3VjaCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdGhlck9iaiA9IG90aGVyLm9iamVjdC5uYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiRW5lbXkgY29sbGlzaW9uIGNoZWNrXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihvdGhlck9iai5pbmNsdWRlcyhcIlBsYXllclwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5hbWUgOlwiLCBvdGhlck9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2V0VGltZW91dCgoKSA9PiB7dGhpcy5vYmplY3QuZGVzdHJveSgpO30sIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYob3RoZXJPYmouaW5jbHVkZXMoXCJCdWxsZXRcIikpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTWFuYWdlci5pc0tpbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmFtZSA6XCIsIG90aGVyT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXRUaW1lb3V0KCgpID0+IHt0aGlzLm9iamVjdC5kZXN0cm95KCk7fSwgNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcylcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuXHJcbi8qKlxyXG4gKiBnYW1lTWFuYWdlclxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEdhbWVNYW5hZ2VyIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIHN0YXRpYyBUeXBlTmFtZSA9ICdnYW1lTWFuYWdlcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBwYXJhbTogUHJvcGVydHkuZmxvYXQoMS4wKVxyXG4gICAgfTtcclxuXHJcbiAgICBzY29yZTtcclxuXHJcbiAgICBzdGF0aWMgb25SZWdpc3RlcihlbmdpbmUpIHtcclxuICAgICAgICAvKiBUcmlnZ2VyZWQgd2hlbiB0aGlzIGNvbXBvbmVudCBjbGFzcyBpcyByZWdpc3RlcmVkLlxyXG4gICAgICAgICAqIFlvdSBjYW4gZm9yIGluc3RhbmNlIHJlZ2lzdGVyIGV4dHJhIGNvbXBvbmVudCB0eXBlcyBoZXJlXHJcbiAgICAgICAgICogdGhhdCB5b3VyIGNvbXBvbmVudCBtYXkgY3JlYXRlLiAqL1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaW5pdCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdzdGFydCgpIHdpdGggcGFyYW0nLCB0aGlzLnBhcmFtKTtcclxuXHJcbiAgICAgICAgdGhpcy50ZXh0Qm94ID0gdGhpcy5vYmplY3QuZ2V0Q29tcG9uZW50KCd0ZXh0Jyk7XHJcbiAgICAgICAgdGhpcy50ZXh0Qm94LnRleHQgPSBcIiBcIjtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGR0KSB7XHJcbiAgICAgICAgLyogQ2FsbGVkIGV2ZXJ5IGZyYW1lLiAqL1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgaXNLaWxsKCl7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmUgKz0gNTAwO1xyXG4gICAgICAgIHRoaXMudGV4dEJveC50ZXh0ID0gdGhpcy5zY29yZTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCB7Q29tcG9uZW50LCBQcm9wZXJ0eX0gZnJvbSAnQHdvbmRlcmxhbmRlbmdpbmUvYXBpJztcclxuXHJcbi8qKlxyXG4gKiBlbmVteVNwYXduZXJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFbmVteVNwYXduZXIgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGljIFR5cGVOYW1lID0gJ2VuZW15U3Bhd25lcic7XHJcbiAgICAvKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIGNvbmZpZ3VyYWJsZSBpbiB0aGUgZWRpdG9yICovXHJcbiAgICBzdGF0aWMgUHJvcGVydGllcyA9IHtcclxuICAgICAgICBwYXJhbTogUHJvcGVydHkuZmxvYXQoMS4wKVxyXG4gICAgfTtcclxuXHJcbiAgICB0aW1lID0gMDtcclxuICAgIHNwYXduSW50ZXJ2YWwgPSAzO1xyXG5cclxuICAgIHN0YXRpYyBvblJlZ2lzdGVyKGVuZ2luZSkge1xyXG4gICAgICAgIC8qIFRyaWdnZXJlZCB3aGVuIHRoaXMgY29tcG9uZW50IGNsYXNzIGlzIHJlZ2lzdGVyZWQuXHJcbiAgICAgICAgICogWW91IGNhbiBmb3IgaW5zdGFuY2UgcmVnaXN0ZXIgZXh0cmEgY29tcG9uZW50IHR5cGVzIGhlcmVcclxuICAgICAgICAgKiB0aGF0IHlvdXIgY29tcG9uZW50IG1heSBjcmVhdGUuICovXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdpbml0KCkgd2l0aCBwYXJhbScsIHRoaXMucGFyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3N0YXJ0KCkgd2l0aCBwYXJhbScsIHRoaXMucGFyYW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShkdCkge1xyXG4gICAgICAgIC8qIENhbGxlZCBldmVyeSBmcmFtZS4gKi9cclxuXHJcblxyXG5cclxuICAgICAgICAvL0VuZW15IHNwYXduIGludGVydmFsIGNvbnRyb2xcclxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XHJcbiAgICAgICAgdGhpcy50aW1lUm91bmQgPSBNYXRoLnJvdW5kKHRoaXMudGltZSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnRpbWVSb3VuZCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMudGltZVJvdW5kID49IHRoaXMuc3Bhd25JbnRlcnZhbCl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmlzRW5lbXlTcGF3bigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGlzRW5lbXlTcGF3bigpe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJzcGF3bj9cIik7XHJcbiAgICB9XHJcbn1cclxuIiwgImltcG9ydCAqIGFzIF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzIGZyb20gJ0B3b25kZXJsYW5kZW5naW5lL2NvbXBvbmVudHMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9fd29uZGVybGFuZGVuZ2luZV9jb21wb25lbnRzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19CdWxsZXRfanMgZnJvbSAnRTovZ2l0L1dvbmRlcmxhbmQgRW5naW5lL1dvbmRlcmxhbmRfU2hvb3RpbmcvanMvQnVsbGV0LmpzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fZ2l0X1dvbmRlcmxhbmRfRW5naW5lX1dvbmRlcmxhbmRfU2hvb3RpbmdfanNfQnVsbGV0X2pzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19idWxsZXRNYW5hZ2VyX2pzIGZyb20gJ0U6L2dpdC9Xb25kZXJsYW5kIEVuZ2luZS9Xb25kZXJsYW5kX1Nob290aW5nL2pzL2J1bGxldE1hbmFnZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19idWxsZXRNYW5hZ2VyX2pzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19idXR0b25fanMgZnJvbSAnRTovZ2l0L1dvbmRlcmxhbmQgRW5naW5lL1dvbmRlcmxhbmRfU2hvb3RpbmcvanMvYnV0dG9uLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fZ2l0X1dvbmRlcmxhbmRfRW5naW5lX1dvbmRlcmxhbmRfU2hvb3RpbmdfanNfYnV0dG9uX2pzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19lbmVteUNvbnRyb2xsZXJfanMgZnJvbSAnRTovZ2l0L1dvbmRlcmxhbmQgRW5naW5lL1dvbmRlcmxhbmRfU2hvb3RpbmcvanMvZW5lbXlDb250cm9sbGVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fZ2l0X1dvbmRlcmxhbmRfRW5naW5lX1dvbmRlcmxhbmRfU2hvb3RpbmdfanNfZW5lbXlDb250cm9sbGVyX2pzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19lbmVteUNvbnRyb2xsZXJQaHN4X2pzIGZyb20gJ0U6L2dpdC9Xb25kZXJsYW5kIEVuZ2luZS9Xb25kZXJsYW5kX1Nob290aW5nL2pzL2VuZW15Q29udHJvbGxlclBoc3guanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19lbmVteUNvbnRyb2xsZXJQaHN4X2pzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19lbmVteVNwYXduZXJfanMgZnJvbSAnRTovZ2l0L1dvbmRlcmxhbmQgRW5naW5lL1dvbmRlcmxhbmRfU2hvb3RpbmcvanMvZW5lbXlTcGF3bmVyLmpzJztcbl9yZWdpc3RlckVkaXRvcihfRV9fZ2l0X1dvbmRlcmxhbmRfRW5naW5lX1dvbmRlcmxhbmRfU2hvb3RpbmdfanNfZW5lbXlTcGF3bmVyX2pzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19nYW1lTWFuYWdlcl9qcyBmcm9tICdFOi9naXQvV29uZGVybGFuZCBFbmdpbmUvV29uZGVybGFuZF9TaG9vdGluZy9qcy9nYW1lTWFuYWdlci5qcyc7XG5fcmVnaXN0ZXJFZGl0b3IoX0VfX2dpdF9Xb25kZXJsYW5kX0VuZ2luZV9Xb25kZXJsYW5kX1Nob290aW5nX2pzX2dhbWVNYW5hZ2VyX2pzKTtcbmltcG9ydCAqIGFzIF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19wbGF5ZXJDb250cm9sbGVyX2pzIGZyb20gJ0U6L2dpdC9Xb25kZXJsYW5kIEVuZ2luZS9Xb25kZXJsYW5kX1Nob290aW5nL2pzL3BsYXllckNvbnRyb2xsZXIuanMnO1xuX3JlZ2lzdGVyRWRpdG9yKF9FX19naXRfV29uZGVybGFuZF9FbmdpbmVfV29uZGVybGFuZF9TaG9vdGluZ19qc19wbGF5ZXJDb250cm9sbGVyX2pzKTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFVQSxPQUFDLFdB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LENBQUM7QUFDOUMsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxlQUFlLEVBQUUsY0FBYyxDQUFDLEVBQUMsSUFBSSxFQUFFLFlBQVcsQ0FBQyxJQUFJLENBQUM7QUFDN0QsWUFBQUEsTUFBSyxlQUFlLEVBQUUsY0FBYyxDQUFDLEVBQUMsSUFBSSxFQUFFLFlBQVcsQ0FBQyxJQUFJLENBQUM7QUFDN0QsWUFBQUEsTUFBSyxXQUFXLEVBQUUsVUFBVSxDQUFDLEVBQUMsSUFBSSxFQUFFLFFBQU8sQ0FBQyxJQUFJLENBQUM7QUFDakQsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxZQUFZLEVBQUUsV0FBVyxDQUFDLEVBQUMsSUFBSSxFQUFFLFNBQVEsQ0FBQyxJQUFJLENBQUM7QUFDcEQsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxVQUFVLEVBQUUsU0FBUyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU0sQ0FBQyxJQUFJLENBQUM7QUFDOUMsWUFBQUEsTUFBSyxZQUFZLEVBQUUsV0FBVyxDQUFDLEVBQUMsSUFBSSxFQUFFLFNBQVEsQ0FBQyxJQUFJLENBQUM7QUFDcEQsWUFBQUEsTUFBSyxZQUFZLENBQUM7QUFHbEIsWUFBQUEsTUFBSyxZQUFZQyxRQUFPLGlCQUFpQixDQUFDRCxNQUFLO0FBRy9DLGdCQUFJLE9BQU9DLFFBQU8sUUFBUSxl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QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWU8sV0FBU0MsVUFBUztBQUN2QixRQUFJLE1BQU0sSUFBYSxXQUFXLEVBQUU7QUFFcEMsUUFBYSxjQUFjLGNBQWM7QUFDdkMsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksRUFBRSxJQUFJO0FBQ1YsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQUEsSUFDWjtBQUVBLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFRTyxXQUFTLE1BQU0sR0FBRztBQUN2QixRQUFJLE1BQU0sSUFBYSxXQUFXLEVBQUU7QUFDcEMsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLEtBQUssS0FBSyxHQUFHO0FBQzNCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUNkLFdBQU87QUFBQSxFQUNUO0FBdUJPLFdBQVMsV0FBVyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ3pHLFFBQUksTUFBTSxJQUFhLFdBQVcsRUFBRTtBQUNwQyxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBd0JPLFdBQVMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDdkcsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQVFPLFdBQVMsU0FBUyxLQUFLO0FBQzVCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFVBQVUsS0FBSyxHQUFHO0FBRWhDLFFBQUksUUFBUSxHQUFHO0FBQ2IsVUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixVQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixVQUFJLE1BQU0sRUFBRSxFQUFFO0FBQ2QsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7QUFDYixVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJO0FBQUEsSUFDWixPQUFPO0FBQ0wsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0FBQ2IsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ2IsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ2IsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDaEI7QUFFQSxXQUFPO0FBQUEsRUFDVDtBQVNPLFdBQVMsT0FBTyxLQUFLLEdBQUc7QUFDN0IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUM1QixRQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDNUIsUUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRTVCLFFBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFFNUUsUUFBSSxDQUFDLEtBQUs7QUFDUixhQUFPO0FBQUEsSUFDVDtBQUVBLFVBQU0sSUFBTTtBQUNaLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQy9DLFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFFBQUksRUFBRSxLQUFLLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQ2hELFdBQU87QUFBQSxFQUNUO0FBU08sV0FBUyxRQUFRLEtBQUssR0FBRztBQUM5QixRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ3BHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLENBQUMsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbEcsUUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDcEcsUUFBSSxDQUFDLElBQUksT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNO0FBQ2xHLFFBQUksQ0FBQyxJQUFJLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNsRyxRQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sTUFBTSxNQUFNLE1BQU0sT0FBTyxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTTtBQUNwRyxRQUFJLEVBQUUsSUFBSSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDbkcsUUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9BQU8sTUFBTSxNQUFNLE1BQU07QUFDckcsUUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLE1BQU0sTUFBTSxNQUFNLE9BQU8sT0FBTyxNQUFNLE1BQU0sTUFBTSxPQUFPLE9B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S0FBSztBQUMvQyxTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUMvQyxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxRQUFJLENBQUMsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQy9DLFFBQUksQ0FBQyxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDL0MsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFNBQUssRUFBRSxFQUFFO0FBQ1QsU0FBSyxFQUFFLEVBQUU7QUFDVCxTQUFLLEVBQUUsRUFBRTtBQUNULFNBQUssRUFBRSxFQUFFO0FBQ1QsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxRQUFJLEVBQUUsSUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLO0FBQ2hELFFBQUksRUFBRSxJQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUs7QUFDaEQsUUFBSSxFQUFFLElBQUksS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSztBQUNoRCxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsVUFBVSxLQUFLLEdBQUcsR0FBRztBQUNuQyxRQUFJLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQztBQUNYLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSyxLQUFLO0FBRW5CLFFBQUksTUFBTSxLQUFLO0FBQ2IsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFO0FBQy9DLFVBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRTtBQUMvQyxVQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDaEQsVUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDbEQsT0FBTztBQUNMLFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLENBQUM7QUFDVCxZQUFNLEVBQUUsQ0FBQztBQUNULFlBQU0sRUFBRSxDQUFDO0FBQ1QsWUFBTSxFQUFFLEVBQUU7QUFDVixZQUFNLEVBQUUsRUFBRTtBQUNWLFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxDQUFDLElBQUk7QUFDVCxVQUFJLENBQUMsSUFBSTtBQUNULFVBQUksQ0FBQyxJQUFJO0FBQ1QsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTtBQUNWLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUM1QyxVQUFJLEVBQUUsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxFQUFFLEVBQUU7QUFDNUMsVUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksRUFBRSxFQUFFO0FBQzVDLFVBQUksRUFBRSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLEVBQUUsRUFBRTtBQUFBLElBQzlDO0FBRUEsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLE1BQU0sS0FBSyxHQUFHLEdBQUc7QUFDL0IsUUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUM7QUFDWCxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSTtBQUNoQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSTtBQUNsQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDZCxXQUFPO0FBQUEsRUFDVDtBQVdPLFdBQVMsT0FBTyxLQUFLLEdBQUcsS0FBSyxNQUFNO0FBQ3hDLFFBQUksSUFBSSxLQUFLLENBQUMsR0FDVixJQUFJLEtBQUssQ0FBQyxHQUNWLElBQUksS0FBSyxDQUFDO0FBQ2QsUUFBSUMsT0FBTSxLQUFLLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDNUIsUUFBSSxHQUFHLEdBQUc7QUFDVixRQUFJLEtBQUssS0FBSyxLQUFLO0FBQ25CLFFBQUksS0FBSyxLQUFLLEtBQUs7QUFDbkIsUUFBSSxLQUFLLEtBQUssS0FBSztBQUNuQixRQUFJLEtBQUssS0FBSztBQUNkLFFBQUksS0FBSyxLQUFLO0FBQ2QsUUFBSSxLQUFLLEtBQUs7QUFFZCxRQUFJQSxPQUFlLFNBQVM7QUFDMUIsYUFBTztBQUFBLElBQ1Q7QUFFQSxJQUFBQSxPQUFNLElBQUlBO0FBQ1YsU0FBS0E7QUFDTCxTQUFLQTtBQUNMLFNBQUtBO0FBQ0wsUUFBSSxLQUFLLElBQUksR0FBRztBQUNoQixRQUFJLEtBQUssSUFBSSxHQUFHO0FBQ2hCLFFBQUksSUFBSTtBQUNSLFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLENBQUM7QUFDVCxVQUFNLEVBQUUsQ0FBQztBQUNULFVBQU0sRUFBRSxDQUFDO0FBQ1QsVUFBTSxFQUFFLEVBQUU7QUFDVixVQUFNLEVBQUUsRUFBRTtBQUVWLFVBQU0sSUFBSSxJQUFJLElBQUk7QUFDbEIsVUFBTSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3RCLFVBQU0sSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixVQUFNLElBQUksSUFBSSxJQUFJLElBQUk7QUFDdEIsVUFBTSxJQUFJLElBQUksSUFBSTtBQUNsQixVQUFNLElBQUksSUFBSSxJQUFJLElBQUk7QUFDdEIsVUFBTSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3RCLFVBQU0sSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixVQUFNLElBQUksSUFBSSxJQUFJO0FBRWxCLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDdkMsUUFBSSxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQ3ZDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUN2QyxRQUFJLEVBQUUsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDeEMsUUFBSSxFQUFFLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBRXhDLFFBQUksTUFBTSxLQUFLO0FBRWIsVUFBSSxFQUFFLElBQUksRUFBRSxF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TSxJQUFJLE1BQU07QUFDMUIsUUFBSSxFQUFFLElBQUksTUFBTSxJQUFJLE1BQU07QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLFFBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUNiLFFBQUksTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLE1BQU0sRUFBRSxDQUFDO0FBQ2IsUUFBSSxNQUFNLEVBQUUsQ0FBQztBQUViLFFBQUksTUFBTSxLQUFLO0FBRWIsVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ1osVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ2QsVUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQUEsSUFDaEI7QUFHQSxRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixRQUFJLENBQUMsSUFBSSxNQUFNLElBQUksTUFBTTtBQUN6QixXQUFPO0FBQUEsRUFDVDtBQWFPLFdBQVMsZ0JBQWdCLEtBQUssR0FBRztBQUN0QyxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDYixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBYU8sV0FBUyxZQUFZLEtBQUssR0FBRztBQUNsQyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0FBQ2IsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBY08sV0FBUyxhQUFhLEtBQUssS0FBSyxNQUFNO0FBQzNDLFFBQUksSUFBSSxLQUFLLENBQUMsR0FDVixJQUFJLEtBQUssQ0FBQyxHQUNWLElBQUksS0FBSyxDQUFDO0FBQ2QsUUFBSUEsT0FBTSxLQUFLLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDNUIsUUFBSSxHQUFHLEdBQUc7QUFFVixRQUFJQSxPQUFlLFNBQVM7QUFDMUIsYUFBTztBQUFBLElBQ1Q7QUFFQSxJQUFBQSxPQUFNLElBQUlBO0FBQ1YsU0FBS0E7QUFDTCxTQUFLQTtBQUNMLFNBQUtBO0FBQ0wsUUFBSSxLQUFLLElBQUksR0FBRztBQUNoQixRQUFJLEtBQUssSUFBSSxHQUFHO0FBQ2hCLFFBQUksSUFBSTtBQUVSLFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ3JCLFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDekIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN6QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDekIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUk7QUFDckIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN6QixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUk7QUFDekIsUUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSTtBQUN6QixRQUFJLEVBQUUsSUFBSSxJQUFJLElBQUksSUFBSTtBQUN0QixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsV0FBTztBQUFBLEVBQ1Q7QUFhTyxXQUFTLGNBQWMsS0FBSyxLQUFLO0FBQ3RDLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUNwQixRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFFcEIsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUksQ0FBQztBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFdBQU87QUFBQSxFQUNUO0FBYU8sV0FBUyxjQUFjLEtBQUssS0FBSztBQUN0QyxRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBRXBCLFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSSxDQUFDO0FBQ1YsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixRQUFJLEVBQUUsSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJO0FBQ1YsUUFBSSxFQUFFLElBQUk7QUFDVixXQUFPO0FBQUEsRUFDVDtBQWFPLFdBQVMsY0FBYyxLQUFLLEtBQUs7QUFDdEMsUUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHO0FBQ3BCLFFBQUksSUFBSSxLQUFLLElBQUksR0FBRztBQUVwQixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMs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LFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsU0FBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0FBQ3RCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRTtBQUN0QixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUU7QUFDdEIsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLGVBQWUsS0FBSyxHQUFHLEdBQUc7QUFDeEMsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFDaEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUk7QUFDbEIsV0FBTztBQUFBLEVBQ1Q7QUFXTyxXQUFTLHFCQUFxQixLQUFLLEdBQUcsR0FBR0MsUUFBTztBQUNyRCxRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUlBO0FBQ3ZCLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJQTtBQUN2QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSUE7QUFDdkIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsUUFBSSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUlBO0FBQzFCLFFBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJQTtBQUMxQixRQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSUE7QUFDMUIsV0FBTztBQUFBLEVBQ1Q7QUFTTyxXQUFTLFlBQVksR0FBRyxHQUFHO0FBQ2hDLFdBQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFO0FBQUEsRUFDaFM7QUFTTyxXQUFTLE9BQU8sR0FBRyxHQUFHO0FBQzNCLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRTtBQUNkLFFBQUksTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFBSSxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUU7QUFDZCxRQUFJLE1BQU0sRUFBRSxFQUFFLEdBQ1YsTUFBTSxFQUFFLEVBQUUsR0FDVixNQUFNLEVBQUUsRUFBRSxHQUNWLE1BQU0sRUFBRSxFQUFFO0FBQ2QsV0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxFQUFFLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksRUFBRSxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxLQUFLLElBQUksR0FBSyxLQUFLLElBQUksR0FBRyxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLElBQUksTUFBTSxHQUFHLEtBQWMsVUFBVSxL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QUFDdkIsUUFBSSxDQUFDLElBQUksSUFBSUE7QUFDYixXQUFPO0FBQUEsRUFDVDtBQVdPLFdBQVMsY0FBYyxLQUFLLEdBQUcsR0FBRztBQUN2QyxRQUFJLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUMsR0FDUCxJQUFJLEVBQUUsQ0FBQztBQUNYLFFBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUU7QUFDOUMsUUFBSSxLQUFLO0FBQ1QsUUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLEtBQUs7QUFDcEQsUUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLEtBQUs7QUFDcEQsUUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLEtBQUs7QUFDckQsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLGNBQWMsS0FBSyxHQUFHLEdBQUc7QUFDdkMsUUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUNQLElBQUksRUFBRSxDQUFDLEdBQ1AsSUFBSSxFQUFFLENBQUM7QUFDWCxRQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7QUFDdEMsUUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO0FBQ3RDLFFBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUN0QyxXQUFPO0FBQUEsRUFDVDtBQVdP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LFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTTtBQUNuRCxRQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU07QUFDbkQsUUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNO0FBQ25ELFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsV0FBVSxLQUFLLEdBQUcsR0FBRztBQUNuQyxRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsSUFBSSxLQUNiLE1BQU0sRUFBRSxDQUFDLElBQUksS0FDYixNQUFNLEVBQUUsQ0FBQyxJQUFJLEtBQ2IsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJO0FBQ1QsUUFBSSxDQUFDLElBQUk7QUFDVCxRQUFJLENBQUMsSUFBSTtBQUNULFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzdDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzdDLFFBQUksQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0FBQzdDLFFBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDOUMsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTQyxTQUFRLEtBQUssR0FBRyxLQUFLO0FBQ25DLFFBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxJQUN6QyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssSUFDekMsTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLElBQ3pDLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM3QyxJQUFLQSxTQUFRLEtBQUssR0FBRyxHQUFHO0FBQ3hCLFNBQUssSUFBSSxDQUFDO0FBQ1YsU0FBSyxJQUFJLENBQUM7QUFDVixTQUFLLElBQUksQ0FBQztBQUNWLFNBQUssSUFBSSxDQUFDO0FBQ1YsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVNDLFNBQVEsS0FBSyxHQUFHLEtBQUs7QUFDbkMsUUFBSSxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLElBQ3pDLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxJQUN6QyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssSUFDekMsTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzdDLElBQUtBLFNBQVEsS0FBSyxHQUFHLEdBQUc7QUFDeEIsU0FBSyxJQUFJLENBQUM7QUFDVixTQUFLLElBQUksQ0FBQztBQUNWLFNBQUssSUFBSSxDQUFDO0FBQ1YsU0FBSyxJQUFJLENBQUM7QUFDVixRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsU0FBUSxLQUFLLEdBQUcsS0FBSztBQUNuQyxRQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FDVCxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQ1QsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUNULEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssSUFDekMsTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLElBQ3pDLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxJQUN6QyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDN0MsSUFBS0EsU0FBUSxLQUFLLEdBQUcsR0FBRztBQUN4QixTQUFLLElBQUksQ0FBQztBQUNWLFNBQUssSUFBSSxDQUFDO0FBQ1YsU0FBSyxJQUFJLENBQUM7QUFDVixTQUFLLElBQUksQ0FBQztBQUNWLFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsV0FBTztBQUFBLEVBQ1Q7QUFVTyxXQUFTLG1CQUFtQixLQUFLLEdBQUcsR0FBRztBQUM1QyxRQUFJLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxXQUFPO0FBQUEsRUFDVDtBQVVPLFdBQVMsb0JBQW9CLEtBQUssR0FBRyxHQUFHO0FBQzdDLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsU0FBSyxFQUFFLENBQUM7QUFDUixTQUFLLEVBQUUsQ0FBQztBQUNSLFNBQUssRUFBRSxDQUFDO0FBQ1IsU0FBSyxFQUFFLENBQUM7QUFDUixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBUyxpQkFBaUIsS0FBSyxHQUFHLE1BQU0sS0FBSztBQUVsRCxRQUFJLEtBQUssSUFBSSxHQUFHLElBQWEsU0FBUztBQUNwQyxhQUFPUCxNQUFLLEtBQUssQ0FBQztBQUFBLElBQ3BCO0FBRUEsUUFBSSxhQUFhLEtBQUssTUFBTSxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUNyRCxVQUFNLE1BQU07QUFDWixRQUFJLElBQUksS0FBSyxJQUFJLEdBQUc7QUFDcEIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLElBQUksS0FBSyxDQUFDLElBQUk7QUFDdkIsUUFBSSxLQUFLLEtBQUssSUFBSSxHQUFHO0FBQ3JCLFFBQUksTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksQ0FBQyxJQUFJLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU07QUFDaEQsUUFBSSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTTtBQUNoRCxRQUFJLENBQUMsSUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQ2hELFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUM7QUFDWixRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFFBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDNUMsUUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSztBQUM1QyxRQUFJLENBQUMsSUFBSSxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLO0FBQzVDLFdBQU87QUFBQSxFQUNUO0FBV08sV0FBU1EsS0FBSSxLQUFLLEdBQUcsR0FBRztBQUM3QixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFFBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNuQixRQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkIsUUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ25CLFdBQU87QUFBQSxFQUNUO0FBVU8sV0FBU0MsVUFBUyxLQUFLLEdBQUcsR0FBRztBQUNsQyxRQUFJLE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0sRUFBRSxDQUFDLEdBQ1QsTUFBTSxFQUFFLENBQUMsR0FDVCxNQUFNLEVBQUUsQ0FBQyxHQUNULE1BQU0s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LENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7QUFBQSxFQUM1STtBQVNPLFdBQVNDLFFBQU8sR0FBRyxHQUFHO0FBQzNCLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFFBQUksS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQyxHQUNSLEtBQUssRUFBRSxDQUFDLEdBQ1IsS0FBSyxFQUFFLENBQUMsR0FDUixLQUFLLEVBQUUsQ0FBQztBQUNaLFdBQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFjLFVBQVUsS0FBSyxJQUFJLEdBQUssS0FBSyxJQUFJLEVBQUUsR0FBRyxLQUFLLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxJQUFJLEtBQUssRUFBRSxL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ZUFBYztBQUFBLElBRWQ7QUFBQSxFQUNKO0FBN0NJLGdCQURTLGNBQ0YsWUFBVztBQUVsQjtBQUFBLGdCQUhTLGNBR0YsY0FBYTtBQUFBLElBQ2hCLE9BQU8sU0FBUyxNQUFNLENBQUc7QUFBQSxFQUM3Qjs7O0FDVEosa0JBQWdCLFlBQTZCO0FBRTdDLGtCQUFnQixjQUEwRDtBQUUxRSxrQkFBZ0IscUJBQWlFO0FBRWpGLGtCQUFnQixjQUEwRDtBQUUxRSxrQkFBZ0IsdUJBQW1FO0FBRW5GLGtCQUFnQiwyQkFBdUU7QUFFdkYsa0JBQWdCLG9CQUFnRTtBQUVoRixrQkFBZ0IsbUJBQStEO0FBRS9FLGtCQUFnQix3QkFBb0U7IiwKICAibmFtZXMiOiBbIkhvd2xlckdsb2JhbCIsICJzZWxmIiwgIkhvd2xlciIsICJlIiwgImkiLCAiSG93bCIsICJzdHIiLCAiU291bmQiLCAidGltZW91dCIsICJsZW4iLCAiZWFyY3V0IiwgImVxdWFscyIsICJsZW4iLCAiVHlwZSIsICJDb2xsaWRlciIsICJBbGlnbm1lbnQiLCAiSnVzdGlmaWNhdGlvbiIsICJUZXh0RWZmZWN0IiwgIklucHV0VHlwZSIsICJMaWdodFR5cGUiLCAiQW5pbWF0aW9uU3RhdGUiLCAiRm9yY2VNb2RlIiwgIkNvbGxpc2lvbkV2ZW50VHlwZSIsICJTaGFwZSIsICJNZXNoQXR0cmlidXRlIiwgIk1hdGVyaWFsUGFyYW1UeXBlIiwgImxlbmd0aCIsICJhbmdsZSIsICJMb2NrQXhpcyIsICJvZmZzZXQiLCAiTWVzaEluZGV4VHlwZSIsICJNZXNoU2tpbm5pbmdUeXBlIiwgImNhbnZhcyIsICJhbmltSWQiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wUXVhdCIsICJjcmVhdGUiLCAiY3JlYXRlIiwgImxlbiIsICJzY2FsZSIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tVmFsdWVzIiwgImlkZW50aXR5IiwgImludmVydCIsICJsZW4iLCAibGVuZ3RoIiwgImxlcnAiLCAibXVsIiwgIm11bHRpcGx5IiwgIm5vcm1hbGl6ZSIsICJyYW5kb20iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAic2V0IiwgInNxckxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInN0ciIsICJhZGQiLCAiY2xvbmUiLCAiY29weSIsICJjcmVhdGUiLCAiZXF1YWxzIiwgImV4YWN0RXF1YWxzIiwgImZyb21WYWx1ZXMiLCAibXVsIiwgIm11bHRpcGx5IiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzdHIiLCAic3ViIiwgInN1YnRyYWN0IiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImNvcHkiLCAic2V0IiwgImFkZCIsICJzdWJ0cmFjdCIsICJtdWx0aXBseSIsICJzY2FsZSIsICJsZW4iLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic3RyIiwgImV4YWN0RXF1YWxzIiwgImVxdWFscyIsICJzdWIiLCAibXVsIiwgIm9mZnNldCIsICJjcmVhdGUiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAic2NhbGUiLCAibGVuZ3RoIiwgInNxdWFyZWRMZW5ndGgiLCAibm9ybWFsaXplIiwgImxlbiIsICJkb3QiLCAibGVycCIsICJleGFjdEVxdWFscyIsICJlcXVhbHMiLCAiZm9yRWFjaCIsICJjcmVhdGUiLCAib2Zmc2V0IiwgImNyZWF0ZSIsICJpZGVudGl0eSIsICJkb3QiLCAibXVsdGlwbHkiLCAicm90YXRlWCIsICJyb3RhdGVZIiwgInJvdGF0ZVoiLCAic2NhbGUiLCAicmFuZG9tIiwgImludmVydCIsICJzdHIiLCAiY2xvbmUiLCAiZnJvbVZhbHVlcyIsICJjb3B5IiwgInNldCIsICJhZGQiLCAibXVsIiwgImxlcnAiLCAibGVuZ3RoIiwgImxlbiIsICJzcXVhcmVkTGVuZ3RoIiwgInNxckxlbiIsICJub3JtYWxpemUiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgImFkZCIsICJjbG9uZSIsICJjb25qdWdhdGUiLCAiY29weSIsICJjcmVhdGUiLCAiZG90IiwgImVxdWFscyIsICJleGFjdEVxdWFscyIsICJmcm9tUm90YXRpb24iLCAiZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24iLCAiZnJvbVRyYW5zbGF0aW9uIiwgImZyb21WYWx1ZXMiLCAiZ2V0VHJhbnNsYXRpb24iLCAiaWRlbnRpdHkiLCAiaW52ZXJ0IiwgImxlbiIsICJsZW5ndGgiLCAibGVycCIsICJtdWwiLCAibXVsdGlwbHkiLCAibm9ybWFsaXplIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgInNjYWxlIiwgInNldCIsICJzcXJMZW4iLCAic3F1YXJlZExlbmd0aCIsICJzdHIiLCAidHJhbnNsYXRlIiwgImNyZWF0ZSIsICJjbG9uZSIsICJmcm9tVmFsdWVzIiwgImZyb21Sb3RhdGlvblRyYW5zbGF0aW9uIiwgImZyb21UcmFuc2xhdGlvbiIsICJmcm9tUm90YXRpb24iLCAiY29weSIsICJpZGVudGl0eSIsICJzZXQiLCAiZ2V0VHJhbnNsYXRpb24iLCAidHJhbnNsYXRlIiwgInJvdGF0ZVgiLCAicm90YXRlWSIsICJyb3RhdGVaIiwgImFkZCIsICJtdWx0aXBseSIsICJtdWwiLCAic2NhbGUiLCAiZG90IiwgImxlcnAiLCAiaW52ZXJ0IiwgInNxdWFyZWRMZW5ndGgiLCAiY29uanVnYXRlIiwgImxlbmd0aCIsICJsZW4iLCAic3FyTGVuIiwgIm5vcm1hbGl6ZSIsICJzdHIiLCAiZXhhY3RFcXVhbHMiLCAiZXF1YWxzIiwgIl9fZGVjb3JhdGUiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjIiwgImNhbnZhcyIsICJkaXN0IiwgIl9fZGVjb3JhdGUiLCAiaW1wb3J0X2hvd2xlciIsICJjYW52YXMiLCAiX19kZWNvcmF0ZSIsICJhIiwgImRpcmVjdGlvbiIsICJjbGFtcCIsICJ0ZW1wUXVhdCIsICJ0YXJnZXRQb3MiLCAiX19kZWNvcmF0ZSIsICJ0ZW1wVmVjMyIsICJlYXJjdXQiLCAibG9va0F0IiwgIm9mZnNldCIsICJkaXN0IiwgImRvdCJdCn0K
